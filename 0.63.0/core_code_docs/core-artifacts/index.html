
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.63.0/core_code_docs/core-artifacts/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-8.5.10">
    
    
      
        <title>Artifacts - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#artifacts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Artifacts
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-_hub/" class="md-nav__link">
        Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-actions/" class="md-nav__link">
        Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-analytics/" class="md-nav__link">
        Analytics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-api/" class="md-nav__link">
        Api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Artifacts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Artifacts
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.artifacts" class="md-nav__link">
    artifacts
  </a>
  
    <nav class="md-nav" aria-label="artifacts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.artifact_config" class="md-nav__link">
    artifact_config
  </a>
  
    <nav class="md-nav" aria-label="artifact_config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.artifact_config.ArtifactConfig" class="md-nav__link">
    ArtifactConfig
  </a>
  
    <nav class="md-nav" aria-label="ArtifactConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.artifact_config.ArtifactConfig.artifact_config_validator" class="md-nav__link">
    artifact_config_validator()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact" class="md-nav__link">
    external_artifact
  </a>
  
    <nav class="md-nav" aria-label="external_artifact">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact.ExternalArtifact" class="md-nav__link">
    ExternalArtifact
  </a>
  
    <nav class="md-nav" aria-label="ExternalArtifact">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact.ExternalArtifact.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact.ExternalArtifact.external_artifact_validator" class="md-nav__link">
    external_artifact_validator()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact.ExternalArtifact.upload_by_value" class="md-nav__link">
    upload_by_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact_config" class="md-nav__link">
    external_artifact_config
  </a>
  
    <nav class="md-nav" aria-label="external_artifact_config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact_config.ExternalArtifactConfiguration" class="md-nav__link">
    ExternalArtifactConfiguration
  </a>
  
    <nav class="md-nav" aria-label="ExternalArtifactConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact_config.ExternalArtifactConfiguration.external_artifact_validator" class="md-nav__link">
    external_artifact_validator()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact_config.ExternalArtifactConfiguration.get_artifact_version_id" class="md-nav__link">
    get_artifact_version_id()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.unmaterialized_artifact" class="md-nav__link">
    unmaterialized_artifact
  </a>
  
    <nav class="md-nav" aria-label="unmaterialized_artifact">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.unmaterialized_artifact.UnmaterializedArtifact" class="md-nav__link">
    UnmaterializedArtifact
  </a>
  
    <nav class="md-nav" aria-label="UnmaterializedArtifact">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.unmaterialized_artifact.UnmaterializedArtifact.model_post_init" class="md-nav__link">
    model_post_init()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.download_artifact_files_from_response" class="md-nav__link">
    download_artifact_files_from_response()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.get_artifacts_versions_of_pipeline_run" class="md-nav__link">
    get_artifacts_versions_of_pipeline_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.get_producer_step_of_artifact" class="md-nav__link">
    get_producer_step_of_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.load_artifact" class="md-nav__link">
    load_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.load_artifact_from_response" class="md-nav__link">
    load_artifact_from_response()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.load_artifact_visualization" class="md-nav__link">
    load_artifact_visualization()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.load_model_from_metadata" class="md-nav__link">
    load_model_from_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.log_artifact_metadata" class="md-nav__link">
    log_artifact_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.save_artifact" class="md-nav__link">
    save_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.save_model_metadata" class="md-nav__link">
    save_model_metadata()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client_lazy_loader/" class="md-nav__link">
        Client Lazy Loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-code_repositories/" class="md-nav__link">
        Code Repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-event_hub/" class="md-nav__link">
        Event Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-event_sources/" class="md-nav__link">
        Event Sources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-image_builders/" class="md-nav__link">
        Image Builders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-lineage_graph/" class="md-nav__link">
        Lineage Graph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model/" class="md-nav__link">
        Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_registries/" class="md-nav__link">
        Model Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-new/" class="md-nav__link">
        New
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-service_connectors/" class="md-nav__link">
        Service Connectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack_deployments/" class="md-nav__link">
        Stack Deployments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-argilla/" class="md-nav__link">
        Argilla
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-azure/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bentoml/" class="md-nav__link">
        Bentoml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bitbucket/" class="md-nav__link">
        Bitbucket
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-comet/" class="md-nav__link">
        Comet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-databricks/" class="md-nav__link">
        Databricks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-discord/" class="md-nav__link">
        Discord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gitlab/" class="md-nav__link">
        Gitlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-huggingface/" class="md-nav__link">
        Huggingface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-hyperai/" class="md-nav__link">
        Hyperai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kaniko/" class="md-nav__link">
        Kaniko
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-langchain/" class="md-nav__link">
        Langchain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-llama_index/" class="md-nav__link">
        Llama Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neptune/" class="md-nav__link">
        Neptune
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-openai/" class="md-nav__link">
        Openai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pigeon/" class="md-nav__link">
        Pigeon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-polars/" class="md-nav__link">
        Polars
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-prodigy/" class="md-nav__link">
        Prodigy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pycaret/" class="md-nav__link">
        Pycaret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot/" class="md-nav__link">
        Skypilot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_aws/" class="md-nav__link">
        Skypilot Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_azure/" class="md-nav__link">
        Skypilot Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_gcp/" class="md-nav__link">
        Skypilot Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_lambda/" class="md-nav__link">
        Skypilot Lambda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.artifacts" class="md-nav__link">
    artifacts
  </a>
  
    <nav class="md-nav" aria-label="artifacts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.artifact_config" class="md-nav__link">
    artifact_config
  </a>
  
    <nav class="md-nav" aria-label="artifact_config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.artifact_config.ArtifactConfig" class="md-nav__link">
    ArtifactConfig
  </a>
  
    <nav class="md-nav" aria-label="ArtifactConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.artifact_config.ArtifactConfig.artifact_config_validator" class="md-nav__link">
    artifact_config_validator()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact" class="md-nav__link">
    external_artifact
  </a>
  
    <nav class="md-nav" aria-label="external_artifact">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact.ExternalArtifact" class="md-nav__link">
    ExternalArtifact
  </a>
  
    <nav class="md-nav" aria-label="ExternalArtifact">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact.ExternalArtifact.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact.ExternalArtifact.external_artifact_validator" class="md-nav__link">
    external_artifact_validator()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact.ExternalArtifact.upload_by_value" class="md-nav__link">
    upload_by_value()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact_config" class="md-nav__link">
    external_artifact_config
  </a>
  
    <nav class="md-nav" aria-label="external_artifact_config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact_config.ExternalArtifactConfiguration" class="md-nav__link">
    ExternalArtifactConfiguration
  </a>
  
    <nav class="md-nav" aria-label="ExternalArtifactConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact_config.ExternalArtifactConfiguration.external_artifact_validator" class="md-nav__link">
    external_artifact_validator()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.external_artifact_config.ExternalArtifactConfiguration.get_artifact_version_id" class="md-nav__link">
    get_artifact_version_id()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.unmaterialized_artifact" class="md-nav__link">
    unmaterialized_artifact
  </a>
  
    <nav class="md-nav" aria-label="unmaterialized_artifact">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.unmaterialized_artifact.UnmaterializedArtifact" class="md-nav__link">
    UnmaterializedArtifact
  </a>
  
    <nav class="md-nav" aria-label="UnmaterializedArtifact">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.unmaterialized_artifact.UnmaterializedArtifact.model_post_init" class="md-nav__link">
    model_post_init()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.download_artifact_files_from_response" class="md-nav__link">
    download_artifact_files_from_response()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.get_artifacts_versions_of_pipeline_run" class="md-nav__link">
    get_artifacts_versions_of_pipeline_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.get_producer_step_of_artifact" class="md-nav__link">
    get_producer_step_of_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.load_artifact" class="md-nav__link">
    load_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.load_artifact_from_response" class="md-nav__link">
    load_artifact_from_response()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.load_artifact_visualization" class="md-nav__link">
    load_artifact_visualization()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.load_model_from_metadata" class="md-nav__link">
    load_model_from_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.log_artifact_metadata" class="md-nav__link">
    log_artifact_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.save_artifact" class="md-nav__link">
    save_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.artifacts.utils.save_model_metadata" class="md-nav__link">
    save_model_metadata()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zenml-io/zenml/docs/core_code_docs/core-artifacts.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="artifacts">Artifacts</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.artifacts" class="doc doc-heading">
        <code>zenml.artifacts</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">




  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="zenml.artifacts.artifact_config" class="doc doc-heading">
        <code>artifact_config</code>



</h3>

    <div class="doc doc-contents ">

      <p>Artifact Config classes to support Model Control Plane feature.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.artifacts.artifact_config.ArtifactConfig" class="doc doc-heading">
        <code>
ArtifactConfig            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Artifact configuration class.</p>
<p>Can be used in step definitions to define various artifact properties.</p>

<p><strong>Examples:</strong></p>
    
      <pre><code class="language-python">@step
def my_step() -&gt; Annotated[
    int, ArtifactConfig(
        name=&quot;my_artifact&quot;,  # override the default artifact name
        version=42,  # set a custom version
        tags=[&quot;tag1&quot;, &quot;tag2&quot;],  # set custom tags
        model_name=&quot;my_model&quot;,  # link the artifact to a model
    )
]:
    return ...
</code></pre>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the artifact.</p></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>Union[int, str]</code></td>
        <td><p>The version of the artifact.</p></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Optional[List[str]]</code></td>
        <td><p>The tags of the artifact.</p></td>
      </tr>
      <tr>
        <td><code>model_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the model to link artifact to.</p></td>
      </tr>
      <tr>
        <td><code>model_version</code></td>
        <td><code>Union[zenml.enums.ModelStages, str, int]</code></td>
        <td><p>The identifier of a version of the model to link the artifact
to. It can be an exact version ("my_version"), exact version number
(42), stage (ModelStages.PRODUCTION or "production"), or
(ModelStages.LATEST or None) for the latest version (default).</p></td>
      </tr>
      <tr>
        <td><code>is_model_artifact</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the artifact is a model artifact.</p></td>
      </tr>
      <tr>
        <td><code>is_deployment_artifact</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the artifact is a deployment artifact.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/artifact_config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ArtifactConfig</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Artifact configuration class.</span>

<span class="sd">    Can be used in step definitions to define various artifact properties.</span>

<span class="sd">    Example:</span>
<span class="sd">    ```python</span>
<span class="sd">    @step</span>
<span class="sd">    def my_step() -&gt; Annotated[</span>
<span class="sd">        int, ArtifactConfig(</span>
<span class="sd">            name=&quot;my_artifact&quot;,  # override the default artifact name</span>
<span class="sd">            version=42,  # set a custom version</span>
<span class="sd">            tags=[&quot;tag1&quot;, &quot;tag2&quot;],  # set custom tags</span>
<span class="sd">            model_name=&quot;my_model&quot;,  # link the artifact to a model</span>
<span class="sd">        )</span>
<span class="sd">    ]:</span>
<span class="sd">        return ...</span>
<span class="sd">    ```</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: The name of the artifact.</span>
<span class="sd">        version: The version of the artifact.</span>
<span class="sd">        tags: The tags of the artifact.</span>
<span class="sd">        model_name: The name of the model to link artifact to.</span>
<span class="sd">        model_version: The identifier of a version of the model to link the artifact</span>
<span class="sd">            to. It can be an exact version (&quot;my_version&quot;), exact version number</span>
<span class="sd">            (42), stage (ModelStages.PRODUCTION or &quot;production&quot;), or</span>
<span class="sd">            (ModelStages.LATEST or None) for the latest version (default).</span>
<span class="sd">        is_model_artifact: Whether the artifact is a model artifact.</span>
<span class="sd">        is_deployment_artifact: Whether the artifact is a deployment artifact.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">union_mode</span><span class="o">=</span><span class="s2">&quot;smart&quot;</span>
    <span class="p">)</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">run_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">model_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">model_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">ModelStages</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">union_mode</span><span class="o">=</span><span class="s2">&quot;smart&quot;</span>
    <span class="p">)</span>
    <span class="n">is_model_artifact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">is_deployment_artifact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># TODO: In Pydantic v2, the `model_` is a protected namespaces for all</span>
    <span class="c1">#  fields defined under base models. If not handled, this raises a warning.</span>
    <span class="c1">#  It is possible to suppress this warning message with the following</span>
    <span class="c1">#  configuration, however the ultimate solution is to rename these fields.</span>
    <span class="c1">#  Even though they do not cause any problems right now, if we are not</span>
    <span class="c1">#  careful we might overwrite some fields protected by pydantic.</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">protected_namespaces</span><span class="o">=</span><span class="p">())</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">artifact_config_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ArtifactConfig&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Model validator for the artifact config.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If both model_name and model_version is set incorrectly.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the validated instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_version</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Creation of new model version from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="s2">&quot;is not allowed. Please either keep `model_name` and &quot;</span>
                <span class="s2">&quot;`model_version` both `None` to get the model version from the &quot;</span>
                <span class="s2">&quot;step context or specify both at the same time. You can use &quot;</span>
                <span class="s2">&quot;`ModelStages.LATEST` as `model_version` when latest model &quot;</span>
                <span class="s2">&quot;version is desired.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The model linked to this artifact.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model or None if the model version cannot be determined.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">model_</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span><span class="o">.</span><span class="n">model</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">StepContextError</span><span class="p">,</span> <span class="ne">RuntimeError</span><span class="p">):</span>
            <span class="n">model_</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Check if another model name was specified</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="n">model_</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">model_</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_name</span>
        <span class="p">):</span>
            <span class="c1"># Create a new Model instance with the provided model name and version</span>
            <span class="kn">from</span> <span class="nn">zenml.model.model</span> <span class="kn">import</span> <span class="n">Model</span>

            <span class="n">on_the_fly_config</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model_version</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">on_the_fly_config</span>

        <span class="k">return</span> <span class="n">model_</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h5 id="zenml.artifacts.artifact_config.ArtifactConfig.artifact_config_validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">artifact_config_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Model validator for the artifact config.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If both model_name and model_version is set incorrectly.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactConfig</code></td>
      <td><p>the validated instance.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/artifact_config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">artifact_config_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ArtifactConfig&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Model validator for the artifact config.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If both model_name and model_version is set incorrectly.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the validated instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_version</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Creation of new model version from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="s2">&quot;is not allowed. Please either keep `model_name` and &quot;</span>
            <span class="s2">&quot;`model_version` both `None` to get the model version from the &quot;</span>
            <span class="s2">&quot;step context or specify both at the same time. You can use &quot;</span>
            <span class="s2">&quot;`ModelStages.LATEST` as `model_version` when latest model &quot;</span>
            <span class="s2">&quot;version is desired.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.artifacts.external_artifact" class="doc doc-heading">
        <code>external_artifact</code>



</h3>

    <div class="doc doc-contents ">

      <p>External artifact definition.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.artifacts.external_artifact.ExternalArtifact" class="doc doc-heading">
        <code>
ExternalArtifact            (<a class="autorefs autorefs-internal" title="zenml.artifacts.external_artifact_config.ExternalArtifactConfiguration" href="#zenml.artifacts.external_artifact_config.ExternalArtifactConfiguration">ExternalArtifactConfiguration</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>External artifacts can be used to provide values as input to ZenML steps.</p>
<p>ZenML steps accept either artifacts (=outputs of other steps), parameters
(raw, JSON serializable values) or external artifacts. External artifacts
can be used to provide any value as input to a step without needing to
write an additional step that returns this value.</p>
<p>The external artifact needs to have either a value associated with it
that will be uploaded to the artifact store, or reference an artifact
that is already registered in ZenML.</p>
<p>There are several ways to reference an existing artifact:
- By providing an artifact ID.
- By providing an artifact name and version. If no version is provided,
    the latest version of that artifact will be used.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>value</code></td>
        <td></td>
        <td><p>The artifact value.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>id</code></td>
        <td></td>
        <td><p>The ID of an artifact that should be referenced by this external
artifact.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>materializer</code></td>
        <td></td>
        <td><p>The materializer to use for saving the artifact value
to the artifact store. Only used when <code>value</code> is provided.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>store_artifact_metadata</code></td>
        <td></td>
        <td><p>Whether metadata for the artifact should
be stored. Only used when <code>value</code> is provided.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>store_artifact_visualizations</code></td>
        <td></td>
        <td><p>Whether visualizations for the
artifact should be stored. Only used when <code>value</code> is provided.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    
      <pre><code>from zenml import step, pipeline
from zenml.artifacts.external_artifact import ExternalArtifact
import numpy as np

@step
def my_step(value: np.ndarray) -&gt; None:
  print(value)

my_array = np.array([1, 2, 3])

@pipeline
def my_pipeline():
  my_step(value=ExternalArtifact(my_array))
</code></pre>

        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/external_artifact.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ExternalArtifact</span><span class="p">(</span><span class="n">ExternalArtifactConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;External artifacts can be used to provide values as input to ZenML steps.</span>

<span class="sd">    ZenML steps accept either artifacts (=outputs of other steps), parameters</span>
<span class="sd">    (raw, JSON serializable values) or external artifacts. External artifacts</span>
<span class="sd">    can be used to provide any value as input to a step without needing to</span>
<span class="sd">    write an additional step that returns this value.</span>

<span class="sd">    The external artifact needs to have either a value associated with it</span>
<span class="sd">    that will be uploaded to the artifact store, or reference an artifact</span>
<span class="sd">    that is already registered in ZenML.</span>

<span class="sd">    There are several ways to reference an existing artifact:</span>
<span class="sd">    - By providing an artifact ID.</span>
<span class="sd">    - By providing an artifact name and version. If no version is provided,</span>
<span class="sd">        the latest version of that artifact will be used.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: The artifact value.</span>
<span class="sd">        id: The ID of an artifact that should be referenced by this external</span>
<span class="sd">            artifact.</span>
<span class="sd">        materializer: The materializer to use for saving the artifact value</span>
<span class="sd">            to the artifact store. Only used when `value` is provided.</span>
<span class="sd">        store_artifact_metadata: Whether metadata for the artifact should</span>
<span class="sd">            be stored. Only used when `value` is provided.</span>
<span class="sd">        store_artifact_visualizations: Whether visualizations for the</span>
<span class="sd">            artifact should be stored. Only used when `value` is provided.</span>

<span class="sd">    Example:</span>
<span class="sd">    ```</span>
<span class="sd">    from zenml import step, pipeline</span>
<span class="sd">    from zenml.artifacts.external_artifact import ExternalArtifact</span>
<span class="sd">    import numpy as np</span>

<span class="sd">    @step</span>
<span class="sd">    def my_step(value: np.ndarray) -&gt; None:</span>
<span class="sd">      print(value)</span>

<span class="sd">    my_array = np.array([1, 2, 3])</span>

<span class="sd">    @pipeline</span>
<span class="sd">    def my_pipeline():</span>
<span class="sd">      my_step(value=ExternalArtifact(my_array))</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">materializer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">MaterializerClassOrSource</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">union_mode</span><span class="o">=</span><span class="s2">&quot;left_to_right&quot;</span>
    <span class="p">)</span>
    <span class="n">store_artifact_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">store_artifact_visualizations</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">external_artifact_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ExternalArtifact&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Model validator for the external artifact.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the value, id and name fields are set incorrectly.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the validated instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">deprecation_msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;Parameter `</span><span class="si">{param}</span><span class="s2">` or `ExternalArtifact` will be deprecated &quot;</span>
            <span class="s2">&quot;in upcoming releases. Please use `</span><span class="si">{substitute}</span><span class="s2">` instead.&quot;</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">substitute</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;Client().get_artifact_version(name_id_or_prefix=&lt;id&gt;)&quot;</span><span class="p">],</span>
            <span class="p">[</span>
                <span class="s2">&quot;name&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Client().get_artifact_version(name_id_or_prefix=&lt;name&gt;)&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="p">[</span>
                <span class="s2">&quot;version&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Client().get_artifact_version(name_id_or_prefix=&lt;name&gt;,version=&lt;version&gt;)&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="p">[</span>
                <span class="s2">&quot;model&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Client().get_model_version(&lt;model_name&gt;,&lt;model_version&gt;).get_artifact(name)&quot;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">]:</span>
            <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="n">deprecation_msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">param</span><span class="o">=</span><span class="n">param</span><span class="p">,</span>
                        <span class="n">substitute</span><span class="o">=</span><span class="n">substitute</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">[</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">options</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Only one of `value`, `id`, or `name` can be provided when &quot;</span>
                <span class="s2">&quot;creating an external artifact.&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">sum</span><span class="p">(</span><span class="n">options</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Either `value`, `id`, or `name` must be provided when &quot;</span>
                <span class="s2">&quot;creating an external artifact.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">upload_by_value</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UUID</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Uploads the artifact by value.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The uploaded artifact ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.artifacts.utils</span> <span class="kn">import</span> <span class="n">save_artifact</span>

        <span class="n">artifact_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;external_</span><span class="si">{</span><span class="n">uuid4</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">uri</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;external_artifacts&quot;</span><span class="p">,</span> <span class="n">artifact_name</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Uploading external artifact to &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span>

        <span class="n">artifact</span> <span class="o">=</span> <span class="n">save_artifact</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">extract_metadata</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">store_artifact_metadata</span><span class="p">,</span>
            <span class="n">include_visualizations</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">store_artifact_visualizations</span><span class="p">,</span>
            <span class="n">materializer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">materializer</span><span class="p">,</span>
            <span class="n">uri</span><span class="o">=</span><span class="n">uri</span><span class="p">,</span>
            <span class="n">has_custom_name</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">manual_save</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># To avoid duplicate uploads, switch to referencing the uploaded</span>
        <span class="c1"># artifact by ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">artifact</span><span class="o">.</span><span class="n">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished uploading external artifact </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExternalArtifactConfiguration</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the lightweight config without hard for JSON properties.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The config object to be evaluated in runtime by step interface.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ExternalArtifactConfiguration</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="n">model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-attribute">



<h5 id="zenml.artifacts.external_artifact.ExternalArtifact.config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">ExternalArtifactConfiguration</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Returns the lightweight config without hard for JSON properties.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ExternalArtifactConfiguration</code></td>
      <td><p>The config object to be evaluated in runtime by step interface.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>









  <div class="doc doc-object doc-method">



<h5 id="zenml.artifacts.external_artifact.ExternalArtifact.external_artifact_validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">external_artifact_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Model validator for the external artifact.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the value, id and name fields are set incorrectly.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ExternalArtifact</code></td>
      <td><p>the validated instance.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/external_artifact.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">external_artifact_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ExternalArtifact&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Model validator for the external artifact.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if the value, id and name fields are set incorrectly.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the validated instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">deprecation_msg</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;Parameter `</span><span class="si">{param}</span><span class="s2">` or `ExternalArtifact` will be deprecated &quot;</span>
        <span class="s2">&quot;in upcoming releases. Please use `</span><span class="si">{substitute}</span><span class="s2">` instead.&quot;</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">substitute</span> <span class="ow">in</span> <span class="p">[</span>
        <span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;Client().get_artifact_version(name_id_or_prefix=&lt;id&gt;)&quot;</span><span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Client().get_artifact_version(name_id_or_prefix=&lt;name&gt;)&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;version&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Client().get_artifact_version(name_id_or_prefix=&lt;name&gt;,version=&lt;version&gt;)&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;model&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Client().get_model_version(&lt;model_name&gt;,&lt;model_version&gt;).get_artifact(name)&quot;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">]:</span>
        <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="n">deprecation_msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">param</span><span class="o">=</span><span class="n">param</span><span class="p">,</span>
                    <span class="n">substitute</span><span class="o">=</span><span class="n">substitute</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">]</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">options</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Only one of `value`, `id`, or `name` can be provided when &quot;</span>
            <span class="s2">&quot;creating an external artifact.&quot;</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="nb">sum</span><span class="p">(</span><span class="n">options</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Either `value`, `id`, or `name` must be provided when &quot;</span>
            <span class="s2">&quot;creating an external artifact.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.artifacts.external_artifact.ExternalArtifact.upload_by_value" class="doc doc-heading">
<code class="highlight language-python"><span class="n">upload_by_value</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Uploads the artifact by value.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UUID</code></td>
      <td><p>The uploaded artifact ID.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/external_artifact.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">upload_by_value</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UUID</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Uploads the artifact by value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The uploaded artifact ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.artifacts.utils</span> <span class="kn">import</span> <span class="n">save_artifact</span>

    <span class="n">artifact_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;external_</span><span class="si">{</span><span class="n">uuid4</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">uri</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;external_artifacts&quot;</span><span class="p">,</span> <span class="n">artifact_name</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Uploading external artifact to &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span>

    <span class="n">artifact</span> <span class="o">=</span> <span class="n">save_artifact</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">artifact_name</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">extract_metadata</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">store_artifact_metadata</span><span class="p">,</span>
        <span class="n">include_visualizations</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">store_artifact_visualizations</span><span class="p">,</span>
        <span class="n">materializer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">materializer</span><span class="p">,</span>
        <span class="n">uri</span><span class="o">=</span><span class="n">uri</span><span class="p">,</span>
        <span class="n">has_custom_name</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">manual_save</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># To avoid duplicate uploads, switch to referencing the uploaded</span>
    <span class="c1"># artifact by ID</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">artifact</span><span class="o">.</span><span class="n">id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished uploading external artifact </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.artifacts.external_artifact_config" class="doc doc-heading">
        <code>external_artifact_config</code>



</h3>

    <div class="doc doc-contents ">

      <p>External artifact definition.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.artifacts.external_artifact_config.ExternalArtifactConfiguration" class="doc doc-heading">
        <code>
ExternalArtifactConfiguration            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>External artifact configuration.</p>
<p>Lightweight class to pass in the steps for runtime inference.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/external_artifact_config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ExternalArtifactConfiguration</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;External artifact configuration.</span>

<span class="sd">    Lightweight class to pass in the steps for runtime inference.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Model</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">external_artifact_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ExternalArtifactConfiguration&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Model validator for the external artifact configuration.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if both version and model fields are set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the validated instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Cannot provide both `version` and `model` when &quot;</span>
                <span class="s2">&quot;creating an external artifact.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">get_artifact_version_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UUID</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the artifact.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The artifact ID.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the artifact store of the referenced artifact</span>
<span class="sd">                is not the same as the one in the active stack.</span>
<span class="sd">            RuntimeError: If neither the ID nor the name of the artifact was</span>
<span class="sd">                provided.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>

        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">:</span>
                <span class="n">response_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_</span><span class="p">,</span> <span class="n">ArtifactVersionResponse</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Failed to pull artifact `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` from the Model &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;(name=`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`, version=&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2">`). Please validate the &quot;</span>
                        <span class="s2">&quot;input and try again.&quot;</span>
                    <span class="p">)</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">response_</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Either the ID or name of the artifact must be provided. &quot;</span>
                <span class="s2">&quot;If you created this ExternalArtifact from a value, please &quot;</span>
                <span class="s2">&quot;ensure that `upload_by_value` was called before trying to &quot;</span>
                <span class="s2">&quot;fetch the artifact ID.&quot;</span>
            <span class="p">)</span>

        <span class="n">artifact_store_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">id</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">artifact_store_id</span> <span class="o">!=</span> <span class="n">artifact_store_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The artifact </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> (ID: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">) &quot;</span>
                <span class="s2">&quot;referenced by an external artifact is not stored in the &quot;</span>
                <span class="s2">&quot;artifact store of the active stack. This will lead to &quot;</span>
                <span class="s2">&quot;issues loading the artifact. Please make sure to only &quot;</span>
                <span class="s2">&quot;reference artifact versions stored in your active artifact &quot;</span>
                <span class="s2">&quot;store.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h5 id="zenml.artifacts.external_artifact_config.ExternalArtifactConfiguration.external_artifact_validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">external_artifact_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Model validator for the external artifact configuration.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if both version and model fields are set.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ExternalArtifactConfiguration</code></td>
      <td><p>the validated instance.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/external_artifact_config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">external_artifact_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ExternalArtifactConfiguration&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Model validator for the external artifact configuration.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if both version and model fields are set.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the validated instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Cannot provide both `version` and `model` when &quot;</span>
            <span class="s2">&quot;creating an external artifact.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.artifacts.external_artifact_config.ExternalArtifactConfiguration.get_artifact_version_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_artifact_version_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the artifact.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UUID</code></td>
      <td><p>The artifact ID.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the artifact store of the referenced artifact
is not the same as the one in the active stack.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If neither the ID nor the name of the artifact was
provided.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/external_artifact_config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_artifact_version_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UUID</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the artifact.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The artifact ID.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the artifact store of the referenced artifact</span>
<span class="sd">            is not the same as the one in the active stack.</span>
<span class="sd">        RuntimeError: If neither the ID nor the name of the artifact was</span>
<span class="sd">            provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">:</span>
            <span class="n">response_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_</span><span class="p">,</span> <span class="n">ArtifactVersionResponse</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Failed to pull artifact `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` from the Model &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;(name=`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`, version=&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2">`). Please validate the &quot;</span>
                    <span class="s2">&quot;input and try again.&quot;</span>
                <span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">response_</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Either the ID or name of the artifact must be provided. &quot;</span>
            <span class="s2">&quot;If you created this ExternalArtifact from a value, please &quot;</span>
            <span class="s2">&quot;ensure that `upload_by_value` was called before trying to &quot;</span>
            <span class="s2">&quot;fetch the artifact ID.&quot;</span>
        <span class="p">)</span>

    <span class="n">artifact_store_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">id</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">artifact_store_id</span> <span class="o">!=</span> <span class="n">artifact_store_id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The artifact </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> (ID: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">) &quot;</span>
            <span class="s2">&quot;referenced by an external artifact is not stored in the &quot;</span>
            <span class="s2">&quot;artifact store of the active stack. This will lead to &quot;</span>
            <span class="s2">&quot;issues loading the artifact. Please make sure to only &quot;</span>
            <span class="s2">&quot;reference artifact versions stored in your active artifact &quot;</span>
            <span class="s2">&quot;store.&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.artifacts.unmaterialized_artifact" class="doc doc-heading">
        <code>unmaterialized_artifact</code>



</h3>

    <div class="doc doc-contents ">

      <p>Unmaterialized artifact class.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.artifacts.unmaterialized_artifact.UnmaterializedArtifact" class="doc doc-heading">
        <code>
UnmaterializedArtifact            (<a class="autorefs autorefs-internal" title="zenml.models.v2.core.artifact_version.ArtifactVersionResponse" href="../core-models/#zenml.models.v2.core.artifact_version.ArtifactVersionResponse">ArtifactVersionResponse</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Unmaterialized artifact class.</p>
<p>Typing a step input to have this type will cause ZenML to not materialize
the artifact. This is useful for steps that need to access the artifact
metadata instead of the actual artifact data.</p>
<p>Usage example:</p>
<pre><code class="language-python">from zenml import step
from zenml.artifacts.unmaterialized_artifact import UnmaterializedArtifact

@step
def my_step(input_artifact: UnmaterializedArtifact):
    print(input_artifact.uri)
</code></pre>

        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/unmaterialized_artifact.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">UnmaterializedArtifact</span><span class="p">(</span><span class="n">ArtifactVersionResponse</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Unmaterialized artifact class.</span>

<span class="sd">    Typing a step input to have this type will cause ZenML to not materialize</span>
<span class="sd">    the artifact. This is useful for steps that need to access the artifact</span>
<span class="sd">    metadata instead of the actual artifact data.</span>

<span class="sd">    Usage example:</span>

<span class="sd">    ```python</span>
<span class="sd">    from zenml import step</span>
<span class="sd">    from zenml.artifacts.unmaterialized_artifact import UnmaterializedArtifact</span>

<span class="sd">    @step</span>
<span class="sd">    def my_step(input_artifact: UnmaterializedArtifact):</span>
<span class="sd">        print(input_artifact.uri)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h5 id="zenml.artifacts.unmaterialized_artifact.UnmaterializedArtifact.model_post_init" class="doc doc-heading">
<code class="highlight language-python"><span class="n">model_post_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_ModelMetaclass__context</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>We need to both initialize private attributes and call the user-defined model_post_init
method.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/unmaterialized_artifact.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">wrapped_model_post_init</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">__context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;We need to both initialize private attributes and call the user-defined model_post_init</span>
<span class="sd">    method.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">init_private_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">__context</span><span class="p">)</span>
    <span class="n">original_model_post_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">__context</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.artifacts.utils" class="doc doc-heading">
        <code>utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions for handling artifacts.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h4 id="zenml.artifacts.utils.download_artifact_files_from_response" class="doc doc-heading">
<code class="highlight language-python"><span class="n">download_artifact_files_from_response</span><span class="p">(</span><span class="n">artifact</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Download the given artifact into a file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact</code></td>
        <td><code>ArtifactVersionResponse</code></td>
        <td><p>The artifact to download.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>The path to which to download the artifact.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>overwrite</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to overwrite the file if it already exists.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileExistsError</code></td>
        <td><p>If the file already exists and <code>overwrite</code> is <code>False</code>.</p></td>
      </tr>
      <tr>
        <td><code>Exception</code></td>
        <td><p>If the artifact could not be downloaded to the zip file.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">download_artifact_files_from_response</span><span class="p">(</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">,</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Download the given artifact into a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact: The artifact to download.</span>
<span class="sd">        path: The path to which to download the artifact.</span>
<span class="sd">        overwrite: Whether to overwrite the file if it already exists.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileExistsError: If the file already exists and `overwrite` is `False`.</span>
<span class="sd">        Exception: If the artifact could not be downloaded to the zip file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;File &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39; already exists and `overwrite` is set to `False`.&quot;</span>
        <span class="p">)</span>

    <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">_get_artifact_store_from_response_or_from_active_stack</span><span class="p">(</span>
        <span class="n">artifact</span><span class="o">=</span><span class="n">artifact</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">filepaths</span> <span class="o">:=</span> <span class="n">artifact_store</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">):</span>
        <span class="c1"># save a zipfile to &#39;path&#39; containing all the files</span>
        <span class="c1"># in &#39;filepaths&#39; with compression</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZIP_DEFLATED</span><span class="p">)</span> <span class="k">as</span> <span class="n">zipf</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">filepaths</span><span class="p">:</span>
                    <span class="c1"># Ensure &#39;file&#39; is a string for path operations</span>
                    <span class="c1"># and ZIP entry naming</span>
                    <span class="n">file_str</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="n">file</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span> <span class="k">else</span> <span class="n">file</span>
                    <span class="p">)</span>
                    <span class="n">file_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span> <span class="o">/</span> <span class="n">file_str</span><span class="p">)</span>
                    <span class="k">with</span> <span class="n">artifact_store</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;rb&quot;</span>
                    <span class="p">)</span> <span class="k">as</span> <span class="n">store_file</span><span class="p">:</span>
                        <span class="c1"># Use a loop to read and write chunks of the file</span>
                        <span class="c1"># instead of reading the entire file into memory</span>
                        <span class="n">CHUNK_SIZE</span> <span class="o">=</span> <span class="mi">8192</span>
                        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">file_content</span> <span class="o">:=</span> <span class="n">store_file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">CHUNK_SIZE</span><span class="p">):</span>
                                <span class="n">zipf</span><span class="o">.</span><span class="n">writestr</span><span class="p">(</span><span class="n">file_str</span><span class="p">,</span> <span class="n">file_content</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="k">break</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to save artifact &#39;</span><span class="si">{</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; to zip file &quot;</span>
                <span class="sa">f</span><span class="s2">&quot; &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.artifacts.utils.get_artifacts_versions_of_pipeline_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_artifacts_versions_of_pipeline_run</span><span class="p">(</span><span class="n">pipeline_run</span><span class="p">,</span> <span class="n">only_produced</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get all artifact versions produced during a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_run</code></td>
        <td><code>PipelineRunResponse</code></td>
        <td><p>The pipeline run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>only_produced</code></td>
        <td><code>bool</code></td>
        <td><p>If only artifact versions produced by the pipeline run
should be returned or also cached artifact versions.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[ArtifactVersionResponse]</code></td>
      <td><p>A list of all artifact versions produced during the pipeline run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_artifacts_versions_of_pipeline_run</span><span class="p">(</span>
    <span class="n">pipeline_run</span><span class="p">:</span> <span class="s2">&quot;PipelineRunResponse&quot;</span><span class="p">,</span> <span class="n">only_produced</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all artifact versions produced during a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_run: The pipeline run.</span>
<span class="sd">        only_produced: If only artifact versions produced by the pipeline run</span>
<span class="sd">            should be returned or also cached artifact versions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all artifact versions produced during the pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">artifact_versions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">only_produced</span> <span class="ow">or</span> <span class="n">step</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">COMPLETED</span><span class="p">:</span>
            <span class="n">artifact_versions</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">artifact_versions</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.artifacts.utils.get_producer_step_of_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_producer_step_of_artifact</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get the step run that produced a given artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact</code></td>
        <td><code>ArtifactVersionResponse</code></td>
        <td><p>The artifact.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponse</code></td>
      <td><p>The step run that produced the artifact.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the run that created the artifact no longer exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_producer_step_of_artifact</span><span class="p">(</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StepRunResponse&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the step run that produced a given artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact: The artifact.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run that produced the artifact.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the run that created the artifact no longer exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">artifact</span><span class="o">.</span><span class="n">producer_step_run_id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The run that produced the artifact with id &#39;</span><span class="si">{</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; no &quot;</span>
            <span class="s2">&quot;longer exists. This can happen if the run was deleted.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">get_run_step</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">producer_step_run_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.artifacts.utils.load_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_artifact</span><span class="p">(</span><span class="n">name_or_id</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Load an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the artifact to load.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The version of the artifact to load, if <code>name_or_id</code> is a
name. If not provided, the latest version will be loaded.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The loaded artifact.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_artifact</span><span class="p">(</span>
    <span class="n">name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        name_or_id: The name or ID of the artifact to load.</span>
<span class="sd">        version: The version of the artifact to load, if `name_or_id` is a</span>
<span class="sd">            name. If not provided, the latest version will be loaded.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The loaded artifact.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">artifact</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span><span class="n">name_or_id</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">step_run</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span><span class="o">.</span><span class="n">step_run</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">update_run_step</span><span class="p">(</span>
            <span class="n">step_run_id</span><span class="o">=</span><span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">step_run_update</span><span class="o">=</span><span class="n">StepRunUpdate</span><span class="p">(</span>
                <span class="n">loaded_artifact_versions</span><span class="o">=</span><span class="p">{</span><span class="n">artifact</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">}</span>
            <span class="p">),</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
        <span class="k">pass</span>  <span class="c1"># Cannot link to step run if called outside of a step</span>
    <span class="k">return</span> <span class="n">load_artifact_from_response</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.artifacts.utils.load_artifact_from_response" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_artifact_from_response</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Load the given artifact into memory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact</code></td>
        <td><code>ArtifactVersionResponse</code></td>
        <td><p>The artifact to load.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The artifact loaded into memory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_artifact_from_response</span><span class="p">(</span><span class="n">artifact</span><span class="p">:</span> <span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load the given artifact into memory.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact: The artifact to load.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The artifact loaded into memory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">_get_artifact_store_from_response_or_from_active_stack</span><span class="p">(</span>
        <span class="n">artifact</span><span class="o">=</span><span class="n">artifact</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">_load_artifact_from_uri</span><span class="p">(</span>
        <span class="n">materializer</span><span class="o">=</span><span class="n">artifact</span><span class="o">.</span><span class="n">materializer</span><span class="p">,</span>
        <span class="n">data_type</span><span class="o">=</span><span class="n">artifact</span><span class="o">.</span><span class="n">data_type</span><span class="p">,</span>
        <span class="n">uri</span><span class="o">=</span><span class="n">artifact</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
        <span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.artifacts.utils.load_artifact_visualization" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_artifact_visualization</span><span class="p">(</span><span class="n">artifact</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">zen_store</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">encode_image</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Load a visualization of the given artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact</code></td>
        <td><code>ArtifactVersionResponse</code></td>
        <td><p>The artifact to visualize.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>index</code></td>
        <td><code>int</code></td>
        <td><p>The index of the visualization to load.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>zen_store</code></td>
        <td><code>Optional[BaseZenStore]</code></td>
        <td><p>The ZenStore to use for finding the artifact store. If not
provided, the client's ZenStore will be used.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>encode_image</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to base64 encode image visualizations.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>LoadedVisualization</code></td>
      <td><p>The loaded visualization.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>DoesNotExistException</code></td>
        <td><p>If the artifact does not have the requested
visualization or if the visualization was not found in the artifact
store.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_artifact_visualization</span><span class="p">(</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">,</span>
    <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">zen_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseZenStore&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">encode_image</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">LoadedVisualization</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load a visualization of the given artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact: The artifact to visualize.</span>
<span class="sd">        index: The index of the visualization to load.</span>
<span class="sd">        zen_store: The ZenStore to use for finding the artifact store. If not</span>
<span class="sd">            provided, the client&#39;s ZenStore will be used.</span>
<span class="sd">        encode_image: Whether to base64 encode image visualizations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The loaded visualization.</span>

<span class="sd">    Raises:</span>
<span class="sd">        DoesNotExistException: If the artifact does not have the requested</span>
<span class="sd">            visualization or if the visualization was not found in the artifact</span>
<span class="sd">            store.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Get the visualization to load</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">artifact</span><span class="o">.</span><span class="n">visualizations</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">DoesNotExistException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Artifact &#39;</span><span class="si">{</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; has no visualizations.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">visualizations</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">DoesNotExistException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Artifact &#39;</span><span class="si">{</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; only has </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">visualizations</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;visualizations, but index </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2"> was requested.&quot;</span>
        <span class="p">)</span>
    <span class="n">visualization</span> <span class="o">=</span> <span class="n">artifact</span><span class="o">.</span><span class="n">visualizations</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

    <span class="c1"># Load the visualization from the artifact&#39;s artifact store</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">artifact</span><span class="o">.</span><span class="n">artifact_store_id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">DoesNotExistException</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Artifact &#39;</span><span class="si">{</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; cannot be visualized because the &quot;</span>
            <span class="s2">&quot;underlying artifact store was deleted.&quot;</span>
        <span class="p">)</span>
    <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">_load_artifact_store</span><span class="p">(</span>
        <span class="n">artifact_store_id</span><span class="o">=</span><span class="n">artifact</span><span class="o">.</span><span class="n">artifact_store_id</span><span class="p">,</span> <span class="n">zen_store</span><span class="o">=</span><span class="n">zen_store</span>
    <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;rb&quot;</span> <span class="k">if</span> <span class="n">visualization</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">VisualizationType</span><span class="o">.</span><span class="n">IMAGE</span> <span class="k">else</span> <span class="s2">&quot;r&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">_load_file_from_artifact_store</span><span class="p">(</span>
            <span class="n">uri</span><span class="o">=</span><span class="n">visualization</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
            <span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span><span class="p">,</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Encode image visualizations if requested</span>
        <span class="k">if</span> <span class="n">visualization</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">VisualizationType</span><span class="o">.</span><span class="n">IMAGE</span> <span class="ow">and</span> <span class="n">encode_image</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">LoadedVisualization</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">visualization</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">artifact_store</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.artifacts.utils.load_model_from_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_model_from_metadata</span><span class="p">(</span><span class="n">model_uri</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Load a zenml model artifact from a json file.</p>
<p>This function is used to load information from a Yaml file that was created
by the save_model_metadata function. The information in the Yaml file is
used to load the model into memory in the inference environment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_uri</code></td>
        <td><code>str</code></td>
        <td><p>the artifact to extract the metadata from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The ML model object loaded into memory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_model_from_metadata</span><span class="p">(</span><span class="n">model_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load a zenml model artifact from a json file.</span>

<span class="sd">    This function is used to load information from a Yaml file that was created</span>
<span class="sd">    by the save_model_metadata function. The information in the Yaml file is</span>
<span class="sd">    used to load the model into memory in the inference environment.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_uri: the artifact to extract the metadata from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ML model object loaded into memory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Load the model from its metadata</span>
    <span class="n">artifact_versions_by_uri</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">list_artifact_versions</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="n">model_uri</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">artifact_versions_by_uri</span><span class="o">.</span><span class="n">total</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">artifact_store</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">_get_artifact_store_from_response_or_from_active_stack</span><span class="p">(</span>
                <span class="n">artifact_versions_by_uri</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span>

    <span class="k">with</span> <span class="n">artifact_store</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">model_uri</span><span class="p">,</span> <span class="n">MODEL_METADATA_YAML_FILE_NAME</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">read_yaml</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">data_type</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;datatype&quot;</span><span class="p">]</span>
    <span class="n">materializer</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;materializer&quot;</span><span class="p">]</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">_load_artifact_from_uri</span><span class="p">(</span>
        <span class="n">materializer</span><span class="o">=</span><span class="n">materializer</span><span class="p">,</span>
        <span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span>
        <span class="n">uri</span><span class="o">=</span><span class="n">model_uri</span><span class="p">,</span>
        <span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Switch to eval mode if the model is a torch model</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">torch.nn</span> <span class="k">as</span> <span class="nn">nn</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
            <span class="n">model</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">return</span> <span class="n">model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.artifacts.utils.log_artifact_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log_artifact_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">artifact_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">artifact_version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Log artifact metadata.</p>
<p>This function can be used to log metadata for either existing artifact
versions or artifact versions that are newly created in the same step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>metadata</code></td>
        <td><code>Dict[str, MetadataType]</code></td>
        <td><p>The metadata to log.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>artifact_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the artifact to log metadata for. Can
be omitted when being called inside a step with only one output.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>artifact_version</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The version of the artifact to log metadata for. If
not provided, when being called inside a step that produces an
artifact named <code>artifact_name</code>, the metadata will be associated to
the corresponding newly created artifact. Or, if not provided when
being called outside of a step, or in a step that does not produce
any artifact named <code>artifact_name</code>, the metadata will be associated
to the latest version of that artifact.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If no artifact name is provided and the function is not
called inside a step with a single output, or, if neither an
artifact nor an output with the given name exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">log_artifact_metadata</span><span class="p">(</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">],</span>
    <span class="n">artifact_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">artifact_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Log artifact metadata.</span>

<span class="sd">    This function can be used to log metadata for either existing artifact</span>
<span class="sd">    versions or artifact versions that are newly created in the same step.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata: The metadata to log.</span>
<span class="sd">        artifact_name: The name of the artifact to log metadata for. Can</span>
<span class="sd">            be omitted when being called inside a step with only one output.</span>
<span class="sd">        artifact_version: The version of the artifact to log metadata for. If</span>
<span class="sd">            not provided, when being called inside a step that produces an</span>
<span class="sd">            artifact named `artifact_name`, the metadata will be associated to</span>
<span class="sd">            the corresponding newly created artifact. Or, if not provided when</span>
<span class="sd">            being called outside of a step, or in a step that does not produce</span>
<span class="sd">            any artifact named `artifact_name`, the metadata will be associated</span>
<span class="sd">            to the latest version of that artifact.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If no artifact name is provided and the function is not</span>
<span class="sd">            called inside a step with a single output, or, if neither an</span>
<span class="sd">            artifact nor an output with the given name exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
        <span class="n">in_step_outputs</span> <span class="o">=</span> <span class="p">(</span><span class="n">artifact_name</span> <span class="ow">in</span> <span class="n">step_context</span><span class="o">.</span><span class="n">_outputs</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="n">artifact_name</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">step_context</span><span class="o">.</span><span class="n">_outputs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
        <span class="n">step_context</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">in_step_outputs</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">step_context</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">in_step_outputs</span> <span class="ow">or</span> <span class="n">artifact_version</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">artifact_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Artifact name must be provided unless the function is called &quot;</span>
                <span class="s2">&quot;inside a step with a single output.&quot;</span>
            <span class="p">)</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span><span class="n">artifact_name</span><span class="p">,</span> <span class="n">artifact_version</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">create_run_metadata</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">step_context</span><span class="o">.</span><span class="n">add_output_metadata</span><span class="p">(</span>
                <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span> <span class="n">output_name</span><span class="o">=</span><span class="n">artifact_name</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">StepContextError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.artifacts.utils.save_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save_artifact</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extract_metadata</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">include_visualizations</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">has_custom_name</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">user_metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">materializer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">uri</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">is_model_artifact</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">is_deployment_artifact</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">manual_save</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Upload and publish an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the artifact.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>Any</code></td>
        <td><p>The artifact data.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>Union[int, str]</code></td>
        <td><p>The version of the artifact. If not provided, a new
auto-incremented version will be used.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Optional[List[str]]</code></td>
        <td><p>Tags to associate with the artifact.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>extract_metadata</code></td>
        <td><code>bool</code></td>
        <td><p>If artifact metadata should be extracted and returned.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>include_visualizations</code></td>
        <td><code>bool</code></td>
        <td><p>If artifact visualizations should be generated.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>has_custom_name</code></td>
        <td><code>bool</code></td>
        <td><p>If the artifact name is custom and should be listed in
the dashboard "Artifacts" tab.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>user_metadata</code></td>
        <td><code>Optional[Dict[str, MetadataType]]</code></td>
        <td><p>User-provided metadata to store with the artifact.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>materializer</code></td>
        <td><code>Optional[MaterializerClassOrSource]</code></td>
        <td><p>The materializer to use for saving the artifact to the
artifact store.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>uri</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The URI within the artifact store to upload the artifact
to. If not provided, the artifact will be uploaded to
<code>custom_artifacts/{name}/{version}</code>.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>is_model_artifact</code></td>
        <td><code>bool</code></td>
        <td><p>If the artifact is a model artifact.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>is_deployment_artifact</code></td>
        <td><code>bool</code></td>
        <td><p>If the artifact is a deployment artifact.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>manual_save</code></td>
        <td><code>bool</code></td>
        <td><p>If this function is called manually and should therefore
link the artifact to the current step run.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactVersionResponse</code></td>
      <td><p>The saved artifact response.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If artifact URI already exists.</p></td>
      </tr>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If artifact version already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save_artifact</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extract_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">include_visualizations</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">has_custom_name</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">user_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">materializer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;MaterializerClassOrSource&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_model_artifact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">is_deployment_artifact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">manual_save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upload and publish an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the artifact.</span>
<span class="sd">        data: The artifact data.</span>
<span class="sd">        version: The version of the artifact. If not provided, a new</span>
<span class="sd">            auto-incremented version will be used.</span>
<span class="sd">        tags: Tags to associate with the artifact.</span>
<span class="sd">        extract_metadata: If artifact metadata should be extracted and returned.</span>
<span class="sd">        include_visualizations: If artifact visualizations should be generated.</span>
<span class="sd">        has_custom_name: If the artifact name is custom and should be listed in</span>
<span class="sd">            the dashboard &quot;Artifacts&quot; tab.</span>
<span class="sd">        user_metadata: User-provided metadata to store with the artifact.</span>
<span class="sd">        materializer: The materializer to use for saving the artifact to the</span>
<span class="sd">            artifact store.</span>
<span class="sd">        uri: The URI within the artifact store to upload the artifact</span>
<span class="sd">            to. If not provided, the artifact will be uploaded to</span>
<span class="sd">            `custom_artifacts/{name}/{version}`.</span>
<span class="sd">        is_model_artifact: If the artifact is a model artifact.</span>
<span class="sd">        is_deployment_artifact: If the artifact is a deployment artifact.</span>
<span class="sd">        manual_save: If this function is called manually and should therefore</span>
<span class="sd">            link the artifact to the current step run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The saved artifact response.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If artifact URI already exists.</span>
<span class="sd">        EntityExistsError: If artifact version already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.materializers.materializer_registry</span> <span class="kn">import</span> <span class="p">(</span>
        <span class="n">materializer_registry</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="kn">from</span> <span class="nn">zenml.utils</span> <span class="kn">import</span> <span class="n">source_utils</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

    <span class="c1"># Get or create the artifact</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">artifact</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_artifacts</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">artifact</span><span class="o">.</span><span class="n">has_custom_name</span> <span class="o">!=</span> <span class="n">has_custom_name</span><span class="p">:</span>
            <span class="n">client</span><span class="o">.</span><span class="n">update_artifact</span><span class="p">(</span>
                <span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">has_custom_name</span><span class="o">=</span><span class="n">has_custom_name</span>
            <span class="p">)</span>
    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">artifact</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_artifact</span><span class="p">(</span>
                <span class="n">ArtifactRequest</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">has_custom_name</span><span class="o">=</span><span class="n">has_custom_name</span><span class="p">,</span>
                    <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">EntityExistsError</span><span class="p">:</span>
            <span class="n">artifact</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_artifacts</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Get the current artifact store</span>
    <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span>

    <span class="c1"># Build and check the artifact URI</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">uri</span><span class="p">:</span>
        <span class="n">uri</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;custom_artifacts&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid4</span><span class="p">()))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">uri</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="p">):</span>
        <span class="n">uri</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">uri</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">manual_save</span> <span class="ow">and</span> <span class="n">artifact_store</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">uri</span><span class="p">):</span>
        <span class="c1"># This check is only necessary for manual saves as we already check</span>
        <span class="c1"># it when creating the directory for step output artifacts</span>
        <span class="n">other_artifacts</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_artifact_versions</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="n">uri</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">other_artifacts</span> <span class="ow">and</span> <span class="p">(</span><span class="n">other_artifact</span> <span class="o">:=</span> <span class="n">other_artifacts</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Cannot save new artifact </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> version to URI &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2"> because the URI is already used by artifact &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">other_artifact</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> (version </span><span class="si">{</span><span class="n">other_artifact</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2">).&quot;</span>
            <span class="p">)</span>
    <span class="n">artifact_store</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>

    <span class="c1"># Find and initialize the right materializer class</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">materializer</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
        <span class="n">materializer_class</span> <span class="o">=</span> <span class="n">materializer</span>
    <span class="k">elif</span> <span class="n">materializer</span><span class="p">:</span>
        <span class="n">materializer_class</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load_and_validate_class</span><span class="p">(</span>
            <span class="n">materializer</span><span class="p">,</span> <span class="n">expected_class</span><span class="o">=</span><span class="n">BaseMaterializer</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">materializer_class</span> <span class="o">=</span> <span class="n">materializer_registry</span><span class="p">[</span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">)]</span>
    <span class="n">materializer_object</span> <span class="o">=</span> <span class="n">materializer_class</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>

    <span class="c1"># Force URIs to have forward slashes</span>
    <span class="n">materializer_object</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="n">materializer_object</span><span class="o">.</span><span class="n">uri</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="c1"># Save the artifact to the artifact store</span>
    <span class="n">data_type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">materializer_object</span><span class="o">.</span><span class="n">validate_type_compatibility</span><span class="p">(</span><span class="n">data_type</span><span class="p">)</span>
    <span class="n">materializer_object</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="c1"># Save visualizations of the artifact</span>
    <span class="n">visualizations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ArtifactVisualizationRequest</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">include_visualizations</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">vis_data</span> <span class="o">=</span> <span class="n">materializer_object</span><span class="o">.</span><span class="n">save_visualizations</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">vis_uri</span><span class="p">,</span> <span class="n">vis_type</span> <span class="ow">in</span> <span class="n">vis_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">vis_model</span> <span class="o">=</span> <span class="n">ArtifactVisualizationRequest</span><span class="p">(</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">vis_type</span><span class="p">,</span>
                    <span class="n">uri</span><span class="o">=</span><span class="n">vis_uri</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">visualizations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vis_model</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to save visualization for output artifact &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="c1"># Save metadata of the artifact</span>
    <span class="n">artifact_metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">extract_metadata</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">artifact_metadata</span> <span class="o">=</span> <span class="n">materializer_object</span><span class="o">.</span><span class="n">extract_full_metadata</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="n">artifact_metadata</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">user_metadata</span> <span class="ow">or</span> <span class="p">{})</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to extract metadata for output artifact &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="c1"># Create the artifact version</span>
    <span class="k">def</span> <span class="nf">_create_version</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ArtifactVersionResponse</span><span class="p">]:</span>
        <span class="n">artifact_version</span> <span class="o">=</span> <span class="n">ArtifactVersionRequest</span><span class="p">(</span>
            <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">materializer_object</span><span class="o">.</span><span class="n">ASSOCIATED_ARTIFACT_TYPE</span><span class="p">,</span>
            <span class="n">uri</span><span class="o">=</span><span class="n">materializer_object</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
            <span class="n">materializer</span><span class="o">=</span><span class="n">source_utils</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">materializer_object</span><span class="o">.</span><span class="vm">__class__</span><span class="p">),</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">source_utils</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">data_type</span><span class="p">),</span>
            <span class="n">user</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">artifact_store_id</span><span class="o">=</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">visualizations</span><span class="o">=</span><span class="n">visualizations</span><span class="p">,</span>
            <span class="n">has_custom_name</span><span class="o">=</span><span class="n">has_custom_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_artifact_version</span><span class="p">(</span>
                <span class="n">artifact_version</span><span class="o">=</span><span class="n">artifact_version</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">EntityExistsError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="n">response</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">version</span><span class="p">:</span>
        <span class="n">retries_made</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">MAX_RETRIES_FOR_VERSIONED_ENTITY_CREATION</span><span class="p">):</span>
            <span class="c1"># Get new artifact version</span>
            <span class="n">version</span> <span class="o">=</span> <span class="n">_get_new_artifact_version</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">response</span> <span class="o">:=</span> <span class="n">_create_version</span><span class="p">():</span>
                <span class="k">break</span>
            <span class="c1"># smoothed exponential back-off, it will go as 0.2, 0.3,</span>
            <span class="c1"># 0.45, 0.68, 1.01, 1.52, 2.28, 3.42, 5.13, 7.69, ...</span>
            <span class="n">sleep</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="mf">1.5</span><span class="o">**</span><span class="n">i</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to create artifact version `</span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">` for &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;artifact `</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">`. Retrying in </span><span class="si">{</span><span class="n">sleep</span><span class="si">}</span><span class="s2">...&quot;</span>
            <span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">sleep</span><span class="p">)</span>
            <span class="n">retries_made</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to create new artifact version for artifact &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">`. Retried </span><span class="si">{</span><span class="n">retries_made</span><span class="si">}</span><span class="s2"> times. &quot;</span>
                <span class="s2">&quot;This could be driven by exceptionally high concurrency of &quot;</span>
                <span class="s2">&quot;pipeline runs. Please, reach out to us on ZenML Slack for support.&quot;</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">_create_version</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to create artifact version `</span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">` for artifact &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">`. Given version already exists.&quot;</span>
            <span class="p">)</span>
    <span class="k">if</span> <span class="n">artifact_metadata</span><span class="p">:</span>
        <span class="n">client</span><span class="o">.</span><span class="n">create_run_metadata</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">artifact_metadata</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">manual_save</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;step run&quot;</span>
            <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
            <span class="n">step_run</span> <span class="o">=</span> <span class="n">step_context</span><span class="o">.</span><span class="n">step_run</span>
            <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">update_run_step</span><span class="p">(</span>
                <span class="n">step_run_id</span><span class="o">=</span><span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">step_run_update</span><span class="o">=</span><span class="n">StepRunUpdate</span><span class="p">(</span>
                    <span class="n">saved_artifact_versions</span><span class="o">=</span><span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="p">}</span>
                <span class="p">),</span>
            <span class="p">)</span>
            <span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;model&quot;</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">step_context</span><span class="o">.</span><span class="n">model</span>
            <span class="k">if</span> <span class="n">model</span><span class="p">:</span>
                <span class="kn">from</span> <span class="nn">zenml.model.utils</span> <span class="kn">import</span> <span class="n">link_artifact_to_model</span>

                <span class="n">link_artifact_to_model</span><span class="p">(</span>
                    <span class="n">artifact_version_id</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
                    <span class="n">is_model_artifact</span><span class="o">=</span><span class="n">is_model_artifact</span><span class="p">,</span>
                    <span class="n">is_deployment_artifact</span><span class="o">=</span><span class="n">is_deployment_artifact</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">RuntimeError</span><span class="p">,</span> <span class="n">StepContextError</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to link saved artifact to </span><span class="si">{</span><span class="n">error_message</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.artifacts.utils.save_model_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save_model_metadata</span><span class="p">(</span><span class="n">model_artifact</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Save a zenml model artifact metadata to a YAML file.</p>
<p>This function is used to extract and save information from a zenml model
artifact such as the model type and materializer. The extracted information
will be the key to loading the model into memory in the inference
environment.</p>
<p>datatype: the model type. This is the path to the model class.
materializer: The path to the materializer class.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model_artifact</code></td>
        <td><code>ArtifactVersionResponse</code></td>
        <td><p>the artifact to extract the metadata from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The path to the temporary file where the model metadata is saved</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/artifacts/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save_model_metadata</span><span class="p">(</span><span class="n">model_artifact</span><span class="p">:</span> <span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Save a zenml model artifact metadata to a YAML file.</span>

<span class="sd">    This function is used to extract and save information from a zenml model</span>
<span class="sd">    artifact such as the model type and materializer. The extracted information</span>
<span class="sd">    will be the key to loading the model into memory in the inference</span>
<span class="sd">    environment.</span>

<span class="sd">    datatype: the model type. This is the path to the model class.</span>
<span class="sd">    materializer: The path to the materializer class.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_artifact: the artifact to extract the metadata from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The path to the temporary file where the model metadata is saved</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;datatype&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">model_artifact</span><span class="o">.</span><span class="n">data_type</span>
    <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;materializer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">model_artifact</span><span class="o">.</span><span class="n">materializer</span>

    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.yaml&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">write_yaml</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">name</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../core-artifact_stores/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Artifact Stores" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Artifact Stores
            </div>
          </div>
        </a>
      
      
        
        <a href="../core-client/" class="md-footer__link md-footer__link--next" aria-label="Next: Client" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Client
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH  <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>