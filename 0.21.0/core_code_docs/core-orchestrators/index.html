
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://apidocs.zenml.io/0.21.0/core_code_docs/core-orchestrators/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.4.1, mkdocs-material-8.3.0">
    
    
      
        <title>Orchestrators - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fd896c8a.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  function isBotTraffic(){const e=navigator.userAgent||"",t=e.toLowerCase();function n(e){const t=/Chrome\/(\d+)\./.exec(e);return t?parseInt(t[1],10):null}function a(e){return e.includes("windows nt")?"Windows":e.includes("android")?"Android":e.includes("iphone")||e.includes("ipad")||e.includes("ipod")?"iOS":e.includes("macintosh")||e.includes("mac os x")?"macOS":e.includes("cros")?"Unknown":e.includes("linux")?"Linux":"Unknown"}function o(e){const t=(e||"").toLowerCase();return""===t?"Unknown":t.startsWith("win")?"Windows":"macos"===t||t.startsWith("mac")?"macOS":t.startsWith("linux")?"Linux":t.startsWith("android")?"Android":"ios"===t?"iOS":t.includes("cros")||t.includes("chrome os")?"Unknown":"Unknown"}const i=["claudebot","headlesschrome","phantomjs","slimerjs","crawler","spider","scraper","googlebot","bingbot","semrushbot","ahrefsbot","bot"];for(const n of i)if(t.includes(n))return!0;if(!0===navigator.webdriver)return!0;const r=navigator.userAgentData;if(!r)return!1;const s="string"==typeof r.platform?r.platform:"",c=Array.isArray(r.brands)?r.brands:[];if(0===c.length&&""===s)return!0;const d=a(t),l=o(s);if("Unknown"!==d&&"Unknown"!==l&&d!==l)return!0;const u=/^Not.{0,2}A.{0,2}Brand$/i;let f=!1,m=!1,p=!1,g=0,h=0;for(const t of c){if(!t||"string"!=typeof t.brand)continue;const n=t.brand,a=n.toLowerCase();g+=1,"HeadlessChrome"!==n&&!a.includes("bot")||(m=!0),/chrom(e|ium)/i.test(n)&&(f=!0,"string"==typeof t.version&&""===t.version.trim()&&(p=!0)),u.test(n)&&(h+=1)}return!!m||(g>0&&h===g&&!f||(null!==n(e)&&f&&p))}
  isBotTraffic()||(analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM"),analytics.page());
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#orchestrators" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Orchestrators
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Orchestrators
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Orchestrators
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator" class="md-nav__link">
    base_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="base_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator" class="md-nav__link">
    BaseOrchestrator
  </a>
  
    <nav class="md-nav" aria-label="BaseOrchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator--how-it-works" class="md-nav__link">
    How it works:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.get_orchestrator_run_id" class="md-nav__link">
    get_orchestrator_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.get_run_id_for_orchestrator_run_id" class="md-nav__link">
    get_run_id_for_orchestrator_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.prepare_or_run_pipeline" class="md-nav__link">
    prepare_or_run_pipeline()
  </a>
  
    <nav class="md-nav" aria-label="prepare_or_run_pipeline()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.prepare_or_run_pipeline--simple-case" class="md-nav__link">
    Simple Case:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.prepare_or_run_pipeline--advanced-case" class="md-nav__link">
    Advanced Case:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.requires_resources_in_orchestration_environment" class="md-nav__link">
    requires_resources_in_orchestration_environment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.run_step" class="md-nav__link">
    run_step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig" class="md-nav__link">
    BaseOrchestratorConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor" class="md-nav__link">
    BaseOrchestratorFlavor
  </a>
  
    <nav class="md-nav" aria-label="BaseOrchestratorFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor.type" class="md-nav__link">
    type
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local" class="md-nav__link">
    local
  </a>
  
    <nav class="md-nav" aria-label="local">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator" class="md-nav__link">
    local_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="local_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestrator" class="md-nav__link">
    LocalOrchestrator
  </a>
  
    <nav class="md-nav" aria-label="LocalOrchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestrator.get_orchestrator_run_id" class="md-nav__link">
    get_orchestrator_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestrator.prepare_or_run_pipeline" class="md-nav__link">
    prepare_or_run_pipeline()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestratorConfig" class="md-nav__link">
    LocalOrchestratorConfig
  </a>
  
    <nav class="md-nav" aria-label="LocalOrchestratorConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestratorConfig.is_local" class="md-nav__link">
    is_local
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestratorFlavor" class="md-nav__link">
    LocalOrchestratorFlavor
  </a>
  
    <nav class="md-nav" aria-label="LocalOrchestratorFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestratorFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestratorFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestratorFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker" class="md-nav__link">
    local_docker
  </a>
  
    <nav class="md-nav" aria-label="local_docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator" class="md-nav__link">
    local_docker_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="local_docker_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestrator" class="md-nav__link">
    LocalDockerOrchestrator
  </a>
  
    <nav class="md-nav" aria-label="LocalDockerOrchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestrator.get_orchestrator_run_id" class="md-nav__link">
    get_orchestrator_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestrator.prepare_or_run_pipeline" class="md-nav__link">
    prepare_or_run_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestrator.prepare_pipeline_deployment" class="md-nav__link">
    prepare_pipeline_deployment()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorConfig" class="md-nav__link">
    LocalDockerOrchestratorConfig
  </a>
  
    <nav class="md-nav" aria-label="LocalDockerOrchestratorConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorConfig.is_local" class="md-nav__link">
    is_local
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorFlavor" class="md-nav__link">
    LocalDockerOrchestratorFlavor
  </a>
  
    <nav class="md-nav" aria-label="LocalDockerOrchestratorFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.utils.get_cache_status" class="md-nav__link">
    get_cache_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.utils.get_orchestrator_run_name" class="md-nav__link">
    get_orchestrator_run_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-recipes/" class="md-nav__link">
        Recipes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-repository/" class="md-nav__link">
        Repository
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secrets_managers/" class="md-nav__link">
        Secrets Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-visualizers/" class="md-nav__link">
        Visualizers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-azure/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-dash/" class="md-nav__link">
        Dash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-graphviz/" class="md-nav__link">
        Graphviz
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-huggingface/" class="md-nav__link">
        Huggingface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kserve/" class="md-nav__link">
        Kserve
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-plotly/" class="md-nav__link">
        Plotly
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-vault/" class="md-nav__link">
        Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator" class="md-nav__link">
    base_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="base_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator" class="md-nav__link">
    BaseOrchestrator
  </a>
  
    <nav class="md-nav" aria-label="BaseOrchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator--how-it-works" class="md-nav__link">
    How it works:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.get_orchestrator_run_id" class="md-nav__link">
    get_orchestrator_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.get_run_id_for_orchestrator_run_id" class="md-nav__link">
    get_run_id_for_orchestrator_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.prepare_or_run_pipeline" class="md-nav__link">
    prepare_or_run_pipeline()
  </a>
  
    <nav class="md-nav" aria-label="prepare_or_run_pipeline()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.prepare_or_run_pipeline--simple-case" class="md-nav__link">
    Simple Case:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.prepare_or_run_pipeline--advanced-case" class="md-nav__link">
    Advanced Case:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.requires_resources_in_orchestration_environment" class="md-nav__link">
    requires_resources_in_orchestration_environment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator.run_step" class="md-nav__link">
    run_step()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig" class="md-nav__link">
    BaseOrchestratorConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor" class="md-nav__link">
    BaseOrchestratorFlavor
  </a>
  
    <nav class="md-nav" aria-label="BaseOrchestratorFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor.type" class="md-nav__link">
    type
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local" class="md-nav__link">
    local
  </a>
  
    <nav class="md-nav" aria-label="local">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator" class="md-nav__link">
    local_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="local_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestrator" class="md-nav__link">
    LocalOrchestrator
  </a>
  
    <nav class="md-nav" aria-label="LocalOrchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestrator.get_orchestrator_run_id" class="md-nav__link">
    get_orchestrator_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestrator.prepare_or_run_pipeline" class="md-nav__link">
    prepare_or_run_pipeline()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestratorConfig" class="md-nav__link">
    LocalOrchestratorConfig
  </a>
  
    <nav class="md-nav" aria-label="LocalOrchestratorConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestratorConfig.is_local" class="md-nav__link">
    is_local
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestratorFlavor" class="md-nav__link">
    LocalOrchestratorFlavor
  </a>
  
    <nav class="md-nav" aria-label="LocalOrchestratorFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestratorFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestratorFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local.local_orchestrator.LocalOrchestratorFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker" class="md-nav__link">
    local_docker
  </a>
  
    <nav class="md-nav" aria-label="local_docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator" class="md-nav__link">
    local_docker_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="local_docker_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestrator" class="md-nav__link">
    LocalDockerOrchestrator
  </a>
  
    <nav class="md-nav" aria-label="LocalDockerOrchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestrator.get_orchestrator_run_id" class="md-nav__link">
    get_orchestrator_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestrator.prepare_or_run_pipeline" class="md-nav__link">
    prepare_or_run_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestrator.prepare_pipeline_deployment" class="md-nav__link">
    prepare_pipeline_deployment()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorConfig" class="md-nav__link">
    LocalDockerOrchestratorConfig
  </a>
  
    <nav class="md-nav" aria-label="LocalDockerOrchestratorConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorConfig.is_local" class="md-nav__link">
    is_local
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorFlavor" class="md-nav__link">
    LocalDockerOrchestratorFlavor
  </a>
  
    <nav class="md-nav" aria-label="LocalDockerOrchestratorFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.utils.get_cache_status" class="md-nav__link">
    get_cache_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.orchestrators.utils.get_orchestrator_run_name" class="md-nav__link">
    get_orchestrator_run_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/zenml-io/zenml/docs/core_code_docs/core-orchestrators.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="orchestrators">Orchestrators</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.orchestrators" class="doc doc-heading">
        <code>zenml.orchestrators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>Initialization for ZenML orchestrators.</p>
<p>An orchestrator is a special kind of backend that manages the running of each
step of the pipeline. Orchestrators administer the actual pipeline runs. You can
think of it as the 'root' of any pipeline job that you run during your
experimentation.</p>
<p>ZenML supports a local orchestrator out of the box which allows you to run your
pipelines in a local environment. We also support using Apache Airflow as the
orchestrator to handle the steps of your pipeline.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h3 id="zenml.orchestrators.base_orchestrator" class="doc doc-heading">
        <code>base_orchestrator</code>



</h3>

    <div class="doc doc-contents ">

      <p>Base orchestrator class.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.orchestrators.base_orchestrator.BaseOrchestrator" class="doc doc-heading">
        <code>
BaseOrchestrator            (<a class="autorefs autorefs-internal" title="zenml.stack.stack_component.StackComponent" href="../core-stack/#zenml.stack.stack_component.StackComponent">StackComponent</a>, <span title="abc.ABC">ABC</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Base class for all orchestrators.</p>
<p>In order to implement an orchestrator you will need to subclass from this
class.</p>
<h6 id="zenml.orchestrators.base_orchestrator.BaseOrchestrator--how-it-works">How it works:</h6>
<p>The <code>run(...)</code> method is the entrypoint that is executed when the
pipeline's run method is called within the user code
(<code>pipeline_instance.run(...)</code>).</p>
<p>This method will do some internal preparation and then call the
<code>prepare_or_run_pipeline(...)</code> method. BaseOrchestrator subclasses must
implement this method and either run the pipeline steps directly or deploy
the pipeline to some remote infrastructure.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/base_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseOrchestrator</span><span class="p">(</span><span class="n">StackComponent</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for all orchestrators.</span>

<span class="sd">    In order to implement an orchestrator you will need to subclass from this</span>
<span class="sd">    class.</span>

<span class="sd">    How it works:</span>
<span class="sd">    -------------</span>
<span class="sd">    The `run(...)` method is the entrypoint that is executed when the</span>
<span class="sd">    pipeline&#39;s run method is called within the user code</span>
<span class="sd">    (`pipeline_instance.run(...)`).</span>

<span class="sd">    This method will do some internal preparation and then call the</span>
<span class="sd">    `prepare_or_run_pipeline(...)` method. BaseOrchestrator subclasses must</span>
<span class="sd">    implement this method and either run the pipeline steps directly or deploy</span>
<span class="sd">    the pipeline to some remote infrastructure.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Class Configuration</span>
    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">StackComponentType</span><span class="p">]</span> <span class="o">=</span> <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span>
    <span class="n">_active_deployment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_active_pb2_pipeline</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Pb2Pipeline</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseOrchestratorConfig</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the `BaseOrchestratorConfig` config.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">BaseOrchestratorConfig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the run id of the active orchestrator run.</span>

<span class="sd">        Important: This needs to be a unique ID and return the same value for</span>
<span class="sd">        all steps of a pipeline run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The orchestrator run id.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;This method needs to be implemented by the respective orchestrator.</span>

<span class="sd">        Depending on the type of orchestrator you&#39;ll have to perform slightly</span>
<span class="sd">        different operations.</span>

<span class="sd">        Simple Case:</span>
<span class="sd">        ------------</span>
<span class="sd">        The Steps are run directly from within the same environment in which</span>
<span class="sd">        the orchestrator code is executed. In this case you will need to</span>
<span class="sd">        deal with implementation-specific runtime configurations (like the</span>
<span class="sd">        schedule) and then iterate through the steps and finally call</span>
<span class="sd">        `self.run_step(...)` to execute each step.</span>

<span class="sd">        Advanced Case:</span>
<span class="sd">        --------------</span>
<span class="sd">        Most orchestrators will not run the steps directly. Instead, they</span>
<span class="sd">        build some intermediate representation of the pipeline that is then</span>
<span class="sd">        used to create and run the pipeline and its steps on the target</span>
<span class="sd">        environment. For such orchestrators this method will have to build</span>
<span class="sd">        this representation and deploy it.</span>

<span class="sd">        Regardless of the implementation details, the orchestrator will need</span>
<span class="sd">        to run each step in the target environment. For this the</span>
<span class="sd">        `self.run_step(...)` method should be used.</span>

<span class="sd">        The easiest way to make this work is by using an entrypoint</span>
<span class="sd">        configuration to run single steps (`zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration`)</span>
<span class="sd">        or entire pipelines (`zenml.entrypoints.pipeline_entrypoint_configuration.PipelineEntrypointConfiguration`).</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The pipeline deployment to prepare or run.</span>
<span class="sd">            stack: The stack the pipeline will run on.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The optional return value from this method will be returned by the</span>
<span class="sd">            `pipeline_instance.run()` call when someone is running a pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Runs a pipeline on a stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The pipeline deployment.</span>
<span class="sd">            stack: The stack on which to run the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Orchestrator-specific return value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_run</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_or_run_pipeline</span><span class="p">(</span>
            <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="n">stack</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cleanup_run</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;Step&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">data_types</span><span class="o">.</span><span class="n">ExecutionInfo</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;This sets up a component launcher and executes the given step.</span>

<span class="sd">        Args:</span>
<span class="sd">            step: The step to be executed</span>

<span class="sd">        Returns:</span>
<span class="sd">            The execution info of the step.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_pb2_pipeline</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_artifact_classes_loaded</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>

        <span class="n">step_name</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span>
        <span class="n">pb2_pipeline</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_pb2_pipeline</span>

        <span class="n">run_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_or_reuse_run</span><span class="p">()</span>

        <span class="c1"># Substitute the runtime parameter to be a concrete run_id, it is</span>
        <span class="c1"># important for this to be unique for each run.</span>
        <span class="n">runtime_parameter_utils</span><span class="o">.</span><span class="n">substitute_runtime_parameter</span><span class="p">(</span>
            <span class="n">pb2_pipeline</span><span class="p">,</span>
            <span class="p">{</span><span class="n">PIPELINE_RUN_ID_PARAMETER_NAME</span><span class="p">:</span> <span class="n">run_model</span><span class="o">.</span><span class="n">name</span><span class="p">},</span>
        <span class="p">)</span>

        <span class="c1"># Extract the deployment_configs and use it to access the executor and</span>
        <span class="c1"># custom driver spec</span>
        <span class="n">deployment_config</span> <span class="o">=</span> <span class="n">runner_utils</span><span class="o">.</span><span class="n">extract_local_deployment_config</span><span class="p">(</span>
            <span class="n">pb2_pipeline</span>
        <span class="p">)</span>
        <span class="n">executor_spec</span> <span class="o">=</span> <span class="n">runner_utils</span><span class="o">.</span><span class="n">extract_executor_spec</span><span class="p">(</span>
            <span class="n">deployment_config</span><span class="p">,</span> <span class="n">step_name</span>
        <span class="p">)</span>
        <span class="n">custom_driver_spec</span> <span class="o">=</span> <span class="n">runner_utils</span><span class="o">.</span><span class="n">extract_custom_driver_spec</span><span class="p">(</span>
            <span class="n">deployment_config</span><span class="p">,</span> <span class="n">step_name</span>
        <span class="p">)</span>

        <span class="n">metadata_connection_cfg</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_metadata_config</span><span class="p">()</span>

        <span class="n">executor_operator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_executor_operator</span><span class="p">(</span>
            <span class="n">step_operator</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">step_operator</span>
        <span class="p">)</span>
        <span class="n">custom_executor_operators</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">executable_spec_pb2</span><span class="o">.</span><span class="n">PythonClassExecutableSpec</span><span class="p">:</span> <span class="n">executor_operator</span>
        <span class="p">}</span>

        <span class="n">step_run_info</span> <span class="o">=</span> <span class="n">StepRunInfo</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
            <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run_name</span><span class="o">=</span><span class="n">run_model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># The protobuf node for the current step is loaded here.</span>
        <span class="n">pipeline_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_with_step_name</span><span class="p">(</span><span class="n">step_name</span><span class="p">)</span>

        <span class="n">stack</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span>
        <span class="n">proto_utils</span><span class="o">.</span><span class="n">add_mlmd_contexts</span><span class="p">(</span>
            <span class="n">pipeline_node</span><span class="o">=</span><span class="n">pipeline_node</span><span class="p">,</span>
            <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
            <span class="n">deployment</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span><span class="p">,</span>
            <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">component_launcher</span> <span class="o">=</span> <span class="n">launcher</span><span class="o">.</span><span class="n">Launcher</span><span class="p">(</span>
            <span class="n">pipeline_node</span><span class="o">=</span><span class="n">pipeline_node</span><span class="p">,</span>
            <span class="n">mlmd_connection</span><span class="o">=</span><span class="n">metadata</span><span class="o">.</span><span class="n">Metadata</span><span class="p">(</span><span class="n">metadata_connection_cfg</span><span class="p">),</span>
            <span class="n">pipeline_info</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="o">.</span><span class="n">pipeline_info</span><span class="p">,</span>
            <span class="n">pipeline_runtime_spec</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="o">.</span><span class="n">runtime_spec</span><span class="p">,</span>
            <span class="n">executor_spec</span><span class="o">=</span><span class="n">executor_spec</span><span class="p">,</span>
            <span class="n">custom_driver_spec</span><span class="o">=</span><span class="n">custom_driver_spec</span><span class="p">,</span>
            <span class="n">custom_executor_operators</span><span class="o">=</span><span class="n">custom_executor_operators</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># If a step operator is used, the current environment will not be the</span>
        <span class="c1"># one executing the step function code and therefore we don&#39;t need to</span>
        <span class="c1"># run any preparation</span>
        <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">step_operator</span><span class="p">:</span>
            <span class="n">execution_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_step</span><span class="p">(</span><span class="n">component_launcher</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">stack</span><span class="o">.</span><span class="n">prepare_step_run</span><span class="p">(</span><span class="n">info</span><span class="o">=</span><span class="n">step_run_info</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">execution_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_step</span><span class="p">(</span><span class="n">component_launcher</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>  <span class="c1"># noqa: E722</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_publish_failed_run</span><span class="p">(</span><span class="n">run_name_or_id</span><span class="o">=</span><span class="n">run_model</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="k">raise</span>
            <span class="k">finally</span><span class="p">:</span>
                <span class="n">stack</span><span class="o">.</span><span class="n">cleanup_step_run</span><span class="p">(</span><span class="n">info</span><span class="o">=</span><span class="n">step_run_info</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">execution_info</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">requires_resources_in_orchestration_environment</span><span class="p">(</span>
        <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;Step&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if the orchestrator should run this step on special resources.</span>

<span class="sd">        Args:</span>
<span class="sd">            step: The step that will be checked.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the step requires special resources in the orchestration</span>
<span class="sd">            environment, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># If the step requires custom resources and doesn&#39;t run with a step</span>
        <span class="c1"># operator, it would need these requirements in the orchestrator</span>
        <span class="c1"># environment</span>
        <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">step_operator</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="ow">not</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_settings</span><span class="o">.</span><span class="n">empty</span>

    <span class="k">def</span> <span class="nf">_prepare_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Prepares a run.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The deployment to prepare.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span> <span class="o">=</span> <span class="n">deployment</span>

        <span class="n">pb2_pipeline</span> <span class="o">=</span> <span class="n">Pb2Pipeline</span><span class="p">()</span>
        <span class="n">pb2_pipeline_json</span> <span class="o">=</span> <span class="n">string_utils</span><span class="o">.</span><span class="n">b64_decode</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span><span class="o">.</span><span class="n">proto_pipeline</span>
        <span class="p">)</span>
        <span class="n">json_format</span><span class="o">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">pb2_pipeline_json</span><span class="p">,</span> <span class="n">pb2_pipeline</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_active_pb2_pipeline</span> <span class="o">=</span> <span class="n">pb2_pipeline</span>

    <span class="k">def</span> <span class="nf">_cleanup_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Cleans up the active run.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_active_pb2_pipeline</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">get_run_id_for_orchestrator_run_id</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">orchestrator_run_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UUID</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Generates a run ID from an orchestrator run id.</span>

<span class="sd">        Args:</span>
<span class="sd">            orchestrator_run_id: The orchestrator run id.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The run id generated from the orchestrator run id.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">run_id_seed</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">orchestrator_run_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">uuid_utils</span><span class="o">.</span><span class="n">generate_uuid_from_string</span><span class="p">(</span><span class="n">run_id_seed</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_or_reuse_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunModel</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a run or reuses an existing one.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created or existing run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span>
        <span class="n">orchestrator_run_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_orchestrator_run_id</span><span class="p">()</span>

        <span class="n">run_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run_id_for_orchestrator_run_id</span><span class="p">(</span><span class="n">orchestrator_run_id</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">run_model</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">run_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">run_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_run</span><span class="p">(</span>
                <span class="n">run_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span>
                <span class="n">orchestrator_run_id</span><span class="o">=</span><span class="n">orchestrator_run_id</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">run_model</span>

    <span class="k">def</span> <span class="nf">_create_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">orchestrator_run_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunModel</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Creates a run in the ZenStore.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_id: The id of the run to create.</span>
<span class="sd">            orchestrator_run_id: The orchestrator id of the run to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span>

        <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y_%m_</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%H_%M_%S_</span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">run_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span><span class="o">.</span><span class="n">run_name</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Creating run with ID: </span><span class="si">%s</span><span class="s2">, name: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">run_name</span><span class="p">)</span>

        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">run_model</span> <span class="o">=</span> <span class="n">PipelineRunModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
            <span class="n">orchestrator_run_id</span><span class="o">=</span><span class="n">orchestrator_run_id</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">project</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">active_project</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">stack_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span><span class="o">.</span><span class="n">stack_id</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">,</span>
            <span class="n">pipeline_configuration</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
            <span class="n">num_steps</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span><span class="o">.</span><span class="n">steps</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_run</span><span class="p">(</span><span class="n">run_model</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_publish_failed_run</span><span class="p">(</span><span class="n">run_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set run status to failed.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_name_or_id: The name or ID of the run that failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">run</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">run_name_or_id</span><span class="p">)</span>
        <span class="n">run</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">FAILED</span>
        <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">update_run</span><span class="p">(</span><span class="n">run</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_ensure_artifact_classes_loaded</span><span class="p">(</span>
        <span class="n">step_configuration</span><span class="p">:</span> <span class="s2">&quot;StepConfiguration&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Ensures that all artifact classes for a step are loaded.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_configuration: A step configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">artifact_class_sources</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
            <span class="n">input_</span><span class="o">.</span><span class="n">artifact_source</span>
            <span class="k">for</span> <span class="n">input_</span> <span class="ow">in</span> <span class="n">step_configuration</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">)</span> <span class="o">|</span> <span class="nb">set</span><span class="p">(</span>
            <span class="n">output</span><span class="o">.</span><span class="n">artifact_source</span>
            <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="n">step_configuration</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">artifact_class_sources</span><span class="p">:</span>
            <span class="c1"># Tfx depends on these classes being loaded so it can detect the</span>
            <span class="c1"># correct artifact class</span>
            <span class="n">source_utils</span><span class="o">.</span><span class="n">validate_source_class</span><span class="p">(</span>
                <span class="n">source</span><span class="p">,</span> <span class="n">expected_class</span><span class="o">=</span><span class="n">BaseArtifact</span>
            <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_execute_step</span><span class="p">(</span>
        <span class="n">tfx_launcher</span><span class="p">:</span> <span class="n">launcher</span><span class="o">.</span><span class="n">Launcher</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">data_types</span><span class="o">.</span><span class="n">ExecutionInfo</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Executes a tfx component.</span>

<span class="sd">        Args:</span>
<span class="sd">            tfx_launcher: A tfx launcher to execute the component.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional execution info returned by the launcher.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the execution failed during preparation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pipeline_step_name</span> <span class="o">=</span> <span class="n">tfx_launcher</span><span class="o">.</span><span class="n">_pipeline_node</span><span class="o">.</span><span class="n">node_info</span><span class="o">.</span><span class="n">id</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Step `</span><span class="si">{</span><span class="n">pipeline_step_name</span><span class="si">}</span><span class="s2">` has started.&quot;</span><span class="p">)</span>

        <span class="c1"># There is no way to differentiate between a cached and a failed</span>
        <span class="c1"># execution based on the execution info returned by the TFX launcher.</span>
        <span class="c1"># We patch the _publish_failed_execution method in order to check</span>
        <span class="c1"># if an execution failed.</span>
        <span class="n">execution_failed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">original_publish_failed_execution</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">tfx_launcher</span><span class="o">.</span><span class="n">_publish_failed_execution</span>
        <span class="p">)</span>

        <span class="k">def</span> <span class="nf">_new_publish_failed_execution</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">:</span> <span class="n">launcher</span><span class="o">.</span><span class="n">Launcher</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">original_publish_failed_execution</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">nonlocal</span> <span class="n">execution_failed</span>
            <span class="n">execution_failed</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="nb">setattr</span><span class="p">(</span>
            <span class="n">tfx_launcher</span><span class="p">,</span>
            <span class="s2">&quot;_publish_failed_execution&quot;</span><span class="p">,</span>
            <span class="n">types</span><span class="o">.</span><span class="n">MethodType</span><span class="p">(</span><span class="n">_new_publish_failed_execution</span><span class="p">,</span> <span class="n">tfx_launcher</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">execution_info</span> <span class="o">=</span> <span class="n">tfx_launcher</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">execution_failed</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Failed to execute step. This is probably because some input &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;artifacts for the step </span><span class="si">{</span><span class="n">pipeline_step_name</span><span class="si">}</span><span class="s2"> could not be &quot;</span>
                <span class="s2">&quot;found in the database.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">execution_info</span> <span class="ow">and</span> <span class="n">get_cache_status</span><span class="p">(</span><span class="n">execution_info</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using cached version of `</span><span class="si">{</span><span class="n">pipeline_step_name</span><span class="si">}</span><span class="s2">`.&quot;</span><span class="p">)</span>

        <span class="n">run_duration</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Step `</span><span class="si">{</span><span class="n">pipeline_step_name</span><span class="si">}</span><span class="s2">` has finished in &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">string_utils</span><span class="o">.</span><span class="n">get_human_readable_time</span><span class="p">(</span><span class="n">run_duration</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">execution_info</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_executor_operator</span><span class="p">(</span>
        <span class="n">step_operator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseExecutorOperator</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Gets the TFX executor operator for the given step operator.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_operator: The optional step operator used to run a step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The executor operator for the given step operator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">step_operator</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.step_operators.step_executor_operator</span> <span class="kn">import</span> <span class="p">(</span>
                <span class="n">StepExecutorOperator</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="n">StepExecutorOperator</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PythonExecutorOperator</span>

    <span class="k">def</span> <span class="nf">_get_node_with_step_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineNode</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Given the name of a step, return the node with that name from the pb2_pipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_name: Name of the step</span>

<span class="sd">        Returns:</span>
<span class="sd">            PipelineNode instance</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the step name is not found in the pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_pb2_pipeline</span>

        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_pb2_pipeline</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">node</span><span class="o">.</span><span class="n">WhichOneof</span><span class="p">(</span><span class="s2">&quot;node&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;pipeline_node&quot;</span>
                <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">pipeline_node</span><span class="o">.</span><span class="n">node_info</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">step_name</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="n">node</span><span class="o">.</span><span class="n">pipeline_node</span>

        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Step </span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2"> not found in Pipeline &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_pb2_pipeline</span><span class="o">.</span><span class="n">pipeline_info</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h5 id="zenml.orchestrators.base_orchestrator.BaseOrchestrator.config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">BaseOrchestratorConfig</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Returns the <code>BaseOrchestratorConfig</code> config.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseOrchestratorConfig</code></td>
      <td><p>The configuration.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.orchestrators.base_orchestrator.BaseOrchestrator.get_orchestrator_run_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns the run id of the active orchestrator run.</p>
<p>Important: This needs to be a unique ID and return the same value for
all steps of a pipeline run.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The orchestrator run id.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/base_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the run id of the active orchestrator run.</span>

<span class="sd">    Important: This needs to be a unique ID and return the same value for</span>
<span class="sd">    all steps of a pipeline run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The orchestrator run id.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.orchestrators.base_orchestrator.BaseOrchestrator.get_run_id_for_orchestrator_run_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_id_for_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orchestrator_run_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Generates a run ID from an orchestrator run id.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>orchestrator_run_id</code></td>
        <td><code>str</code></td>
        <td><p>The orchestrator run id.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UUID</code></td>
      <td><p>The run id generated from the orchestrator run id.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/base_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_id_for_orchestrator_run_id</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">orchestrator_run_id</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UUID</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Generates a run ID from an orchestrator run id.</span>

<span class="sd">    Args:</span>
<span class="sd">        orchestrator_run_id: The orchestrator run id.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The run id generated from the orchestrator run id.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">run_id_seed</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">orchestrator_run_id</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">uuid_utils</span><span class="o">.</span><span class="n">generate_uuid_from_string</span><span class="p">(</span><span class="n">run_id_seed</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.orchestrators.base_orchestrator.BaseOrchestrator.prepare_or_run_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_or_run_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>This method needs to be implemented by the respective orchestrator.</p>
<p>Depending on the type of orchestrator you'll have to perform slightly
different operations.</p>
<h6 id="zenml.orchestrators.base_orchestrator.BaseOrchestrator.prepare_or_run_pipeline--simple-case">Simple Case:</h6>
<p>The Steps are run directly from within the same environment in which
the orchestrator code is executed. In this case you will need to
deal with implementation-specific runtime configurations (like the
schedule) and then iterate through the steps and finally call
<code>self.run_step(...)</code> to execute each step.</p>
<h6 id="zenml.orchestrators.base_orchestrator.BaseOrchestrator.prepare_or_run_pipeline--advanced-case">Advanced Case:</h6>
<p>Most orchestrators will not run the steps directly. Instead, they
build some intermediate representation of the pipeline that is then
used to create and run the pipeline and its steps on the target
environment. For such orchestrators this method will have to build
this representation and deploy it.</p>
<p>Regardless of the implementation details, the orchestrator will need
to run each step in the target environment. For this the
<code>self.run_step(...)</code> method should be used.</p>
<p>The easiest way to make this work is by using an entrypoint
configuration to run single steps (<code>zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration</code>)
or entire pipelines (<code>zenml.entrypoints.pipeline_entrypoint_configuration.PipelineEntrypointConfiguration</code>).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeployment</code></td>
        <td><p>The pipeline deployment to prepare or run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack the pipeline will run on.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The optional return value from this method will be returned by the
<code>pipeline_instance.run()</code> call when someone is running a pipeline.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/base_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;This method needs to be implemented by the respective orchestrator.</span>

<span class="sd">    Depending on the type of orchestrator you&#39;ll have to perform slightly</span>
<span class="sd">    different operations.</span>

<span class="sd">    Simple Case:</span>
<span class="sd">    ------------</span>
<span class="sd">    The Steps are run directly from within the same environment in which</span>
<span class="sd">    the orchestrator code is executed. In this case you will need to</span>
<span class="sd">    deal with implementation-specific runtime configurations (like the</span>
<span class="sd">    schedule) and then iterate through the steps and finally call</span>
<span class="sd">    `self.run_step(...)` to execute each step.</span>

<span class="sd">    Advanced Case:</span>
<span class="sd">    --------------</span>
<span class="sd">    Most orchestrators will not run the steps directly. Instead, they</span>
<span class="sd">    build some intermediate representation of the pipeline that is then</span>
<span class="sd">    used to create and run the pipeline and its steps on the target</span>
<span class="sd">    environment. For such orchestrators this method will have to build</span>
<span class="sd">    this representation and deploy it.</span>

<span class="sd">    Regardless of the implementation details, the orchestrator will need</span>
<span class="sd">    to run each step in the target environment. For this the</span>
<span class="sd">    `self.run_step(...)` method should be used.</span>

<span class="sd">    The easiest way to make this work is by using an entrypoint</span>
<span class="sd">    configuration to run single steps (`zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration`)</span>
<span class="sd">    or entire pipelines (`zenml.entrypoints.pipeline_entrypoint_configuration.PipelineEntrypointConfiguration`).</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The pipeline deployment to prepare or run.</span>
<span class="sd">        stack: The stack the pipeline will run on.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The optional return value from this method will be returned by the</span>
<span class="sd">        `pipeline_instance.run()` call when someone is running a pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.orchestrators.base_orchestrator.BaseOrchestrator.requires_resources_in_orchestration_environment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">requires_resources_in_orchestration_environment</span><span class="p">(</span><span class="n">step</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Checks if the orchestrator should run this step on special resources.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step</code></td>
        <td><code>Step</code></td>
        <td><p>The step that will be checked.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the step requires special resources in the orchestration
environment, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/base_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">requires_resources_in_orchestration_environment</span><span class="p">(</span>
    <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;Step&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Checks if the orchestrator should run this step on special resources.</span>

<span class="sd">    Args:</span>
<span class="sd">        step: The step that will be checked.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the step requires special resources in the orchestration</span>
<span class="sd">        environment, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># If the step requires custom resources and doesn&#39;t run with a step</span>
    <span class="c1"># operator, it would need these requirements in the orchestrator</span>
    <span class="c1"># environment</span>
    <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">step_operator</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="ow">not</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_settings</span><span class="o">.</span><span class="n">empty</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.orchestrators.base_orchestrator.BaseOrchestrator.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Runs a pipeline on a stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeployment</code></td>
        <td><p>The pipeline deployment.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack on which to run the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>Orchestrator-specific return value.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/base_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Runs a pipeline on a stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The pipeline deployment.</span>
<span class="sd">        stack: The stack on which to run the pipeline.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Orchestrator-specific return value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_run</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_or_run_pipeline</span><span class="p">(</span>
        <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="n">stack</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_cleanup_run</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.orchestrators.base_orchestrator.BaseOrchestrator.run_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>This sets up a component launcher and executes the given step.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step</code></td>
        <td><code>Step</code></td>
        <td><p>The step to be executed</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[tfx.orchestration.portable.data_types.ExecutionInfo]</code></td>
      <td><p>The execution info of the step.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/base_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;Step&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">data_types</span><span class="o">.</span><span class="n">ExecutionInfo</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;This sets up a component launcher and executes the given step.</span>

<span class="sd">    Args:</span>
<span class="sd">        step: The step to be executed</span>

<span class="sd">    Returns:</span>
<span class="sd">        The execution info of the step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_pb2_pipeline</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_artifact_classes_loaded</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>

    <span class="n">step_name</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span>
    <span class="n">pb2_pipeline</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_pb2_pipeline</span>

    <span class="n">run_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_or_reuse_run</span><span class="p">()</span>

    <span class="c1"># Substitute the runtime parameter to be a concrete run_id, it is</span>
    <span class="c1"># important for this to be unique for each run.</span>
    <span class="n">runtime_parameter_utils</span><span class="o">.</span><span class="n">substitute_runtime_parameter</span><span class="p">(</span>
        <span class="n">pb2_pipeline</span><span class="p">,</span>
        <span class="p">{</span><span class="n">PIPELINE_RUN_ID_PARAMETER_NAME</span><span class="p">:</span> <span class="n">run_model</span><span class="o">.</span><span class="n">name</span><span class="p">},</span>
    <span class="p">)</span>

    <span class="c1"># Extract the deployment_configs and use it to access the executor and</span>
    <span class="c1"># custom driver spec</span>
    <span class="n">deployment_config</span> <span class="o">=</span> <span class="n">runner_utils</span><span class="o">.</span><span class="n">extract_local_deployment_config</span><span class="p">(</span>
        <span class="n">pb2_pipeline</span>
    <span class="p">)</span>
    <span class="n">executor_spec</span> <span class="o">=</span> <span class="n">runner_utils</span><span class="o">.</span><span class="n">extract_executor_spec</span><span class="p">(</span>
        <span class="n">deployment_config</span><span class="p">,</span> <span class="n">step_name</span>
    <span class="p">)</span>
    <span class="n">custom_driver_spec</span> <span class="o">=</span> <span class="n">runner_utils</span><span class="o">.</span><span class="n">extract_custom_driver_spec</span><span class="p">(</span>
        <span class="n">deployment_config</span><span class="p">,</span> <span class="n">step_name</span>
    <span class="p">)</span>

    <span class="n">metadata_connection_cfg</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_metadata_config</span><span class="p">()</span>

    <span class="n">executor_operator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_executor_operator</span><span class="p">(</span>
        <span class="n">step_operator</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">step_operator</span>
    <span class="p">)</span>
    <span class="n">custom_executor_operators</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">executable_spec_pb2</span><span class="o">.</span><span class="n">PythonClassExecutableSpec</span><span class="p">:</span> <span class="n">executor_operator</span>
    <span class="p">}</span>

    <span class="n">step_run_info</span> <span class="o">=</span> <span class="n">StepRunInfo</span><span class="p">(</span>
        <span class="n">config</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="p">,</span>
        <span class="n">run_name</span><span class="o">=</span><span class="n">run_model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># The protobuf node for the current step is loaded here.</span>
    <span class="n">pipeline_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_node_with_step_name</span><span class="p">(</span><span class="n">step_name</span><span class="p">)</span>

    <span class="n">stack</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span>
    <span class="n">proto_utils</span><span class="o">.</span><span class="n">add_mlmd_contexts</span><span class="p">(</span>
        <span class="n">pipeline_node</span><span class="o">=</span><span class="n">pipeline_node</span><span class="p">,</span>
        <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
        <span class="n">deployment</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_deployment</span><span class="p">,</span>
        <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">component_launcher</span> <span class="o">=</span> <span class="n">launcher</span><span class="o">.</span><span class="n">Launcher</span><span class="p">(</span>
        <span class="n">pipeline_node</span><span class="o">=</span><span class="n">pipeline_node</span><span class="p">,</span>
        <span class="n">mlmd_connection</span><span class="o">=</span><span class="n">metadata</span><span class="o">.</span><span class="n">Metadata</span><span class="p">(</span><span class="n">metadata_connection_cfg</span><span class="p">),</span>
        <span class="n">pipeline_info</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="o">.</span><span class="n">pipeline_info</span><span class="p">,</span>
        <span class="n">pipeline_runtime_spec</span><span class="o">=</span><span class="n">pb2_pipeline</span><span class="o">.</span><span class="n">runtime_spec</span><span class="p">,</span>
        <span class="n">executor_spec</span><span class="o">=</span><span class="n">executor_spec</span><span class="p">,</span>
        <span class="n">custom_driver_spec</span><span class="o">=</span><span class="n">custom_driver_spec</span><span class="p">,</span>
        <span class="n">custom_executor_operators</span><span class="o">=</span><span class="n">custom_executor_operators</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># If a step operator is used, the current environment will not be the</span>
    <span class="c1"># one executing the step function code and therefore we don&#39;t need to</span>
    <span class="c1"># run any preparation</span>
    <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">step_operator</span><span class="p">:</span>
        <span class="n">execution_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_step</span><span class="p">(</span><span class="n">component_launcher</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">prepare_step_run</span><span class="p">(</span><span class="n">info</span><span class="o">=</span><span class="n">step_run_info</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">execution_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_step</span><span class="p">(</span><span class="n">component_launcher</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>  <span class="c1"># noqa: E722</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_publish_failed_run</span><span class="p">(</span><span class="n">run_name_or_id</span><span class="o">=</span><span class="n">run_model</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="k">raise</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">stack</span><span class="o">.</span><span class="n">cleanup_step_run</span><span class="p">(</span><span class="n">info</span><span class="o">=</span><span class="n">step_run_info</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">execution_info</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig" class="doc doc-heading">
        <code>
BaseOrchestratorConfig            (<a class="autorefs autorefs-internal" title="zenml.stack.stack_component.StackComponentConfig" href="../core-stack/#zenml.stack.stack_component.StackComponentConfig">StackComponentConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Base orchestrator config.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/base_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseOrchestratorConfig</span><span class="p">(</span><span class="n">StackComponentConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base orchestrator config.&quot;&quot;&quot;</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_deprecations</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Validate and/or remove deprecated fields.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: The values to validate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;custom_docker_base_image_name&quot;</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
            <span class="n">image_name</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;custom_docker_base_image_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">image_name</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;The &#39;custom_docker_base_image_name&#39; field has been &quot;</span>
                    <span class="s2">&quot;deprecated. To use a custom base container image with your &quot;</span>
                    <span class="s2">&quot;orchestrators, please use the DockerSettings in your &quot;</span>
                    <span class="s2">&quot;pipeline (see https://docs.zenml.io/advanced-guide/pipelines/containerization).&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">values</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor" class="doc doc-heading">
        <code>
BaseOrchestratorFlavor            (<a class="autorefs autorefs-internal" title="zenml.stack.flavor.Flavor" href="../core-stack/#zenml.stack.flavor.Flavor">Flavor</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Base orchestrator flavor class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/base_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseOrchestratorFlavor</span><span class="p">(</span><span class="n">Flavor</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base orchestrator flavor class.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackComponentType</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the flavor type.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The flavor type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseOrchestratorConfig</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Config class for the base orchestrator flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The config class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">BaseOrchestratorConfig</span>

    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">implementation_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseOrchestrator&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Implementation class for this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The implementation class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor.config_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">orchestrators</span><span class="o">.</span><span class="n">base_orchestrator</span><span class="o">.</span><span class="n">BaseOrchestratorConfig</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Config class for the base orchestrator flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig]</code></td>
      <td><p>The config class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor.implementation_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">implementation_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseOrchestrator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Implementation class for this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[BaseOrchestrator]</code></td>
      <td><p>The implementation class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor.type" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">type</span><span class="p">:</span> <span class="n">StackComponentType</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Returns the flavor type.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackComponentType</code></td>
      <td><p>The flavor type.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.orchestrators.local" class="doc doc-heading">
        <code>local</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization for the local orchestrator.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h4 id="zenml.orchestrators.local.local_orchestrator" class="doc doc-heading">
        <code>local_orchestrator</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the ZenML local orchestrator.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.orchestrators.local.local_orchestrator.LocalOrchestrator" class="doc doc-heading">
        <code>
LocalOrchestrator            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestrator" href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator">BaseOrchestrator</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Orchestrator responsible for running pipelines locally.</p>
<p>This orchestrator does not allow for concurrent execution of steps and also
does not support running on a schedule.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/local/local_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalOrchestrator</span><span class="p">(</span><span class="n">BaseOrchestrator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Orchestrator responsible for running pipelines locally.</span>

<span class="sd">    This orchestrator does not allow for concurrent execution of steps and also</span>
<span class="sd">    does not support running on a schedule.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_orchestrator_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Iterates through all steps and executes them sequentially.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The pipeline deployment to prepare or run.</span>
<span class="sd">            stack: The stack on which the pipeline is deployed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Local Orchestrator currently does not support the &quot;</span>
                <span class="s2">&quot;use of schedules. The `schedule` will be ignored &quot;</span>
                <span class="s2">&quot;and the pipeline will be run immediately.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid4</span><span class="p">())</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="c1"># Run each step</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">deployment</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">requires_resources_in_orchestration_environment</span><span class="p">(</span><span class="n">step</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;Specifying step resources is not supported for the local &quot;</span>
                    <span class="s2">&quot;orchestrator, ignoring resource configuration for &quot;</span>
                    <span class="s2">&quot;step </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                    <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">run_step</span><span class="p">(</span>
                <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">run_duration</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
        <span class="n">run_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run_id_for_orchestrator_run_id</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span>
        <span class="p">)</span>
        <span class="n">run_model</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">run_id</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Pipeline run `</span><span class="si">%s</span><span class="s2">` has finished in </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
            <span class="n">run_model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">string_utils</span><span class="o">.</span><span class="n">get_human_readable_time</span><span class="p">(</span><span class="n">run_duration</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the active orchestrator run id.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If no run id exists. This happens when this method</span>
<span class="sd">                gets called while the orchestrator is not running a pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The orchestrator run id.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;No run id set.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h6 id="zenml.orchestrators.local.local_orchestrator.LocalOrchestrator.get_orchestrator_run_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Returns the active orchestrator run id.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If no run id exists. This happens when this method
gets called while the orchestrator is not running a pipeline.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The orchestrator run id.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/local/local_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the active orchestrator run id.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If no run id exists. This happens when this method</span>
<span class="sd">            gets called while the orchestrator is not running a pipeline.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The orchestrator run id.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;No run id set.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.orchestrators.local.local_orchestrator.LocalOrchestrator.prepare_or_run_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_or_run_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Iterates through all steps and executes them sequentially.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeployment</code></td>
        <td><p>The pipeline deployment to prepare or run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack on which the pipeline is deployed.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/local/local_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Iterates through all steps and executes them sequentially.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The pipeline deployment to prepare or run.</span>
<span class="sd">        stack: The stack on which the pipeline is deployed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Local Orchestrator currently does not support the &quot;</span>
            <span class="s2">&quot;use of schedules. The `schedule` will be ignored &quot;</span>
            <span class="s2">&quot;and the pipeline will be run immediately.&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid4</span><span class="p">())</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="c1"># Run each step</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">deployment</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">requires_resources_in_orchestration_environment</span><span class="p">(</span><span class="n">step</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Specifying step resources is not supported for the local &quot;</span>
                <span class="s2">&quot;orchestrator, ignoring resource configuration for &quot;</span>
                <span class="s2">&quot;step </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">run_step</span><span class="p">(</span>
            <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">run_duration</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
    <span class="n">run_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run_id_for_orchestrator_run_id</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span>
    <span class="p">)</span>
    <span class="n">run_model</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">run_id</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Pipeline run `</span><span class="si">%s</span><span class="s2">` has finished in </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="n">run_model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">string_utils</span><span class="o">.</span><span class="n">get_human_readable_time</span><span class="p">(</span><span class="n">run_duration</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.orchestrators.local.local_orchestrator.LocalOrchestratorConfig" class="doc doc-heading">
        <code>
LocalOrchestratorConfig            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig" href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig">BaseOrchestratorConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Local orchestrator config.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/local/local_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalOrchestratorConfig</span><span class="p">(</span><span class="n">BaseOrchestratorConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Local orchestrator config.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_local</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if this stack component is running locally.</span>

<span class="sd">        This designation is used to determine if the stack component can be</span>
<span class="sd">        shared with other users or if it is only usable on the local host.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if this config is for a local component, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h6 id="zenml.orchestrators.local.local_orchestrator.LocalOrchestratorConfig.is_local" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_local</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Checks if this stack component is running locally.</p>
<p>This designation is used to determine if the stack component can be
shared with other users or if it is only usable on the local host.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if this config is for a local component, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>










  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.orchestrators.local.local_orchestrator.LocalOrchestratorFlavor" class="doc doc-heading">
        <code>
LocalOrchestratorFlavor            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor" href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor">BaseOrchestratorFlavor</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Class for the <code>LocalOrchestratorFlavor</code>.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/local/local_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalOrchestratorFlavor</span><span class="p">(</span><span class="n">BaseOrchestratorFlavor</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class for the `LocalOrchestratorFlavor`.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The flavor name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The flavor name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;local&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseOrchestratorConfig</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Config class for the base orchestrator flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The config class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">LocalOrchestratorConfig</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">LocalOrchestrator</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Implementation class for this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The implementation class for this flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">LocalOrchestrator</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.orchestrators.local.local_orchestrator.LocalOrchestratorFlavor.config_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">orchestrators</span><span class="o">.</span><span class="n">base_orchestrator</span><span class="o">.</span><span class="n">BaseOrchestratorConfig</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Config class for the base orchestrator flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig]</code></td>
      <td><p>The config class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.orchestrators.local.local_orchestrator.LocalOrchestratorFlavor.implementation_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">implementation_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">orchestrators</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">local_orchestrator</span><span class="o">.</span><span class="n">LocalOrchestrator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Implementation class for this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[zenml.orchestrators.local.local_orchestrator.LocalOrchestrator]</code></td>
      <td><p>The implementation class for this flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.orchestrators.local.local_orchestrator.LocalOrchestratorFlavor.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>The flavor name.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The flavor name.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.orchestrators.local_docker" class="doc doc-heading">
        <code>local_docker</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization for the local Docker orchestrator.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h4 id="zenml.orchestrators.local_docker.local_docker_orchestrator" class="doc doc-heading">
        <code>local_docker_orchestrator</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the ZenML local Docker orchestrator.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h5 id="zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestrator" class="doc doc-heading">
        <code>
LocalDockerOrchestrator            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestrator" href="#zenml.orchestrators.base_orchestrator.BaseOrchestrator">BaseOrchestrator</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Orchestrator responsible for running pipelines locally using Docker.</p>
<p>This orchestrator does not allow for concurrent execution of steps and also
does not support running on a schedule.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/local_docker/local_docker_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalDockerOrchestrator</span><span class="p">(</span><span class="n">BaseOrchestrator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Orchestrator responsible for running pipelines locally using Docker.</span>

<span class="sd">    This orchestrator does not allow for concurrent execution of steps and also</span>
<span class="sd">    does not support running on a schedule.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Build a Docker image and (maybe) push it to the container registry.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The pipeline deployment configuration.</span>
<span class="sd">            stack: The stack on which the pipeline will be deployed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">docker_image_builder</span> <span class="o">=</span> <span class="n">PipelineDockerImageBuilder</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span><span class="p">:</span>
            <span class="n">repo_digest</span> <span class="o">=</span> <span class="n">docker_image_builder</span><span class="o">.</span><span class="n">build_and_push_docker_image</span><span class="p">(</span>
                <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="n">stack</span>
            <span class="p">)</span>
            <span class="n">deployment</span><span class="o">.</span><span class="n">add_extra</span><span class="p">(</span><span class="n">ORCHESTRATOR_DOCKER_IMAGE_KEY</span><span class="p">,</span> <span class="n">repo_digest</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If there is no container registry, we only build the image</span>
            <span class="n">target_image_name</span> <span class="o">=</span> <span class="n">docker_image_builder</span><span class="o">.</span><span class="n">get_target_image_name</span><span class="p">(</span>
                <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span>
            <span class="p">)</span>
            <span class="n">docker_image_builder</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
                <span class="n">target_image_name</span><span class="o">=</span><span class="n">target_image_name</span><span class="p">,</span>
                <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span>
                <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">deployment</span><span class="o">.</span><span class="n">add_extra</span><span class="p">(</span>
                <span class="n">ORCHESTRATOR_DOCKER_IMAGE_KEY</span><span class="p">,</span> <span class="n">target_image_name</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns the active orchestrator run id.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the environment variable specifying the run id</span>
<span class="sd">                is not set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The orchestrator run id.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_DOCKER_ORCHESTRATOR_RUN_ID</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Unable to read run id from environment variable &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ENV_ZENML_DOCKER_ORCHESTRATOR_RUN_ID</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Sequentially runs all pipeline steps in local Docker containers.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The pipeline deployment to prepare or run.</span>
<span class="sd">            stack: The stack the pipeline will run on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Local Docker Orchestrator currently does not support the&quot;</span>
                <span class="s2">&quot;use of schedules. The `schedule` will be ignored &quot;</span>
                <span class="s2">&quot;and the pipeline will be run immediately.&quot;</span>
            <span class="p">)</span>

        <span class="kn">from</span> <span class="nn">docker.client</span> <span class="kn">import</span> <span class="n">DockerClient</span>

        <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
        <span class="n">image_name</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="n">ORCHESTRATOR_DOCKER_IMAGE_KEY</span><span class="p">]</span>
        <span class="n">entrypoint</span> <span class="o">=</span> <span class="n">StepEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>

        <span class="c1"># Add the local stores path as a volume mount</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">check_local_paths</span><span class="p">()</span>
        <span class="n">local_stores_path</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">local_stores_path</span>
        <span class="n">volumes</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">local_stores_path</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;bind&quot;</span><span class="p">:</span> <span class="n">local_stores_path</span><span class="p">,</span>
                <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;rw&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">orchestrator_run_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid4</span><span class="p">())</span>
        <span class="n">environment</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">ENV_ZENML_DOCKER_ORCHESTRATOR_RUN_ID</span><span class="p">:</span> <span class="n">orchestrator_run_id</span><span class="p">,</span>
            <span class="n">ENV_ZENML_LOCAL_STORES_PATH</span><span class="p">:</span> <span class="n">local_stores_path</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="c1"># Run each step</span>
        <span class="k">for</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">deployment</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">requires_resources_in_orchestration_environment</span><span class="p">(</span><span class="n">step</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;Specifying step resources is not supported for the local &quot;</span>
                    <span class="s2">&quot;Docker orchestrator, ignoring resource configuration for &quot;</span>
                    <span class="s2">&quot;step </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                    <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">arguments</span> <span class="o">=</span> <span class="n">StepEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span>
            <span class="p">)</span>
            <span class="n">user</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">!=</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
                <span class="n">user</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getuid</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Running step `</span><span class="si">%s</span><span class="s2">` in Docker:&quot;</span><span class="p">,</span> <span class="n">step_name</span><span class="p">)</span>
            <span class="n">logs</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">containers</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
                <span class="n">image</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
                <span class="n">entrypoint</span><span class="o">=</span><span class="n">entrypoint</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">arguments</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
                <span class="n">volumes</span><span class="o">=</span><span class="n">volumes</span><span class="p">,</span>
                <span class="n">environment</span><span class="o">=</span><span class="n">environment</span><span class="p">,</span>
                <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">logs</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>

        <span class="n">run_duration</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
        <span class="n">run_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run_id_for_orchestrator_run_id</span><span class="p">(</span><span class="n">orchestrator_run_id</span><span class="p">)</span>
        <span class="n">run_model</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">run_id</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Pipeline run `</span><span class="si">%s</span><span class="s2">` has finished in </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
            <span class="n">run_model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">string_utils</span><span class="o">.</span><span class="n">get_human_readable_time</span><span class="p">(</span><span class="n">run_duration</span><span class="p">),</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h6 id="zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestrator.get_orchestrator_run_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Returns the active orchestrator run id.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the environment variable specifying the run id
is not set.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The orchestrator run id.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/local_docker/local_docker_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns the active orchestrator run id.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the environment variable specifying the run id</span>
<span class="sd">            is not set.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The orchestrator run id.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_DOCKER_ORCHESTRATOR_RUN_ID</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Unable to read run id from environment variable &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ENV_ZENML_DOCKER_ORCHESTRATOR_RUN_ID</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestrator.prepare_or_run_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_or_run_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Sequentially runs all pipeline steps in local Docker containers.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeployment</code></td>
        <td><p>The pipeline deployment to prepare or run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack the pipeline will run on.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/local_docker/local_docker_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Sequentially runs all pipeline steps in local Docker containers.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The pipeline deployment to prepare or run.</span>
<span class="sd">        stack: The stack the pipeline will run on.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Local Docker Orchestrator currently does not support the&quot;</span>
            <span class="s2">&quot;use of schedules. The `schedule` will be ignored &quot;</span>
            <span class="s2">&quot;and the pipeline will be run immediately.&quot;</span>
        <span class="p">)</span>

    <span class="kn">from</span> <span class="nn">docker.client</span> <span class="kn">import</span> <span class="n">DockerClient</span>

    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
    <span class="n">image_name</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">extra</span><span class="p">[</span><span class="n">ORCHESTRATOR_DOCKER_IMAGE_KEY</span><span class="p">]</span>
    <span class="n">entrypoint</span> <span class="o">=</span> <span class="n">StepEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>

    <span class="c1"># Add the local stores path as a volume mount</span>
    <span class="n">stack</span><span class="o">.</span><span class="n">check_local_paths</span><span class="p">()</span>
    <span class="n">local_stores_path</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">local_stores_path</span>
    <span class="n">volumes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">local_stores_path</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;bind&quot;</span><span class="p">:</span> <span class="n">local_stores_path</span><span class="p">,</span>
            <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;rw&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">orchestrator_run_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid4</span><span class="p">())</span>
    <span class="n">environment</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">ENV_ZENML_DOCKER_ORCHESTRATOR_RUN_ID</span><span class="p">:</span> <span class="n">orchestrator_run_id</span><span class="p">,</span>
        <span class="n">ENV_ZENML_LOCAL_STORES_PATH</span><span class="p">:</span> <span class="n">local_stores_path</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="c1"># Run each step</span>
    <span class="k">for</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">deployment</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">requires_resources_in_orchestration_environment</span><span class="p">(</span><span class="n">step</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Specifying step resources is not supported for the local &quot;</span>
                <span class="s2">&quot;Docker orchestrator, ignoring resource configuration for &quot;</span>
                <span class="s2">&quot;step </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">arguments</span> <span class="o">=</span> <span class="n">StepEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
            <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span>
        <span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">!=</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getuid</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Running step `</span><span class="si">%s</span><span class="s2">` in Docker:&quot;</span><span class="p">,</span> <span class="n">step_name</span><span class="p">)</span>
        <span class="n">logs</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">containers</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
            <span class="n">image</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="o">=</span><span class="n">entrypoint</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">arguments</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
            <span class="n">volumes</span><span class="o">=</span><span class="n">volumes</span><span class="p">,</span>
            <span class="n">environment</span><span class="o">=</span><span class="n">environment</span><span class="p">,</span>
            <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">logs</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>

    <span class="n">run_duration</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
    <span class="n">run_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run_id_for_orchestrator_run_id</span><span class="p">(</span><span class="n">orchestrator_run_id</span><span class="p">)</span>
    <span class="n">run_model</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">run_id</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Pipeline run `</span><span class="si">%s</span><span class="s2">` has finished in </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="n">run_model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">string_utils</span><span class="o">.</span><span class="n">get_human_readable_time</span><span class="p">(</span><span class="n">run_duration</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestrator.prepare_pipeline_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_pipeline_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Build a Docker image and (maybe) push it to the container registry.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeployment</code></td>
        <td><p>The pipeline deployment configuration.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack on which the pipeline will be deployed.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/local_docker/local_docker_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_pipeline_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeployment&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Build a Docker image and (maybe) push it to the container registry.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The pipeline deployment configuration.</span>
<span class="sd">        stack: The stack on which the pipeline will be deployed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">docker_image_builder</span> <span class="o">=</span> <span class="n">PipelineDockerImageBuilder</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span><span class="p">:</span>
        <span class="n">repo_digest</span> <span class="o">=</span> <span class="n">docker_image_builder</span><span class="o">.</span><span class="n">build_and_push_docker_image</span><span class="p">(</span>
            <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="n">stack</span>
        <span class="p">)</span>
        <span class="n">deployment</span><span class="o">.</span><span class="n">add_extra</span><span class="p">(</span><span class="n">ORCHESTRATOR_DOCKER_IMAGE_KEY</span><span class="p">,</span> <span class="n">repo_digest</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># If there is no container registry, we only build the image</span>
        <span class="n">target_image_name</span> <span class="o">=</span> <span class="n">docker_image_builder</span><span class="o">.</span><span class="n">get_target_image_name</span><span class="p">(</span>
            <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span>
        <span class="p">)</span>
        <span class="n">docker_image_builder</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
            <span class="n">target_image_name</span><span class="o">=</span><span class="n">target_image_name</span><span class="p">,</span>
            <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span>
            <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">deployment</span><span class="o">.</span><span class="n">add_extra</span><span class="p">(</span>
            <span class="n">ORCHESTRATOR_DOCKER_IMAGE_KEY</span><span class="p">,</span> <span class="n">target_image_name</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorConfig" class="doc doc-heading">
        <code>
LocalDockerOrchestratorConfig            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig" href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig">BaseOrchestratorConfig</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Local Docker orchestrator config.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/local_docker/local_docker_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalDockerOrchestratorConfig</span><span class="p">(</span><span class="n">BaseOrchestratorConfig</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Local Docker orchestrator config.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_local</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Checks if this stack component is running locally.</span>

<span class="sd">        This designation is used to determine if the stack component can be</span>
<span class="sd">        shared with other users or if it is only usable on the local host.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if this config is for a local component, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h6 id="zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorConfig.is_local" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_local</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Checks if this stack component is running locally.</p>
<p>This designation is used to determine if the stack component can be
shared with other users or if it is only usable on the local host.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if this config is for a local component, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>










  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorFlavor" class="doc doc-heading">
        <code>
LocalDockerOrchestratorFlavor            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor" href="#zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor">BaseOrchestratorFlavor</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Flavor for the local Docker orchestrator.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/local_docker/local_docker_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalDockerOrchestratorFlavor</span><span class="p">(</span><span class="n">BaseOrchestratorFlavor</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Flavor for the local Docker orchestrator.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Name of the orchestrator flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Name of the orchestrator flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;local_docker&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseOrchestratorConfig</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Config class for the base orchestrator flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The config class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">LocalDockerOrchestratorConfig</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;LocalDockerOrchestrator&quot;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Implementation class for this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Implementation class for this flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">LocalDockerOrchestrator</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorFlavor.config_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">orchestrators</span><span class="o">.</span><span class="n">base_orchestrator</span><span class="o">.</span><span class="n">BaseOrchestratorConfig</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Config class for the base orchestrator flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig]</code></td>
      <td><p>The config class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorFlavor.implementation_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">implementation_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">LocalDockerOrchestrator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Implementation class for this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[LocalDockerOrchestrator]</code></td>
      <td><p>Implementation class for this flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.orchestrators.local_docker.local_docker_orchestrator.LocalDockerOrchestratorFlavor.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Name of the orchestrator flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Name of the orchestrator flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.orchestrators.utils" class="doc doc-heading">
        <code>utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions for the orchestrator.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h4 id="zenml.orchestrators.utils.get_cache_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_cache_status</span><span class="p">(</span><span class="n">execution_info</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Returns whether a cached execution was used or not.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>execution_info</code></td>
        <td><code>Optional[tfx.orchestration.portable.data_types.ExecutionInfo]</code></td>
        <td><p>The execution info.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> if the execution was cached, <code>False</code> otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_cache_status</span><span class="p">(</span>
    <span class="n">execution_info</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">data_types</span><span class="o">.</span><span class="n">ExecutionInfo</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns whether a cached execution was used or not.</span>

<span class="sd">    Args:</span>
<span class="sd">        execution_info: The execution info.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the execution was cached, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># An execution output URI is only provided if the step needs to be</span>
    <span class="c1"># executed (= is not cached)</span>
    <span class="k">if</span> <span class="n">execution_info</span> <span class="ow">and</span> <span class="n">execution_info</span><span class="o">.</span><span class="n">execution_output_uri</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.orchestrators.utils.get_orchestrator_run_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_orchestrator_run_name</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets an orchestrator run name.</p>
<p>This run name is not the same as the ZenML run name but can instead be
used to display in the orchestrator UI.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the pipeline that will run.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The orchestrator run name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/orchestrators/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_orchestrator_run_name</span><span class="p">(</span><span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Gets an orchestrator run name.</span>

<span class="sd">    This run name is not the same as the ZenML run name but can instead be</span>
<span class="sd">    used to display in the orchestrator UI.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_name: Name of the pipeline that will run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The orchestrator run name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user_name</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">name</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">pipeline_name</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">user_name</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">random</span><span class="o">.</span><span class="n">Random</span><span class="p">()</span><span class="o">.</span><span class="n">getrandbits</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="si">:</span><span class="s2">08x</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../core-models/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Models" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Models
            </div>
          </div>
        </a>
      
      
        
        <a href="../core-pipelines/" class="md-footer__link md-footer__link--next" aria-label="Next: Pipelines" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Pipelines
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH  <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.b028fd86.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.0f659f14.min.js"></script>
      
    
  </body>
</html>