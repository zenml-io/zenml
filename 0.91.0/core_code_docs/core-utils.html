
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.91.0/core_code_docs/core-utils.html">
      
      
        <link rel="prev" href="core-types.html">
      
      
        <link rel="next" href="core-zen_server.html">
      
      
      <link rel="icon" href="../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>Utils - ZenML SDK Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  // Load Segment analytics library first
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  
  // Bot detection function
  function isBotTraffic() {
    const userAgent = navigator.userAgent || '';
    
    // Check for specific bot signatures found in your traffic
    const botSignatures = [
      'ClaudeBot',           // The main culprit from your debugger data
      'HeadlessChrome',      // Also found in your userAgentData
      'crawler',
      'spider',
      'bot',
      'scraper',
      'Googlebot',
      'Bingbot',
      'SemrushBot',
      'AhrefsBot'
    ];
    
    // Check user agent string
    for (let signature of botSignatures) {
      if (userAgent.toLowerCase().includes(signature.toLowerCase())) {
        return true;
      }
    }
    
    // Check userAgentData brands (modern bot detection)
    try {
      if (navigator.userAgentData && navigator.userAgentData.brands) {
        const brands = navigator.userAgentData.brands;
        for (let brand of brands) {
          // Check for specific bot signatures in brand names
          if (brand.brand === 'HeadlessChrome' || 
              /^Not.?A_Brand$/i.test(brand.brand) || // Matches 'Not?A_Brand' and similar variations
              brand.brand.toLowerCase().includes('bot')) {
            return true;
          }
        }
      }
    } catch (e) {
      // userAgentData API not supported or error accessing it
      // Continue with other bot detection methods
    }
    
    // Check for webdriver (automated browser indicator)
    if (navigator.webdriver === true) {
      return true;
    }
    
    return false;
  }
  
  // Only send analytics data if this is NOT bot traffic
  if (!isBotTraffic()) {
    analytics.page();
  } else {
    // Optional: Log for debugging (only in non-production environments)
    if (window.location.hostname === 'localhost' || window.location.hostname.includes('dev')) {
      console.log('Bot traffic detected, skipping Segment analytics');
    }
  }
  }}();
</script>

<!-- Plausible and Reo continue unchanged -->
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>

<!-- Start of Reo Javascript -->
<script type="text/javascript">
  !function(){var e,t,n;e="4d2a332d9b3113a",t=function(){Reo.init({clientID:"4d2a332d9b3113a"})},(n=document.createElement("script")).src="https://static.reo.dev/"+e+"/reo.js",n.defer=!0,n.onload=t,document.head.appendChild(n)}();
</script>
<!-- End of Reo Javascript -->


  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#utils" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="ZenML SDK Docs" class="md-header__button md-logo" aria-label="ZenML SDK Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML SDK Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Utils
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="ZenML SDK Docs" class="md-nav__button md-logo" aria-label="ZenML SDK Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ZenML SDK Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ZenML
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI docs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core code docs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Core code docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-actions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-alerter.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alerter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-analytics.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Analytics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-annotators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-artifact_stores.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Artifact Stores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-artifacts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Artifacts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-client.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-client_lazy_loader.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client Lazy Loader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-code_repositories.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Repositories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-config.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-console.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Console
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-constants.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-container_registries.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Container Registries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-data_validators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Validators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-deployers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-entrypoints.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entrypoints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-enums.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enums
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-environment.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-event_hub.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Hub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-event_sources.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Sources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-exceptions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-experiment_trackers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Trackers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-feature_stores.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Stores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-hooks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-image_builders.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image Builders
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-io.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Io
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-logger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-logging.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-login.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Login
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-materializers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Materializers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-metadata.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-model.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-model_deployers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Deployers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-model_registries.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Registries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-models.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-orchestrators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Orchestrators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-pipelines.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-plugins.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-secret.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Secret
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-service_connectors.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Service Connectors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-services.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-stack.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-stack_deployments.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stack Deployments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-step_operators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step Operators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-steps.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Steps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-types.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="core-utils.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.utils" class="md-nav__link">
    <span class="md-ellipsis">
      utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.archivable" class="md-nav__link">
    <span class="md-ellipsis">
      archivable
    </span>
  </a>
  
    <nav class="md-nav" aria-label="archivable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.archivable-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.archivable.Archivable" class="md-nav__link">
    <span class="md-ellipsis">
      Archivable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.archivable.ArchiveType" class="md-nav__link">
    <span class="md-ellipsis">
      ArchiveType
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.archivable-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.callback_registry" class="md-nav__link">
    <span class="md-ellipsis">
      callback_registry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="callback_registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.callback_registry-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.callback_registry.CallbackRegistry" class="md-nav__link">
    <span class="md-ellipsis">
      CallbackRegistry
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.callback_registry-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_repository_utils" class="md-nav__link">
    <span class="md-ellipsis">
      code_repository_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="code_repository_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_repository_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_repository_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_repository_utils.find_active_code_repository" class="md-nav__link">
    <span class="md-ellipsis">
      find_active_code_repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_repository_utils.set_custom_local_repository" class="md-nav__link">
    <span class="md-ellipsis">
      set_custom_local_repository
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_repository_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils" class="md-nav__link">
    <span class="md-ellipsis">
      code_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="code_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.CodeArchive" class="md-nav__link">
    <span class="md-ellipsis">
      CodeArchive
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.compute_file_hash" class="md-nav__link">
    <span class="md-ellipsis">
      compute_file_hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.download_and_extract_code" class="md-nav__link">
    <span class="md-ellipsis">
      download_and_extract_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.download_code_from_artifact_store" class="md-nav__link">
    <span class="md-ellipsis">
      download_code_from_artifact_store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.download_notebook_code" class="md-nav__link">
    <span class="md-ellipsis">
      download_notebook_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.upload_code_if_necessary" class="md-nav__link">
    <span class="md-ellipsis">
      upload_code_if_necessary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.upload_notebook_code" class="md-nav__link">
    <span class="md-ellipsis">
      upload_notebook_code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.context_utils" class="md-nav__link">
    <span class="md-ellipsis">
      context_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="context_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.context_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.context_utils.ContextVarList" class="md-nav__link">
    <span class="md-ellipsis">
      ContextVarList
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.cuda_utils" class="md-nav__link">
    <span class="md-ellipsis">
      cuda_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cuda_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.cuda_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.cuda_utils.cleanup_gpu_memory" class="md-nav__link">
    <span class="md-ellipsis">
      cleanup_gpu_memory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon" class="md-nav__link">
    <span class="md-ellipsis">
      daemon
    </span>
  </a>
  
    <nav class="md-nav" aria-label="daemon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.check_if_daemon_is_running" class="md-nav__link">
    <span class="md-ellipsis">
      check_if_daemon_is_running
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.daemonize" class="md-nav__link">
    <span class="md-ellipsis">
      daemonize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.get_daemon_pid_if_running" class="md-nav__link">
    <span class="md-ellipsis">
      get_daemon_pid_if_running
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.run_as_daemon" class="md-nav__link">
    <span class="md-ellipsis">
      run_as_daemon
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.setup_daemon" class="md-nav__link">
    <span class="md-ellipsis">
      setup_daemon
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.stop_daemon" class="md-nav__link">
    <span class="md-ellipsis">
      stop_daemon
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.stop_process" class="md-nav__link">
    <span class="md-ellipsis">
      stop_process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.terminate_children" class="md-nav__link">
    <span class="md-ellipsis">
      terminate_children
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils" class="md-nav__link">
    <span class="md-ellipsis">
      dashboard_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dashboard_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_cloud_dashboard_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_cloud_dashboard_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_component_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_component_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_model_version_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_model_version_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_run_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_run_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_server_dashboard_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_server_dashboard_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_stack_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_stack_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.show_dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      show_dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.show_dashboard_with_url" class="md-nav__link">
    <span class="md-ellipsis">
      show_dashboard_with_url
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.deprecation_utils" class="md-nav__link">
    <span class="md-ellipsis">
      deprecation_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="deprecation_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.deprecation_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.deprecation_utils.deprecate_pydantic_attributes" class="md-nav__link">
    <span class="md-ellipsis">
      deprecate_pydantic_attributes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils" class="md-nav__link">
    <span class="md-ellipsis">
      dict_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dict_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils.dict_to_bytes" class="md-nav__link">
    <span class="md-ellipsis">
      dict_to_bytes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils.recursive_update" class="md-nav__link">
    <span class="md-ellipsis">
      recursive_update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils.remove_none_values" class="md-nav__link">
    <span class="md-ellipsis">
      remove_none_values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils" class="md-nav__link">
    <span class="md-ellipsis">
      docker_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="docker_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.build_image" class="md-nav__link">
    <span class="md-ellipsis">
      build_image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.check_docker" class="md-nav__link">
    <span class="md-ellipsis">
      check_docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.get_image_digest" class="md-nav__link">
    <span class="md-ellipsis">
      get_image_digest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.is_local_image" class="md-nav__link">
    <span class="md-ellipsis">
      is_local_image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.push_image" class="md-nav__link">
    <span class="md-ellipsis">
      push_image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.sanitize_tag" class="md-nav__link">
    <span class="md-ellipsis">
      sanitize_tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.tag_image" class="md-nav__link">
    <span class="md-ellipsis">
      tag_image
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.downloaded_repository_context" class="md-nav__link">
    <span class="md-ellipsis">
      downloaded_repository_context
    </span>
  </a>
  
    <nav class="md-nav" aria-label="downloaded_repository_context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.downloaded_repository_context-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils" class="md-nav__link">
    <span class="md-ellipsis">
      enum_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="enum_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils.StrEnum" class="md-nav__link">
    <span class="md-ellipsis">
      StrEnum
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils" class="md-nav__link">
    <span class="md-ellipsis">
      env_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="env_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils.get_step_environment" class="md-nav__link">
    <span class="md-ellipsis">
      get_step_environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils.get_step_secret_environment" class="md-nav__link">
    <span class="md-ellipsis">
      get_step_secret_environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils.reconstruct_environment_variables" class="md-nav__link">
    <span class="md-ellipsis">
      reconstruct_environment_variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils.split_environment_variables" class="md-nav__link">
    <span class="md-ellipsis">
      split_environment_variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils.substitute_env_variable_placeholders" class="md-nav__link">
    <span class="md-ellipsis">
      substitute_env_variable_placeholders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils.temporary_environment" class="md-nav__link">
    <span class="md-ellipsis">
      temporary_environment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.exception_utils" class="md-nav__link">
    <span class="md-ellipsis">
      exception_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="exception_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.exception_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.exception_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.exception_utils.collect_exception_information" class="md-nav__link">
    <span class="md-ellipsis">
      collect_exception_information
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model" class="md-nav__link">
    <span class="md-ellipsis">
      filesync_model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="filesync_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel" class="md-nav__link">
    <span class="md-ellipsis">
      FileSyncModel
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.function_utils" class="md-nav__link">
    <span class="md-ellipsis">
      function_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="function_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.function_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.function_utils.create_cli_wrapped_script" class="md-nav__link">
    <span class="md-ellipsis">
      create_cli_wrapped_script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.git_utils" class="md-nav__link">
    <span class="md-ellipsis">
      git_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="git_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.git_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.git_utils.clone_git_repository" class="md-nav__link">
    <span class="md-ellipsis">
      clone_git_repository
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils" class="md-nav__link">
    <span class="md-ellipsis">
      io_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="io_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.copy_dir" class="md-nav__link">
    <span class="md-ellipsis">
      copy_dir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.create_dir_if_not_exists" class="md-nav__link">
    <span class="md-ellipsis">
      create_dir_if_not_exists
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.create_dir_recursive_if_not_exists" class="md-nav__link">
    <span class="md-ellipsis">
      create_dir_recursive_if_not_exists
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.create_file_if_not_exists" class="md-nav__link">
    <span class="md-ellipsis">
      create_file_if_not_exists
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.find_files" class="md-nav__link">
    <span class="md-ellipsis">
      find_files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.get_global_config_directory" class="md-nav__link">
    <span class="md-ellipsis">
      get_global_config_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.get_grandparent" class="md-nav__link">
    <span class="md-ellipsis">
      get_grandparent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.get_parent" class="md-nav__link">
    <span class="md-ellipsis">
      get_parent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.is_path_within_directory" class="md-nav__link">
    <span class="md-ellipsis">
      is_path_within_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.is_remote" class="md-nav__link">
    <span class="md-ellipsis">
      is_remote
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.is_root" class="md-nav__link">
    <span class="md-ellipsis">
      is_root
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.move" class="md-nav__link">
    <span class="md-ellipsis">
      move
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.read_file_contents_as_string" class="md-nav__link">
    <span class="md-ellipsis">
      read_file_contents_as_string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.resolve_relative_path" class="md-nav__link">
    <span class="md-ellipsis">
      resolve_relative_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.sanitize_remote_path" class="md-nav__link">
    <span class="md-ellipsis">
      sanitize_remote_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.write_file_contents_as_string" class="md-nav__link">
    <span class="md-ellipsis">
      write_file_contents_as_string
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.json_utils" class="md-nav__link">
    <span class="md-ellipsis">
      json_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="json_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.json_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.json_utils.decimal_encoder" class="md-nav__link">
    <span class="md-ellipsis">
      decimal_encoder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.json_utils.isoformat" class="md-nav__link">
    <span class="md-ellipsis">
      isoformat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils" class="md-nav__link">
    <span class="md-ellipsis">
      materializer_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="materializer_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils.select_materializer" class="md-nav__link">
    <span class="md-ellipsis">
      select_materializer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.metadata_utils" class="md-nav__link">
    <span class="md-ellipsis">
      metadata_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="metadata_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.metadata_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.metadata_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.metadata_utils.bulk_log_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      bulk_log_metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.metadata_utils.log_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      log_metadata
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils" class="md-nav__link">
    <span class="md-ellipsis">
      networking_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="networking_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.find_available_port" class="md-nav__link">
    <span class="md-ellipsis">
      find_available_port
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.get_or_create_ngrok_tunnel" class="md-nav__link">
    <span class="md-ellipsis">
      get_or_create_ngrok_tunnel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.lookup_preferred_or_free_port" class="md-nav__link">
    <span class="md-ellipsis">
      lookup_preferred_or_free_port
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.port_available" class="md-nav__link">
    <span class="md-ellipsis">
      port_available
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.port_is_open" class="md-nav__link">
    <span class="md-ellipsis">
      port_is_open
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.replace_internal_hostname_with_localhost" class="md-nav__link">
    <span class="md-ellipsis">
      replace_internal_hostname_with_localhost
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.replace_localhost_with_internal_hostname" class="md-nav__link">
    <span class="md-ellipsis">
      replace_localhost_with_internal_hostname
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.scan_for_available_port" class="md-nav__link">
    <span class="md-ellipsis">
      scan_for_available_port
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils" class="md-nav__link">
    <span class="md-ellipsis">
      notebook_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="notebook_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.compute_cell_replacement_module_name" class="md-nav__link">
    <span class="md-ellipsis">
      compute_cell_replacement_module_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.enable_notebook_code_extraction" class="md-nav__link">
    <span class="md-ellipsis">
      enable_notebook_code_extraction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.get_active_notebook_cell_code" class="md-nav__link">
    <span class="md-ellipsis">
      get_active_notebook_cell_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.is_defined_in_notebook_cell" class="md-nav__link">
    <span class="md-ellipsis">
      is_defined_in_notebook_cell
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.load_notebook_cell_code" class="md-nav__link">
    <span class="md-ellipsis">
      load_notebook_cell_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.try_to_save_notebook_cell_code" class="md-nav__link">
    <span class="md-ellipsis">
      try_to_save_notebook_cell_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.warn_about_notebook_cell_magic_commands" class="md-nav__link">
    <span class="md-ellipsis">
      warn_about_notebook_cell_magic_commands
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils" class="md-nav__link">
    <span class="md-ellipsis">
      package_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="package_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils.clean_requirements" class="md-nav__link">
    <span class="md-ellipsis">
      clean_requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils.get_dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      get_dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils.get_package_information" class="md-nav__link">
    <span class="md-ellipsis">
      get_package_information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils.is_latest_zenml_version" class="md-nav__link">
    <span class="md-ellipsis">
      is_latest_zenml_version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils.requirement_installed" class="md-nav__link">
    <span class="md-ellipsis">
      requirement_installed
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pagination_utils" class="md-nav__link">
    <span class="md-ellipsis">
      pagination_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pagination_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pagination_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pagination_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pagination_utils.depaginate" class="md-nav__link">
    <span class="md-ellipsis">
      depaginate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder" class="md-nav__link">
    <span class="md-ellipsis">
      pipeline_docker_image_builder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pipeline_docker_image_builder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder" class="md-nav__link">
    <span class="md-ellipsis">
      PipelineDockerImageBuilder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proxy_utils" class="md-nav__link">
    <span class="md-ellipsis">
      proxy_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="proxy_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proxy_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proxy_utils.make_proxy_class" class="md-nav__link">
    <span class="md-ellipsis">
      make_proxy_class
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils" class="md-nav__link">
    <span class="md-ellipsis">
      pydantic_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pydantic_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.TemplateGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      TemplateGenerator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.YAMLSerializationMixin" class="md-nav__link">
    <span class="md-ellipsis">
      YAMLSerializationMixin
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.before_validator_handler" class="md-nav__link">
    <span class="md-ellipsis">
      before_validator_handler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.has_validators" class="md-nav__link">
    <span class="md-ellipsis">
      has_validators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.model_validator_data_handler" class="md-nav__link">
    <span class="md-ellipsis">
      model_validator_data_handler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.update_model" class="md-nav__link">
    <span class="md-ellipsis">
      update_model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.validate_function_args" class="md-nav__link">
    <span class="md-ellipsis">
      validate_function_args
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.requirements_utils" class="md-nav__link">
    <span class="md-ellipsis">
      requirements_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="requirements_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.requirements_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.requirements_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.requirements_utils.get_requirements_for_component" class="md-nav__link">
    <span class="md-ellipsis">
      get_requirements_for_component
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.requirements_utils.get_requirements_for_stack" class="md-nav__link">
    <span class="md-ellipsis">
      get_requirements_for_stack
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils" class="md-nav__link">
    <span class="md-ellipsis">
      run_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="run_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils.build_dag" class="md-nav__link">
    <span class="md-ellipsis">
      build_dag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils.find_all_downstream_steps" class="md-nav__link">
    <span class="md-ellipsis">
      find_all_downstream_steps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils.refresh_run_status" class="md-nav__link">
    <span class="md-ellipsis">
      refresh_run_status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils.stop_run" class="md-nav__link">
    <span class="md-ellipsis">
      stop_run
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils" class="md-nav__link">
    <span class="md-ellipsis">
      secret_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="secret_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretReference" class="md-nav__link">
    <span class="md-ellipsis">
      SecretReference
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.ClearTextField" class="md-nav__link">
    <span class="md-ellipsis">
      ClearTextField
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretField" class="md-nav__link">
    <span class="md-ellipsis">
      SecretField
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.is_clear_text_field" class="md-nav__link">
    <span class="md-ellipsis">
      is_clear_text_field
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.is_secret_field" class="md-nav__link">
    <span class="md-ellipsis">
      is_secret_field
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.is_secret_reference" class="md-nav__link">
    <span class="md-ellipsis">
      is_secret_reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.parse_secret_reference" class="md-nav__link">
    <span class="md-ellipsis">
      parse_secret_reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.resolve_and_verify_secrets" class="md-nav__link">
    <span class="md-ellipsis">
      resolve_and_verify_secrets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.server_utils" class="md-nav__link">
    <span class="md-ellipsis">
      server_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="server_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.server_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.server_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.server_utils.connected_to_local_server" class="md-nav__link">
    <span class="md-ellipsis">
      connected_to_local_server
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.server_utils.get_local_server" class="md-nav__link">
    <span class="md-ellipsis">
      get_local_server
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils" class="md-nav__link">
    <span class="md-ellipsis">
      settings_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="settings_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_flavor_setting_key" class="md-nav__link">
    <span class="md-ellipsis">
      get_flavor_setting_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_general_settings" class="md-nav__link">
    <span class="md-ellipsis">
      get_general_settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_stack_component_for_settings_key" class="md-nav__link">
    <span class="md-ellipsis">
      get_stack_component_for_settings_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_stack_component_setting_key" class="md-nav__link">
    <span class="md-ellipsis">
      get_stack_component_setting_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.is_general_setting_key" class="md-nav__link">
    <span class="md-ellipsis">
      is_general_setting_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.is_stack_component_setting_key" class="md-nav__link">
    <span class="md-ellipsis">
      is_stack_component_setting_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.is_valid_setting_key" class="md-nav__link">
    <span class="md-ellipsis">
      is_valid_setting_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.validate_setting_keys" class="md-nav__link">
    <span class="md-ellipsis">
      validate_setting_keys
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton" class="md-nav__link">
    <span class="md-ellipsis">
      singleton
    </span>
  </a>
  
    <nav class="md-nav" aria-label="singleton">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass" class="md-nav__link">
    <span class="md-ellipsis">
      SingletonMetaClass
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.ThreadLocalSingleton" class="md-nav__link">
    <span class="md-ellipsis">
      ThreadLocalSingleton
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.ThreadLocalSingleton--in-context-1-eg-thread-1" class="md-nav__link">
    <span class="md-ellipsis">
      In context 1 (e.g., thread 1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.ThreadLocalSingleton--in-context-2-eg-thread-2" class="md-nav__link">
    <span class="md-ellipsis">
      In context 2 (e.g., thread 2)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.ThreadLocalSingleton--db2-is-a-different-instance-from-db1-isolated-by-context" class="md-nav__link">
    <span class="md-ellipsis">
      db2 is a different instance from db1, isolated by context
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_code_utils" class="md-nav__link">
    <span class="md-ellipsis">
      source_code_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="source_code_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_code_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_code_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_code_utils.get_hashed_source_code" class="md-nav__link">
    <span class="md-ellipsis">
      get_hashed_source_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_code_utils.get_source_code" class="md-nav__link">
    <span class="md-ellipsis">
      get_source_code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils" class="md-nav__link">
    <span class="md-ellipsis">
      source_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="source_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_implicit_source_root" class="md-nav__link">
    <span class="md-ellipsis">
      get_implicit_source_root
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_resolved_notebook_sources" class="md-nav__link">
    <span class="md-ellipsis">
      get_resolved_notebook_sources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_source_root" class="md-nav__link">
    <span class="md-ellipsis">
      get_source_root
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_source_type" class="md-nav__link">
    <span class="md-ellipsis">
      get_source_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_distribution_package_file" class="md-nav__link">
    <span class="md-ellipsis">
      is_distribution_package_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_internal_module" class="md-nav__link">
    <span class="md-ellipsis">
      is_internal_module
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_standard_lib_file" class="md-nav__link">
    <span class="md-ellipsis">
      is_standard_lib_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_user_file" class="md-nav__link">
    <span class="md-ellipsis">
      is_user_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.load_and_validate_class" class="md-nav__link">
    <span class="md-ellipsis">
      load_and_validate_class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.prepend_python_path" class="md-nav__link">
    <span class="md-ellipsis">
      prepend_python_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.resolve" class="md-nav__link">
    <span class="md-ellipsis">
      resolve
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.set_custom_source_root" class="md-nav__link">
    <span class="md-ellipsis">
      set_custom_source_root
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.validate_source_class" class="md-nav__link">
    <span class="md-ellipsis">
      validate_source_class
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils" class="md-nav__link">
    <span class="md-ellipsis">
      string_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="string_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.b64_decode" class="md-nav__link">
    <span class="md-ellipsis">
      b64_decode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.b64_encode" class="md-nav__link">
    <span class="md-ellipsis">
      b64_encode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.format_name_template" class="md-nav__link">
    <span class="md-ellipsis">
      format_name_template
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.get_human_readable_filesize" class="md-nav__link">
    <span class="md-ellipsis">
      get_human_readable_filesize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.get_human_readable_time" class="md-nav__link">
    <span class="md-ellipsis">
      get_human_readable_time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.random_str" class="md-nav__link">
    <span class="md-ellipsis">
      random_str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.substitute_string" class="md-nav__link">
    <span class="md-ellipsis">
      substitute_string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.validate_name" class="md-nav__link">
    <span class="md-ellipsis">
      validate_name
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.tag_utils" class="md-nav__link">
    <span class="md-ellipsis">
      tag_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="tag_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.tag_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.tag_utils.Tag" class="md-nav__link">
    <span class="md-ellipsis">
      Tag
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.tag_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.tag_utils.add_tags" class="md-nav__link">
    <span class="md-ellipsis">
      add_tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.tag_utils.remove_tags" class="md-nav__link">
    <span class="md-ellipsis">
      remove_tags
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils" class="md-nav__link">
    <span class="md-ellipsis">
      time_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="time_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils.expires_in" class="md-nav__link">
    <span class="md-ellipsis">
      expires_in
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils.seconds_to_human_readable" class="md-nav__link">
    <span class="md-ellipsis">
      seconds_to_human_readable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils.to_local_tz" class="md-nav__link">
    <span class="md-ellipsis">
      to_local_tz
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils.to_utc_timezone" class="md-nav__link">
    <span class="md-ellipsis">
      to_utc_timezone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils.utc_now" class="md-nav__link">
    <span class="md-ellipsis">
      utc_now
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils.utc_now_tz_aware" class="md-nav__link">
    <span class="md-ellipsis">
      utc_now_tz_aware
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model" class="md-nav__link">
    <span class="md-ellipsis">
      typed_model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="typed_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel" class="md-nav__link">
    <span class="md-ellipsis">
      BaseTypedModel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModelMeta" class="md-nav__link">
    <span class="md-ellipsis">
      BaseTypedModelMeta
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils" class="md-nav__link">
    <span class="md-ellipsis">
      typing_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="typing_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.all_literal_values" class="md-nav__link">
    <span class="md-ellipsis">
      all_literal_values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.get_args" class="md-nav__link">
    <span class="md-ellipsis">
      get_args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.get_origin" class="md-nav__link">
    <span class="md-ellipsis">
      get_origin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.is_literal_type" class="md-nav__link">
    <span class="md-ellipsis">
      is_literal_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.is_none_type" class="md-nav__link">
    <span class="md-ellipsis">
      is_none_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.is_optional" class="md-nav__link">
    <span class="md-ellipsis">
      is_optional
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.is_union" class="md-nav__link">
    <span class="md-ellipsis">
      is_union
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.literal_values" class="md-nav__link">
    <span class="md-ellipsis">
      literal_values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils" class="md-nav__link">
    <span class="md-ellipsis">
      uuid_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="uuid_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils.generate_uuid_from_string" class="md-nav__link">
    <span class="md-ellipsis">
      generate_uuid_from_string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils.is_valid_uuid" class="md-nav__link">
    <span class="md-ellipsis">
      is_valid_uuid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils.parse_name_or_uuid" class="md-nav__link">
    <span class="md-ellipsis">
      parse_name_or_uuid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.visualization_utils" class="md-nav__link">
    <span class="md-ellipsis">
      visualization_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="visualization_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.visualization_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.visualization_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.visualization_utils.format_csv_visualization_as_html" class="md-nav__link">
    <span class="md-ellipsis">
      format_csv_visualization_as_html
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.visualization_utils.visualize_artifact" class="md-nav__link">
    <span class="md-ellipsis">
      visualize_artifact
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils" class="md-nav__link">
    <span class="md-ellipsis">
      yaml_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="yaml_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.UUIDEncoder" class="md-nav__link">
    <span class="md-ellipsis">
      UUIDEncoder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.append_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      append_yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.comment_out_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      comment_out_yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.is_json_serializable" class="md-nav__link">
    <span class="md-ellipsis">
      is_json_serializable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.is_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      is_yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.read_json" class="md-nav__link">
    <span class="md-ellipsis">
      read_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.read_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      read_yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.write_json" class="md-nav__link">
    <span class="md-ellipsis">
      write_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.write_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      write_yaml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-zen_server.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zen Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-zen_stores.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zen Stores
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Integration code docs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Integration code docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-airflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Airflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-argilla.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Argilla
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-aws.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aws
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-azure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-bentoml.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bentoml
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-bitbucket.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bitbucket
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-comet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-constants.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-databricks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Databricks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-deepchecks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deepchecks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-discord.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discord
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-evidently.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evidently
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-facets.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Facets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-feast.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feast
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-gcp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gcp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-github.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Github
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-gitlab.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gitlab
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-great_expectations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Great Expectations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-huggingface.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Huggingface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-hyperai.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hyperai
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-integration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-jax.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jax
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-kaniko.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kaniko
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-kubeflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubeflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-kubernetes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-label_studio.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Label Studio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-langchain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Langchain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-lightgbm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lightgbm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-lightning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lightning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-llama_index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Llama Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-mlflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mlflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-mlx.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mlx
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-modal.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-neptune.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neptune
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-neural_prophet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neural Prophet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-numpy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Numpy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-openai.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Openai
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pandas.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pandas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pigeon.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pigeon
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pillow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pillow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-polars.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Polars
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-prodigy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prodigy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pycaret.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pycaret
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pytorch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytorch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pytorch_lightning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytorch Lightning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-registry.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-s3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    S3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-scipy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scipy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-seldon.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Seldon
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-sklearn.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sklearn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_aws.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Aws
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_azure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Azure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_gcp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Gcp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_kubernetes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_lambda.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Lambda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-slack.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-spark.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spark
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-tekton.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tekton
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-tensorboard.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tensorboard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-tensorflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tensorflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-vllm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vllm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-wandb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wandb
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-whylogs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Whylogs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-xgboost.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Xgboost
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.utils" class="md-nav__link">
    <span class="md-ellipsis">
      utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.archivable" class="md-nav__link">
    <span class="md-ellipsis">
      archivable
    </span>
  </a>
  
    <nav class="md-nav" aria-label="archivable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.archivable-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.archivable.Archivable" class="md-nav__link">
    <span class="md-ellipsis">
      Archivable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.archivable.ArchiveType" class="md-nav__link">
    <span class="md-ellipsis">
      ArchiveType
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.archivable-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.callback_registry" class="md-nav__link">
    <span class="md-ellipsis">
      callback_registry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="callback_registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.callback_registry-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.callback_registry.CallbackRegistry" class="md-nav__link">
    <span class="md-ellipsis">
      CallbackRegistry
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.callback_registry-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_repository_utils" class="md-nav__link">
    <span class="md-ellipsis">
      code_repository_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="code_repository_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_repository_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_repository_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_repository_utils.find_active_code_repository" class="md-nav__link">
    <span class="md-ellipsis">
      find_active_code_repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_repository_utils.set_custom_local_repository" class="md-nav__link">
    <span class="md-ellipsis">
      set_custom_local_repository
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_repository_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils" class="md-nav__link">
    <span class="md-ellipsis">
      code_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="code_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.CodeArchive" class="md-nav__link">
    <span class="md-ellipsis">
      CodeArchive
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.compute_file_hash" class="md-nav__link">
    <span class="md-ellipsis">
      compute_file_hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.download_and_extract_code" class="md-nav__link">
    <span class="md-ellipsis">
      download_and_extract_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.download_code_from_artifact_store" class="md-nav__link">
    <span class="md-ellipsis">
      download_code_from_artifact_store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.download_notebook_code" class="md-nav__link">
    <span class="md-ellipsis">
      download_notebook_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.upload_code_if_necessary" class="md-nav__link">
    <span class="md-ellipsis">
      upload_code_if_necessary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils.upload_notebook_code" class="md-nav__link">
    <span class="md-ellipsis">
      upload_notebook_code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.code_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.context_utils" class="md-nav__link">
    <span class="md-ellipsis">
      context_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="context_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.context_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.context_utils.ContextVarList" class="md-nav__link">
    <span class="md-ellipsis">
      ContextVarList
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.cuda_utils" class="md-nav__link">
    <span class="md-ellipsis">
      cuda_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cuda_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.cuda_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.cuda_utils.cleanup_gpu_memory" class="md-nav__link">
    <span class="md-ellipsis">
      cleanup_gpu_memory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon" class="md-nav__link">
    <span class="md-ellipsis">
      daemon
    </span>
  </a>
  
    <nav class="md-nav" aria-label="daemon">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.check_if_daemon_is_running" class="md-nav__link">
    <span class="md-ellipsis">
      check_if_daemon_is_running
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.daemonize" class="md-nav__link">
    <span class="md-ellipsis">
      daemonize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.get_daemon_pid_if_running" class="md-nav__link">
    <span class="md-ellipsis">
      get_daemon_pid_if_running
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.run_as_daemon" class="md-nav__link">
    <span class="md-ellipsis">
      run_as_daemon
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.setup_daemon" class="md-nav__link">
    <span class="md-ellipsis">
      setup_daemon
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.stop_daemon" class="md-nav__link">
    <span class="md-ellipsis">
      stop_daemon
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.stop_process" class="md-nav__link">
    <span class="md-ellipsis">
      stop_process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.daemon.terminate_children" class="md-nav__link">
    <span class="md-ellipsis">
      terminate_children
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils" class="md-nav__link">
    <span class="md-ellipsis">
      dashboard_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dashboard_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_cloud_dashboard_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_cloud_dashboard_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_component_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_component_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_model_version_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_model_version_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_run_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_run_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_server_dashboard_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_server_dashboard_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.get_stack_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_stack_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.show_dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      show_dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils.show_dashboard_with_url" class="md-nav__link">
    <span class="md-ellipsis">
      show_dashboard_with_url
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dashboard_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.deprecation_utils" class="md-nav__link">
    <span class="md-ellipsis">
      deprecation_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="deprecation_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.deprecation_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.deprecation_utils.deprecate_pydantic_attributes" class="md-nav__link">
    <span class="md-ellipsis">
      deprecate_pydantic_attributes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils" class="md-nav__link">
    <span class="md-ellipsis">
      dict_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dict_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils.dict_to_bytes" class="md-nav__link">
    <span class="md-ellipsis">
      dict_to_bytes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils.recursive_update" class="md-nav__link">
    <span class="md-ellipsis">
      recursive_update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.dict_utils.remove_none_values" class="md-nav__link">
    <span class="md-ellipsis">
      remove_none_values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils" class="md-nav__link">
    <span class="md-ellipsis">
      docker_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="docker_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.build_image" class="md-nav__link">
    <span class="md-ellipsis">
      build_image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.check_docker" class="md-nav__link">
    <span class="md-ellipsis">
      check_docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.get_image_digest" class="md-nav__link">
    <span class="md-ellipsis">
      get_image_digest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.is_local_image" class="md-nav__link">
    <span class="md-ellipsis">
      is_local_image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.push_image" class="md-nav__link">
    <span class="md-ellipsis">
      push_image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.sanitize_tag" class="md-nav__link">
    <span class="md-ellipsis">
      sanitize_tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils.tag_image" class="md-nav__link">
    <span class="md-ellipsis">
      tag_image
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.docker_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.downloaded_repository_context" class="md-nav__link">
    <span class="md-ellipsis">
      downloaded_repository_context
    </span>
  </a>
  
    <nav class="md-nav" aria-label="downloaded_repository_context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.downloaded_repository_context-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils" class="md-nav__link">
    <span class="md-ellipsis">
      enum_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="enum_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.enum_utils.StrEnum" class="md-nav__link">
    <span class="md-ellipsis">
      StrEnum
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils" class="md-nav__link">
    <span class="md-ellipsis">
      env_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="env_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils.get_step_environment" class="md-nav__link">
    <span class="md-ellipsis">
      get_step_environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils.get_step_secret_environment" class="md-nav__link">
    <span class="md-ellipsis">
      get_step_secret_environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils.reconstruct_environment_variables" class="md-nav__link">
    <span class="md-ellipsis">
      reconstruct_environment_variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils.split_environment_variables" class="md-nav__link">
    <span class="md-ellipsis">
      split_environment_variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils.substitute_env_variable_placeholders" class="md-nav__link">
    <span class="md-ellipsis">
      substitute_env_variable_placeholders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils.temporary_environment" class="md-nav__link">
    <span class="md-ellipsis">
      temporary_environment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.env_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.exception_utils" class="md-nav__link">
    <span class="md-ellipsis">
      exception_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="exception_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.exception_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.exception_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.exception_utils.collect_exception_information" class="md-nav__link">
    <span class="md-ellipsis">
      collect_exception_information
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model" class="md-nav__link">
    <span class="md-ellipsis">
      filesync_model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="filesync_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model.FileSyncModel" class="md-nav__link">
    <span class="md-ellipsis">
      FileSyncModel
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.filesync_model-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.function_utils" class="md-nav__link">
    <span class="md-ellipsis">
      function_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="function_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.function_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.function_utils.create_cli_wrapped_script" class="md-nav__link">
    <span class="md-ellipsis">
      create_cli_wrapped_script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.git_utils" class="md-nav__link">
    <span class="md-ellipsis">
      git_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="git_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.git_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.git_utils.clone_git_repository" class="md-nav__link">
    <span class="md-ellipsis">
      clone_git_repository
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils" class="md-nav__link">
    <span class="md-ellipsis">
      io_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="io_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.copy_dir" class="md-nav__link">
    <span class="md-ellipsis">
      copy_dir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.create_dir_if_not_exists" class="md-nav__link">
    <span class="md-ellipsis">
      create_dir_if_not_exists
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.create_dir_recursive_if_not_exists" class="md-nav__link">
    <span class="md-ellipsis">
      create_dir_recursive_if_not_exists
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.create_file_if_not_exists" class="md-nav__link">
    <span class="md-ellipsis">
      create_file_if_not_exists
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.find_files" class="md-nav__link">
    <span class="md-ellipsis">
      find_files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.get_global_config_directory" class="md-nav__link">
    <span class="md-ellipsis">
      get_global_config_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.get_grandparent" class="md-nav__link">
    <span class="md-ellipsis">
      get_grandparent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.get_parent" class="md-nav__link">
    <span class="md-ellipsis">
      get_parent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.is_path_within_directory" class="md-nav__link">
    <span class="md-ellipsis">
      is_path_within_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.is_remote" class="md-nav__link">
    <span class="md-ellipsis">
      is_remote
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.is_root" class="md-nav__link">
    <span class="md-ellipsis">
      is_root
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.move" class="md-nav__link">
    <span class="md-ellipsis">
      move
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.read_file_contents_as_string" class="md-nav__link">
    <span class="md-ellipsis">
      read_file_contents_as_string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.resolve_relative_path" class="md-nav__link">
    <span class="md-ellipsis">
      resolve_relative_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.sanitize_remote_path" class="md-nav__link">
    <span class="md-ellipsis">
      sanitize_remote_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.io_utils.write_file_contents_as_string" class="md-nav__link">
    <span class="md-ellipsis">
      write_file_contents_as_string
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.json_utils" class="md-nav__link">
    <span class="md-ellipsis">
      json_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="json_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.json_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.json_utils.decimal_encoder" class="md-nav__link">
    <span class="md-ellipsis">
      decimal_encoder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.json_utils.isoformat" class="md-nav__link">
    <span class="md-ellipsis">
      isoformat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils" class="md-nav__link">
    <span class="md-ellipsis">
      materializer_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="materializer_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.materializer_utils.select_materializer" class="md-nav__link">
    <span class="md-ellipsis">
      select_materializer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.metadata_utils" class="md-nav__link">
    <span class="md-ellipsis">
      metadata_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="metadata_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.metadata_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.metadata_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.metadata_utils.bulk_log_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      bulk_log_metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.metadata_utils.log_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      log_metadata
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils" class="md-nav__link">
    <span class="md-ellipsis">
      networking_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="networking_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.find_available_port" class="md-nav__link">
    <span class="md-ellipsis">
      find_available_port
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.get_or_create_ngrok_tunnel" class="md-nav__link">
    <span class="md-ellipsis">
      get_or_create_ngrok_tunnel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.lookup_preferred_or_free_port" class="md-nav__link">
    <span class="md-ellipsis">
      lookup_preferred_or_free_port
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.port_available" class="md-nav__link">
    <span class="md-ellipsis">
      port_available
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.port_is_open" class="md-nav__link">
    <span class="md-ellipsis">
      port_is_open
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.replace_internal_hostname_with_localhost" class="md-nav__link">
    <span class="md-ellipsis">
      replace_internal_hostname_with_localhost
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.replace_localhost_with_internal_hostname" class="md-nav__link">
    <span class="md-ellipsis">
      replace_localhost_with_internal_hostname
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.networking_utils.scan_for_available_port" class="md-nav__link">
    <span class="md-ellipsis">
      scan_for_available_port
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils" class="md-nav__link">
    <span class="md-ellipsis">
      notebook_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="notebook_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.compute_cell_replacement_module_name" class="md-nav__link">
    <span class="md-ellipsis">
      compute_cell_replacement_module_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.enable_notebook_code_extraction" class="md-nav__link">
    <span class="md-ellipsis">
      enable_notebook_code_extraction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.get_active_notebook_cell_code" class="md-nav__link">
    <span class="md-ellipsis">
      get_active_notebook_cell_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.is_defined_in_notebook_cell" class="md-nav__link">
    <span class="md-ellipsis">
      is_defined_in_notebook_cell
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.load_notebook_cell_code" class="md-nav__link">
    <span class="md-ellipsis">
      load_notebook_cell_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.try_to_save_notebook_cell_code" class="md-nav__link">
    <span class="md-ellipsis">
      try_to_save_notebook_cell_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.notebook_utils.warn_about_notebook_cell_magic_commands" class="md-nav__link">
    <span class="md-ellipsis">
      warn_about_notebook_cell_magic_commands
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils" class="md-nav__link">
    <span class="md-ellipsis">
      package_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="package_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils.clean_requirements" class="md-nav__link">
    <span class="md-ellipsis">
      clean_requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils.get_dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      get_dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils.get_package_information" class="md-nav__link">
    <span class="md-ellipsis">
      get_package_information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils.is_latest_zenml_version" class="md-nav__link">
    <span class="md-ellipsis">
      is_latest_zenml_version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.package_utils.requirement_installed" class="md-nav__link">
    <span class="md-ellipsis">
      requirement_installed
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pagination_utils" class="md-nav__link">
    <span class="md-ellipsis">
      pagination_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pagination_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pagination_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pagination_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pagination_utils.depaginate" class="md-nav__link">
    <span class="md-ellipsis">
      depaginate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder" class="md-nav__link">
    <span class="md-ellipsis">
      pipeline_docker_image_builder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pipeline_docker_image_builder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder" class="md-nav__link">
    <span class="md-ellipsis">
      PipelineDockerImageBuilder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pipeline_docker_image_builder-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proxy_utils" class="md-nav__link">
    <span class="md-ellipsis">
      proxy_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="proxy_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proxy_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.proxy_utils.make_proxy_class" class="md-nav__link">
    <span class="md-ellipsis">
      make_proxy_class
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils" class="md-nav__link">
    <span class="md-ellipsis">
      pydantic_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pydantic_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.TemplateGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      TemplateGenerator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.YAMLSerializationMixin" class="md-nav__link">
    <span class="md-ellipsis">
      YAMLSerializationMixin
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.before_validator_handler" class="md-nav__link">
    <span class="md-ellipsis">
      before_validator_handler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.has_validators" class="md-nav__link">
    <span class="md-ellipsis">
      has_validators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.model_validator_data_handler" class="md-nav__link">
    <span class="md-ellipsis">
      model_validator_data_handler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.update_model" class="md-nav__link">
    <span class="md-ellipsis">
      update_model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils.validate_function_args" class="md-nav__link">
    <span class="md-ellipsis">
      validate_function_args
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.pydantic_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.requirements_utils" class="md-nav__link">
    <span class="md-ellipsis">
      requirements_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="requirements_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.requirements_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.requirements_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.requirements_utils.get_requirements_for_component" class="md-nav__link">
    <span class="md-ellipsis">
      get_requirements_for_component
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.requirements_utils.get_requirements_for_stack" class="md-nav__link">
    <span class="md-ellipsis">
      get_requirements_for_stack
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils" class="md-nav__link">
    <span class="md-ellipsis">
      run_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="run_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils.build_dag" class="md-nav__link">
    <span class="md-ellipsis">
      build_dag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils.find_all_downstream_steps" class="md-nav__link">
    <span class="md-ellipsis">
      find_all_downstream_steps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils.refresh_run_status" class="md-nav__link">
    <span class="md-ellipsis">
      refresh_run_status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.run_utils.stop_run" class="md-nav__link">
    <span class="md-ellipsis">
      stop_run
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils" class="md-nav__link">
    <span class="md-ellipsis">
      secret_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="secret_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretReference" class="md-nav__link">
    <span class="md-ellipsis">
      SecretReference
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.ClearTextField" class="md-nav__link">
    <span class="md-ellipsis">
      ClearTextField
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.SecretField" class="md-nav__link">
    <span class="md-ellipsis">
      SecretField
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.is_clear_text_field" class="md-nav__link">
    <span class="md-ellipsis">
      is_clear_text_field
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.is_secret_field" class="md-nav__link">
    <span class="md-ellipsis">
      is_secret_field
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.is_secret_reference" class="md-nav__link">
    <span class="md-ellipsis">
      is_secret_reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.parse_secret_reference" class="md-nav__link">
    <span class="md-ellipsis">
      parse_secret_reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.secret_utils.resolve_and_verify_secrets" class="md-nav__link">
    <span class="md-ellipsis">
      resolve_and_verify_secrets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.server_utils" class="md-nav__link">
    <span class="md-ellipsis">
      server_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="server_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.server_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.server_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.server_utils.connected_to_local_server" class="md-nav__link">
    <span class="md-ellipsis">
      connected_to_local_server
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.server_utils.get_local_server" class="md-nav__link">
    <span class="md-ellipsis">
      get_local_server
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils" class="md-nav__link">
    <span class="md-ellipsis">
      settings_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="settings_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_flavor_setting_key" class="md-nav__link">
    <span class="md-ellipsis">
      get_flavor_setting_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_general_settings" class="md-nav__link">
    <span class="md-ellipsis">
      get_general_settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_stack_component_for_settings_key" class="md-nav__link">
    <span class="md-ellipsis">
      get_stack_component_for_settings_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.get_stack_component_setting_key" class="md-nav__link">
    <span class="md-ellipsis">
      get_stack_component_setting_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.is_general_setting_key" class="md-nav__link">
    <span class="md-ellipsis">
      is_general_setting_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.is_stack_component_setting_key" class="md-nav__link">
    <span class="md-ellipsis">
      is_stack_component_setting_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.is_valid_setting_key" class="md-nav__link">
    <span class="md-ellipsis">
      is_valid_setting_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.settings_utils.validate_setting_keys" class="md-nav__link">
    <span class="md-ellipsis">
      validate_setting_keys
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton" class="md-nav__link">
    <span class="md-ellipsis">
      singleton
    </span>
  </a>
  
    <nav class="md-nav" aria-label="singleton">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.SingletonMetaClass" class="md-nav__link">
    <span class="md-ellipsis">
      SingletonMetaClass
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.ThreadLocalSingleton" class="md-nav__link">
    <span class="md-ellipsis">
      ThreadLocalSingleton
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.ThreadLocalSingleton--in-context-1-eg-thread-1" class="md-nav__link">
    <span class="md-ellipsis">
      In context 1 (e.g., thread 1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.ThreadLocalSingleton--in-context-2-eg-thread-2" class="md-nav__link">
    <span class="md-ellipsis">
      In context 2 (e.g., thread 2)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.singleton.ThreadLocalSingleton--db2-is-a-different-instance-from-db1-isolated-by-context" class="md-nav__link">
    <span class="md-ellipsis">
      db2 is a different instance from db1, isolated by context
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_code_utils" class="md-nav__link">
    <span class="md-ellipsis">
      source_code_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="source_code_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_code_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_code_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_code_utils.get_hashed_source_code" class="md-nav__link">
    <span class="md-ellipsis">
      get_hashed_source_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_code_utils.get_source_code" class="md-nav__link">
    <span class="md-ellipsis">
      get_source_code
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils" class="md-nav__link">
    <span class="md-ellipsis">
      source_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="source_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_implicit_source_root" class="md-nav__link">
    <span class="md-ellipsis">
      get_implicit_source_root
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_resolved_notebook_sources" class="md-nav__link">
    <span class="md-ellipsis">
      get_resolved_notebook_sources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_source_root" class="md-nav__link">
    <span class="md-ellipsis">
      get_source_root
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.get_source_type" class="md-nav__link">
    <span class="md-ellipsis">
      get_source_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_distribution_package_file" class="md-nav__link">
    <span class="md-ellipsis">
      is_distribution_package_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_internal_module" class="md-nav__link">
    <span class="md-ellipsis">
      is_internal_module
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_standard_lib_file" class="md-nav__link">
    <span class="md-ellipsis">
      is_standard_lib_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.is_user_file" class="md-nav__link">
    <span class="md-ellipsis">
      is_user_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.load_and_validate_class" class="md-nav__link">
    <span class="md-ellipsis">
      load_and_validate_class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.prepend_python_path" class="md-nav__link">
    <span class="md-ellipsis">
      prepend_python_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.resolve" class="md-nav__link">
    <span class="md-ellipsis">
      resolve
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.set_custom_source_root" class="md-nav__link">
    <span class="md-ellipsis">
      set_custom_source_root
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils.validate_source_class" class="md-nav__link">
    <span class="md-ellipsis">
      validate_source_class
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.source_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils" class="md-nav__link">
    <span class="md-ellipsis">
      string_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="string_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.b64_decode" class="md-nav__link">
    <span class="md-ellipsis">
      b64_decode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.b64_encode" class="md-nav__link">
    <span class="md-ellipsis">
      b64_encode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.format_name_template" class="md-nav__link">
    <span class="md-ellipsis">
      format_name_template
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.get_human_readable_filesize" class="md-nav__link">
    <span class="md-ellipsis">
      get_human_readable_filesize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.get_human_readable_time" class="md-nav__link">
    <span class="md-ellipsis">
      get_human_readable_time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.random_str" class="md-nav__link">
    <span class="md-ellipsis">
      random_str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.substitute_string" class="md-nav__link">
    <span class="md-ellipsis">
      substitute_string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.string_utils.validate_name" class="md-nav__link">
    <span class="md-ellipsis">
      validate_name
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.tag_utils" class="md-nav__link">
    <span class="md-ellipsis">
      tag_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="tag_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.tag_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.tag_utils.Tag" class="md-nav__link">
    <span class="md-ellipsis">
      Tag
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.tag_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.tag_utils.add_tags" class="md-nav__link">
    <span class="md-ellipsis">
      add_tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.tag_utils.remove_tags" class="md-nav__link">
    <span class="md-ellipsis">
      remove_tags
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils" class="md-nav__link">
    <span class="md-ellipsis">
      time_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="time_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils.expires_in" class="md-nav__link">
    <span class="md-ellipsis">
      expires_in
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils.seconds_to_human_readable" class="md-nav__link">
    <span class="md-ellipsis">
      seconds_to_human_readable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils.to_local_tz" class="md-nav__link">
    <span class="md-ellipsis">
      to_local_tz
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils.to_utc_timezone" class="md-nav__link">
    <span class="md-ellipsis">
      to_utc_timezone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils.utc_now" class="md-nav__link">
    <span class="md-ellipsis">
      utc_now
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.time_utils.utc_now_tz_aware" class="md-nav__link">
    <span class="md-ellipsis">
      utc_now_tz_aware
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model" class="md-nav__link">
    <span class="md-ellipsis">
      typed_model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="typed_model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModel" class="md-nav__link">
    <span class="md-ellipsis">
      BaseTypedModel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model.BaseTypedModelMeta" class="md-nav__link">
    <span class="md-ellipsis">
      BaseTypedModelMeta
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typed_model-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils" class="md-nav__link">
    <span class="md-ellipsis">
      typing_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="typing_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.all_literal_values" class="md-nav__link">
    <span class="md-ellipsis">
      all_literal_values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.get_args" class="md-nav__link">
    <span class="md-ellipsis">
      get_args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.get_origin" class="md-nav__link">
    <span class="md-ellipsis">
      get_origin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.is_literal_type" class="md-nav__link">
    <span class="md-ellipsis">
      is_literal_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.is_none_type" class="md-nav__link">
    <span class="md-ellipsis">
      is_none_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.is_optional" class="md-nav__link">
    <span class="md-ellipsis">
      is_optional
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.is_union" class="md-nav__link">
    <span class="md-ellipsis">
      is_union
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.typing_utils.literal_values" class="md-nav__link">
    <span class="md-ellipsis">
      literal_values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils" class="md-nav__link">
    <span class="md-ellipsis">
      uuid_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="uuid_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils.generate_uuid_from_string" class="md-nav__link">
    <span class="md-ellipsis">
      generate_uuid_from_string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils.is_valid_uuid" class="md-nav__link">
    <span class="md-ellipsis">
      is_valid_uuid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.uuid_utils.parse_name_or_uuid" class="md-nav__link">
    <span class="md-ellipsis">
      parse_name_or_uuid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.visualization_utils" class="md-nav__link">
    <span class="md-ellipsis">
      visualization_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="visualization_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.visualization_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.visualization_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.visualization_utils.format_csv_visualization_as_html" class="md-nav__link">
    <span class="md-ellipsis">
      format_csv_visualization_as_html
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.visualization_utils.visualize_artifact" class="md-nav__link">
    <span class="md-ellipsis">
      visualize_artifact
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils" class="md-nav__link">
    <span class="md-ellipsis">
      yaml_utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="yaml_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.UUIDEncoder" class="md-nav__link">
    <span class="md-ellipsis">
      UUIDEncoder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.append_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      append_yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.comment_out_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      comment_out_yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.is_json_serializable" class="md-nav__link">
    <span class="md-ellipsis">
      is_json_serializable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.is_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      is_yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.read_json" class="md-nav__link">
    <span class="md-ellipsis">
      read_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.read_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      read_yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.write_json" class="md-nav__link">
    <span class="md-ellipsis">
      write_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils.write_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      write_yaml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.utils.yaml_utils-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="utils">Utils</h1>


<div class="doc doc-object doc-module">



<h2 id="zenml.utils" class="doc doc-heading">
            <code>zenml.utils</code>


</h2>

    <div class="doc doc-contents first">

        <p>Initialization of the utils module.</p>
<p>The <code>utils</code> module contains utility functions handling analytics, reading and
writing YAML data as well as other general purpose functions.</p>










  <div class="doc doc-children">









<h3 id="zenml.utils-modules">Modules</h3>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.archivable" class="doc doc-heading">
            <code>archivable</code>


</h4>

    <div class="doc doc-contents ">

        <p>Archivable mixin.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.archivable-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.archivable.Archivable" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">Archivable</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Archivable mixin class.</p>

        <p>Initialize the object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unused args for subclasses.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unused keyword args for subclasses.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="quote">
                    <summary>Source code in <code>src/zenml/utils/archivable.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the object.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: Unused args for subclasses.</span>
<span class="sd">        **kwargs: Unused keyword args for subclasses.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_extra_files</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">








<h7 id="zenml.utils.archivable.Archivable-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.archivable.Archivable.add_directory" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_directory</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Adds a directory to the archive.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the directory.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>destination</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path inside the build context where the directory
should be added.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>source</code> does not point to a directory.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/archivable.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_directory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a directory to the archive.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: Path to the directory.</span>
<span class="sd">        destination: The path inside the build context where the directory</span>
<span class="sd">            should be added.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If `source` does not point to a directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t add directory </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2"> to the build context as it &quot;</span>
            <span class="s2">&quot;does not exist or is not a directory.&quot;</span>
        <span class="p">)</span>

    <span class="k">for</span> <span class="nb">dir</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">fileio</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
        <span class="n">dir_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">fileio</span><span class="o">.</span><span class="n">convert_to_str</span><span class="p">(</span><span class="nb">dir</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">file_name</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="n">file_name</span> <span class="o">=</span> <span class="n">fileio</span><span class="o">.</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
            <span class="n">file_source</span> <span class="o">=</span> <span class="n">dir_path</span> <span class="o">/</span> <span class="n">file_name</span>
            <span class="n">file_destination</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">Path</span><span class="p">(</span><span class="n">destination</span><span class="p">)</span>
                <span class="o">/</span> <span class="n">dir_path</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
                <span class="o">/</span> <span class="n">file_name</span>
            <span class="p">)</span>

            <span class="k">with</span> <span class="n">file_source</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_extra_files</span><span class="p">[</span><span class="n">file_destination</span><span class="o">.</span><span class="n">as_posix</span><span class="p">()]</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.archivable.Archivable.add_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_file</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Adds a file to the archive.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The source of the file to add. This can either be a path
or the file content.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>destination</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path inside the archive where the file
should be added.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/archivable.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds a file to the archive.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: The source of the file to add. This can either be a path</span>
<span class="sd">            or the file content.</span>
<span class="sd">        destination: The path inside the archive where the file</span>
<span class="sd">            should be added.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">source</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_extra_files</span><span class="p">[</span><span class="n">destination</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extra_files</span><span class="p">[</span><span class="n">destination</span><span class="p">]</span> <span class="o">=</span> <span class="n">source</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.archivable.Archivable.get_extra_files" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_extra_files</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Gets all extra files that should be included in the archive.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dict {path_in_archive: file_content} for all extra files in the</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>archive.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/archivable.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_extra_files</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets all extra files that should be included in the archive.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict {path_in_archive: file_content} for all extra files in the</span>
<span class="sd">        archive.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extra_files</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.archivable.Archivable.get_files" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_files</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h8>


    <div class="doc doc-contents ">

        <p>Gets all regular files that should be included in the archive.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dict {path_in_archive: path_on_filesystem} for all regular files</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>in the archive.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/archivable.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_files</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets all regular files that should be included in the archive.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict {path_in_archive: path_on_filesystem} for all regular files</span>
<span class="sd">        in the archive.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.archivable.Archivable.write_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_archive</span><span class="p">(</span><span class="n">output_file</span><span class="p">:</span> <span class="n">IO</span><span class="p">[</span><span class="nb">bytes</span><span class="p">],</span> <span class="n">archive_type</span><span class="p">:</span> <span class="n">ArchiveType</span> <span class="o">=</span> <span class="n">ArchiveType</span><span class="o">.</span><span class="n">TAR_GZ</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Writes an archive of the build context to the given file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>output_file</code>
            </td>
            <td>
                  <code><span title="typing.IO">IO</span>[<span title="bytes">bytes</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file to write the archive to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>archive_type</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ArchiveType (zenml.utils.archivable.ArchiveType)" href="#zenml.utils.archivable.ArchiveType">ArchiveType</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of archive to create.</p>
              </div>
            </td>
            <td>
                  <code><span title="zenml.utils.archivable.ArchiveType.TAR_GZ">TAR_GZ</span></code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/archivable.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write_archive</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">output_file</span><span class="p">:</span> <span class="n">IO</span><span class="p">[</span><span class="nb">bytes</span><span class="p">],</span>
    <span class="n">archive_type</span><span class="p">:</span> <span class="n">ArchiveType</span> <span class="o">=</span> <span class="n">ArchiveType</span><span class="o">.</span><span class="n">TAR_GZ</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Writes an archive of the build context to the given file.</span>

<span class="sd">    Args:</span>
<span class="sd">        output_file: The file to write the archive to.</span>
<span class="sd">        archive_type: The type of archive to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_files</span><span class="p">()</span>
    <span class="n">extra_files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_extra_files</span><span class="p">()</span>
    <span class="n">close_fileobj</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">fileobj</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">output_file</span>

    <span class="k">if</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="n">ArchiveType</span><span class="o">.</span><span class="n">ZIP</span><span class="p">:</span>
        <span class="n">fileobj</span> <span class="o">=</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZIP_DEFLATED</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="n">ArchiveType</span><span class="o">.</span><span class="n">TAR_GZ</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">gzip</span><span class="w"> </span><span class="kn">import</span> <span class="n">GzipFile</span>

            <span class="c1"># We don&#39;t use the builtin gzip functionality of the `tarfile`</span>
            <span class="c1"># library as that one includes the tar filename and creation</span>
            <span class="c1"># timestamp in the archive which causes the hash of the resulting</span>
            <span class="c1"># file to be different each time. We use this hash to avoid</span>
            <span class="c1"># duplicate uploads, which is why we pass empty values for filename</span>
            <span class="c1"># and mtime here.</span>
            <span class="n">close_fileobj</span> <span class="o">=</span> <span class="n">fileobj</span> <span class="o">=</span> <span class="n">GzipFile</span><span class="p">(</span>
                <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;wb&quot;</span><span class="p">,</span> <span class="n">fileobj</span><span class="o">=</span><span class="n">output_file</span><span class="p">,</span> <span class="n">mtime</span><span class="o">=</span><span class="mf">0.0</span>
            <span class="p">)</span>
        <span class="n">fileobj</span> <span class="o">=</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">fileobj</span><span class="o">=</span><span class="n">fileobj</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">fileobj</span> <span class="k">as</span> <span class="n">af</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">archive_path</span><span class="p">,</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">archive_path</span> <span class="ow">in</span> <span class="n">extra_files</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="n">ArchiveType</span><span class="o">.</span><span class="n">ZIP</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">af</span><span class="p">,</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">)</span>
                    <span class="n">af</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">arcname</span><span class="o">=</span><span class="n">archive_path</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">af</span><span class="p">,</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">TarFile</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">info</span> <span class="o">:=</span> <span class="n">af</span><span class="o">.</span><span class="n">gettarinfo</span><span class="p">(</span>
                        <span class="n">file_path</span><span class="p">,</span> <span class="n">arcname</span><span class="o">=</span><span class="n">archive_path</span>
                    <span class="p">):</span>
                        <span class="k">if</span> <span class="n">info</span><span class="o">.</span><span class="n">isfile</span><span class="p">():</span>
                            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                                <span class="n">af</span><span class="o">.</span><span class="n">addfile</span><span class="p">(</span><span class="n">info</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">af</span><span class="o">.</span><span class="n">addfile</span><span class="p">(</span><span class="n">info</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">archive_path</span><span class="p">,</span> <span class="n">contents</span> <span class="ow">in</span> <span class="n">extra_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">contents_encoded</span> <span class="o">=</span> <span class="n">contents</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">archive_type</span> <span class="o">==</span> <span class="n">ArchiveType</span><span class="o">.</span><span class="n">ZIP</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">af</span><span class="p">,</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">)</span>
                    <span class="n">af</span><span class="o">.</span><span class="n">writestr</span><span class="p">(</span><span class="n">archive_path</span><span class="p">,</span> <span class="n">contents_encoded</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">af</span><span class="p">,</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">TarFile</span><span class="p">)</span>
                    <span class="n">info</span> <span class="o">=</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">TarInfo</span><span class="p">(</span><span class="n">archive_path</span><span class="p">)</span>
                    <span class="n">info</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">contents_encoded</span><span class="p">)</span>
                    <span class="n">af</span><span class="o">.</span><span class="n">addfile</span><span class="p">(</span><span class="n">info</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">contents_encoded</span><span class="p">))</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">close_fileobj</span><span class="p">:</span>
            <span class="n">close_fileobj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="n">output_file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.archivable.ArchiveType" class="doc doc-heading">
            <code>ArchiveType</code>


</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="StrEnum (zenml.utils.enum_utils.StrEnum)" href="#zenml.utils.enum_utils.StrEnum">StrEnum</a></code></p>


        <p>Archive types supported by the ZenML build context.</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>

<h5 id="zenml.utils.archivable-modules">Modules</h5>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.callback_registry" class="doc doc-heading">
            <code>callback_registry</code>


</h4>

    <div class="doc doc-contents ">

        <p>Callback registry implementation.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.callback_registry-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.callback_registry.CallbackRegistry" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">CallbackRegistry</span><span class="p">()</span></code>

</h6>


    <div class="doc doc-contents ">


        <p>Callback registry class.</p>

        <p>Initializes the callback registry.</p>








                  <details class="quote">
                    <summary>Source code in <code>src/zenml/utils/callback_registry.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes the callback registry.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_callbacks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span>
        <span class="n">Tuple</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">








<h7 id="zenml.utils.callback_registry.CallbackRegistry-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.callback_registry.CallbackRegistry.execute_callbacks" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">execute_callbacks</span><span class="p">(</span><span class="n">raise_on_exception</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Execute all registered callbacks.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>raise_on_exception</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, exceptions raised during the execution
of the callbacks will be raised. If False, a warning with the
exception will be logged instead.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Exceptions raised in any of the callbacks if
<code>raise_on_exception</code> is set to True.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/callback_registry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">execute_callbacks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_on_exception</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Execute all registered callbacks.</span>

<span class="sd">    Args:</span>
<span class="sd">        raise_on_exception: If True, exceptions raised during the execution</span>
<span class="sd">            of the callbacks will be raised. If False, a warning with the</span>
<span class="sd">            exception will be logged instead.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: Exceptions raised in any of the callbacks if</span>
<span class="sd">            `raise_on_exception` is set to True.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">callback</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callbacks</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">callback</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">raise_on_exception</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">e</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Failed to run callback: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.callback_registry.CallbackRegistry.register_callback" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">register_callback</span><span class="p">(</span><span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Register a callback.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>callback</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[<span title="zenml.utils.callback_registry.P">P</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The callback to register.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
                  <code><span title="zenml.utils.callback_registry.P.args">args</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Arguments to call the callback with.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="zenml.utils.callback_registry.P.kwargs">kwargs</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Keyword arguments to call the callback with.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/callback_registry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">register_callback</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a callback.</span>

<span class="sd">    Args:</span>
<span class="sd">        callback: The callback to register.</span>
<span class="sd">        *args: Arguments to call the callback with.</span>
<span class="sd">        **kwargs: Keyword arguments to call the callback with.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">callback</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">))</span>  <span class="c1"># type: ignore[arg-type]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.callback_registry.CallbackRegistry.reset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">reset</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Reset the callbacks.</p>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/callback_registry.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reset the callbacks.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_callbacks</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h5 id="zenml.utils.callback_registry-functions">Functions</h5>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.code_repository_utils" class="doc doc-heading">
            <code>code_repository_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utilities for code repositories.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.code_repository_utils-classes">Classes</h5>
<h5 id="zenml.utils.code_repository_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.code_repository_utils.find_active_code_repository" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_active_code_repository</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LocalRepositoryContext</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Find the active code repository for a given path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path at which to look for the code repository. If not given, the
source root will be used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="LocalRepositoryContext(code_repository: BaseCodeRepository) (zenml.code_repositories.LocalRepositoryContext)" href="core-code_repositories.html#zenml.code_repositories.LocalRepositoryContext">LocalRepositoryContext</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The local repository context active at that path or None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/code_repository_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">find_active_code_repository</span><span class="p">(</span>
    <span class="n">path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;LocalRepositoryContext&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find the active code repository for a given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Path at which to look for the code repository. If not given, the</span>
<span class="sd">            source root will be used.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The local repository context active at that path or None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_CODE_REPOSITORY_CACHE</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.client</span><span class="w"> </span><span class="kn">import</span> <span class="n">Client</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.code_repositories</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseCodeRepository</span>

    <span class="n">path</span> <span class="o">=</span> <span class="n">path</span> <span class="ow">or</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">get_source_root</span><span class="p">()</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">_CODE_REPOSITORY_CACHE</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_CODE_REPOSITORY_CACHE</span><span class="p">[</span><span class="n">path</span><span class="p">]</span>

    <span class="n">local_context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;LocalRepositoryContext&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">code_repositories</span> <span class="o">=</span> <span class="n">depaginate</span><span class="p">(</span><span class="n">list_method</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">list_code_repositories</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">code_repositories</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">repo</span> <span class="o">=</span> <span class="n">BaseCodeRepository</span><span class="o">.</span><span class="n">from_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Failed to import code repository class.&quot;</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="k">continue</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Failed to instantiate or login to code repository `</span><span class="si">%s</span><span class="s2">`: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">e</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">continue</span>

        <span class="n">local_context</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">get_local_context</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">local_context</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">code_repositories</span><span class="p">:</span>
            <span class="c1"># There are registered code repositories, but none was matching the</span>
            <span class="c1"># current path -&gt; We log the path to help in debugging issues</span>
            <span class="c1"># related to the source root.</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;No matching code repository found for path `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">path</span>
            <span class="p">)</span>

    <span class="n">_CODE_REPOSITORY_CACHE</span><span class="p">[</span><span class="n">path</span><span class="p">]</span> <span class="o">=</span> <span class="n">local_context</span>
    <span class="k">return</span> <span class="n">local_context</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.code_repository_utils.set_custom_local_repository" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_custom_local_repository</span><span class="p">(</span><span class="n">root</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">repo</span><span class="p">:</span> <span class="n">BaseCodeRepository</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Manually defines a local repository for a path.</p>
<p>To explain what this function does we need to take a dive into source
resolving and what happens inside the Docker image entrypoint:
* When trying to resolve an object to a source, we first determine whether
the file is a user file or not.
* If the file is a user file, we check if that user file is inside a clean
code repository using the
<code>code_repository_utils.find_active_code_repository(...)</code> function. If that
is the case, the object will be resolved to a <code>CodeRepositorySource</code> which
includes additional information about the current commit and the ID of the
code repository.
* The <code>code_repository_utils.find_active_code_repository(...)</code> uses the
code repository implementation classes to check whether the code repository
"exists" at that local path. For git repositories, this check might look as
follows: The code repository first checks if there is a git repository at
that path or in any parent directory. If there is, the remote URLs of this
git repository will be checked to see if one matches the URL defined for
the code repository.
* When running a step inside a Docker image, ZenML potentially downloads
files from a code repository. This usually does not download the entire
repository (and in the case of git might not download a .git directory which
defines a local git repository) but only specific files. If we now try to
resolve any object while running in this container, it will not get resolved
to a <code>CodeRepositorySource</code> as
<code>code_repository_utils.find_active_code_repository(...)</code> won't find an
active repository. As we downloaded these files, we however know that they
belong to a certain code repository at a specific commit, and that's what we
can define using this function.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>root</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The repository root.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>commit</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The commit of the repository.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>repo</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseCodeRepository(id: UUID, name: str, config: Dict[str, Any]) (zenml.code_repositories.BaseCodeRepository)" href="core-code_repositories.html#zenml.code_repositories.BaseCodeRepository">BaseCodeRepository</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The code repository associated with the local repository.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/code_repository_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_custom_local_repository</span><span class="p">(</span>
    <span class="n">root</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;BaseCodeRepository&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Manually defines a local repository for a path.</span>

<span class="sd">    To explain what this function does we need to take a dive into source</span>
<span class="sd">    resolving and what happens inside the Docker image entrypoint:</span>
<span class="sd">    * When trying to resolve an object to a source, we first determine whether</span>
<span class="sd">    the file is a user file or not.</span>
<span class="sd">    * If the file is a user file, we check if that user file is inside a clean</span>
<span class="sd">    code repository using the</span>
<span class="sd">    `code_repository_utils.find_active_code_repository(...)` function. If that</span>
<span class="sd">    is the case, the object will be resolved to a `CodeRepositorySource` which</span>
<span class="sd">    includes additional information about the current commit and the ID of the</span>
<span class="sd">    code repository.</span>
<span class="sd">    * The `code_repository_utils.find_active_code_repository(...)` uses the</span>
<span class="sd">    code repository implementation classes to check whether the code repository</span>
<span class="sd">    &quot;exists&quot; at that local path. For git repositories, this check might look as</span>
<span class="sd">    follows: The code repository first checks if there is a git repository at</span>
<span class="sd">    that path or in any parent directory. If there is, the remote URLs of this</span>
<span class="sd">    git repository will be checked to see if one matches the URL defined for</span>
<span class="sd">    the code repository.</span>
<span class="sd">    * When running a step inside a Docker image, ZenML potentially downloads</span>
<span class="sd">    files from a code repository. This usually does not download the entire</span>
<span class="sd">    repository (and in the case of git might not download a .git directory which</span>
<span class="sd">    defines a local git repository) but only specific files. If we now try to</span>
<span class="sd">    resolve any object while running in this container, it will not get resolved</span>
<span class="sd">    to a `CodeRepositorySource` as</span>
<span class="sd">    `code_repository_utils.find_active_code_repository(...)` won&#39;t find an</span>
<span class="sd">    active repository. As we downloaded these files, we however know that they</span>
<span class="sd">    belong to a certain code repository at a specific commit, and that&#39;s what we</span>
<span class="sd">    can define using this function.</span>

<span class="sd">    Args:</span>
<span class="sd">        root: The repository root.</span>
<span class="sd">        commit: The commit of the repository.</span>
<span class="sd">        repo: The code repository associated with the local repository.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.utils.downloaded_repository_context</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
        <span class="n">_DownloadedRepositoryContext</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">global</span> <span class="n">_CODE_REPOSITORY_CACHE</span>

    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">source_utils</span><span class="o">.</span><span class="n">get_source_root</span><span class="p">())</span>
    <span class="n">_CODE_REPOSITORY_CACHE</span><span class="p">[</span><span class="n">path</span><span class="p">]</span> <span class="o">=</span> <span class="n">_DownloadedRepositoryContext</span><span class="p">(</span>
        <span class="n">code_repository</span><span class="o">=</span><span class="n">repo</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="n">commit</span><span class="o">=</span><span class="n">commit</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>
<h5 id="zenml.utils.code_repository_utils-modules">Modules</h5>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.code_utils" class="doc doc-heading">
            <code>code_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Code utilities.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.code_utils-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.code_utils.CodeArchive" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">CodeArchive</span><span class="p">(</span><span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Archivable(*args: Any, **kwargs: Any) (zenml.utils.archivable.Archivable)" href="#zenml.utils.archivable.Archivable">Archivable</a></code></p>


        <p>Code archive class.</p>
<p>This class is used to archive user code before uploading it to the artifact
store. If the user code is stored in a Git repository, only files not
excluded by gitignores will be included in the archive.</p>

        <p>Initialize the object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>root</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Root directory of the archive.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="quote">
                    <summary>Source code in <code>src/zenml/utils/code_utils.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the object.</span>

<span class="sd">    Args:</span>
<span class="sd">        root: Root directory of the archive.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_root</span> <span class="o">=</span> <span class="n">root</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">





<h7 id="zenml.utils.code_utils.CodeArchive-attributes">Attributes</h7>

<div class="doc doc-object doc-attribute">



<h8 id="zenml.utils.code_utils.CodeArchive.git_repo" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">git_repo</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Repo</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h8>


    <div class="doc doc-contents ">

        <p>Git repository active at the code archive root.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="git.repo.base.Repo">Repo</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The git repository if available.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>


<h7 id="zenml.utils.code_utils.CodeArchive-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.code_utils.CodeArchive.get_files" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_files</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Gets all regular files that should be included in the archive.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the code archive would not include any files.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dict {path_in_archive: path_on_filesystem} for all regular files</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>in the archive.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/code_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_files</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets all regular files that should be included in the archive.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the code archive would not include any files.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict {path_in_archive: path_on_filesystem} for all regular files</span>
<span class="sd">        in the archive.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="n">all_files</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">repo</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">git_repo</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">git</span><span class="o">.</span><span class="n">ls_files</span><span class="p">(</span>
                <span class="s2">&quot;--cached&quot;</span><span class="p">,</span>
                <span class="s2">&quot;--others&quot;</span><span class="p">,</span>
                <span class="s2">&quot;--modified&quot;</span><span class="p">,</span>
                <span class="s2">&quot;--exclude-standard&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Failed to get non-ignored files from git: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">all_files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_all_files</span><span class="p">(</span><span class="n">archive_root</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
                <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">repo</span><span class="o">.</span><span class="n">working_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
                <span class="n">path_in_archive</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">relpath</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
                    <span class="n">all_files</span><span class="p">[</span><span class="n">path_in_archive</span><span class="p">]</span> <span class="o">=</span> <span class="n">file_path</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">all_files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_all_files</span><span class="p">(</span><span class="n">archive_root</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">all_files</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;The code archive to be uploaded does not contain any files. &quot;</span>
            <span class="s2">&quot;This is probably because all files in your source root &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="si">}</span><span class="s2">` are ignored by a .gitignore file.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Explicitly remove .zen directories as we write an updated version</span>
    <span class="c1"># to disk everytime ZenML is called. This updates the mtime of the</span>
    <span class="c1"># file, which invalidates the code upload caching. The values in</span>
    <span class="c1"># the .zen directory are not needed anyway as we set them as</span>
    <span class="c1"># environment variables.</span>
    <span class="n">all_files</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">path_in_archive</span><span class="p">:</span> <span class="n">file_path</span>
        <span class="k">for</span> <span class="n">path_in_archive</span><span class="p">,</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">all_files</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="k">if</span> <span class="s2">&quot;.zen&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">Path</span><span class="p">(</span><span class="n">path_in_archive</span><span class="p">)</span><span class="o">.</span><span class="n">parts</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">all_files</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.code_utils.CodeArchive.write_archive" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_archive</span><span class="p">(</span><span class="n">output_file</span><span class="p">:</span> <span class="n">IO</span><span class="p">[</span><span class="nb">bytes</span><span class="p">],</span> <span class="n">archive_type</span><span class="p">:</span> <span class="n">ArchiveType</span> <span class="o">=</span> <span class="n">ArchiveType</span><span class="o">.</span><span class="n">TAR_GZ</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Writes an archive of the build context to the given file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>output_file</code>
            </td>
            <td>
                  <code><span title="typing.IO">IO</span>[<span title="bytes">bytes</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file to write the archive to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>archive_type</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ArchiveType (zenml.utils.archivable.ArchiveType)" href="#zenml.utils.archivable.ArchiveType">ArchiveType</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of archive to create.</p>
              </div>
            </td>
            <td>
                  <code><span title="zenml.utils.archivable.ArchiveType.TAR_GZ">TAR_GZ</span></code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/code_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write_archive</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">output_file</span><span class="p">:</span> <span class="n">IO</span><span class="p">[</span><span class="nb">bytes</span><span class="p">],</span>
    <span class="n">archive_type</span><span class="p">:</span> <span class="n">ArchiveType</span> <span class="o">=</span> <span class="n">ArchiveType</span><span class="o">.</span><span class="n">TAR_GZ</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Writes an archive of the build context to the given file.</span>

<span class="sd">    Args:</span>
<span class="sd">        output_file: The file to write the archive to.</span>
<span class="sd">        archive_type: The type of archive to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">write_archive</span><span class="p">(</span>
        <span class="n">output_file</span><span class="o">=</span><span class="n">output_file</span><span class="p">,</span> <span class="n">archive_type</span><span class="o">=</span><span class="n">archive_type</span>
    <span class="p">)</span>
    <span class="n">archive_size</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="n">output_file</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">archive_size</span> <span class="o">&gt;</span> <span class="mi">20</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Code archive size: `</span><span class="si">%s</span><span class="s2">`. If you believe this is &quot;</span>
            <span class="s2">&quot;unreasonably large, make sure to version your code in git and &quot;</span>
            <span class="s2">&quot;ignore unnecessary files using a `.gitignore` file.&quot;</span><span class="p">,</span>
            <span class="n">string_utils</span><span class="o">.</span><span class="n">get_human_readable_filesize</span><span class="p">(</span><span class="n">archive_size</span><span class="p">),</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h5 id="zenml.utils.code_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.code_utils.compute_file_hash" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_file_hash</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="n">IO</span><span class="p">[</span><span class="nb">bytes</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Compute a hash of the content of a file.</p>
<p>This function will not seek the file before or after the hash computation.
This means that the content will be computed based on the current cursor
until the end of the file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file</code>
            </td>
            <td>
                  <code><span title="typing.IO">IO</span>[<span title="bytes">bytes</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file for which to compute the hash.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A hash of the file content.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/code_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">compute_file_hash</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="n">IO</span><span class="p">[</span><span class="nb">bytes</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute a hash of the content of a file.</span>

<span class="sd">    This function will not seek the file before or after the hash computation.</span>
<span class="sd">    This means that the content will be computed based on the current cursor</span>
<span class="sd">    until the end of the file.</span>

<span class="sd">    Args:</span>
<span class="sd">        file: The file for which to compute the hash.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A hash of the file content.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">hash_</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">()</span>  <span class="c1"># nosec</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">64</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">hash_</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">hash_</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.code_utils.download_and_extract_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">download_and_extract_code</span><span class="p">(</span><span class="n">code_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">extract_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Download and extract code.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>code_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path where the code is uploaded.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>extract_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Directory where to code should be extracted to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/code_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">download_and_extract_code</span><span class="p">(</span><span class="n">code_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">extract_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Download and extract code.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_path: Path where the code is uploaded.</span>
<span class="sd">        extract_dir: Directory where to code should be extracted to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">download_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">code_path</span><span class="p">)</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">code_path</span><span class="p">,</span> <span class="n">download_path</span><span class="p">)</span>

    <span class="n">shutil</span><span class="o">.</span><span class="n">unpack_archive</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">download_path</span><span class="p">,</span> <span class="n">extract_dir</span><span class="o">=</span><span class="n">extract_dir</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">download_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.code_utils.download_code_from_artifact_store" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">download_code_from_artifact_store</span><span class="p">(</span><span class="n">code_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">artifact_store</span><span class="p">:</span> <span class="n">BaseArtifactStore</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Download code from the artifact store.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>code_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path where the code is stored.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_store</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseArtifactStore(*args: Any, **kwargs: Any) (zenml.artifact_stores.BaseArtifactStore)" href="core-artifact_stores.html#zenml.artifact_stores.BaseArtifactStore">BaseArtifactStore</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The artifact store to use for the download.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the code is stored in an artifact store which is
not active.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/code_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">download_code_from_artifact_store</span><span class="p">(</span>
    <span class="n">code_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">artifact_store</span><span class="p">:</span> <span class="s2">&quot;BaseArtifactStore&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Download code from the artifact store.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_path: Path where the code is stored.</span>
<span class="sd">        artifact_store: The artifact store to use for the download.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the code is stored in an artifact store which is</span>
<span class="sd">            not active.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Downloading code from artifact store path `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">code_path</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">code_path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;The code is not stored in the artifact store &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> that was passed to download it.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Make sure we register the artifact store filesystem here so the</span>
    <span class="c1"># fileio.copy call will pick up the right credentials</span>
    <span class="n">artifact_store</span><span class="o">.</span><span class="n">_register</span><span class="p">()</span>

    <span class="n">extract_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s2">&quot;code&quot;</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">extract_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">download_and_extract_code</span><span class="p">(</span><span class="n">code_path</span><span class="o">=</span><span class="n">code_path</span><span class="p">,</span> <span class="n">extract_dir</span><span class="o">=</span><span class="n">extract_dir</span><span class="p">)</span>

    <span class="n">source_utils</span><span class="o">.</span><span class="n">set_custom_source_root</span><span class="p">(</span><span class="n">extract_dir</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">extract_dir</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">extract_dir</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.code_utils.download_notebook_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">download_notebook_code</span><span class="p">(</span><span class="n">artifact_store</span><span class="p">:</span> <span class="n">BaseArtifactStore</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">download_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Download code extracted from a notebook cell.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>artifact_store</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseArtifactStore(*args: Any, **kwargs: Any) (zenml.artifact_stores.BaseArtifactStore)" href="core-artifact_stores.html#zenml.artifact_stores.BaseArtifactStore">BaseArtifactStore</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The artifact store from which to download the code.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>file_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the code file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>download_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The local path where the file should be downloaded to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no file with the given filename exists in this
artifact store.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/code_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">download_notebook_code</span><span class="p">(</span>
    <span class="n">artifact_store</span><span class="p">:</span> <span class="s2">&quot;BaseArtifactStore&quot;</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">download_path</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Download code extracted from a notebook cell.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_store: The artifact store from which to download the code.</span>
<span class="sd">        file_name: The name of the code file.</span>
<span class="sd">        download_path: The local path where the file should be downloaded to.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: If no file with the given filename exists in this</span>
<span class="sd">            artifact store.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">code_dir</span> <span class="o">=</span> <span class="n">_get_notebook_upload_dir</span><span class="p">(</span><span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span><span class="p">)</span>
    <span class="n">code_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">code_dir</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">code_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Notebook code at path </span><span class="si">{</span><span class="n">code_path</span><span class="si">}</span><span class="s2"> not found.&quot;</span>
        <span class="p">)</span>

    <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">code_path</span><span class="p">,</span> <span class="n">download_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.code_utils.upload_code_if_necessary" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">upload_code_if_necessary</span><span class="p">(</span><span class="n">code_archive</span><span class="p">:</span> <span class="n">CodeArchive</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Upload code to the artifact store if necessary.</p>
<p>This function computes a hash of the code to be uploaded, and if an archive
with the same hash already exists it will not re-upload but instead return
the path to the existing archive.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>code_archive</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="CodeArchive(root: Optional[str] = None) (zenml.utils.code_utils.CodeArchive)" href="#zenml.utils.code_utils.CodeArchive">CodeArchive</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The code archive to upload.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path where the archived code is uploaded.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/code_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">upload_code_if_necessary</span><span class="p">(</span><span class="n">code_archive</span><span class="p">:</span> <span class="n">CodeArchive</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upload code to the artifact store if necessary.</span>

<span class="sd">    This function computes a hash of the code to be uploaded, and if an archive</span>
<span class="sd">    with the same hash already exists it will not re-upload but instead return</span>
<span class="sd">    the path to the existing archive.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_archive: The code archive to upload.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The path where the archived code is uploaded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span>

    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w+b&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.tar.gz&quot;</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">code_archive</span><span class="o">.</span><span class="n">write_archive</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="n">archive_path</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">name</span>
        <span class="n">archive_hash</span> <span class="o">=</span> <span class="n">compute_file_hash</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

    <span class="n">upload_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;code_uploads&quot;</span><span class="p">)</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">upload_dir</span><span class="p">)</span>
    <span class="n">upload_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">upload_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">archive_hash</span><span class="si">}</span><span class="s2">.tar.gz&quot;</span><span class="p">)</span>
    <span class="n">upload_path</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">sanitize_remote_path</span><span class="p">(</span><span class="n">upload_path</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">upload_path</span><span class="p">):</span>
        <span class="n">archive_size</span> <span class="o">=</span> <span class="n">string_utils</span><span class="o">.</span><span class="n">get_human_readable_filesize</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="n">archive_path</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Uploading code to `</span><span class="si">%s</span><span class="s2">` (Size: </span><span class="si">%s</span><span class="s2">).&quot;</span><span class="p">,</span> <span class="n">upload_path</span><span class="p">,</span> <span class="n">archive_size</span>
        <span class="p">)</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">archive_path</span><span class="p">,</span> <span class="n">upload_path</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Code upload finished.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Code already exists in artifact store, skipping upload.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">archive_path</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">archive_path</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">upload_path</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.code_utils.upload_notebook_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">upload_notebook_code</span><span class="p">(</span><span class="n">artifact_store</span><span class="p">:</span> <span class="n">BaseArtifactStore</span><span class="p">,</span> <span class="n">cell_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Upload code extracted from a notebook cell.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>artifact_store</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseArtifactStore(*args: Any, **kwargs: Any) (zenml.artifact_stores.BaseArtifactStore)" href="core-artifact_stores.html#zenml.artifact_stores.BaseArtifactStore">BaseArtifactStore</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The artifact store in which to upload the code.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cell_code</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The notebook cell code.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>file_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The filename to use for storing the cell code.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/code_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">upload_notebook_code</span><span class="p">(</span>
    <span class="n">artifact_store</span><span class="p">:</span> <span class="s2">&quot;BaseArtifactStore&quot;</span><span class="p">,</span> <span class="n">cell_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upload code extracted from a notebook cell.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_store: The artifact store in which to upload the code.</span>
<span class="sd">        cell_code: The notebook cell code.</span>
<span class="sd">        file_name: The filename to use for storing the cell code.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">upload_dir</span> <span class="o">=</span> <span class="n">_get_notebook_upload_dir</span><span class="p">(</span><span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span><span class="p">)</span>
    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">upload_dir</span><span class="p">)</span>
    <span class="n">upload_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">upload_dir</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">upload_path</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">upload_path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cell_code</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Uploaded notebook cell code to </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">upload_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>
<h5 id="zenml.utils.code_utils-modules">Modules</h5>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.context_utils" class="doc doc-heading">
            <code>context_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Context variable utilities.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.context_utils-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.context_utils.ContextVarList" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">ContextVarList</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="typing.Generic">Generic</span>[<span title="zenml.utils.context_utils.T">T</span>]</code></p>


        <p>Thread-safe wrapper around ContextVar[List] with atomic add/remove operations.</p>

        <p>Initialize the context variable list.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name for the underlying ContextVar.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="quote">
                    <summary>Source code in <code>src/zenml/utils/context_utils.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the context variable list.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name for the underlying ContextVar.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Use None as default to avoid mutable default issues</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_context_var</span><span class="p">:</span> <span class="n">ContextVar</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">ContextVar</span><span class="p">(</span>
        <span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">)</span>
    <span class="c1"># Lock to ensure atomic operations</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">








<h7 id="zenml.utils.context_utils.ContextVarList-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.context_utils.ContextVarList.add" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add</span><span class="p">(</span><span class="n">item</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Thread-safely add an item to the list.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>item</code>
            </td>
            <td>
                  <code><span title="zenml.utils.context_utils.T">T</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The item to add to the list.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/context_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Thread-safely add an item to the list.</span>

<span class="sd">    Args:</span>
<span class="sd">        item: The item to add to the list.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
        <span class="n">current_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">x</span> <span class="ow">is</span> <span class="n">item</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">current_list</span><span class="p">):</span>
            <span class="n">new_list</span> <span class="o">=</span> <span class="n">current_list</span> <span class="o">+</span> <span class="p">[</span><span class="n">item</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_context_var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">new_list</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.context_utils.ContextVarList.get" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Get the current list value. Returns empty list if not set.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="zenml.utils.context_utils.T">T</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The current list value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/context_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the current list value. Returns empty list if not set.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The current list value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">value</span> <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.context_utils.ContextVarList.remove" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove</span><span class="p">(</span><span class="n">item</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Thread-safely remove an item from the list.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>item</code>
            </td>
            <td>
                  <code><span title="zenml.utils.context_utils.T">T</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The item to remove from the list.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/context_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Thread-safely remove an item from the list.</span>

<span class="sd">    Args:</span>
<span class="sd">        item: The item to remove from the list.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
        <span class="n">current_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">x</span> <span class="ow">is</span> <span class="n">item</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">current_list</span><span class="p">):</span>
            <span class="n">new_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">current_list</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">item</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_context_var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">new_list</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.cuda_utils" class="doc doc-heading">
            <code>cuda_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utilities for managing GPU memory.</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.cuda_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.cuda_utils.cleanup_gpu_memory" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cleanup_gpu_memory</span><span class="p">(</span><span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Clean up GPU memory.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>force</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to force the cleanup of GPU memory (must be passed explicitly)</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/cuda_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">cleanup_gpu_memory</span><span class="p">(</span><span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clean up GPU memory.</span>

<span class="sd">    Args:</span>
<span class="sd">        force: whether to force the cleanup of GPU memory (must be passed explicitly)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;This will clean up all GPU memory on current physical machine. &quot;</span>
            <span class="s2">&quot;This action is considered to be dangerous by default, since &quot;</span>
            <span class="s2">&quot;it might affect other processes running in the same environment. &quot;</span>
            <span class="s2">&quot;If this is intended, please explicitly pass `force=True`.&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
        <span class="k">except</span> <span class="ne">ModuleNotFoundError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;No PyTorch installed. Skipping GPU memory cleanup.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Cleaning up GPU memory...&quot;</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">():</span>
            <span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">empty_cache</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.daemon" class="doc doc-heading">
            <code>daemon</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions to start/stop daemon processes.</p>
<p>This is only implemented for UNIX systems and therefore doesn't work on
Windows. Based on
https://www.jejik.com/articles/2007/02/a_simple_unix_linux_daemon_in_python/</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.daemon-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.daemon.check_if_daemon_is_running" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_if_daemon_is_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks whether a daemon process indicated by the PID file is running.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pid_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to file containing the PID of the daemon
process to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the daemon process is running, otherwise False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/daemon.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">check_if_daemon_is_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks whether a daemon process indicated by the PID file is running.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file: Path to file containing the PID of the daemon</span>
<span class="sd">            process to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the daemon process is running, otherwise False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.daemon.daemonize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">daemonize</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">working_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">F</span><span class="p">],</span> <span class="n">F</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Decorator that executes the decorated function as a daemon process.</p>
<p>Use this decorator to easily transform any function into a daemon
process.</p>
<p>For example,</p>
<pre><code class="language-python">import time
from zenml.utils.daemon import daemonize


@daemonize(log_file='/tmp/daemon.log', pid_file='/tmp/daemon.pid')
def sleeping_daemon(period: int) -&gt; None:
    print(f&quot;I'm a daemon! I will sleep for {period} seconds.&quot;)
    time.sleep(period)
    print(&quot;Done sleeping, flying away.&quot;)

sleeping_daemon(period=30)

print(&quot;I'm the daemon's parent!.&quot;)
time.sleep(10) # just to prove that the daemon is running in parallel
</code></pre>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pid_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a file where the PID of the daemon process will
be stored.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>log_file</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>file where stdout and stderr are redirected for the daemon
process. If not supplied, the daemon will be silenced (i.e. have
its stdout/stderr redirected to /dev/null).</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>working_directory</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>working directory for the daemon process,
defaults to the root directory.</p>
              </div>
            </td>
            <td>
                  <code>&#39;/&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<span title="zenml.utils.daemon.F">F</span>], <span title="zenml.utils.daemon.F">F</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Decorated function that, when called, will detach from the current</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<span title="zenml.utils.daemon.F">F</span>], <span title="zenml.utils.daemon.F">F</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>process and continue executing in the background, as a daemon</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<span title="zenml.utils.daemon.F">F</span>], <span title="zenml.utils.daemon.F">F</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>process.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/daemon.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">daemonize</span><span class="p">(</span>
    <span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">working_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">F</span><span class="p">],</span> <span class="n">F</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Decorator that executes the decorated function as a daemon process.</span>

<span class="sd">    Use this decorator to easily transform any function into a daemon</span>
<span class="sd">    process.</span>

<span class="sd">    For example,</span>

<span class="sd">    ```python</span>
<span class="sd">    import time</span>
<span class="sd">    from zenml.utils.daemon import daemonize</span>


<span class="sd">    @daemonize(log_file=&#39;/tmp/daemon.log&#39;, pid_file=&#39;/tmp/daemon.pid&#39;)</span>
<span class="sd">    def sleeping_daemon(period: int) -&gt; None:</span>
<span class="sd">        print(f&quot;I&#39;m a daemon! I will sleep for {period} seconds.&quot;)</span>
<span class="sd">        time.sleep(period)</span>
<span class="sd">        print(&quot;Done sleeping, flying away.&quot;)</span>

<span class="sd">    sleeping_daemon(period=30)</span>

<span class="sd">    print(&quot;I&#39;m the daemon&#39;s parent!.&quot;)</span>
<span class="sd">    time.sleep(10) # just to prove that the daemon is running in parallel</span>
<span class="sd">    ```</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file: a file where the PID of the daemon process will</span>
<span class="sd">            be stored.</span>
<span class="sd">        log_file: file where stdout and stderr are redirected for the daemon</span>
<span class="sd">            process. If not supplied, the daemon will be silenced (i.e. have</span>
<span class="sd">            its stdout/stderr redirected to /dev/null).</span>
<span class="sd">        working_directory: working directory for the daemon process,</span>
<span class="sd">            defaults to the root directory.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Decorated function that, when called, will detach from the current</span>
<span class="sd">        process and continue executing in the background, as a daemon</span>
<span class="sd">        process.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">inner_decorator</span><span class="p">(</span><span class="n">_func</span><span class="p">:</span> <span class="n">F</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">F</span><span class="p">:</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">daemon</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Standard daemonization of a process.</span>

<span class="sd">            Args:</span>
<span class="sd">                *args: Arguments to be passed to the decorated function.</span>
<span class="sd">                **kwargs: Keyword arguments to be passed to the decorated</span>
<span class="sd">                    function.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="s2">&quot;Daemon functionality is currently not supported on Windows.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">run_as_daemon</span><span class="p">(</span>
                    <span class="n">_func</span><span class="p">,</span>
                    <span class="n">log_file</span><span class="o">=</span><span class="n">log_file</span><span class="p">,</span>
                    <span class="n">pid_file</span><span class="o">=</span><span class="n">pid_file</span><span class="p">,</span>
                    <span class="n">working_directory</span><span class="o">=</span><span class="n">working_directory</span><span class="p">,</span>
                    <span class="o">*</span><span class="n">args</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">daemon</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">inner_decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.daemon.get_daemon_pid_if_running" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Read and return the PID value from a PID file.</p>
<p>It does this if the daemon process tracked by the PID file is running.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pid_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to file containing the PID of the daemon
process to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The PID of the daemon process if it is running, otherwise None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/daemon.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Read and return the PID value from a PID file.</span>

<span class="sd">    It does this if the daemon process tracked by the PID file is running.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file: Path to file containing the PID of the daemon</span>
<span class="sd">            process to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The PID of the daemon process if it is running, otherwise None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">IOError</span><span class="p">,</span> <span class="ne">FileNotFoundError</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Daemon PID file &#39;</span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2">&#39; does not exist or cannot be read.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Daemon PID file &#39;</span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2">&#39; contains invalid data.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">pid</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">psutil</span><span class="o">.</span><span class="n">pid_exists</span><span class="p">(</span><span class="n">pid</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Daemon with PID &#39;</span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s2">&#39; is no longer running.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Daemon with PID &#39;</span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s2">&#39; is running.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pid</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.daemon.run_as_daemon" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_as_daemon</span><span class="p">(</span><span class="n">daemon_function</span><span class="p">:</span> <span class="n">F</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">working_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Runs a function as a daemon process.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>daemon_function</code>
            </td>
            <td>
                  <code><span title="zenml.utils.daemon.F">F</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The function to run as a daemon.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pid_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to file in which to store the PID of the daemon
process.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>log_file</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional file to which the daemons stdout/stderr will be
redirected to.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>working_directory</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Working directory for the daemon process,
defaults to the root directory.</p>
              </div>
            </td>
            <td>
                  <code>&#39;/&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>args</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Positional arguments to pass to the daemon function.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Keyword arguments to pass to the daemon function.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileExistsError">FileExistsError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the PID file already exists.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/daemon.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run_as_daemon</span><span class="p">(</span>
    <span class="n">daemon_function</span><span class="p">:</span> <span class="n">F</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">working_directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs a function as a daemon process.</span>

<span class="sd">    Args:</span>
<span class="sd">        daemon_function: The function to run as a daemon.</span>
<span class="sd">        pid_file: Path to file in which to store the PID of the daemon</span>
<span class="sd">            process.</span>
<span class="sd">        log_file: Optional file to which the daemons stdout/stderr will be</span>
<span class="sd">            redirected to.</span>
<span class="sd">        working_directory: Working directory for the daemon process,</span>
<span class="sd">            defaults to the root directory.</span>
<span class="sd">        args: Positional arguments to pass to the daemon function.</span>
<span class="sd">        kwargs: Keyword arguments to pass to the daemon function.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileExistsError: If the PID file already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># convert to absolute path as we will change working directory later</span>
    <span class="k">if</span> <span class="n">pid_file</span><span class="p">:</span>
        <span class="n">pid_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">log_file</span><span class="p">:</span>
        <span class="n">log_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">log_file</span><span class="p">)</span>

    <span class="c1"># create parent directory if necessary</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="n">log_file</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">f</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># check if PID file exists</span>
    <span class="k">if</span> <span class="n">pid_file</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">pid_file</span><span class="p">):</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pid</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The PID file &#39;</span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2">&#39; already exists and a daemon &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;process with the same PID &#39;</span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s2">&#39; is already running.&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Please remove the PID file or kill the daemon process &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;before starting a new daemon.&quot;</span>
            <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Removing left over PID file &#39;</span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2">&#39; from a previous &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;daemon process that didn&#39;t shut down correctly.&quot;</span>
        <span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>

    <span class="c1"># first fork</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">fork</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pid</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># this is the process that called `run_as_daemon` so we</span>
            <span class="c1"># wait for the child process to finish to avoid creating</span>
            <span class="c1"># zombie processes. Then we simply return so the current process</span>
            <span class="c1"># can continue what it was doing.</span>
            <span class="n">os</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
            <span class="k">return</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to fork (error code: </span><span class="si">%d</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">errno</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># decouple from parent environment</span>
    <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">working_directory</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">setsid</span><span class="p">()</span>
    <span class="n">os</span><span class="o">.</span><span class="n">umask</span><span class="p">(</span><span class="mo">0o22</span><span class="p">)</span>

    <span class="c1"># second fork</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">fork</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pid</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># this is the parent of the future daemon process, kill it</span>
            <span class="c1"># so the daemon gets adopted by the init process.</span>
            <span class="c1"># we use os._exit here to prevent the inherited code from</span>
            <span class="c1"># catching the SystemExit exception and doing something else.</span>
            <span class="n">os</span><span class="o">.</span><span class="n">_exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to fork (error code: </span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">errno</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="c1"># we use os._exit here to prevent the inherited code from</span>
        <span class="c1"># catching the SystemExit exception and doing something else.</span>
        <span class="n">os</span><span class="o">.</span><span class="n">_exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># setup the daemon</span>
    <span class="n">setup_daemon</span><span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="n">log_file</span><span class="p">)</span>

    <span class="c1"># finally run the actual daemon code</span>
    <span class="n">daemon_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.daemon.setup_daemon" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_daemon</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Sets up a daemon process.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pid_file</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to file in which to store the PID of the daemon
process.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>log_file</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional file to which the daemons stdout/stderr will be
redirected to.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/daemon.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">setup_daemon</span><span class="p">(</span>
    <span class="n">pid_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets up a daemon process.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file: Path to file in which to store the PID of the daemon</span>
<span class="sd">            process.</span>
<span class="sd">        log_file: Optional file to which the daemons stdout/stderr will be</span>
<span class="sd">            redirected to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># redirect standard file descriptors to devnull (or the given logfile)</span>
    <span class="n">devnull</span> <span class="o">=</span> <span class="s2">&quot;/dev/null&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">os</span><span class="p">,</span> <span class="s2">&quot;devnull&quot;</span><span class="p">):</span>
        <span class="n">devnull</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">devnull</span>

    <span class="n">devnull_fd</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">devnull</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">O_RDWR</span><span class="p">)</span>
    <span class="n">log_fd</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">log_file</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">O_CREAT</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">O_RDWR</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">O_APPEND</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">log_file</span>
        <span class="k">else</span> <span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">out_fd</span> <span class="o">=</span> <span class="n">log_fd</span> <span class="ow">or</span> <span class="n">devnull_fd</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">dup2</span><span class="p">(</span><span class="n">devnull_fd</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="o">.</span><span class="n">fileno</span><span class="p">())</span>
    <span class="k">except</span> <span class="n">io</span><span class="o">.</span><span class="n">UnsupportedOperation</span><span class="p">:</span>
        <span class="c1"># stdin is not a file descriptor</span>
        <span class="k">pass</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">dup2</span><span class="p">(</span><span class="n">out_fd</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">fileno</span><span class="p">())</span>
    <span class="k">except</span> <span class="n">io</span><span class="o">.</span><span class="n">UnsupportedOperation</span><span class="p">:</span>
        <span class="c1"># stdout is not a file descriptor</span>
        <span class="k">pass</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">dup2</span><span class="p">(</span><span class="n">out_fd</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">fileno</span><span class="p">())</span>
    <span class="k">except</span> <span class="n">io</span><span class="o">.</span><span class="n">UnsupportedOperation</span><span class="p">:</span>
        <span class="c1"># stderr is not a file descriptor</span>
        <span class="k">pass</span>

    <span class="c1"># Close original FDs after duplication to avoid leaks.</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">devnull_fd</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">if</span> <span class="n">log_fd</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">log_fd</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">if</span> <span class="n">pid_file</span><span class="p">:</span>
        <span class="c1"># write the PID file</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># register actions in case this process exits/gets killed</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">cleanup</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Daemon cleanup.&quot;&quot;&quot;</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Cleanup: terminating children processes...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">terminate_children</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pid_file</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">pid_file</span><span class="p">):</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cleanup: removing PID file </span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2">...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">sighndl</span><span class="p">(</span><span class="n">signum</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">types</span><span class="o">.</span><span class="n">FrameType</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Daemon signal handler.</span>

<span class="sd">        Args:</span>
<span class="sd">            signum: Signal number.</span>
<span class="sd">            frame: Frame object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Handling signal </span><span class="si">{</span><span class="n">signum</span><span class="si">}</span><span class="s2">...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">cleanup</span><span class="p">()</span>

    <span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGTERM</span><span class="p">,</span> <span class="n">sighndl</span><span class="p">)</span>
    <span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGINT</span><span class="p">,</span> <span class="n">sighndl</span><span class="p">)</span>
    <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">cleanup</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.daemon.stop_daemon" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">stop_daemon</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Stops a daemon process.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pid_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to file containing the PID of the daemon process to
kill.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/daemon.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">stop_daemon</span><span class="p">(</span><span class="n">pid_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stops a daemon process.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid_file: Path to file containing the PID of the daemon process to</span>
<span class="sd">            kill.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pid_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">IOError</span><span class="p">,</span> <span class="ne">FileNotFoundError</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Daemon PID file &#39;</span><span class="si">%s</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">,</span> <span class="n">pid_file</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">stop_process</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.daemon.stop_process" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">stop_process</span><span class="p">(</span><span class="n">pid</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Stops a process.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pid</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>PID of the process to stop.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/daemon.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">stop_process</span><span class="p">(</span><span class="n">pid</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stops a process.</span>

<span class="sd">    Args:</span>
<span class="sd">        pid: PID of the process to stop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">psutil</span><span class="o">.</span><span class="n">pid_exists</span><span class="p">(</span><span class="n">pid</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;PID </span><span class="si">%s</span><span class="s2"> does not exist.&quot;</span><span class="p">,</span> <span class="n">pid</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">process</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
    <span class="n">process</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">process</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">CHILD_PROCESS_WAIT_TIMEOUT</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">psutil</span><span class="o">.</span><span class="n">TimeoutExpired</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Daemon PID </span><span class="si">%s</span><span class="s2"> did not terminate in time; killing.&quot;</span><span class="p">,</span> <span class="n">pid</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">process</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">process</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">CHILD_PROCESS_WAIT_TIMEOUT</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">psutil</span><span class="o">.</span><span class="n">TimeoutExpired</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to kill daemon PID </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">pid</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to kill daemon PID </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">pid</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.daemon.terminate_children" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">terminate_children</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Terminate all processes that are children of the currently running process.</p>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/daemon.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">terminate_children</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Terminate all processes that are children of the currently running process.&quot;&quot;&quot;</span>
    <span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Error</span><span class="p">:</span>
        <span class="c1"># could not find parent process id</span>
        <span class="k">return</span>
    <span class="n">children</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Terminating child process with PID </span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2">...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">p</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">alive</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">wait_procs</span><span class="p">(</span><span class="n">children</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">CHILD_PROCESS_WAIT_TIMEOUT</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">alive</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Killing child process with PID </span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2">...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">p</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">alive</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">wait_procs</span><span class="p">(</span><span class="n">children</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">CHILD_PROCESS_WAIT_TIMEOUT</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.dashboard_utils" class="doc doc-heading">
            <code>dashboard_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility class to help with interacting with the dashboard.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.dashboard_utils-classes">Classes</h5>
<h5 id="zenml.utils.dashboard_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.dashboard_utils.get_cloud_dashboard_url" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_cloud_dashboard_url</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get the base url of the cloud dashboard if the server is a ZenML Pro workspace.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The base url of the cloud dashboard.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/dashboard_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_cloud_dashboard_url</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the base url of the cloud dashboard if the server is a ZenML Pro workspace.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The base url of the cloud dashboard.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
        <span class="n">server_info</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">server_info</span><span class="o">.</span><span class="n">deployment_type</span> <span class="o">==</span> <span class="n">ServerDeploymentType</span><span class="o">.</span><span class="n">CLOUD</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">server_info</span><span class="o">.</span><span class="n">dashboard_url</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.dashboard_utils.get_component_url" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_component_url</span><span class="p">(</span><span class="n">component</span><span class="p">:</span> <span class="n">ComponentResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Function to get the dashboard URL of a given component model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>component</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ComponentResponse (zenml.models.ComponentResponse)" href="core-models.html#zenml.models.ComponentResponse">ComponentResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the response model of the given component.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the URL to the component if the dashboard is available, else None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/dashboard_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_component_url</span><span class="p">(</span><span class="n">component</span><span class="p">:</span> <span class="n">ComponentResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to get the dashboard URL of a given component model.</span>

<span class="sd">    Args:</span>
<span class="sd">        component: the response model of the given component.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the URL to the component if the dashboard is available, else None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cloud_url</span> <span class="o">=</span> <span class="n">get_cloud_dashboard_url</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">cloud_url</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cloud_url</span><span class="si">}{</span><span class="n">constants</span><span class="o">.</span><span class="n">STACK_COMPONENTS</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">base_url</span> <span class="o">=</span> <span class="n">get_server_dashboard_url</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">base_url</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}{</span><span class="n">constants</span><span class="o">.</span><span class="n">STACK_COMPONENTS</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.dashboard_utils.get_model_version_url" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_model_version_url</span><span class="p">(</span><span class="n">model_version</span><span class="p">:</span> <span class="n">ModelVersionResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Function to get the dashboard URL of a given model version.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>model_version</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ModelVersionResponse (zenml.models.ModelVersionResponse)" href="core-models.html#zenml.models.ModelVersionResponse">ModelVersionResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the response model of the given model version.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the URL to the model version if the dashboard is available, else None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/dashboard_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_model_version_url</span><span class="p">(</span>
    <span class="n">model_version</span><span class="p">:</span> <span class="n">ModelVersionResponse</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to get the dashboard URL of a given model version.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_version: the response model of the given model version.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the URL to the model version if the dashboard is available, else None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cloud_url</span> <span class="o">=</span> <span class="n">get_cloud_dashboard_url</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">cloud_url</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cloud_url</span><span class="si">}{</span><span class="n">constants</span><span class="o">.</span><span class="n">PROJECTS</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">model_version</span><span class="o">.</span><span class="n">project_id</span><span class="si">}</span><span class="s2">/model-versions/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">model_version</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.dashboard_utils.get_run_url" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_run_url</span><span class="p">(</span><span class="n">run</span><span class="p">:</span> <span class="n">PipelineRunResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Function to get the dashboard URL of a given pipeline run.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>run</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineRunResponse (zenml.models.PipelineRunResponse)" href="core-models.html#zenml.models.PipelineRunResponse">PipelineRunResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the response model of the given pipeline run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the URL to the pipeline run if the dashboard is available, else None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/dashboard_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_run_url</span><span class="p">(</span><span class="n">run</span><span class="p">:</span> <span class="n">PipelineRunResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to get the dashboard URL of a given pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run: the response model of the given pipeline run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the URL to the pipeline run if the dashboard is available, else None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cloud_url</span> <span class="o">=</span> <span class="n">get_cloud_dashboard_url</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">cloud_url</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cloud_url</span><span class="si">}{</span><span class="n">constants</span><span class="o">.</span><span class="n">PROJECTS</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">run</span><span class="o">.</span><span class="n">project_id</span><span class="si">}{</span><span class="n">constants</span><span class="o">.</span><span class="n">RUNS</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">run</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">dashboard_url</span> <span class="o">=</span> <span class="n">get_server_dashboard_url</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">dashboard_url</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dashboard_url</span><span class="si">}{</span><span class="n">constants</span><span class="o">.</span><span class="n">PROJECTS</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">run</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">name</span><span class="si">}{</span><span class="n">constants</span><span class="o">.</span><span class="n">RUNS</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">run</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.dashboard_utils.get_server_dashboard_url" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_server_dashboard_url</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get the base url of the dashboard deployed by the server.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The server dashboard url.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/dashboard_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_server_dashboard_url</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the base url of the dashboard deployed by the server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The server dashboard url.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
        <span class="n">server_info</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">server_info</span><span class="o">.</span><span class="n">server_url</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">server_info</span><span class="o">.</span><span class="n">server_url</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">url</span>

        <span class="k">return</span> <span class="n">url</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.dashboard_utils.get_stack_url" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_stack_url</span><span class="p">(</span><span class="n">stack</span><span class="p">:</span> <span class="n">StackResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Function to get the dashboard URL of a given stack model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>stack</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="StackResponse (zenml.models.StackResponse)" href="core-models.html#zenml.models.StackResponse">StackResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the response model of the given stack.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the URL to the stack if the dashboard is available, else None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/dashboard_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_stack_url</span><span class="p">(</span><span class="n">stack</span><span class="p">:</span> <span class="n">StackResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to get the dashboard URL of a given stack model.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack: the response model of the given stack.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the URL to the stack if the dashboard is available, else None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cloud_url</span> <span class="o">=</span> <span class="n">get_cloud_dashboard_url</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">cloud_url</span><span class="p">:</span>
        <span class="c1"># We don&#39;t have a stack detail page here, so just link to the filtered</span>
        <span class="c1"># list of stacks.</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cloud_url</span><span class="si">}{</span><span class="n">constants</span><span class="o">.</span><span class="n">STACKS</span><span class="si">}</span><span class="s2">?id=</span><span class="si">{</span><span class="n">stack</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">base_url</span> <span class="o">=</span> <span class="n">get_server_dashboard_url</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">base_url</span><span class="p">:</span>
        <span class="c1"># There is no filtering in OSS, we just link to the stack list.</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}{</span><span class="n">constants</span><span class="o">.</span><span class="n">STACKS</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.dashboard_utils.show_dashboard" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">show_dashboard</span><span class="p">(</span><span class="n">local</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ngrok_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Show the ZenML dashboard.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>local</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to show the dashboard for the local server or the
one for the active server.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ngrok_token</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An ngrok auth token to use for exposing the ZenML
dashboard on a public domain. Primarily used for accessing the
dashboard in Colab.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no server is connected.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/dashboard_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">show_dashboard</span><span class="p">(</span>
    <span class="n">local</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">ngrok_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Show the ZenML dashboard.</span>

<span class="sd">    Args:</span>
<span class="sd">        local: Whether to show the dashboard for the local server or the</span>
<span class="sd">            one for the active server.</span>
<span class="sd">        ngrok_token: An ngrok auth token to use for exposing the ZenML</span>
<span class="sd">            dashboard on a public domain. Primarily used for accessing the</span>
<span class="sd">            dashboard in Colab.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If no server is connected.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.utils.networking_utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_or_create_ngrok_tunnel</span>

    <span class="n">url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">local</span><span class="p">:</span>
        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">gc</span><span class="o">.</span><span class="n">store_configuration</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">store_configuration</span><span class="o">.</span><span class="n">url</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
        <span class="c1"># Else, check for local servers</span>
        <span class="n">server</span> <span class="o">=</span> <span class="n">get_local_server</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">server</span> <span class="ow">and</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span> <span class="ow">and</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">url</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;ZenML is not connected to any server right now. Please use &quot;</span>
            <span class="s2">&quot;`zenml login` to connect to a server or spin up a new local server &quot;</span>
            <span class="s2">&quot;via `zenml login --local`.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">ngrok_token</span><span class="p">:</span>
        <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

        <span class="n">ngrok_url</span> <span class="o">=</span> <span class="n">get_or_create_ngrok_tunnel</span><span class="p">(</span>
            <span class="n">ngrok_token</span><span class="o">=</span><span class="n">ngrok_token</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="n">parsed_url</span><span class="o">.</span><span class="n">port</span> <span class="ow">or</span> <span class="mi">80</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tunneling dashboard from </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">ngrok_url</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">ngrok_url</span>

    <span class="n">show_dashboard_with_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.dashboard_utils.show_dashboard_with_url" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">show_dashboard_with_url</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Show the ZenML dashboard at the given URL.</p>
<p>In native environments, the dashboard is opened in the default browser.
In notebook environments, the dashboard is embedded in an iframe.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>url</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>URL of the ZenML dashboard.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/dashboard_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">show_dashboard_with_url</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Show the ZenML dashboard at the given URL.</span>

<span class="sd">    In native environments, the dashboard is opened in the default browser.</span>
<span class="sd">    In notebook environments, the dashboard is embedded in an iframe.</span>

<span class="sd">    Args:</span>
<span class="sd">        url: URL of the ZenML dashboard.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">environment</span> <span class="o">=</span> <span class="n">get_environment</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">environment</span> <span class="ow">in</span> <span class="p">(</span><span class="n">EnvironmentType</span><span class="o">.</span><span class="n">NOTEBOOK</span><span class="p">,</span> <span class="n">EnvironmentType</span><span class="o">.</span><span class="n">COLAB</span><span class="p">):</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">IPython.core.display_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">display</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">IFrame</span>

        <span class="n">display</span><span class="p">(</span><span class="n">IFrame</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">720</span><span class="p">))</span>

    <span class="k">elif</span> <span class="n">environment</span> <span class="ow">in</span> <span class="p">(</span><span class="n">EnvironmentType</span><span class="o">.</span><span class="n">NATIVE</span><span class="p">,</span> <span class="n">EnvironmentType</span><span class="o">.</span><span class="n">WSL</span><span class="p">):</span>
        <span class="n">open_dashboard</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">constants</span><span class="o">.</span><span class="n">ENV_AUTO_OPEN_DASHBOARD</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The `</span><span class="si">%s</span><span class="s2">` environment variable is deprecated, use the `</span><span class="si">%s</span><span class="s2">` &quot;</span>
                <span class="s2">&quot;environment variable instead.&quot;</span><span class="p">,</span>
                <span class="n">constants</span><span class="o">.</span><span class="n">ENV_AUTO_OPEN_DASHBOARD</span><span class="p">,</span>
                <span class="n">constants</span><span class="o">.</span><span class="n">ENV_ZENML_AUTO_OPEN_DASHBOARD</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">constants</span><span class="o">.</span><span class="n">handle_bool_env_var</span><span class="p">(</span>
            <span class="n">constants</span><span class="o">.</span><span class="n">ENV_AUTO_OPEN_DASHBOARD</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">):</span>
            <span class="n">open_dashboard</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">constants</span><span class="o">.</span><span class="n">handle_bool_env_var</span><span class="p">(</span>
            <span class="n">constants</span><span class="o">.</span><span class="n">ENV_ZENML_AUTO_OPEN_DASHBOARD</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">):</span>
            <span class="n">open_dashboard</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="n">open_dashboard</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="kn">import</span><span class="w"> </span><span class="nn">webbrowser</span>

                <span class="k">if</span> <span class="n">environment</span> <span class="o">==</span> <span class="n">EnvironmentType</span><span class="o">.</span><span class="n">WSL</span><span class="p">:</span>
                    <span class="n">webbrowser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wslview </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Automatically opening the dashboard in your &quot;</span>
                    <span class="s2">&quot;browser. To disable this, set the env variable &quot;</span>
                    <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">=false`.&quot;</span><span class="p">,</span>
                    <span class="n">constants</span><span class="o">.</span><span class="n">ENV_ZENML_AUTO_OPEN_DASHBOARD</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;To open the dashboard in a browser automatically, &quot;</span>
                <span class="s2">&quot;set the env variable `</span><span class="si">%s</span><span class="s2">=true`.&quot;</span><span class="p">,</span>
                <span class="n">constants</span><span class="o">.</span><span class="n">ENV_ZENML_AUTO_OPEN_DASHBOARD</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The ZenML dashboard is available at </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>
<h5 id="zenml.utils.dashboard_utils-modules">Modules</h5>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.deprecation_utils" class="doc doc-heading">
            <code>deprecation_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Deprecation utilities.</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.deprecation_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.deprecation_utils.deprecate_pydantic_attributes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">deprecate_pydantic_attributes</span><span class="p">(</span><span class="o">*</span><span class="n">attributes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Utility function for deprecating and migrating pydantic attributes.</p>
<p><strong>Usage</strong>:
To use this, you can specify it on any pydantic BaseModel subclass like
this (all the deprecated attributes need to be non-required):</p>
<pre><code class="language-python">from pydantic import BaseModel
from typing import Optional

class MyModel(BaseModel):
    deprecated: Optional[int] = None

    old_name: Optional[str] = None
    new_name: str

    _deprecation_validator = deprecate_pydantic_attributes(
        &quot;deprecated&quot;, (&quot;old_name&quot;, &quot;new_name&quot;)
    )
</code></pre>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>*attributes</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of attributes to deprecate. This is either the name
of the attribute to deprecate, or a tuple containing the name of
the deprecated attribute, and it's replacement.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pydantic validator class method to be used on BaseModel subclasses</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>to deprecate or migrate attributes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/deprecation_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">deprecate_pydantic_attributes</span><span class="p">(</span>
    <span class="o">*</span><span class="n">attributes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Utility function for deprecating and migrating pydantic attributes.</span>

<span class="sd">    **Usage**:</span>
<span class="sd">    To use this, you can specify it on any pydantic BaseModel subclass like</span>
<span class="sd">    this (all the deprecated attributes need to be non-required):</span>

<span class="sd">    ```python</span>
<span class="sd">    from pydantic import BaseModel</span>
<span class="sd">    from typing import Optional</span>

<span class="sd">    class MyModel(BaseModel):</span>
<span class="sd">        deprecated: Optional[int] = None</span>

<span class="sd">        old_name: Optional[str] = None</span>
<span class="sd">        new_name: str</span>

<span class="sd">        _deprecation_validator = deprecate_pydantic_attributes(</span>
<span class="sd">            &quot;deprecated&quot;, (&quot;old_name&quot;, &quot;new_name&quot;)</span>
<span class="sd">        )</span>
<span class="sd">    ```</span>

<span class="sd">    Args:</span>
<span class="sd">        *attributes: List of attributes to deprecate. This is either the name</span>
<span class="sd">            of the attribute to deprecate, or a tuple containing the name of</span>
<span class="sd">            the deprecated attribute, and it&#39;s replacement.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Pydantic validator class method to be used on BaseModel subclasses</span>
<span class="sd">        to deprecate or migrate attributes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>  <span class="c1"># type: ignore[misc]</span>
    <span class="nd">@classmethod</span>
    <span class="nd">@before_validator_handler</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_deprecation_validator</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">],</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic validator function for deprecating pydantic attributes.</span>

<span class="sd">        Args:</span>
<span class="sd">            cls: The class on which the attributes are defined.</span>
<span class="sd">            data: All values passed at model initialization.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AssertionError: If either the deprecated or replacement attribute</span>
<span class="sd">                don&#39;t exist.</span>
<span class="sd">            TypeError: If the deprecated attribute is a required attribute.</span>
<span class="sd">            ValueError: If the deprecated attribute and replacement attribute</span>
<span class="sd">                contain different values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Input values with potentially migrated values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">previous_deprecation_warnings</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span> <span class="n">PREVIOUS_DEPRECATION_WARNINGS_ATTRIBUTE</span><span class="p">,</span> <span class="nb">set</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_warn</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attribute</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Logs and raises a warning for a deprecated attribute.</span>

<span class="sd">            Args:</span>
<span class="sd">                message: The warning message.</span>
<span class="sd">                attribute: The name of the attribute.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="n">attribute</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">previous_deprecation_warnings</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
                <span class="n">previous_deprecation_warnings</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">attribute</span><span class="p">)</span>

            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="n">message</span><span class="p">,</span>
                <span class="ne">DeprecationWarning</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">deprecated_attribute</span> <span class="o">=</span> <span class="n">attribute</span>
                <span class="n">replacement_attribute</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">deprecated_attribute</span><span class="p">,</span> <span class="n">replacement_attribute</span> <span class="o">=</span> <span class="n">attribute</span>

                <span class="k">assert</span> <span class="n">replacement_attribute</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_fields</span><span class="p">,</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to find attribute </span><span class="si">{</span><span class="n">replacement_attribute</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>

            <span class="k">assert</span> <span class="n">deprecated_attribute</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_fields</span><span class="p">,</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to find attribute </span><span class="si">{</span><span class="n">deprecated_attribute</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">deprecated_attribute</span><span class="p">]</span><span class="o">.</span><span class="n">is_required</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to deprecate attribute &#39;</span><span class="si">{</span><span class="n">deprecated_attribute</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;of class </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">. In order to deprecate an &quot;</span>
                    <span class="s2">&quot;attribute, it needs to be a non-required attribute. &quot;</span>
                    <span class="s2">&quot;To do so, mark the attribute with an `Optional[...] type &quot;</span>
                    <span class="s2">&quot;annotation.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">deprecated_attribute</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">replacement_attribute</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">_warn</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;The attribute `</span><span class="si">{</span><span class="n">deprecated_attribute</span><span class="si">}</span><span class="s2">` of class &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` is deprecated and will be removed in &quot;</span>
                    <span class="s2">&quot;the future.&quot;</span><span class="p">,</span>
                    <span class="n">attribute</span><span class="o">=</span><span class="n">deprecated_attribute</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">continue</span>

            <span class="n">_warn</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;The attribute `</span><span class="si">{</span><span class="n">deprecated_attribute</span><span class="si">}</span><span class="s2">` of class &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` is deprecated and will be removed in the &quot;</span>
                <span class="s2">&quot;future. Use the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;attribute `</span><span class="si">{</span><span class="n">replacement_attribute</span><span class="si">}</span><span class="s2">` instead.&quot;</span><span class="p">,</span>
                <span class="n">attribute</span><span class="o">=</span><span class="n">deprecated_attribute</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">replacement_attribute</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Migrating value of deprecated attribute </span><span class="si">%s</span><span class="s2"> to &quot;</span>
                    <span class="s2">&quot;replacement attribute </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                    <span class="n">deprecated_attribute</span><span class="p">,</span>
                    <span class="n">replacement_attribute</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">data</span><span class="p">[</span><span class="n">replacement_attribute</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">deprecated_attribute</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">data</span><span class="p">[</span><span class="n">deprecated_attribute</span><span class="p">]</span> <span class="o">!=</span> <span class="n">data</span><span class="p">[</span><span class="n">replacement_attribute</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Got different values for deprecated attribute &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">deprecated_attribute</span><span class="si">}</span><span class="s2"> and replacement &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;attribute </span><span class="si">{</span><span class="n">replacement_attribute</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Both values are identical, no need to do anything</span>
                <span class="k">pass</span>

        <span class="nb">setattr</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">PREVIOUS_DEPRECATION_WARNINGS_ATTRIBUTE</span><span class="p">,</span>
            <span class="n">previous_deprecation_warnings</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">data</span>

    <span class="k">return</span> <span class="n">_deprecation_validator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.dict_utils" class="doc doc-heading">
            <code>dict_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Util functions for dictionaries.</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.dict_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.dict_utils.dict_to_bytes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dict_to_bytes</span><span class="p">(</span><span class="n">dict_</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bytes</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Converts a dictionary to bytes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dict_</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dictionary to convert.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bytes">bytes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dictionary as bytes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/dict_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dict_to_bytes</span><span class="p">(</span><span class="n">dict_</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts a dictionary to bytes.</span>

<span class="sd">    Args:</span>
<span class="sd">        dict_: The dictionary to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The dictionary as bytes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
            <span class="n">dict_</span><span class="p">,</span>
            <span class="n">sort_keys</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.dict_utils.recursive_update" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">recursive_update</span><span class="p">(</span><span class="n">original</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">update</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Recursively updates a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>original</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dictionary to update.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>update</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dictionary containing the updated values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The updated dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/dict_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">recursive_update</span><span class="p">(</span>
    <span class="n">original</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">update</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Recursively updates a dictionary.</span>

<span class="sd">    Args:</span>
<span class="sd">        original: The dictionary to update.</span>
<span class="sd">        update: The dictionary containing the updated values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">update</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Dict</span><span class="p">):</span>
            <span class="n">original_value</span> <span class="o">=</span> <span class="n">original</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">original_value</span><span class="p">,</span> <span class="n">Dict</span><span class="p">):</span>
                <span class="n">original</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">recursive_update</span><span class="p">(</span><span class="n">original_value</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">original</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">original</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">original</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.dict_utils.remove_none_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_none_values</span><span class="p">(</span><span class="n">dict_</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">recursive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Removes all key-value pairs with <code>None</code> value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dict_</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dict from which the key-value pairs should be removed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>recursive</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, will recursively remove <code>None</code> values in all
child dicts.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The updated dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/dict_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_none_values</span><span class="p">(</span>
    <span class="n">dict_</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">recursive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Removes all key-value pairs with `None` value.</span>

<span class="sd">    Args:</span>
<span class="sd">        dict_: The dict from which the key-value pairs should be removed.</span>
<span class="sd">        recursive: If `True`, will recursively remove `None` values in all</span>
<span class="sd">            child dicts.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_maybe_recurse</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calls `remove_none_values` recursively if required.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: A dictionary value.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated dictionary value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">recursive</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Dict</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">remove_none_values</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

    <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">_maybe_recurse</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">dict_</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.docker_utils" class="doc doc-heading">
            <code>docker_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions relating to Docker.</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.docker_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.docker_utils.build_image" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">dockerfile</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">build_context_root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">dockerignore</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">extra_files</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span> <span class="o">**</span><span class="n">custom_build_options</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Builds a docker image.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>image_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name to use for the built docker image.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dockerfile</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to a dockerfile or a list of strings representing the
Dockerfile lines/commands.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>build_context_root</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional path to a directory that will be sent to
the Docker daemon as build context. If left empty, the Docker build
context will be empty.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dockerignore</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional path to a dockerignore file. If no value is
given, the .dockerignore in the root of the build context will be
used if it exists. Otherwise, all files inside <code>build_context_root</code>
are included in the build context.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>extra_files</code>
            </td>
            <td>
                  <code><span title="typing.Sequence">Sequence</span>[<span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional files to include in the build context. The
files should be passed as a tuple
(filepath_inside_build_context, file_content) and will overwrite
existing files in the build context if they share the same path.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**custom_build_options</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional options that will be passed
unmodified to the Docker build call when building the image. You
can use this to for example specify build args or a target stage.
See https://docker-py.readthedocs.io/en/stable/images.html#docker.models.images.ImageCollection.build
for a full list of available options.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/docker_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_image</span><span class="p">(</span>
    <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">dockerfile</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">build_context_root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dockerignore</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra_files</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(),</span>
    <span class="o">**</span><span class="n">custom_build_options</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Builds a docker image.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: The name to use for the built docker image.</span>
<span class="sd">        dockerfile: Path to a dockerfile or a list of strings representing the</span>
<span class="sd">            Dockerfile lines/commands.</span>
<span class="sd">        build_context_root: Optional path to a directory that will be sent to</span>
<span class="sd">            the Docker daemon as build context. If left empty, the Docker build</span>
<span class="sd">            context will be empty.</span>
<span class="sd">        dockerignore: Optional path to a dockerignore file. If no value is</span>
<span class="sd">            given, the .dockerignore in the root of the build context will be</span>
<span class="sd">            used if it exists. Otherwise, all files inside `build_context_root`</span>
<span class="sd">            are included in the build context.</span>
<span class="sd">        extra_files: Additional files to include in the build context. The</span>
<span class="sd">            files should be passed as a tuple</span>
<span class="sd">            (filepath_inside_build_context, file_content) and will overwrite</span>
<span class="sd">            existing files in the build context if they share the same path.</span>
<span class="sd">        **custom_build_options: Additional options that will be passed</span>
<span class="sd">            unmodified to the Docker build call when building the image. You</span>
<span class="sd">            can use this to for example specify build args or a target stage.</span>
<span class="sd">            See https://docker-py.readthedocs.io/en/stable/images.html#docker.models.images.ImageCollection.build</span>
<span class="sd">            for a full list of available options.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dockerfile</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">dockerfile_contents</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">dockerfile</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Using Dockerfile `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">dockerfile</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">dockerfile_contents</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dockerfile</span><span class="p">)</span>

    <span class="n">build_context</span> <span class="o">=</span> <span class="n">_create_custom_build_context</span><span class="p">(</span>
        <span class="n">dockerfile_contents</span><span class="o">=</span><span class="n">dockerfile_contents</span><span class="p">,</span>
        <span class="n">build_context_root</span><span class="o">=</span><span class="n">build_context_root</span><span class="p">,</span>
        <span class="n">dockerignore</span><span class="o">=</span><span class="n">dockerignore</span><span class="p">,</span>
        <span class="n">extra_files</span><span class="o">=</span><span class="n">extra_files</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">build_options</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;rm&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>  <span class="c1"># don&#39;t remove intermediate containers to improve caching</span>
        <span class="s2">&quot;pull&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>  <span class="c1"># always pull parent images</span>
        <span class="o">**</span><span class="n">custom_build_options</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Building Docker image `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">image_name</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Docker build options: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">build_options</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Building the image might take a while...&quot;</span><span class="p">)</span>

    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">_try_get_docker_client_from_env</span><span class="p">()</span>

    <span class="c1"># We use the client api directly here, so we can stream the logs</span>
    <span class="n">output_stream</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">build</span><span class="p">(</span>
        <span class="n">fileobj</span><span class="o">=</span><span class="n">build_context</span><span class="p">,</span>
        <span class="n">custom_context</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="n">image_name</span><span class="p">,</span>
        <span class="o">**</span><span class="n">build_options</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">_process_stream</span><span class="p">(</span><span class="n">output_stream</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building Docker image `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">image_name</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.docker_utils.check_docker" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_docker</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if Docker is installed and running.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True</code> if Docker is installed, <code>False</code> otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/docker_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">check_docker</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if Docker is installed and running.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if Docker is installed, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Try to ping Docker, to see if it&#39;s running</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
        <span class="n">docker_client</span><span class="o">.</span><span class="n">ping</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Docker is not running.&quot;</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.docker_utils.get_image_digest" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Gets the digest of an image.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>image_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the image to get the digest for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns the repo digest for the given image if there exists exactly one.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If there are zero or multiple repo digests, returns <code>None</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/docker_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the digest of an image.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: Name of the image to get the digest for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Returns the repo digest for the given image if there exists exactly one.</span>
<span class="sd">        If there are zero or multiple repo digests, returns `None`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">_try_get_docker_client_from_env</span><span class="p">()</span>

    <span class="n">image</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>
    <span class="n">repo_digests</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;RepoDigests&quot;</span><span class="p">]</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">repo_digests</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">repo_digests</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Found zero or more repo digests for docker image &#39;</span><span class="si">%s</span><span class="s2">&#39;: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">image_name</span><span class="p">,</span>
            <span class="n">repo_digests</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.docker_utils.is_local_image" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_local_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns whether an image was pulled from a registry or not.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>image_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the image to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True</code> if the image was pulled from a registry, <code>False</code> otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/docker_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_local_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns whether an image was pulled from a registry or not.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: Name of the image to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the image was pulled from a registry, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">_try_get_docker_client_from_env</span><span class="p">()</span>
    <span class="n">images</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">image_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">images</span><span class="p">:</span>
        <span class="c1"># An image with this name is available locally -&gt; now check whether it</span>
        <span class="c1"># was pulled from a repo or built locally (in which case the repo</span>
        <span class="c1"># digest is empty)</span>
        <span class="k">return</span> <span class="n">get_image_digest</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># no image with this name found locally</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.docker_utils.push_image" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">push_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">docker_client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DockerClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Pushes an image to a container registry.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>image_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The full name (including a tag) of the image to push.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>docker_client</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="docker.client.DockerClient">DockerClient</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional Docker client to use for pushing the image. If
no client is given, a new client will be created using the default
Docker environment.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Docker repository digest of the pushed image.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If fetching the repository digest of the image failed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/docker_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">push_image</span><span class="p">(</span>
    <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">docker_client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DockerClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pushes an image to a container registry.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: The full name (including a tag) of the image to push.</span>
<span class="sd">        docker_client: Optional Docker client to use for pushing the image. If</span>
<span class="sd">            no client is given, a new client will be created using the default</span>
<span class="sd">            Docker environment.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Docker repository digest of the pushed image.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If fetching the repository digest of the image failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Pushing Docker image `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">image_name</span><span class="p">)</span>
    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">docker_client</span> <span class="ow">or</span> <span class="n">_try_get_docker_client_from_env</span><span class="p">()</span>
    <span class="n">output_stream</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">image_name</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">aux_info</span> <span class="o">=</span> <span class="n">_process_stream</span><span class="p">(</span><span class="n">output_stream</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished pushing Docker image.&quot;</span><span class="p">)</span>

    <span class="n">image_name_without_tag</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">image_name</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">prefix_candidates</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">image_name_without_tag</span><span class="si">}</span><span class="s2">@&quot;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">image_name_without_tag</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s2">&quot;index.docker.io/&quot;</span><span class="p">,</span> <span class="s2">&quot;docker.io/&quot;</span><span class="p">)):</span>
        <span class="c1"># When looking for the repo digest later, Docker sometimes removes the</span>
        <span class="c1"># index prefix, so we make sure to check for a digest with and without.</span>
        <span class="n">image_name_without_index</span> <span class="o">=</span> <span class="n">image_name_without_tag</span><span class="o">.</span><span class="n">split</span><span class="p">(</span>
            <span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span>
        <span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">prefix_candidates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">image_name_without_index</span><span class="si">}</span><span class="s2">@&quot;</span><span class="p">)</span>

    <span class="n">image</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>
    <span class="n">repo_digests</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;RepoDigests&quot;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">digest</span> <span class="ow">in</span> <span class="n">repo_digests</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">digest</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">prefix_candidates</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">digest</span>

    <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">aux_info</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">repo_digest</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s2">&quot;Digest&quot;</span><span class="p">]</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">image_name_without_tag</span><span class="si">}</span><span class="s2">@</span><span class="si">{</span><span class="n">repo_digest</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to find repo digest after pushing image </span><span class="si">{</span><span class="n">image_name</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.docker_utils.sanitize_tag" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sanitize_tag</span><span class="p">(</span><span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Sanitize a Docker tag.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tag to sanitize.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the tag is empty.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The sanitized tag.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/docker_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">sanitize_tag</span><span class="p">(</span><span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sanitize a Docker tag.</span>

<span class="sd">    Args:</span>
<span class="sd">        tag: The tag to sanitize.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the tag is empty.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The sanitized tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^a-zA-Z0-9_.\-]&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
    <span class="c1"># Tags can not start with a dot or a dash</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[-.]&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">tag</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Docker image tag cannot be empty.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">tag</span><span class="p">[:</span><span class="mi">128</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.docker_utils.tag_image" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tag_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Tags an image.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>image_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the image to tag.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The full target name including a tag.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/docker_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tag_image</span><span class="p">(</span><span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tags an image.</span>

<span class="sd">    Args:</span>
<span class="sd">        image_name: The name of the image to tag.</span>
<span class="sd">        target: The full target name including a tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">docker_client</span> <span class="o">=</span> <span class="n">_try_get_docker_client_from_env</span><span class="p">()</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">image_name</span><span class="p">)</span>
    <span class="n">image</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>
<h5 id="zenml.utils.docker_utils-modules">Modules</h5>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.downloaded_repository_context" class="doc doc-heading">
            <code>downloaded_repository_context</code>


</h4>

    <div class="doc doc-contents ">

        <p>Downloaded code repository.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.downloaded_repository_context-classes">Classes</h5>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.enum_utils" class="doc doc-heading">
            <code>enum_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Util functions for enums.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.enum_utils-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.enum_utils.StrEnum" class="doc doc-heading">
            <code>StrEnum</code>


</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="str">str</span></code>, <code><span title="enum.Enum">Enum</span></code></p>


        <p>Base enum type for string enum values.</p>











  <div class="doc doc-children">








<h7 id="zenml.utils.enum_utils.StrEnum-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.enum_utils.StrEnum.names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">names</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>


    <div class="doc doc-contents ">

        <p>Get all enum names as a list of strings.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of all enum names.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/enum_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">names</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all enum names as a list of strings.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all enum names.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">cls</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.enum_utils.StrEnum.values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">values</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>


    <div class="doc doc-contents ">

        <p>Get all enum values as a list of strings.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of all enum values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/enum_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">values</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all enum values as a list of strings.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all enum values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">cls</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.env_utils" class="doc doc-heading">
            <code>env_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions for handling environment variables.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.env_utils-classes">Classes</h5>
<h5 id="zenml.utils.env_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.env_utils.get_step_environment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_step_environment</span><span class="p">(</span><span class="n">step_config</span><span class="p">:</span> <span class="n">StepConfiguration</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">Stack</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get the environment variables for a step.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>step_config</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="StepConfiguration (zenml.config.step_configurations.StepConfiguration)" href="core-config.html#zenml.config.step_configurations.StepConfiguration">StepConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stack</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stack(id: UUID, name: str, *, environment: Optional[Dict[str, str]] = None, secrets: Optional[List[UUID]] = None, orchestrator: BaseOrchestrator, artifact_store: BaseArtifactStore, container_registry: Optional[BaseContainerRegistry] = None, step_operator: Optional[BaseStepOperator] = None, feature_store: Optional[BaseFeatureStore] = None, model_deployer: Optional[BaseModelDeployer] = None, experiment_tracker: Optional[BaseExperimentTracker] = None, alerter: Optional[BaseAlerter] = None, annotator: Optional[BaseAnnotator] = None, data_validator: Optional[BaseDataValidator] = None, image_builder: Optional[BaseImageBuilder] = None, model_registry: Optional[BaseModelRegistry] = None, deployer: Optional[BaseDeployer] = None) (zenml.stack.Stack)" href="core-stack.html#zenml.stack.Stack">Stack</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stack on which the step will run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of environment variables.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/env_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_step_environment</span><span class="p">(</span>
    <span class="n">step_config</span><span class="p">:</span> <span class="s2">&quot;StepConfiguration&quot;</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the environment variables for a step.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_config: The step configuration.</span>
<span class="sd">        stack: The stack on which the step will run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary of environment variables.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">environment</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">environment</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">environment</span><span class="p">)</span>

    <span class="n">environment</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">environment</span><span class="p">)</span>
    <span class="n">environment</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">step_config</span><span class="o">.</span><span class="n">environment</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">environment</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">environment</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">environment</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.env_utils.get_step_secret_environment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_step_secret_environment</span><span class="p">(</span><span class="n">step_config</span><span class="p">:</span> <span class="n">StepConfiguration</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">Stack</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get the environment variables for a step.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>step_config</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="StepConfiguration (zenml.config.step_configurations.StepConfiguration)" href="core-config.html#zenml.config.step_configurations.StepConfiguration">StepConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stack</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stack(id: UUID, name: str, *, environment: Optional[Dict[str, str]] = None, secrets: Optional[List[UUID]] = None, orchestrator: BaseOrchestrator, artifact_store: BaseArtifactStore, container_registry: Optional[BaseContainerRegistry] = None, step_operator: Optional[BaseStepOperator] = None, feature_store: Optional[BaseFeatureStore] = None, model_deployer: Optional[BaseModelDeployer] = None, experiment_tracker: Optional[BaseExperimentTracker] = None, alerter: Optional[BaseAlerter] = None, annotator: Optional[BaseAnnotator] = None, data_validator: Optional[BaseDataValidator] = None, image_builder: Optional[BaseImageBuilder] = None, model_registry: Optional[BaseModelRegistry] = None, deployer: Optional[BaseDeployer] = None) (zenml.stack.Stack)" href="core-stack.html#zenml.stack.Stack">Stack</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stack on which the step will run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of environment variables.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/env_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_step_secret_environment</span><span class="p">(</span>
    <span class="n">step_config</span><span class="p">:</span> <span class="s2">&quot;StepConfiguration&quot;</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the environment variables for a step.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_config: The step configuration.</span>
<span class="sd">        stack: The stack on which the step will run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary of environment variables.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># The step secrets contain the pipeline secrets first, followed by the</span>
    <span class="c1"># actual secrets defined on the step. We reverse the list to make sure the</span>
    <span class="c1"># step secrets override the pipeline secrets.</span>
    <span class="n">secrets</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">step_config</span><span class="o">.</span><span class="n">secrets</span><span class="p">))</span>
    <span class="n">secrets</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">secrets</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">secrets</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">secrets</span><span class="p">)</span>

    <span class="c1"># Removes duplicates while preserving order, only the first occurrence of</span>
    <span class="c1"># each secret will be kept. We then reverse the list to make sure the</span>
    <span class="c1"># overrides are applied in the correct order.</span>
    <span class="n">secrets</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">secrets</span><span class="p">)))</span>

    <span class="n">environment</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">secret_name_or_id</span> <span class="ow">in</span> <span class="n">secrets</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">secret</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_name_or_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Failed to get secret `</span><span class="si">%s</span><span class="s2">` with error: </span><span class="si">%s</span><span class="s2">. Skipping setting &quot;</span>
                <span class="s2">&quot;environment variables for this secret.&quot;</span><span class="p">,</span>
                <span class="n">secret_name_or_id</span><span class="p">,</span>
                <span class="n">e</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">continue</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Did not find any secret values for secret `</span><span class="si">%s</span><span class="s2">`. This might be &quot;</span>
                <span class="s2">&quot;because you do not have permissions to read the secret &quot;</span>
                <span class="s2">&quot;values. Skipping setting environment variables for this &quot;</span>
                <span class="s2">&quot;secret.&quot;</span><span class="p">,</span>
                <span class="n">secret_name_or_id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">continue</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">environment</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">environment</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.env_utils.reconstruct_environment_variables" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">reconstruct_environment_variables</span><span class="p">(</span><span class="n">env</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Reconstruct environment variables that were split into chunks.</p>
<p>Reconstructs the environment variables with values that were split into
individual chunks because they were too large. The input environment
variables are modified in-place.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>env</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input environment variables dictionary. If not supplied, the OS
environment variables are used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/env_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reconstruct_environment_variables</span><span class="p">(</span>
    <span class="n">env</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reconstruct environment variables that were split into chunks.</span>

<span class="sd">    Reconstructs the environment variables with values that were split into</span>
<span class="sd">    individual chunks because they were too large. The input environment</span>
<span class="sd">    variables are modified in-place.</span>

<span class="sd">    Args:</span>
<span class="sd">        env: Input environment variables dictionary. If not supplied, the OS</span>
<span class="sd">            environment variables are used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">env</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">env</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">)</span>

    <span class="n">chunks</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">env</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">ENV_VAR_CHUNK_SUFFIX</span><span class="p">):</span>
            <span class="k">continue</span>

        <span class="c1"># Collect all chunks of the same environment variable</span>
        <span class="n">original_key</span> <span class="o">=</span> <span class="n">key</span><span class="p">[:</span> <span class="o">-</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ENV_VAR_CHUNK_SUFFIX</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">chunks</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">original_key</span><span class="p">,</span> <span class="p">[])</span>
        <span class="n">chunks</span><span class="p">[</span><span class="n">original_key</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="c1"># Reconstruct the environment variables from their chunks</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">chunk_keys</span> <span class="ow">in</span> <span class="n">chunks</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">chunk_keys</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">env</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">chunk_keys</span><span class="p">])</span>
        <span class="n">env</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="c1"># Remove the chunk environment variables</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">chunk_keys</span><span class="p">:</span>
            <span class="n">env</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.env_utils.split_environment_variables" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">split_environment_variables</span><span class="p">(</span><span class="n">size_limit</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">env</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Split long environment variables into chunks.</p>
<p>Splits the input environment variables with values that exceed the supplied
maximum length into individual components. The input environment variables
are modified in-place.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>size_limit</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum length of an environment variable value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>env</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input environment variables dictionary. If not supplied, the
OS environment variables are used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If an environment variable value is too large and requires
more than 10 chunks.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/env_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">split_environment_variables</span><span class="p">(</span>
    <span class="n">size_limit</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">env</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Split long environment variables into chunks.</span>

<span class="sd">    Splits the input environment variables with values that exceed the supplied</span>
<span class="sd">    maximum length into individual components. The input environment variables</span>
<span class="sd">    are modified in-place.</span>

<span class="sd">    Args:</span>
<span class="sd">        size_limit: Maximum length of an environment variable value.</span>
<span class="sd">        env: Input environment variables dictionary. If not supplied, the</span>
<span class="sd">            OS environment variables are used.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If an environment variable value is too large and requires</span>
<span class="sd">            more than 10 chunks.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">env</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">env</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">env</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">size_limit</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="c1"># We keep the number of chunks to a maximum of 10 to avoid generating</span>
        <span class="c1"># too many environment variables chunks and also to make the</span>
        <span class="c1"># reconstruction easier to implement</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">size_limit</span> <span class="o">*</span> <span class="mi">10</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Environment variable </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> exceeds the maximum length of &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">size_limit</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="si">}</span><span class="s2"> characters.&quot;</span>
            <span class="p">)</span>

        <span class="n">env</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

        <span class="c1"># Split the environment variable into chunks</span>
        <span class="n">chunks</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">value</span><span class="p">[</span><span class="n">i</span> <span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="n">size_limit</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="n">size_limit</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunks</span><span class="p">):</span>
            <span class="n">env</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}{</span><span class="n">ENV_VAR_CHUNK_SUFFIX</span><span class="si">}{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">chunk</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.env_utils.substitute_env_variable_placeholders" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">substitute_env_variable_placeholders</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">V</span><span class="p">,</span> <span class="n">raise_when_missing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">V</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Substitute environment variable placeholders in an object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="zenml.utils.env_utils.V">V</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The object in which to substitute the placeholders.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>raise_when_missing</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, an exception will be raised when an
environment variable is missing. Otherwise, a warning will be logged
instead.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="zenml.utils.env_utils.V">V</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The object with placeholders substituted.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/env_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">substitute_env_variable_placeholders</span><span class="p">(</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">V</span><span class="p">,</span> <span class="n">raise_when_missing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">V</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Substitute environment variable placeholders in an object.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: The object in which to substitute the placeholders.</span>
<span class="sd">        raise_when_missing: If True, an exception will be raised when an</span>
<span class="sd">            environment variable is missing. Otherwise, a warning will be logged</span>
<span class="sd">            instead.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The object with placeholders substituted.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_replace_with_env_variable_value</span><span class="p">(</span><span class="n">match</span><span class="p">:</span> <span class="n">Match</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">raise_when_missing</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="s2">&quot;Unable to substitute environment variable placeholder &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; because the environment variable is not set.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;Unable to substitute environment variable placeholder </span><span class="si">%s</span><span class="s2"> &quot;</span>
                    <span class="s2">&quot;because the environment variable is not set, using an &quot;</span>
                    <span class="s2">&quot;empty string instead.&quot;</span><span class="p">,</span>
                    <span class="n">key</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_substitution_func</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ENV_VARIABLE_PLACEHOLDER_PATTERN</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span>
            <span class="n">_replace_with_env_variable_value</span><span class="p">,</span> <span class="n">v</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">string_utils</span><span class="o">.</span><span class="n">substitute_string</span><span class="p">(</span>
        <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">substitution_func</span><span class="o">=</span><span class="n">_substitution_func</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.env_utils.temporary_environment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">temporary_environment</span><span class="p">(</span><span class="n">environment</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Temporarily set environment variables.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>environment</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The environment variables to set.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Nothing.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/env_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@contextlib</span><span class="o">.</span><span class="n">contextmanager</span>
<span class="k">def</span><span class="w"> </span><span class="nf">temporary_environment</span><span class="p">(</span><span class="n">environment</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Temporarily set environment variables.</span>

<span class="sd">    Args:</span>
<span class="sd">        environment: The environment variables to set.</span>

<span class="sd">    Yields:</span>
<span class="sd">        Nothing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">previous_env</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">environment</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">previous_env</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">yield</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">previous_value</span> <span class="ow">in</span> <span class="n">previous_env</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">updated_value</span> <span class="o">=</span> <span class="n">environment</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="n">current_value</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">current_value</span> <span class="o">!=</span> <span class="n">updated_value</span><span class="p">:</span>
                <span class="c1"># The environment variable got updated while this context</span>
                <span class="c1"># manager was active -&gt; We don&#39;t reset it back to the old</span>
                <span class="c1"># value</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">previous_value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">previous_value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>
<h5 id="zenml.utils.env_utils-modules">Modules</h5>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.exception_utils" class="doc doc-heading">
            <code>exception_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Exception utilities.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.exception_utils-classes">Classes</h5>
<h5 id="zenml.utils.exception_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.exception_utils.collect_exception_information" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">collect_exception_information</span><span class="p">(</span><span class="n">exception</span><span class="p">:</span> <span class="ne">BaseException</span><span class="p">,</span> <span class="n">step_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExceptionInfo</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Collects the exception information.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>exception</code>
            </td>
            <td>
                  <code><span title="BaseException">BaseException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The exception to collect information from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>step_instance</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="BaseStep(name: Optional[str] = None, enable_cache: Optional[bool] = None, enable_artifact_metadata: Optional[bool] = None, enable_artifact_visualization: Optional[bool] = None, enable_step_logs: Optional[bool] = None, experiment_tracker: Optional[Union[bool, str]] = None, step_operator: Optional[Union[bool, str]] = None, parameters: Optional[Dict[str, Any]] = None, output_materializers: Optional[OutputMaterializersSpecification] = None, environment: Optional[Dict[str, Any]] = None, secrets: Optional[List[Union[str, UUID]]] = None, settings: Optional[Mapping[str, SettingsOrDict]] = None, extra: Optional[Dict[str, Any]] = None, on_failure: Optional[HookSpecification] = None, on_success: Optional[HookSpecification] = None, model: Optional[Model] = None, retry: Optional[StepRetryConfig] = None, substitutions: Optional[Dict[str, str]] = None, cache_policy: Optional[CachePolicyOrString] = None) (zenml.steps.BaseStep)" href="core-steps.html#zenml.steps.BaseStep">BaseStep</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step instance that is currently running.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ExceptionInfo (zenml.models.ExceptionInfo)" href="core-models.html#zenml.models.ExceptionInfo">ExceptionInfo</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The exception information.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/exception_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">collect_exception_information</span><span class="p">(</span>
    <span class="n">exception</span><span class="p">:</span> <span class="ne">BaseException</span><span class="p">,</span> <span class="n">step_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseStep&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExceptionInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Collects the exception information.</span>

<span class="sd">    Args:</span>
<span class="sd">        exception: The exception to collect information from.</span>
<span class="sd">        step_instance: The step instance that is currently running.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The exception information.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tb</span> <span class="o">=</span> <span class="n">traceback</span><span class="o">.</span><span class="n">format_tb</span><span class="p">(</span><span class="n">exception</span><span class="o">.</span><span class="n">__traceback__</span><span class="p">)</span>
    <span class="n">line_number</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">start_index</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">step_instance</span> <span class="ow">and</span> <span class="p">(</span>
        <span class="n">source_file</span> <span class="o">:=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsourcefile</span><span class="p">(</span><span class="n">step_instance</span><span class="o">.</span><span class="n">entrypoint</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">source_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">source_file</span><span class="p">)</span>

            <span class="n">lines</span><span class="p">,</span> <span class="n">start_line</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsourcelines</span><span class="p">(</span>
                <span class="n">step_instance</span><span class="o">.</span><span class="n">entrypoint</span>
            <span class="p">)</span>
            <span class="n">end_line</span> <span class="o">=</span> <span class="n">start_line</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>

            <span class="n">line_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
                <span class="sa">rf</span><span class="s1">&#39;File &quot;</span><span class="si">{</span><span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">source_file</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;, line (\d+),&#39;</span>
            <span class="p">)</span>

            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tb</span><span class="p">):</span>
                <span class="n">match</span> <span class="o">=</span> <span class="n">line_pattern</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                    <span class="n">potential_line_number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="n">potential_line_number</span> <span class="o">&gt;=</span> <span class="n">start_line</span>
                        <span class="ow">and</span> <span class="n">potential_line_number</span> <span class="o">&lt;=</span> <span class="n">end_line</span>
                    <span class="p">):</span>
                        <span class="n">line_number</span> <span class="o">=</span> <span class="n">potential_line_number</span> <span class="o">-</span> <span class="n">start_line</span>
                        <span class="n">start_index</span> <span class="o">=</span> <span class="n">index</span>
                        <span class="k">break</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Failed to detect step code line: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">start_index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># If the code failed while executing user code, we remove the initial</span>
        <span class="c1"># part of the traceback that is happening in the ZenML code.</span>
        <span class="n">tb</span> <span class="o">=</span> <span class="n">tb</span><span class="p">[</span><span class="n">start_index</span><span class="p">:]</span>

    <span class="n">tb_bytes</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tb</span><span class="p">))</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
    <span class="n">tb_bytes</span> <span class="o">=</span> <span class="n">tb_bytes</span><span class="p">[:</span><span class="n">MEDIUMTEXT_MAX_LENGTH</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">ExceptionInfo</span><span class="p">(</span>
        <span class="c1"># Ignore errors when decoding in case we cut off in the middle of an</span>
        <span class="c1"># encoded character.</span>
        <span class="n">traceback</span><span class="o">=</span><span class="n">tb_bytes</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">errors</span><span class="o">=</span><span class="s2">&quot;ignore&quot;</span><span class="p">),</span>
        <span class="n">step_code_line</span><span class="o">=</span><span class="n">line_number</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.filesync_model" class="doc doc-heading">
            <code>filesync_model</code>


</h4>

    <div class="doc doc-contents ">

        <p>Filesync utils for ZenML.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.filesync_model-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.filesync_model.FileSyncModel" class="doc doc-heading">
            <code>FileSyncModel</code>


</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Pydantic model synchronized with a configuration file.</p>
<p>Use this class as a base Pydantic model that is automatically synchronized
with a configuration file on disk.</p>
<p>This class overrides the <strong>setattr</strong> and <strong>getattr</strong> magic methods to
ensure that the FileSyncModel instance acts as an in-memory cache of the
information stored in the associated configuration file.</p>











  <div class="doc doc-children">








<h7 id="zenml.utils.filesync_model.FileSyncModel-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.filesync_model.FileSyncModel.config_validator" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">config_validator</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">ValidatorFunctionWrapHandler</span><span class="p">,</span> <span class="n">info</span><span class="p">:</span> <span class="n">ValidationInfo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileSyncModel</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>


    <div class="doc doc-contents ">

        <p>Wrap model validator to infer the config_file during initialization.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The raw data that is provided before the validation.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>handler</code>
            </td>
            <td>
                  <code><span title="pydantic.ValidatorFunctionWrapHandler">ValidatorFunctionWrapHandler</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The actual validation function pydantic would use for the
built-in validation function.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>info</code>
            </td>
            <td>
                  <code><span title="pydantic.ValidationInfo">ValidationInfo</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The context information during the execution of this
validation function.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="FileSyncModel (zenml.utils.filesync_model.FileSyncModel)" href="#zenml.utils.filesync_model.FileSyncModel">FileSyncModel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the actual instance after the validation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pydantic.ValidationError">ValidationError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if you try to validate through a JSON string. You
need to provide a config_file path when you create a
FileSyncModel.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="AssertionError">AssertionError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the raw input does not include a config_file
path for the configuration file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/filesync_model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;wrap&quot;</span><span class="p">)</span>
<span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">config_validator</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">handler</span><span class="p">:</span> <span class="n">ValidatorFunctionWrapHandler</span><span class="p">,</span>
    <span class="n">info</span><span class="p">:</span> <span class="n">ValidationInfo</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileSyncModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wrap model validator to infer the config_file during initialization.</span>

<span class="sd">    Args:</span>
<span class="sd">        data: The raw data that is provided before the validation.</span>
<span class="sd">        handler: The actual validation function pydantic would use for the</span>
<span class="sd">            built-in validation function.</span>
<span class="sd">        info: The context information during the execution of this</span>
<span class="sd">            validation function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the actual instance after the validation</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValidationError: if you try to validate through a JSON string. You</span>
<span class="sd">            need to provide a config_file path when you create a</span>
<span class="sd">            FileSyncModel.</span>
<span class="sd">        AssertionError: if the raw input does not include a config_file</span>
<span class="sd">            path for the configuration file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Disable json validation</span>
    <span class="k">if</span> <span class="n">info</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span>
            <span class="s2">&quot;You can not instantiate filesync models using the JSON mode.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="c1"># Assert that the config file is defined</span>
        <span class="k">assert</span> <span class="s2">&quot;config_file&quot;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">,</span> <span class="p">(</span>
            <span class="s2">&quot;You have to provide a path for the configuration file.&quot;</span>
        <span class="p">)</span>

        <span class="n">config_file</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;config_file&quot;</span><span class="p">)</span>

        <span class="c1"># Load the current values and update with new values</span>
        <span class="n">config_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">config_file</span><span class="p">):</span>
            <span class="n">config_dict</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
        <span class="n">config_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="c1"># Execute the regular validation</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">handler</span><span class="p">(</span><span class="n">config_dict</span><span class="p">)</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span>

        <span class="c1"># Assign the private attribute and save the config</span>
        <span class="n">model</span><span class="o">.</span><span class="n">_config_file</span> <span class="o">=</span> <span class="n">config_file</span>
        <span class="n">model</span><span class="o">.</span><span class="n">write_config</span><span class="p">()</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># If the raw value is not a dict, apply proper validation.</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">handler</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">model</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.filesync_model.FileSyncModel.load_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_config</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Loads the model from the configuration file on disk.</p>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/filesync_model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Loads the model from the configuration file on disk.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">):</span>
        <span class="k">return</span>

    <span class="c1"># don&#39;t reload the configuration if the file hasn&#39;t</span>
    <span class="c1"># been updated since the last load</span>
    <span class="n">file_timestamp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">file_timestamp</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reloading configuration file </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># refresh the model from the configuration file values</span>
    <span class="n">config_dict</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">config_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileSyncModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="n">file_timestamp</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.filesync_model.FileSyncModel.write_config" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_config</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Writes the model to the configuration file.</p>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/filesync_model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Writes the model to the configuration file.&quot;&quot;&quot;</span>
    <span class="n">yaml_utils</span><span class="o">.</span><span class="n">write_yaml</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;json&quot;</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config_file_timestamp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_config_file</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h5 id="zenml.utils.filesync_model-functions">Functions</h5>
<h5 id="zenml.utils.filesync_model-modules">Modules</h5>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.function_utils" class="doc doc-heading">
            <code>function_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions for python functions.</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.function_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.function_utils.create_cli_wrapped_script" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_cli_wrapped_script</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">F</span><span class="p">,</span> <span class="n">flavor</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;accelerate&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="n">Path</span><span class="p">]]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Create a script with the CLI-wrapped function.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>func</code>
            </td>
            <td>
                  <code><span title="zenml.utils.function_utils.F">F</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The function to use.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flavor</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The flavor to use.</p>
              </div>
            </td>
            <td>
                  <code>&#39;accelerate&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="pathlib.Path">Path</span>, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The paths of the script and the output.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the function is not defined in a module.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/function_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@contextmanager</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_cli_wrapped_script</span><span class="p">(</span>
    <span class="n">func</span><span class="p">:</span> <span class="n">F</span><span class="p">,</span> <span class="n">flavor</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;accelerate&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="n">Path</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a script with the CLI-wrapped function.</span>

<span class="sd">    Args:</span>
<span class="sd">        func: The function to use.</span>
<span class="sd">        flavor: The flavor to use.</span>

<span class="sd">    Yields:</span>
<span class="sd">        The paths of the script and the output.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the function is not defined in a module.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">random_name</span> <span class="o">=</span> <span class="n">random_str</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">script_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">random_name</span> <span class="o">+</span> <span class="s2">&quot;.py&quot;</span><span class="p">)</span>
        <span class="n">output_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">random_name</span> <span class="o">+</span> <span class="s2">&quot;.out&quot;</span><span class="p">)</span>

        <span class="n">module</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmodule</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">module</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Function `</span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` must be defined in a &quot;</span>
                <span class="s2">&quot;module to be used with Accelerate.&quot;</span>
            <span class="p">)</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">script_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">path</span> <span class="o">:=</span> <span class="n">module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">:</span>
                <span class="n">func_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
                <span class="n">relative_path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">func_path</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
                <span class="n">relative_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">relative_path</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">clean_module_name</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">relative_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">))</span>
                <span class="n">script</span> <span class="o">=</span> <span class="n">_CLI_WRAPPED_SCRIPT_TEMPLATE_HEADER</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">func_path</span><span class="o">=</span><span class="n">func_path</span><span class="p">,</span>
                    <span class="n">func_module</span><span class="o">=</span><span class="n">clean_module_name</span><span class="p">,</span>
                    <span class="n">func_name</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">script</span> <span class="o">+=</span> <span class="n">_CLI_WRAPPED_MAINS</span><span class="p">[</span><span class="n">flavor</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">output_file</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">output_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">())</span>
                <span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">script</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Cannot find module file path for function `</span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">`.&quot;</span>
                <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created script:</span><span class="se">\n\n</span><span class="si">{</span><span class="n">script</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">yield</span> <span class="n">script_path</span><span class="p">,</span> <span class="n">output_path</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">script_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="n">script_path</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">output_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="n">output_path</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.git_utils" class="doc doc-heading">
            <code>git_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility function to clone a Git repository.</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.git_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.git_utils.clone_git_repository" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clone_git_repository</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">to_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">branch</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Repo</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Clone a Git repository.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>url</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>URL of the repository to clone.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>to_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to clone the repository to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>branch</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Branch to clone. Defaults to "main".</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>commit</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Commit to checkout. If specified, the branch argument is
ignored.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="git.repo.Repo">Repo</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The cloned repository.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the repository could not be cloned.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/git_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clone_git_repository</span><span class="p">(</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">to_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">branch</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">commit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Repo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clone a Git repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        url: URL of the repository to clone.</span>
<span class="sd">        to_path: Path to clone the repository to.</span>
<span class="sd">        branch: Branch to clone. Defaults to &quot;main&quot;.</span>
<span class="sd">        commit: Commit to checkout. If specified, the branch argument is</span>
<span class="sd">            ignored.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The cloned repository.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the repository could not be cloned.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">to_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">commit</span><span class="p">:</span>
            <span class="n">repo</span> <span class="o">=</span> <span class="n">Repo</span><span class="o">.</span><span class="n">clone_from</span><span class="p">(</span>
                <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
                <span class="n">to_path</span><span class="o">=</span><span class="n">to_path</span><span class="p">,</span>
                <span class="n">no_checkout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">repo</span><span class="o">.</span><span class="n">git</span><span class="o">.</span><span class="n">checkout</span><span class="p">(</span><span class="n">commit</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">repo</span> <span class="o">=</span> <span class="n">Repo</span><span class="o">.</span><span class="n">clone_from</span><span class="p">(</span>
                <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
                <span class="n">to_path</span><span class="o">=</span><span class="n">to_path</span><span class="p">,</span>
                <span class="n">branch</span><span class="o">=</span><span class="n">branch</span> <span class="ow">or</span> <span class="s2">&quot;main&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">repo</span>
    <span class="k">except</span> <span class="n">GitCommandError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.io_utils" class="doc doc-heading">
            <code>io_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Various utility functions for the io module.</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.io_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.copy_dir" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">copy_dir</span><span class="p">(</span><span class="n">source_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Copies dir from source to destination.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to copy from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>destination_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to copy to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>overwrite</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Boolean. If false, function throws an error before overwrite.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">copy_dir</span><span class="p">(</span>
    <span class="n">source_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Copies dir from source to destination.</span>

<span class="sd">    Args:</span>
<span class="sd">        source_dir: Path to copy from.</span>
<span class="sd">        destination_dir: Path to copy to.</span>
<span class="sd">        overwrite: Boolean. If false, function throws an error before overwrite.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">source_file</span> <span class="ow">in</span> <span class="n">listdir</span><span class="p">(</span><span class="n">source_dir</span><span class="p">):</span>
        <span class="n">source_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">source_dir</span><span class="p">,</span> <span class="n">convert_to_str</span><span class="p">(</span><span class="n">source_file</span><span class="p">))</span>
        <span class="n">destination_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">destination_dir</span><span class="p">,</span> <span class="n">convert_to_str</span><span class="p">(</span><span class="n">source_file</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">isdir</span><span class="p">(</span><span class="n">source_path</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">source_path</span> <span class="o">==</span> <span class="n">destination_dir</span><span class="p">:</span>
                <span class="c1"># if the destination is a subdirectory of the source, we skip</span>
                <span class="c1"># copying it to avoid an infinite loop.</span>
                <span class="k">continue</span>
            <span class="n">copy_dir</span><span class="p">(</span><span class="n">source_path</span><span class="p">,</span> <span class="n">destination_path</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">destination_path</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">copy</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">source_path</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">destination_path</span><span class="p">),</span> <span class="n">overwrite</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.create_dir_if_not_exists" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_dir_if_not_exists</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Creates directory if it does not exist.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dir_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Local path in filesystem.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_dir_if_not_exists</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates directory if it does not exist.</span>

<span class="sd">    Args:</span>
<span class="sd">        dir_path: Local path in filesystem.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">isdir</span><span class="p">(</span><span class="n">dir_path</span><span class="p">):</span>
        <span class="n">mkdir</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.create_dir_recursive_if_not_exists" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Creates directory recursively if it does not exist.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dir_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Local path in filesystem.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates directory recursively if it does not exist.</span>

<span class="sd">    Args:</span>
<span class="sd">        dir_path: Local path in filesystem.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">isdir</span><span class="p">(</span><span class="n">dir_path</span><span class="p">):</span>
        <span class="n">makedirs</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.create_file_if_not_exists" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_file_if_not_exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_contents</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Creates file if it does not exist.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Local path in filesystem.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>file_contents</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contents of file.</p>
              </div>
            </td>
            <td>
                  <code>&#39;{}&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_file_if_not_exists</span><span class="p">(</span>
    <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_contents</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates file if it does not exist.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Local path in filesystem.</span>
<span class="sd">        file_contents: Contents of file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">full_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">full_path</span><span class="o">.</span><span class="n">parent</span><span class="p">))</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">full_path</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">file_contents</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.find_files" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_files</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Find files in a directory that match pattern.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dir_path</code>
            </td>
            <td>
                  <code><span title="zenml.io.filesystem.PathType">PathType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to directory.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pattern</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pattern like *.png.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>All matching filenames in the directory.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">find_files</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="s2">&quot;PathType&quot;</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find files in a directory that match pattern.</span>

<span class="sd">    Args:</span>
<span class="sd">        dir_path: The path to directory.</span>
<span class="sd">        pattern: pattern like *.png.</span>

<span class="sd">    Yields:</span>
<span class="sd">        All matching filenames in the directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">walk</span><span class="p">(</span><span class="n">dir_path</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">basename</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">fnmatch</span><span class="o">.</span><span class="n">fnmatch</span><span class="p">(</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">basename</span><span class="p">),</span> <span class="n">pattern</span><span class="p">):</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="n">convert_to_str</span><span class="p">(</span><span class="n">root</span><span class="p">),</span> <span class="n">convert_to_str</span><span class="p">(</span><span class="n">basename</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="k">yield</span> <span class="n">filename</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.get_global_config_directory" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_global_config_directory</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Gets the global config directory for ZenML.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The global config directory for ZenML.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_global_config_directory</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the global config directory for ZenML.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The global config directory for ZenML.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">env_var_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">env_var_path</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">env_var_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">click</span><span class="o">.</span><span class="n">get_app_dir</span><span class="p">(</span><span class="n">APP_NAME</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.get_grandparent" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_grandparent</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get grandparent of dir.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dir_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to directory.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input paths parents parent.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If dir_path does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_grandparent</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get grandparent of dir.</span>

<span class="sd">    Args:</span>
<span class="sd">        dir_path: The path to directory.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The input paths parents parent.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If dir_path does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dir_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path &#39;</span><span class="si">{</span><span class="n">dir_path</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">stem</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.get_parent" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_parent</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get parent of dir.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dir_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to directory.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Parent (stem) of the dir as a string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If dir_path does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_parent</span><span class="p">(</span><span class="n">dir_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get parent of dir.</span>

<span class="sd">    Args:</span>
<span class="sd">        dir_path: The path to directory.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Parent (stem) of the dir as a string.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If dir_path does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dir_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path &#39;</span><span class="si">{</span><span class="n">dir_path</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">dir_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">stem</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.is_path_within_directory" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_path_within_directory</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if a path is contained within a given directory.</p>
<p>This utility function verifies that a path (absolute or relative) resolves
to a location that is within the specified directory. This is useful for
security checks such as preventing path traversal attacks when extracting
archives (CVE-2007-4559) or whenever path containment needs to be verified.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to check (can be relative or absolute).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>directory</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The directory that should contain the path.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Boolean indicating whether the path is contained within the directory (True)</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>or not (False).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_path_within_directory</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if a path is contained within a given directory.</span>

<span class="sd">    This utility function verifies that a path (absolute or relative) resolves</span>
<span class="sd">    to a location that is within the specified directory. This is useful for</span>
<span class="sd">    security checks such as preventing path traversal attacks when extracting</span>
<span class="sd">    archives (CVE-2007-4559) or whenever path containment needs to be verified.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to check (can be relative or absolute).</span>
<span class="sd">        directory: The directory that should contain the path.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Boolean indicating whether the path is contained within the directory (True)</span>
<span class="sd">        or not (False).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Convert to absolute path, ensuring it&#39;s normalized</span>
    <span class="n">abs_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">path</span><span class="p">))</span>
    <span class="c1"># Check if the path is within the target directory</span>
    <span class="n">dir_abs</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">abs_path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">dir_abs</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span> <span class="ow">or</span> <span class="n">abs_path</span> <span class="o">==</span> <span class="n">dir_abs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.is_remote" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_remote</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns True if path exists remotely.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Any path as a string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if remote path, else False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_remote</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns True if path exists remotely.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Any path as a string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if remote path, else False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="n">REMOTE_FS_PREFIX</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.is_root" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_root</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns true if path has no parent in local filesystem.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Local path in filesystem.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if root, else False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_root</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns true if path has no parent in local filesystem.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Local path in filesystem.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if root, else False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">==</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.move" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">move</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Moves dir or file from source to destination. Can be used to rename.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Local path to copy from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>destination</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Local path to copy to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>overwrite</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>boolean, if false, then throws an error before overwrite.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">move</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Moves dir or file from source to destination. Can be used to rename.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: Local path to copy from.</span>
<span class="sd">        destination: Local path to copy to.</span>
<span class="sd">        overwrite: boolean, if false, then throws an error before overwrite.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rename</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.read_file_contents_as_string" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Reads contents of file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contents of file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If file does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">read_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads contents of file.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Contents of file.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: If file does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2"> does not exist!&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.resolve_relative_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">resolve_relative_path</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Takes relative path and resolves it absolutely.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Local path in filesystem.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Resolved path.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">resolve_relative_path</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Takes relative path and resolves it absolutely.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Local path in filesystem.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Resolved path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">is_remote</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">path</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.sanitize_remote_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sanitize_remote_path</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Sanitizes a remote path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to sanitize.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The sanitized path.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">sanitize_remote_path</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sanitizes a remote path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to sanitize.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The sanitized path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">is_remote</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">ntpath</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">posixpath</span>

        <span class="k">return</span> <span class="n">path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">ntpath</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="n">posixpath</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">path</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.io_utils.write_file_contents_as_string" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Writes contents of file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>content</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contents of file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If content is not of type str.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/io_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Writes contents of file.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to file.</span>
<span class="sd">        content: Contents of file.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If content is not of type str.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Content must be of type str, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">content</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.json_utils" class="doc doc-heading">
            <code>json_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Carried over version of some functions from the pydantic v1 json module.</p>
<p>Check out the latest version here:
https://github.com/pydantic/pydantic/blob/v1.10.15/pydantic/json.py</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.json_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.json_utils.decimal_encoder" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">decimal_encoder</span><span class="p">(</span><span class="n">dec_value</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Encodes a Decimal as int of there's no exponent, otherwise float.</p>
<p>This is useful when we use ConstrainedDecimal to represent Numeric(x,0)
where an integer (but not int typed) is used. Encoding this as a float
results in failed round-tripping between encode and parse.
Our ID type is a prime example of this.</p>
<blockquote>
<blockquote>
<blockquote>
<p>decimal_encoder(Decimal("1.0"))
1.0</p>
<p>decimal_encoder(Decimal("1"))
1</p>
</blockquote>
</blockquote>
</blockquote>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dec_value</code>
            </td>
            <td>
                  <code><span title="decimal.Decimal">Decimal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input Decimal value</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="int">int</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the encoded result</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/json_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">decimal_encoder</span><span class="p">(</span><span class="n">dec_value</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Encodes a Decimal as int of there&#39;s no exponent, otherwise float.</span>

<span class="sd">    This is useful when we use ConstrainedDecimal to represent Numeric(x,0)</span>
<span class="sd">    where an integer (but not int typed) is used. Encoding this as a float</span>
<span class="sd">    results in failed round-tripping between encode and parse.</span>
<span class="sd">    Our ID type is a prime example of this.</span>

<span class="sd">    &gt;&gt;&gt; decimal_encoder(Decimal(&quot;1.0&quot;))</span>
<span class="sd">    1.0</span>

<span class="sd">    &gt;&gt;&gt; decimal_encoder(Decimal(&quot;1&quot;))</span>
<span class="sd">    1</span>

<span class="sd">    Args:</span>
<span class="sd">        dec_value: The input Decimal value</span>

<span class="sd">    Returns:</span>
<span class="sd">        the encoded result</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">dec_value</span><span class="o">.</span><span class="n">as_tuple</span><span class="p">()</span><span class="o">.</span><span class="n">exponent</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># type: ignore[operator]</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">dec_value</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">dec_value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.json_utils.isoformat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">isoformat</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Function to convert a datetime into iso format.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>obj</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="datetime.date">date</span>, <span title="datetime.time">time</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>input datetime</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the corresponding time in iso format.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/json_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">isoformat</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to convert a datetime into iso format.</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: input datetime</span>

<span class="sd">    Returns:</span>
<span class="sd">        the corresponding time in iso format.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.materializer_utils" class="doc doc-heading">
            <code>materializer_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Util functions for materializers.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.materializer_utils-classes">Classes</h5>
<h5 id="zenml.utils.materializer_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.materializer_utils.select_materializer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">select_materializer</span><span class="p">(</span><span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">materializer_classes</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseMaterializer</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseMaterializer</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Select a materializer for a given data type.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data_type</code>
            </td>
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data type for which to select the materializer.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>materializer_classes</code>
            </td>
            <td>
                  <code><span title="typing.Sequence">Sequence</span>[<span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="BaseMaterializer(uri: str, artifact_store: Optional[BaseArtifactStore] = None) (zenml.materializers.base_materializer.BaseMaterializer)" href="core-materializers.html#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Available materializer classes.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no materializer can handle the given data type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="BaseMaterializer(uri: str, artifact_store: Optional[BaseArtifactStore] = None) (zenml.materializers.base_materializer.BaseMaterializer)" href="core-materializers.html#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The first materializer that can handle the given data type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/materializer_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">select_materializer</span><span class="p">(</span>
    <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span>
    <span class="n">materializer_classes</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseMaterializer&quot;</span><span class="p">]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseMaterializer&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Select a materializer for a given data type.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The data type for which to select the materializer.</span>
<span class="sd">        materializer_classes: Available materializer classes.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If no materializer can handle the given data type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The first materializer that can handle the given data type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fallback</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseMaterializer&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">for</span> <span class="n">class_</span> <span class="ow">in</span> <span class="n">data_type</span><span class="o">.</span><span class="vm">__mro__</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">materializer_class</span> <span class="ow">in</span> <span class="n">materializer_classes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">class_</span> <span class="ow">in</span> <span class="n">materializer_class</span><span class="o">.</span><span class="n">ASSOCIATED_TYPES</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">materializer_class</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">fallback</span> <span class="ow">and</span> <span class="n">materializer_class</span><span class="o">.</span><span class="n">can_save_type</span><span class="p">(</span><span class="n">class_</span><span class="p">):</span>
                <span class="n">fallback</span> <span class="o">=</span> <span class="n">materializer_class</span>

    <span class="k">if</span> <span class="n">fallback</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fallback</span>

    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No materializer found for type </span><span class="si">{</span><span class="n">data_type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.metadata_utils" class="doc doc-heading">
            <code>metadata_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions to handle metadata for ZenML entities.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.metadata_utils-classes">Classes</h5>
<h5 id="zenml.utils.metadata_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.metadata_utils.bulk_log_metadata" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bulk_log_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span> <span class="n">pipeline_runs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PipelineRunIdentifier</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">step_runs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">StepRunIdentifier</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">artifact_versions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ArtifactVersionIdentifier</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">model_versions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ModelVersionIdentifier</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">infer_models</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">infer_artifacts</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Logs metadata for multiple entities in a single invocation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="MetadataType = Union[str, int, float, bool, Dict[Any, Any], List[Any], Set[Any], Tuple[Any, ...], Uri, Path, DType, StorageSize]

  
      module-attribute
   (zenml.metadata.metadata_types.MetadataType)" href="core-client.html#zenml.client.MetadataType">MetadataType</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The metadata to log.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pipeline_runs</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="PipelineRunIdentifier (zenml.models.PipelineRunIdentifier)" href="core-models.html#zenml.models.PipelineRunIdentifier">PipelineRunIdentifier</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of pipeline runs to log metadata for.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>step_runs</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="StepRunIdentifier (zenml.models.StepRunIdentifier)" href="core-models.html#zenml.models.StepRunIdentifier">StepRunIdentifier</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of step runs to log metadata for.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_versions</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="ArtifactVersionIdentifier (zenml.models.ArtifactVersionIdentifier)" href="core-models.html#zenml.models.ArtifactVersionIdentifier">ArtifactVersionIdentifier</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of artifact versions to log metadata for.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>model_versions</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<a class="autorefs autorefs-internal" title="ModelVersionIdentifier (zenml.models.ModelVersionIdentifier)" href="core-models.html#zenml.models.ModelVersionIdentifier">ModelVersionIdentifier</a>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of model versions to log metadata for.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>infer_models</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag - when enabled infer model to log metadata for from step context.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>infer_artifacts</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag - when enabled infer artifact to log metadata for from step context.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If options are not passed correctly (empty metadata or no identifier options) or
invocation with <code>infer</code> options is done outside of a step context.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/metadata_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bulk_log_metadata</span><span class="p">(</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span>
    <span class="n">pipeline_runs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PipelineRunIdentifier</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">step_runs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">StepRunIdentifier</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">artifact_versions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ArtifactVersionIdentifier</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_versions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ModelVersionIdentifier</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">infer_models</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">infer_artifacts</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Logs metadata for multiple entities in a single invocation.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata: The metadata to log.</span>
<span class="sd">        pipeline_runs: A list of pipeline runs to log metadata for.</span>
<span class="sd">        step_runs: A list of step runs to log metadata for.</span>
<span class="sd">        artifact_versions: A list of artifact versions to log metadata for.</span>
<span class="sd">        model_versions: A list of model versions to log metadata for.</span>
<span class="sd">        infer_models: Flag - when enabled infer model to log metadata for from step context.</span>
<span class="sd">        infer_artifacts: Flag - when enabled infer artifact to log metadata for from step context.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If options are not passed correctly (empty metadata or no identifier options) or</span>
<span class="sd">            invocation with `infer` options is done outside of a step context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

    <span class="n">resources</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">RunMetadataResource</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">metadata</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;You must provide metadata to log.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span>
        <span class="nb">bool</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline_runs</span><span class="p">,</span>
            <span class="n">step_runs</span><span class="p">,</span>
            <span class="n">artifact_versions</span><span class="p">,</span>
            <span class="n">model_versions</span><span class="p">,</span>
            <span class="n">infer_models</span><span class="p">,</span>
            <span class="n">infer_artifacts</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;You must select at least one entity to log metadata to.&quot;</span>
        <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
        <span class="n">step_context</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">infer_models</span> <span class="ow">or</span> <span class="n">infer_artifacts</span><span class="p">)</span> <span class="ow">and</span> <span class="n">step_context</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Infer options can be used only within a step function code.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># resolve pipeline runs and add metadata resources</span>

    <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="n">pipeline_runs</span> <span class="ow">or</span> <span class="p">[]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">run</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
            <span class="n">run</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_pipeline_run</span><span class="p">(</span><span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">run</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resources</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">run</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">PIPELINE_RUN</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># resolve step runs and add metadata resources</span>

    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">step_runs</span> <span class="ow">or</span> <span class="p">[]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step</span><span class="o">.</span><span class="n">id</span> <span class="ow">and</span> <span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="n">step</span><span class="o">.</span><span class="n">run</span><span class="p">):</span>
            <span class="n">step</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">client</span><span class="o">.</span><span class="n">get_pipeline_run</span><span class="p">(</span><span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
                <span class="o">.</span><span class="n">steps</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
                <span class="o">.</span><span class="n">id</span>
            <span class="p">)</span>

        <span class="n">resources</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">STEP_RUN</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># resolve artifacts and add metadata resources</span>

    <span class="k">for</span> <span class="n">artifact_version</span> <span class="ow">in</span> <span class="n">artifact_versions</span> <span class="ow">or</span> <span class="p">[]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">artifact_version</span><span class="o">.</span><span class="n">id</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="n">artifact_version</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="n">artifact_version</span><span class="o">.</span><span class="n">version</span>
        <span class="p">):</span>
            <span class="n">artifact_version</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span>
                <span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">artifact_version</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="n">artifact_version</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="p">)</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resources</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">artifact_version</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># resolve models and add metadata resources</span>

    <span class="k">for</span> <span class="n">model_version</span> <span class="ow">in</span> <span class="n">model_versions</span> <span class="ow">or</span> <span class="p">[]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">model_version</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
            <span class="n">model_version</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span>
                <span class="n">model_name_or_id</span><span class="o">=</span><span class="n">model_version</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">model_version_name_or_number_or_id</span><span class="o">=</span><span class="n">model_version</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="p">)</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resources</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">model_version</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">MODEL_VERSION</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># infer models - resolve from step context</span>

    <span class="k">if</span> <span class="n">infer_models</span> <span class="ow">and</span> <span class="n">step_context</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">step_context</span><span class="o">.</span><span class="n">model_version</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The step context does not feature any model versions.&quot;</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">infer_models</span> <span class="ow">and</span> <span class="n">step_context</span> <span class="ow">and</span> <span class="n">step_context</span><span class="o">.</span><span class="n">model_version</span><span class="p">:</span>
        <span class="n">resources</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">step_context</span><span class="o">.</span><span class="n">model_version</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">MODEL_VERSION</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># infer artifacts - resolve from step context</span>

    <span class="k">if</span> <span class="n">infer_artifacts</span> <span class="ow">and</span> <span class="n">step_context</span><span class="p">:</span>
        <span class="n">step_output_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">step_context</span><span class="o">.</span><span class="n">_outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="k">for</span> <span class="n">artifact_name</span> <span class="ow">in</span> <span class="n">step_output_names</span><span class="p">:</span>
            <span class="n">step_context</span><span class="o">.</span><span class="n">add_output_metadata</span><span class="p">(</span>
                <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span> <span class="n">output_name</span><span class="o">=</span><span class="n">artifact_name</span>
            <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">resources</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">client</span><span class="o">.</span><span class="n">create_run_metadata</span><span class="p">(</span>
        <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
        <span class="n">resources</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">resources</span><span class="p">),</span>
        <span class="n">publisher_step_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.metadata_utils.log_metadata" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">log_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span> <span class="n">step_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">step_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">run_id_name_or_prefix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">artifact_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">artifact_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">infer_artifact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">model_version_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">model_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">model_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">ModelStages</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">infer_model</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>
          <div class="doc-overloads">
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">log_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">log_metadata</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span> <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span> <span class="n">step_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">log_metadata</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span>
    <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">run_id_name_or_prefix</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">log_metadata</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span>
    <span class="n">run_id_name_or_prefix</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">log_metadata</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span>
    <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">log_metadata</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span>
    <span class="n">artifact_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">artifact_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">log_metadata</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span>
    <span class="n">infer_artifact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">artifact_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">log_metadata</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span>
    <span class="n">model_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">log_metadata</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span>
    <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">model_version</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ModelStages</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">log_metadata</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span>
    <span class="n">infer_model</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>          </div>


    <div class="doc doc-contents ">

        <p>Logs metadata for various resource types in a generalized way.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metadata</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="MetadataType = Union[str, int, float, bool, Dict[Any, Any], List[Any], Set[Any], Tuple[Any, ...], Uri, Path, DType, StorageSize]

  
      module-attribute
   (zenml.metadata.metadata_types.MetadataType)" href="core-client.html#zenml.client.MetadataType">MetadataType</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The metadata to log.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>step_id</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the step.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>step_name</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the step.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>run_id_name_or_prefix</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The id, name or prefix of the run</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_version_id</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the artifact version</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_name</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the artifact.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_version</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The version of the artifact.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>infer_artifact</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag deciding whether the artifact version should be
inferred from the step context.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>model_version_id</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the model version.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>model_name</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the model.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>model_version</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="ModelStages (zenml.enums.ModelStages)" href="core-enums.html#zenml.enums.ModelStages">ModelStages</a>, <span title="int">int</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The version of the model.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>infer_model</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag deciding whether the model version should be
inferred from the step context.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no identifiers are provided and the function is not
called from within a step.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/metadata_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">log_metadata</span><span class="p">(</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">],</span>
    <span class="c1"># Steps and runs</span>
    <span class="n">step_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">step_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">run_id_name_or_prefix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Artifacts</span>
    <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">artifact_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">artifact_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">infer_artifact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="c1"># Models</span>
    <span class="n">model_version_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">ModelStages</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">infer_model</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Logs metadata for various resource types in a generalized way.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata: The metadata to log.</span>
<span class="sd">        step_id: The ID of the step.</span>
<span class="sd">        step_name: The name of the step.</span>
<span class="sd">        run_id_name_or_prefix: The id, name or prefix of the run</span>
<span class="sd">        artifact_version_id: The ID of the artifact version</span>
<span class="sd">        artifact_name: The name of the artifact.</span>
<span class="sd">        artifact_version: The version of the artifact.</span>
<span class="sd">        infer_artifact: Flag deciding whether the artifact version should be</span>
<span class="sd">            inferred from the step context.</span>
<span class="sd">        model_version_id: The ID of the model version.</span>
<span class="sd">        model_name: The name of the model.</span>
<span class="sd">        model_version: The version of the model.</span>
<span class="sd">        infer_model: Flag deciding whether the model version should be</span>
<span class="sd">            inferred from the step context.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If no identifiers are provided and the function is not</span>
<span class="sd">            called from within a step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

    <span class="n">resources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">RunMetadataResource</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">publisher_step_id</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Log metadata to a step by ID</span>
    <span class="k">if</span> <span class="n">step_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">step_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">STEP_RUN</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="c1"># Log metadata to a step by name and run ID</span>
    <span class="k">elif</span> <span class="n">step_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">run_id_name_or_prefix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">step_model_id</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">client</span><span class="o">.</span><span class="n">get_pipeline_run</span><span class="p">(</span><span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">run_id_name_or_prefix</span><span class="p">)</span>
            <span class="o">.</span><span class="n">steps</span><span class="p">[</span><span class="n">step_name</span><span class="p">]</span>
            <span class="o">.</span><span class="n">id</span>
        <span class="p">)</span>
        <span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">step_model_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">STEP_RUN</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="c1"># Log metadata to a run by ID</span>
    <span class="k">elif</span> <span class="n">run_id_name_or_prefix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">run_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_pipeline_run</span><span class="p">(</span>
            <span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">run_id_name_or_prefix</span>
        <span class="p">)</span>
        <span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">run_model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">PIPELINE_RUN</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="c1"># Log metadata to a model version by name and version</span>
    <span class="k">elif</span> <span class="n">model_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">model_version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">model_version_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span>
            <span class="n">model_name_or_id</span><span class="o">=</span><span class="n">model_name</span><span class="p">,</span>
            <span class="n">model_version_name_or_number_or_id</span><span class="o">=</span><span class="n">model_version</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">model_version_model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">MODEL_VERSION</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="c1"># Log metadata to a model version by id</span>
    <span class="k">elif</span> <span class="n">model_version_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">model_version_id</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">MODEL_VERSION</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="c1"># Log metadata to a model through the step context</span>
    <span class="k">elif</span> <span class="n">infer_model</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;If you are using the `infer_model` option, the function must &quot;</span>
                <span class="s2">&quot;be called inside a step with configured `model` in decorator.&quot;</span>
                <span class="s2">&quot;Otherwise, you can provide a `model_version_id` or a &quot;</span>
                <span class="s2">&quot;combination of `model_name` and `model_version`.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">step_context</span><span class="o">.</span><span class="n">model_version</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The step context does not feature any model versions.&quot;</span>
            <span class="p">)</span>

        <span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">step_context</span><span class="o">.</span><span class="n">model_version</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">MODEL_VERSION</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="c1"># Log metadata to an artifact version by its name and version</span>
    <span class="k">elif</span> <span class="n">artifact_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">artifact_version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">artifact_version_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span>
            <span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">artifact_name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">artifact_version</span>
        <span class="p">)</span>
        <span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">artifact_version_model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="c1"># Log metadata to an artifact version by its ID</span>
    <span class="k">elif</span> <span class="n">artifact_version_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">artifact_version_id</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="c1"># Log metadata to an artifact version through the step context</span>
    <span class="k">elif</span> <span class="n">infer_artifact</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;When you are using the `infer_artifact` option when you call &quot;</span>
                <span class="s2">&quot;`log_metadata`, it must be called inside a step with outputs.&quot;</span>
                <span class="s2">&quot;Otherwise, you can provide a `artifact_version_id` or a &quot;</span>
                <span class="s2">&quot;combination of `artifact_name` and `artifact_version`.&quot;</span>
            <span class="p">)</span>

        <span class="n">step_output_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">step_context</span><span class="o">.</span><span class="n">_outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">artifact_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># If a name provided, ensure it is in the outputs</span>
            <span class="k">if</span> <span class="n">artifact_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_output_names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The provided artifact name`</span><span class="si">{</span><span class="n">artifact_name</span><span class="si">}</span><span class="s2">` does not &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;exist in the step outputs: </span><span class="si">{</span><span class="n">step_output_names</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If no name provided, ensure there is only one output</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">step_output_names</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;There is more than one output. If you would like to use &quot;</span>
                    <span class="s2">&quot;the `infer_artifact` option, you need to define an &quot;</span>
                    <span class="s2">&quot;`artifact_name`.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">step_output_names</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The step does not have any outputs.&quot;</span><span class="p">)</span>

            <span class="n">artifact_name</span> <span class="o">=</span> <span class="n">step_output_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">step_context</span><span class="o">.</span><span class="n">add_output_metadata</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span> <span class="n">output_name</span><span class="o">=</span><span class="n">artifact_name</span>
        <span class="p">)</span>
        <span class="k">return</span>

    <span class="c1"># If every additional value is None, that means we are calling it bare bones</span>
    <span class="c1"># and this call needs to happen during a step execution. We will use the</span>
    <span class="c1"># step context to fetch the step, run and possibly the model version and</span>
    <span class="c1"># attach the metadata accordingly.</span>
    <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">step_id</span><span class="p">,</span>
            <span class="n">step_name</span><span class="p">,</span>
            <span class="n">run_id_name_or_prefix</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">model_version_id</span><span class="p">,</span>
            <span class="n">model_name</span><span class="p">,</span>
            <span class="n">model_version</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;You are calling &#39;log_metadata()&#39; outside of a step execution. &quot;</span>
                <span class="s2">&quot;If you would like to add metadata to a ZenML entity outside &quot;</span>
                <span class="s2">&quot;of the step execution, please provide the required &quot;</span>
                <span class="s2">&quot;identifiers.&quot;</span>
            <span class="p">)</span>

        <span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">RunMetadataResource</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">step_context</span><span class="o">.</span><span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">STEP_RUN</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>
        <span class="n">publisher_step_id</span> <span class="o">=</span> <span class="n">step_context</span><span class="o">.</span><span class="n">step_run</span><span class="o">.</span><span class="n">id</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Unsupported way to call the `log_metadata`. Possible combinations &quot;</span>
<span class="sd">            include:</span>

<span class="sd">            # Automatic logging to a step (within a step)</span>
<span class="sd">            log_metadata(metadata={})</span>

<span class="sd">            # Manual logging to a step</span>
<span class="sd">            log_metadata(metadata={}, step_name=..., run_id_name_or_prefix=...)</span>
<span class="sd">            log_metadata(metadata={}, step_id=...)</span>

<span class="sd">            # Manual logging to a run</span>
<span class="sd">            log_metadata(metadata={}, run_id_name_or_prefix=...)</span>

<span class="sd">            # Automatic logging to a model (within a step)</span>
<span class="sd">            log_metadata(metadata={}, infer_model=True)</span>

<span class="sd">            # Manual logging to a model</span>
<span class="sd">            log_metadata(metadata={}, model_name=..., model_version=...)</span>
<span class="sd">            log_metadata(metadata={}, model_version_id=...)</span>

<span class="sd">            # Automatic logging to an artifact (within a step)</span>
<span class="sd">            log_metadata(metadata={}, infer_artifact=True)  # step with single output</span>
<span class="sd">            log_metadata(metadata={}, artifact_name=..., infer_artifact=True)  # specific output of a step</span>

<span class="sd">            # Manual logging to an artifact</span>
<span class="sd">            log_metadata(metadata={}, artifact_name=..., artifact_version=...)</span>
<span class="sd">            log_metadata(metadata={}, artifact_version_id=...)</span>
<span class="sd">            &quot;&quot;&quot;</span>
        <span class="p">)</span>

    <span class="n">client</span><span class="o">.</span><span class="n">create_run_metadata</span><span class="p">(</span>
        <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
        <span class="n">resources</span><span class="o">=</span><span class="n">resources</span><span class="p">,</span>
        <span class="n">publisher_step_id</span><span class="o">=</span><span class="n">publisher_step_id</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.networking_utils" class="doc doc-heading">
            <code>networking_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions for networking.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.networking_utils-classes">Classes</h5>
<h5 id="zenml.utils.networking_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.networking_utils.find_available_port" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_available_port</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Finds a local random unoccupied TCP port.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A random unoccupied TCP port.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/networking_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">find_available_port</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Finds a local random unoccupied TCP port.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A random unoccupied TCP port.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
        <span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">getsockname</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.networking_utils.get_or_create_ngrok_tunnel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_or_create_ngrok_tunnel</span><span class="p">(</span><span class="n">ngrok_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get or create an ngrok tunnel at the given port.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ngrok_token</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ngrok auth token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>port</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The port to tunnel.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The public URL of the ngrok tunnel.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ImportError">ImportError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the <code>pyngrok</code> package is not installed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/networking_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_or_create_ngrok_tunnel</span><span class="p">(</span><span class="n">ngrok_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get or create an ngrok tunnel at the given port.</span>

<span class="sd">    Args:</span>
<span class="sd">        ngrok_token: The ngrok auth token.</span>
<span class="sd">        port: The port to tunnel.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The public URL of the ngrok tunnel.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ImportError: If the `pyngrok` package is not installed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">pyngrok</span><span class="w"> </span><span class="kn">import</span> <span class="n">ngrok</span> <span class="k">as</span> <span class="n">ngrok_client</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ImportError</span><span class="p">(</span>
            <span class="s2">&quot;The `pyngrok` package is required to create ngrok tunnels. &quot;</span>
            <span class="s2">&quot;Please install it by running `pip install pyngrok`.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Check if ngrok is already tunneling the port</span>
    <span class="n">tunnels</span> <span class="o">=</span> <span class="n">ngrok_client</span><span class="o">.</span><span class="n">get_tunnels</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">tunnel</span> <span class="ow">in</span> <span class="n">tunnels</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">tunnel</span><span class="o">.</span><span class="n">config</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tunnel</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">tunnel_protocol</span> <span class="o">=</span> <span class="n">tunnel</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proto&quot;</span><span class="p">)</span>
            <span class="n">tunnel_port</span> <span class="o">=</span> <span class="n">tunnel</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;addr&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">tunnel_protocol</span> <span class="o">==</span> <span class="s2">&quot;http&quot;</span> <span class="ow">and</span> <span class="n">tunnel_port</span> <span class="o">==</span> <span class="n">port</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">tunnel</span><span class="o">.</span><span class="n">public_url</span><span class="p">)</span>

    <span class="c1"># Create new tunnel</span>
    <span class="n">ngrok_client</span><span class="o">.</span><span class="n">set_auth_token</span><span class="p">(</span><span class="n">ngrok_token</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">ngrok_client</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">port</span><span class="p">)</span><span class="o">.</span><span class="n">public_url</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.networking_utils.lookup_preferred_or_free_port" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lookup_preferred_or_free_port</span><span class="p">(</span><span class="n">preferred_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span> <span class="n">allocate_port_if_busy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="nb">range</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">SCAN_PORT_RANGE</span><span class="p">,</span> <span class="n">address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Find a preferred TCP port that is available or search for a free TCP port.</p>
<p>If a list of preferred TCP port values is explicitly requested, they
will be checked in order.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>preferred_ports</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of preferred TCP port values.</p>
              </div>
            </td>
            <td>
                  <code>[]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allocate_port_if_busy</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, allocate a free port if all the
preferred ports are busy, otherwise an exception will be raised.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>range</code>
            </td>
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="int">int</span>, <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The range of ports to search for a free port.</p>
              </div>
            </td>
            <td>
                  <code><span title="zenml.utils.networking_utils.SCAN_PORT_RANGE">SCAN_PORT_RANGE</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>address</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The IP address for which to find a port.</p>
              </div>
            </td>
            <td>
                  <code>&#39;127.0.0.1&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An available TCP port number</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="IOError">IOError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the preferred TCP port is busy and <code>allocate_port_if_busy</code>
is disabled, or if no free TCP port could be otherwise allocated.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/networking_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">lookup_preferred_or_free_port</span><span class="p">(</span>
    <span class="n">preferred_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
    <span class="n">allocate_port_if_busy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="nb">range</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">SCAN_PORT_RANGE</span><span class="p">,</span>
    <span class="n">address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find a preferred TCP port that is available or search for a free TCP port.</span>

<span class="sd">    If a list of preferred TCP port values is explicitly requested, they</span>
<span class="sd">    will be checked in order.</span>

<span class="sd">    Args:</span>
<span class="sd">        preferred_ports: A list of preferred TCP port values.</span>
<span class="sd">        allocate_port_if_busy: If True, allocate a free port if all the</span>
<span class="sd">            preferred ports are busy, otherwise an exception will be raised.</span>
<span class="sd">        range: The range of ports to search for a free port.</span>
<span class="sd">        address: The IP address for which to find a port.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An available TCP port number</span>

<span class="sd">    Raises:</span>
<span class="sd">        IOError: if the preferred TCP port is busy and `allocate_port_if_busy`</span>
<span class="sd">            is disabled, or if no free TCP port could be otherwise allocated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># If a port value is explicitly configured, attempt to use it first</span>
    <span class="k">if</span> <span class="n">preferred_ports</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">port</span> <span class="ow">in</span> <span class="n">preferred_ports</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">port_available</span><span class="p">(</span><span class="n">port</span><span class="p">,</span> <span class="n">address</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">port</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">allocate_port_if_busy</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TCP port </span><span class="si">{</span><span class="n">preferred_ports</span><span class="si">}</span><span class="s2"> is not available.&quot;</span><span class="p">)</span>

    <span class="n">available_port</span> <span class="o">=</span> <span class="n">scan_for_available_port</span><span class="p">(</span>
        <span class="n">start</span><span class="o">=</span><span class="nb">range</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stop</span><span class="o">=</span><span class="nb">range</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">address</span><span class="o">=</span><span class="n">address</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">available_port</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">available_port</span>
    <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No free TCP ports found in range </span><span class="si">{</span><span class="nb">range</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.networking_utils.port_available" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">port_available</span><span class="p">(</span><span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if a local port is available.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>port</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TCP port number</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>address</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>IP address on the local machine</p>
              </div>
            </td>
            <td>
                  <code>&#39;127.0.0.1&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the port is available, otherwise False</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/networking_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">port_available</span><span class="p">(</span><span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if a local port is available.</span>

<span class="sd">    Args:</span>
<span class="sd">        port: TCP port number</span>
<span class="sd">        address: IP address on the local machine</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the port is available, otherwise False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">s</span><span class="p">:</span>
            <span class="n">s</span><span class="o">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">SOL_SOCKET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SO_REUSEADDR</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">socket</span><span class="p">,</span> <span class="s2">&quot;SO_REUSEPORT&quot;</span><span class="p">):</span>
                <span class="n">s</span><span class="o">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">SOL_SOCKET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SO_REUSEPORT</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># The SO_REUSEPORT socket option is not supported on Windows.</span>
                <span class="c1"># This if clause exists just for mypy to not complain about</span>
                <span class="c1"># missing code paths.</span>
                <span class="k">pass</span>
            <span class="n">s</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="n">address</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Port </span><span class="si">%d</span><span class="s2"> unavailable on </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.networking_utils.port_is_open" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">port_is_open</span><span class="p">(</span><span class="n">hostname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Check if a TCP port is open on a remote host.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>hostname</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>hostname of the remote machine</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>port</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TCP port number</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the port is open, False otherwise</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/networking_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">port_is_open</span><span class="p">(</span><span class="n">hostname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if a TCP port is open on a remote host.</span>

<span class="sd">    Args:</span>
<span class="sd">        hostname: hostname of the remote machine</span>
<span class="sd">        port: TCP port number</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the port is open, False otherwise</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span> <span class="k">as</span> <span class="n">sock</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">connect_ex</span><span class="p">((</span><span class="n">hostname</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">result</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error checking TCP port </span><span class="si">{</span><span class="n">port</span><span class="si">}</span><span class="s2"> on host </span><span class="si">{</span><span class="n">hostname</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.networking_utils.replace_internal_hostname_with_localhost" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">replace_internal_hostname_with_localhost</span><span class="p">(</span><span class="n">hostname</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Replaces an internal Docker or K3D hostname with localhost.</p>
<p>Localhost URLs that are directly accessible on the host machine are not
accessible from within a Docker or K3D container running on that same
machine, but there are special hostnames featured by both Docker
(<code>host.docker.internal</code>) and K3D (<code>host.k3d.internal</code>) that can be used to
access host services from within the containers.</p>
<p>Use this method to replace one of these special hostnames with localhost
if used outside a container or in a container where special hostnames are
not available.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>hostname</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The hostname to replace.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The original or replaced hostname.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/networking_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">replace_internal_hostname_with_localhost</span><span class="p">(</span><span class="n">hostname</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Replaces an internal Docker or K3D hostname with localhost.</span>

<span class="sd">    Localhost URLs that are directly accessible on the host machine are not</span>
<span class="sd">    accessible from within a Docker or K3D container running on that same</span>
<span class="sd">    machine, but there are special hostnames featured by both Docker</span>
<span class="sd">    (`host.docker.internal`) and K3D (`host.k3d.internal`) that can be used to</span>
<span class="sd">    access host services from within the containers.</span>

<span class="sd">    Use this method to replace one of these special hostnames with localhost</span>
<span class="sd">    if used outside a container or in a container where special hostnames are</span>
<span class="sd">    not available.</span>

<span class="sd">    Args:</span>
<span class="sd">        hostname: The hostname to replace.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The original or replaced hostname.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">hostname</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;host.docker.internal&quot;</span><span class="p">,</span> <span class="s2">&quot;host.k3d.internal&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">hostname</span>

    <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_container</span><span class="p">():</span>
        <span class="c1"># Try to resolve one of the special hostnames to see if it is available</span>
        <span class="c1"># inside the container and use that if it is.</span>
        <span class="k">for</span> <span class="n">internal_hostname</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="s2">&quot;host.docker.internal&quot;</span><span class="p">,</span>
            <span class="s2">&quot;host.k3d.internal&quot;</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">internal_hostname</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">internal_hostname</span> <span class="o">!=</span> <span class="n">hostname</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Replacing internal hostname </span><span class="si">{</span><span class="n">hostname</span><span class="si">}</span><span class="s2"> with &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">internal_hostname</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="k">return</span> <span class="n">internal_hostname</span>
            <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">gaierror</span><span class="p">:</span>
                <span class="k">continue</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Replacing internal hostname </span><span class="si">{</span><span class="n">hostname</span><span class="si">}</span><span class="s2"> with localhost.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="s2">&quot;127.0.0.1&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.networking_utils.replace_localhost_with_internal_hostname" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">replace_localhost_with_internal_hostname</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Replaces the localhost with an internal Docker or K3D hostname in a given URL.</p>
<p>Localhost URLs that are directly accessible on the host machine are not
accessible from within a Docker or K3D container running on that same
machine, but there are special hostnames featured by both Docker
(<code>host.docker.internal</code>) and K3D (<code>host.k3d.internal</code>) that can be used to
access host services from within the containers.</p>
<p>Use this method to attempt to replace <code>localhost</code> in a URL with one of these
special hostnames, if they are available inside a container.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>url</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The URL to update.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The updated URL.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/networking_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">replace_localhost_with_internal_hostname</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Replaces the localhost with an internal Docker or K3D hostname in a given URL.</span>

<span class="sd">    Localhost URLs that are directly accessible on the host machine are not</span>
<span class="sd">    accessible from within a Docker or K3D container running on that same</span>
<span class="sd">    machine, but there are special hostnames featured by both Docker</span>
<span class="sd">    (`host.docker.internal`) and K3D (`host.k3d.internal`) that can be used to</span>
<span class="sd">    access host services from within the containers.</span>

<span class="sd">    Use this method to attempt to replace `localhost` in a URL with one of these</span>
<span class="sd">    special hostnames, if they are available inside a container.</span>

<span class="sd">    Args:</span>
<span class="sd">        url: The URL to update.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated URL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_container</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">url</span>

    <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">parsed_url</span><span class="o">.</span><span class="n">hostname</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">internal_hostname</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="s2">&quot;host.docker.internal&quot;</span><span class="p">,</span>
            <span class="s2">&quot;host.k3d.internal&quot;</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">internal_hostname</span><span class="p">)</span>
                <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">parsed_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span>
                    <span class="n">netloc</span><span class="o">=</span><span class="n">parsed_url</span><span class="o">.</span><span class="n">netloc</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                        <span class="n">parsed_url</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span>
                        <span class="n">internal_hostname</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Replacing localhost with </span><span class="si">{</span><span class="n">internal_hostname</span><span class="si">}</span><span class="s2"> in URL: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="n">parsed_url</span><span class="o">.</span><span class="n">geturl</span><span class="p">()</span>

            <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">gaierror</span><span class="p">:</span>
                <span class="k">continue</span>

    <span class="k">return</span> <span class="n">url</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.networking_utils.scan_for_available_port" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">scan_for_available_port</span><span class="p">(</span><span class="n">start</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">SCAN_PORT_RANGE</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stop</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">SCAN_PORT_RANGE</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Scan the local network for an available port in the given range.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>start</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the beginning of the port range value to scan</p>
              </div>
            </td>
            <td>
                  <code><span title="zenml.utils.networking_utils.SCAN_PORT_RANGE">SCAN_PORT_RANGE</span>[0]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stop</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the (inclusive) end of the port range value to scan</p>
              </div>
            </td>
            <td>
                  <code><span title="zenml.utils.networking_utils.SCAN_PORT_RANGE">SCAN_PORT_RANGE</span>[1]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>address</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The IP address for which to find a port.</p>
              </div>
            </td>
            <td>
                  <code>&#39;127.0.0.1&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The first available port in the given range, or None if no available</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>port is found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/networking_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">scan_for_available_port</span><span class="p">(</span>
    <span class="n">start</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">SCAN_PORT_RANGE</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">stop</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">SCAN_PORT_RANGE</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Scan the local network for an available port in the given range.</span>

<span class="sd">    Args:</span>
<span class="sd">        start: the beginning of the port range value to scan</span>
<span class="sd">        stop: the (inclusive) end of the port range value to scan</span>
<span class="sd">        address: The IP address for which to find a port.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The first available port in the given range, or None if no available</span>
<span class="sd">        port is found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">port</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">port_available</span><span class="p">(</span><span class="n">port</span><span class="p">,</span> <span class="n">address</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">port</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;No free TCP ports found in the range </span><span class="si">%d</span><span class="s2"> - </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">start</span><span class="p">,</span>
        <span class="n">stop</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.notebook_utils" class="doc doc-heading">
            <code>notebook_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Notebook utilities.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.notebook_utils-classes">Classes</h5>
<h5 id="zenml.utils.notebook_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.notebook_utils.compute_cell_replacement_module_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_cell_replacement_module_name</span><span class="p">(</span><span class="n">cell_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Compute the replacement module name for a given cell code.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cell_code</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The code of the notebook cell.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The replacement module name.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/notebook_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">compute_cell_replacement_module_name</span><span class="p">(</span><span class="n">cell_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute the replacement module name for a given cell code.</span>

<span class="sd">    Args:</span>
<span class="sd">        cell_code: The code of the notebook cell.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The replacement module name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">code_hash</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">(</span><span class="n">cell_code</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>  <span class="c1"># nosec</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;extracted_notebook_code_</span><span class="si">{</span><span class="n">code_hash</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.notebook_utils.enable_notebook_code_extraction" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">enable_notebook_code_extraction</span><span class="p">(</span><span class="n">_obj</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AnyObject</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">AnyObject</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">AnyObject</span><span class="p">],</span> <span class="n">AnyObject</span><span class="p">]]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Decorator to enable code extraction from notebooks.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>_obj</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="zenml.utils.notebook_utils.AnyObject">AnyObject</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The class or function for which to enable code extraction.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="zenml.utils.notebook_utils.AnyObject">AnyObject</span>, <span title="typing.Callable">Callable</span>[[<span title="zenml.utils.notebook_utils.AnyObject">AnyObject</span>], <span title="zenml.utils.notebook_utils.AnyObject">AnyObject</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The decorated class or function.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/notebook_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">enable_notebook_code_extraction</span><span class="p">(</span>
    <span class="n">_obj</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;AnyObject&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;AnyObject&quot;</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;AnyObject&quot;</span><span class="p">],</span> <span class="s2">&quot;AnyObject&quot;</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Decorator to enable code extraction from notebooks.</span>

<span class="sd">    Args:</span>
<span class="sd">        _obj: The class or function for which to enable code extraction.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The decorated class or function.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">inner_decorator</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="s2">&quot;AnyObject&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AnyObject&quot;</span><span class="p">:</span>
        <span class="n">try_to_save_notebook_cell_code</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">obj</span>

    <span class="k">if</span> <span class="n">_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inner_decorator</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inner_decorator</span><span class="p">(</span><span class="n">_obj</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.notebook_utils.get_active_notebook_cell_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_active_notebook_cell_code</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get the code of the currently active notebook cell.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The code of the currently active notebook cell.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/notebook_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_active_notebook_cell_code</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the code of the currently active notebook cell.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The code of the currently active notebook cell.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cell_code</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">ipython</span> <span class="o">=</span> <span class="n">get_ipython</span><span class="p">()</span>  <span class="c1"># type: ignore[name-defined]</span>
        <span class="n">cell_code</span> <span class="o">=</span> <span class="n">ipython</span><span class="o">.</span><span class="n">get_parent</span><span class="p">()[</span><span class="s2">&quot;content&quot;</span><span class="p">][</span><span class="s2">&quot;code&quot;</span><span class="p">]</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">NameError</span><span class="p">,</span> <span class="ne">KeyError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Unable to extract cell code: </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">cell_code</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.notebook_utils.is_defined_in_notebook_cell" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_defined_in_notebook_cell</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Check whether an object is defined in a notebook cell.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>obj</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The object to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the object is defined in a notebook cell.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/notebook_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_defined_in_notebook_cell</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check whether an object is defined in a notebook cell.</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: The object to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether the object is defined in a notebook cell.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">module_name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;__module__&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">module_name</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.notebook_utils.load_notebook_cell_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_notebook_cell_code</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Load the notebook cell code for an object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>obj</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The object for which to load the cell code.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The notebook cell code if it was saved.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/notebook_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_notebook_cell_code</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load the notebook cell code for an object.</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: The object for which to load the cell code.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The notebook cell code if it was saved.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ZENML_NOTEBOOK_CELL_CODE_ATTRIBUTE_NAME</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.notebook_utils.try_to_save_notebook_cell_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">try_to_save_notebook_cell_code</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Try to save the notebook cell code for an object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>obj</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The object for which to save the notebook cell code.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/notebook_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">try_to_save_notebook_cell_code</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Try to save the notebook cell code for an object.</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: The object for which to save the notebook cell code.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">is_defined_in_notebook_cell</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">cell_code</span> <span class="o">:=</span> <span class="n">get_active_notebook_cell_code</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span>
                <span class="n">obj</span><span class="p">,</span>
                <span class="n">ZENML_NOTEBOOK_CELL_CODE_ATTRIBUTE_NAME</span><span class="p">,</span>
                <span class="n">cell_code</span><span class="p">,</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.notebook_utils.warn_about_notebook_cell_magic_commands" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">warn_about_notebook_cell_magic_commands</span><span class="p">(</span><span class="n">cell_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Warn about magic commands in the cell code.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cell_code</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The cell code.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/notebook_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">warn_about_notebook_cell_magic_commands</span><span class="p">(</span><span class="n">cell_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Warn about magic commands in the cell code.</span>

<span class="sd">    Args:</span>
<span class="sd">        cell_code: The cell code.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s2">&quot;%&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">))</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">cell_code</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Some lines in your notebook cell start with a `!` or `%` &quot;</span>
            <span class="s2">&quot;character. Running a ZenML step remotely from a notebook &quot;</span>
            <span class="s2">&quot;only works if the cell only contains python code. If any &quot;</span>
            <span class="s2">&quot;of these lines contain Jupyter notebook magic commands, &quot;</span>
            <span class="s2">&quot;remove them and try again.&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.package_utils" class="doc doc-heading">
            <code>package_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions for the package.</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.package_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.package_utils.clean_requirements" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clean_requirements</span><span class="p">(</span><span class="n">requirements</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Clean requirements list from redundant requirements.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>requirements</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of requirements.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cleaned list of requirements</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If input is not a list</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If any element in the list is not a string</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/package_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clean_requirements</span><span class="p">(</span><span class="n">requirements</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clean requirements list from redundant requirements.</span>

<span class="sd">    Args:</span>
<span class="sd">        requirements: List of requirements.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Cleaned list of requirements</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If input is not a list</span>
<span class="sd">        ValueError: If any element in the list is not a string</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">requirements</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Input must be a list&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="n">requirements</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;All elements in the list must be strings&quot;</span><span class="p">)</span>

    <span class="n">cleaned</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="n">requirements</span><span class="p">:</span>
        <span class="n">package</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">req</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&gt;=&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;==&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;~=&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;^=&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">package</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cleaned</span> <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">op</span> <span class="ow">in</span> <span class="n">req</span> <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s2">&quot;~&quot;</span><span class="p">,</span> <span class="s2">&quot;^&quot;</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="n">cleaned</span><span class="p">[</span><span class="n">package</span><span class="p">]</span> <span class="o">=</span> <span class="n">req</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">cleaned</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.package_utils.get_dependencies" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_dependencies</span><span class="p">(</span><span class="n">requirement</span><span class="p">:</span> <span class="n">Requirement</span><span class="p">,</span> <span class="n">recursive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Requirement</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get the dependencies of a requirement.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>requirement</code>
            </td>
            <td>
                  <code><span title="packaging.requirements.Requirement">Requirement</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A requirement string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>recursive</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to include recursive dependencies.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="packaging.requirements.Requirement">Requirement</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of requirements.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/package_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_dependencies</span><span class="p">(</span>
    <span class="n">requirement</span><span class="p">:</span> <span class="n">Requirement</span><span class="p">,</span> <span class="n">recursive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Requirement</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the dependencies of a requirement.</span>

<span class="sd">    Args:</span>
<span class="sd">        requirement: A requirement string.</span>
<span class="sd">        recursive: Whether to include recursive dependencies.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of requirements.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="n">distribution</span><span class="p">(</span><span class="n">requirement</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">marker_environment</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">default_environment</span><span class="p">())</span>

    <span class="n">dependencies</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="n">dist</span><span class="o">.</span><span class="n">requires</span> <span class="ow">or</span> <span class="p">[]:</span>
        <span class="n">parsed_req</span> <span class="o">=</span> <span class="n">Requirement</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">parsed_req</span><span class="o">.</span><span class="n">marker</span><span class="p">:</span>
            <span class="n">should_include</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="n">marker_environment</span><span class="p">[</span><span class="s2">&quot;extra&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">if</span> <span class="n">parsed_req</span><span class="o">.</span><span class="n">marker</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">environment</span><span class="o">=</span><span class="n">marker_environment</span><span class="p">):</span>
                <span class="n">should_include</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">should_include</span><span class="p">:</span>
                <span class="c1"># Not required without extras, so check if it&#39;s required with</span>
                <span class="c1"># any of the requested extras</span>
                <span class="k">for</span> <span class="n">extra</span> <span class="ow">in</span> <span class="n">requirement</span><span class="o">.</span><span class="n">extras</span><span class="p">:</span>
                    <span class="n">marker_environment</span><span class="p">[</span><span class="s2">&quot;extra&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">extra</span>
                    <span class="k">if</span> <span class="n">parsed_req</span><span class="o">.</span><span class="n">marker</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span>
                        <span class="n">environment</span><span class="o">=</span><span class="n">marker_environment</span>
                    <span class="p">):</span>
                        <span class="n">should_include</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>

            <span class="k">if</span> <span class="n">should_include</span><span class="p">:</span>
                <span class="n">dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parsed_req</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># No marker means always include</span>
            <span class="n">dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parsed_req</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">recursive</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="n">dependencies</span><span class="p">:</span>
            <span class="n">dependencies</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">get_dependencies</span><span class="p">(</span><span class="n">dependency</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">dependencies</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.package_utils.get_package_information" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_package_information</span><span class="p">(</span><span class="n">package_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get package information.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>package_names</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filter for specific package names. If no package names
are provided, all installed packages are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of the name:version for the package names passed in or
all packages and their respective versions.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/package_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_package_information</span><span class="p">(</span>
    <span class="n">package_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get package information.</span>

<span class="sd">    Args:</span>
<span class="sd">        package_names: Filter for specific package names. If no package names</span>
<span class="sd">            are provided, all installed packages are returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary of the name:version for the package names passed in or</span>
<span class="sd">            all packages and their respective versions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">package_names</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">dist</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">dist</span><span class="o">.</span><span class="n">version</span>
            <span class="k">for</span> <span class="n">dist</span> <span class="ow">in</span> <span class="n">distributions</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">dist</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">package_names</span>
        <span class="p">}</span>

    <span class="k">return</span> <span class="p">{</span><span class="n">dist</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">dist</span><span class="o">.</span><span class="n">version</span> <span class="k">for</span> <span class="n">dist</span> <span class="ow">in</span> <span class="n">distributions</span><span class="p">()}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.package_utils.is_latest_zenml_version" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_latest_zenml_version</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if the currently running ZenML package is on the latest version.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True in case the current running zenml code is the latest available version on PYPI, otherwise False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>In case something goes wrong</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/package_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_latest_zenml_version</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if the currently running ZenML package is on the latest version.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True in case the current running zenml code is the latest available version on PYPI, otherwise False.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: In case something goes wrong</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml</span><span class="w"> </span><span class="kn">import</span> <span class="n">__version__</span>

    <span class="c1"># Get the current version of the package</span>
    <span class="n">current_local_version</span> <span class="o">=</span> <span class="n">__version__</span>

    <span class="c1"># Get the latest version from PyPI</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://pypi.org/pypi/zenml/json&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="n">latest_published_version</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;info&quot;</span><span class="p">][</span><span class="s2">&quot;version&quot;</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Failed to fetch the latest version from PyPI: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Compare versions</span>
    <span class="k">if</span> <span class="n">version</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">latest_published_version</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">version</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span>
        <span class="n">current_local_version</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.package_utils.requirement_installed" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">requirement_installed</span><span class="p">(</span><span class="n">requirement</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Requirement</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Check if a requirement is installed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>requirement</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="packaging.requirements.Requirement">Requirement</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A requirement string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the requirement is installed, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/package_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">requirement_installed</span><span class="p">(</span><span class="n">requirement</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Requirement</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if a requirement is installed.</span>

<span class="sd">    Args:</span>
<span class="sd">        requirement: A requirement string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the requirement is installed, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">requirement</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">requirement</span> <span class="o">=</span> <span class="n">Requirement</span><span class="p">(</span><span class="n">requirement</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="n">distribution</span><span class="p">(</span><span class="n">requirement</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">PackageNotFoundError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">requirement</span><span class="o">.</span><span class="n">specifier</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">dist</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.pagination_utils" class="doc doc-heading">
            <code>pagination_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Pagination utilities.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.pagination_utils-classes">Classes</h5>
<h5 id="zenml.utils.pagination_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.pagination_utils.depaginate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">depaginate</span><span class="p">(</span><span class="n">list_method</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Page</span><span class="p">[</span><span class="n">AnyResponse</span><span class="p">]],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AnyResponse</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Depaginate the results from a client or store method that returns pages.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>list_method</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[..., <a class="autorefs autorefs-internal" title="Page (zenml.models.Page)" href="core-models.html#zenml.models.Page">Page</a>[<span title="zenml.utils.pagination_utils.AnyResponse">AnyResponse</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list method to depaginate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Arguments for the list method.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="zenml.utils.pagination_utils.AnyResponse">AnyResponse</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of the corresponding Response Models.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/pagination_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">depaginate</span><span class="p">(</span>
    <span class="n">list_method</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Page</span><span class="p">[</span><span class="n">AnyResponse</span><span class="p">]],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AnyResponse</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Depaginate the results from a client or store method that returns pages.</span>

<span class="sd">    Args:</span>
<span class="sd">        list_method: The list method to depaginate.</span>
<span class="sd">        **kwargs: Arguments for the list method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of the corresponding Response Models.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">list_method</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">page</span><span class="o">.</span><span class="n">index</span> <span class="o">&lt;</span> <span class="n">page</span><span class="o">.</span><span class="n">total_pages</span><span class="p">:</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;page&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">page</span> <span class="o">=</span> <span class="n">list_method</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">items</span> <span class="o">+=</span> <span class="nb">list</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">items</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.pipeline_docker_image_builder" class="doc doc-heading">
            <code>pipeline_docker_image_builder</code>


</h4>

    <div class="doc doc-contents ">

        <p>Implementation of Docker image builds to run ZenML pipelines.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.pipeline_docker_image_builder-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder" class="doc doc-heading">
            <code>PipelineDockerImageBuilder</code>


</h6>


    <div class="doc doc-contents ">


        <p>Builds Docker images to run a ZenML pipeline.</p>











  <div class="doc doc-children">








<h7 id="zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder.build_docker_image" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_docker_image</span><span class="p">(</span><span class="n">docker_settings</span><span class="p">:</span> <span class="n">DockerSettings</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">Stack</span><span class="p">,</span> <span class="n">include_files</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">entrypoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">extra_files</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">code_repository</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseCodeRepository</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">extra_requirements_files</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{})</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Builds (and optionally pushes) a Docker image to run a pipeline.</p>
<p>Use the image name returned by this method whenever you need to uniquely
reference the pushed image in order to pull or run it.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>docker_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DockerSettings(warn_about_plain_text_secrets: bool = False, **kwargs: Any) (zenml.config.DockerSettings)" href="core-config.html#zenml.config.DockerSettings">DockerSettings</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings for the image build.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tag to use for the image.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stack</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stack(id: UUID, name: str, *, environment: Optional[Dict[str, str]] = None, secrets: Optional[List[UUID]] = None, orchestrator: BaseOrchestrator, artifact_store: BaseArtifactStore, container_registry: Optional[BaseContainerRegistry] = None, step_operator: Optional[BaseStepOperator] = None, feature_store: Optional[BaseFeatureStore] = None, model_deployer: Optional[BaseModelDeployer] = None, experiment_tracker: Optional[BaseExperimentTracker] = None, alerter: Optional[BaseAlerter] = None, annotator: Optional[BaseAnnotator] = None, data_validator: Optional[BaseDataValidator] = None, image_builder: Optional[BaseImageBuilder] = None, model_registry: Optional[BaseModelRegistry] = None, deployer: Optional[BaseDeployer] = None) (zenml.stack.Stack)" href="core-stack.html#zenml.stack.Stack">Stack</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stack on which the pipeline will be deployed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_files</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to include files in the build context.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>entrypoint</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Entrypoint to use for the final image. If left empty,
no entrypoint will be included in the image.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>extra_files</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Extra files to add to the build context. Keys are the
path inside the build context, values are either the file
content or a file path.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>code_repository</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="BaseCodeRepository(id: UUID, name: str, config: Dict[str, Any]) (zenml.code_repositories.BaseCodeRepository)" href="core-code_repositories.html#zenml.code_repositories.BaseCodeRepository">BaseCodeRepository</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The code repository from which files will be
downloaded.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>extra_requirements_files</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Extra requirements to install in the
Docker image. Each key is the name of a Python requirements file
to be created and the value is the list of requirements to be
installed.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple (image_digest, dockerfile, requirements):</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>The Docker image repo digest or local name, depending on whether</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the image was pushed or is just stored locally.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="typing.Optional">Optional</span>[<span title="str">str</span>], <span title="typing.Optional">Optional</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>Dockerfile will contain the contents of the Dockerfile used to</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="typing.Optional">Optional</span>[<span title="str">str</span>], <span title="typing.Optional">Optional</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>build the image.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="typing.Optional">Optional</span>[<span title="str">str</span>], <span title="typing.Optional">Optional</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>Requirements is a string with a single pip requirement per line.</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the stack does not contain an image builder.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no Dockerfile and/or custom parent image is
specified and the Docker configuration doesn't require an
image build.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the specified Dockerfile does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/pipeline_docker_image_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_docker_image</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">docker_settings</span><span class="p">:</span> <span class="s2">&quot;DockerSettings&quot;</span><span class="p">,</span>
    <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">include_files</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">entrypoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra_files</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">code_repository</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseCodeRepository&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra_requirements_files</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{},</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Builds (and optionally pushes) a Docker image to run a pipeline.</span>

<span class="sd">    Use the image name returned by this method whenever you need to uniquely</span>
<span class="sd">    reference the pushed image in order to pull or run it.</span>

<span class="sd">    Args:</span>
<span class="sd">        docker_settings: The settings for the image build.</span>
<span class="sd">        tag: The tag to use for the image.</span>
<span class="sd">        stack: The stack on which the pipeline will be deployed.</span>
<span class="sd">        include_files: Whether to include files in the build context.</span>
<span class="sd">        entrypoint: Entrypoint to use for the final image. If left empty,</span>
<span class="sd">            no entrypoint will be included in the image.</span>
<span class="sd">        extra_files: Extra files to add to the build context. Keys are the</span>
<span class="sd">            path inside the build context, values are either the file</span>
<span class="sd">            content or a file path.</span>
<span class="sd">        code_repository: The code repository from which files will be</span>
<span class="sd">            downloaded.</span>
<span class="sd">        extra_requirements_files: Extra requirements to install in the</span>
<span class="sd">            Docker image. Each key is the name of a Python requirements file</span>
<span class="sd">            to be created and the value is the list of requirements to be</span>
<span class="sd">            installed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tuple (image_digest, dockerfile, requirements):</span>
<span class="sd">        - The Docker image repo digest or local name, depending on whether</span>
<span class="sd">        the image was pushed or is just stored locally.</span>
<span class="sd">        - Dockerfile will contain the contents of the Dockerfile used to</span>
<span class="sd">        build the image.</span>
<span class="sd">        - Requirements is a string with a single pip requirement per line.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the stack does not contain an image builder.</span>
<span class="sd">        ValueError: If no Dockerfile and/or custom parent image is</span>
<span class="sd">            specified and the Docker configuration doesn&#39;t require an</span>
<span class="sd">            image build.</span>
<span class="sd">        ValueError: If the specified Dockerfile does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requirements</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dockerfile</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">skip_build</span><span class="p">:</span>
        <span class="k">assert</span> <span class="p">(</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">parent_image</span>
        <span class="p">)</span>  <span class="c1"># checked via validator already</span>

        <span class="c1"># Should we tag this here and push it to the container registry of</span>
        <span class="c1"># the stack to make sure it&#39;s always accessible when running the</span>
        <span class="c1"># pipeline?</span>
        <span class="k">return</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">parent_image</span><span class="p">,</span> <span class="n">dockerfile</span><span class="p">,</span> <span class="n">requirements</span>

    <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerfile</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span>
        <span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerfile</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Dockerfile at path &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerfile</span><span class="p">)</span><span class="si">}</span><span class="s2"> not found.&quot;</span>
        <span class="p">)</span>

    <span class="n">stack</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
    <span class="n">image_builder</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">image_builder</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">image_builder</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Unable to build Docker images without an image builder in the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;stack `</span><span class="si">{</span><span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`.&quot;</span>
        <span class="p">)</span>

    <span class="n">container_registry</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>

    <span class="n">build_context_class</span> <span class="o">=</span> <span class="n">image_builder</span><span class="o">.</span><span class="n">build_context_class</span>
    <span class="n">target_image_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_target_image_name</span><span class="p">(</span>
        <span class="n">docker_settings</span><span class="o">=</span><span class="n">docker_settings</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
        <span class="n">container_registry</span><span class="o">=</span><span class="n">container_registry</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">requires_zenml_build</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">requirements</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">pyproject_path</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">required_integrations</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">replicate_local_python_environment</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">install_stack_requirements</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">local_project_install_command</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">apt_packages</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span>
            <span class="n">include_files</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="p">,</span>
            <span class="n">extra_files</span><span class="p">,</span>
            <span class="n">extra_requirements_files</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Fallback to the value defined on the stack component if the</span>
    <span class="c1"># pipeline configuration doesn&#39;t have a configured value</span>
    <span class="n">parent_image</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">docker_settings</span><span class="o">.</span><span class="n">parent_image</span> <span class="ow">or</span> <span class="n">DEFAULT_DOCKER_PARENT_IMAGE</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerfile</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parent_image</span> <span class="o">!=</span> <span class="n">DEFAULT_DOCKER_PARENT_IMAGE</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;You&#39;ve specified both a Dockerfile and a custom parent &quot;</span>
                <span class="s2">&quot;image, ignoring the parent image.&quot;</span>
            <span class="p">)</span>

        <span class="n">push</span> <span class="o">=</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="n">image_builder</span><span class="o">.</span><span class="n">is_building_locally</span>
            <span class="ow">or</span> <span class="ow">not</span> <span class="n">requires_zenml_build</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">requires_zenml_build</span><span class="p">:</span>
            <span class="c1"># We will build an additional image on top of this one later</span>
            <span class="c1"># to include user files and/or install requirements. The image</span>
            <span class="c1"># we build now will be used as the parent for the next build.</span>
            <span class="n">repository</span> <span class="o">=</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">target_repository</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">repository</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">container_registry</span><span class="p">:</span>
                    <span class="n">repository</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="n">container_registry</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">default_repository</span>
                    <span class="p">)</span>

            <span class="n">repository</span> <span class="o">=</span> <span class="n">repository</span> <span class="ow">or</span> <span class="n">DEFAULT_ZENML_DOCKER_REPOSITORY</span>
            <span class="n">user_image_tag</span> <span class="o">=</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">sanitize_tag</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">-intermediate-build&quot;</span>
            <span class="p">)</span>
            <span class="n">user_image_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">repository</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">user_image_tag</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">push</span> <span class="ow">and</span> <span class="n">container_registry</span><span class="p">:</span>
                <span class="n">user_image_name</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">uri</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">user_image_name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="n">parent_image</span> <span class="o">=</span> <span class="n">user_image_name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># The image we&#39;ll build from the custom Dockerfile will be</span>
            <span class="c1"># used directly, so we tag it with the requested target name.</span>
            <span class="n">user_image_name</span> <span class="o">=</span> <span class="n">target_image_name</span>

        <span class="n">build_config</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">parent_image_build_config</span>
            <span class="ow">or</span> <span class="n">DockerBuildConfig</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">build_context</span> <span class="o">=</span> <span class="n">build_context_class</span><span class="p">(</span>
            <span class="n">root</span><span class="o">=</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">build_context_root</span><span class="p">,</span>
            <span class="n">dockerignore_file</span><span class="o">=</span><span class="n">build_config</span><span class="o">.</span><span class="n">dockerignore</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">build_context</span><span class="o">.</span><span class="n">add_file</span><span class="p">(</span>
            <span class="n">source</span><span class="o">=</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerfile</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="s2">&quot;Dockerfile&quot;</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Building Docker image `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">user_image_name</span><span class="p">)</span>
        <span class="n">image_name_or_digest</span> <span class="o">=</span> <span class="n">image_builder</span><span class="o">.</span><span class="n">build</span><span class="p">(</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">user_image_name</span><span class="p">,</span>
            <span class="n">build_context</span><span class="o">=</span><span class="n">build_context</span><span class="p">,</span>
            <span class="n">docker_build_options</span><span class="o">=</span><span class="n">build_config</span><span class="o">.</span><span class="n">build_options</span>
            <span class="ow">or</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">build_options</span><span class="p">,</span>
            <span class="n">container_registry</span><span class="o">=</span><span class="n">container_registry</span> <span class="k">if</span> <span class="n">push</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">elif</span> <span class="ow">not</span> <span class="n">requires_zenml_build</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parent_image</span> <span class="o">==</span> <span class="n">DEFAULT_DOCKER_PARENT_IMAGE</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Unable to run a ZenML pipeline with the given Docker &quot;</span>
                <span class="s2">&quot;settings: No Dockerfile or custom parent image &quot;</span>
                <span class="s2">&quot;specified and no files will be copied or requirements &quot;</span>
                <span class="s2">&quot;installed.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># The parent image will be used directly to run the pipeline and</span>
            <span class="c1"># needs to be tagged/pushed</span>
            <span class="n">docker_utils</span><span class="o">.</span><span class="n">tag_image</span><span class="p">(</span><span class="n">parent_image</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target_image_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">container_registry</span><span class="p">:</span>
                <span class="n">image_name_or_digest</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">push_image</span><span class="p">(</span>
                    <span class="n">target_image_name</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">image_name_or_digest</span> <span class="o">=</span> <span class="n">target_image_name</span>

    <span class="k">if</span> <span class="n">requires_zenml_build</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Building Docker image `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">target_image_name</span><span class="p">)</span>
        <span class="n">build_config</span> <span class="o">=</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">build_config</span> <span class="ow">or</span> <span class="n">DockerBuildConfig</span><span class="p">()</span>

        <span class="c1"># Leave the build context empty if we don&#39;t want to include any files</span>
        <span class="n">build_context_root</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">source_utils</span><span class="o">.</span><span class="n">get_source_root</span><span class="p">()</span> <span class="k">if</span> <span class="n">include_files</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span>
        <span class="n">dockerignore</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">build_config</span><span class="o">.</span><span class="n">dockerignore</span> <span class="ow">or</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerignore</span>
        <span class="p">)</span>
        <span class="n">build_context</span> <span class="o">=</span> <span class="n">build_context_class</span><span class="p">(</span>
            <span class="n">root</span><span class="o">=</span><span class="n">build_context_root</span><span class="p">,</span>
            <span class="n">dockerignore_file</span><span class="o">=</span><span class="n">dockerignore</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">requirements_files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gather_requirements_files</span><span class="p">(</span>
            <span class="n">docker_settings</span><span class="o">=</span><span class="n">docker_settings</span><span class="p">,</span>
            <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span>
            <span class="n">code_repository</span><span class="o">=</span><span class="n">code_repository</span><span class="p">,</span>
            <span class="n">extra_requirements_files</span><span class="o">=</span><span class="n">extra_requirements_files</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_add_requirements_files</span><span class="p">(</span>
            <span class="n">requirements_files</span><span class="o">=</span><span class="n">requirements_files</span><span class="p">,</span>
            <span class="n">build_context</span><span class="o">=</span><span class="n">build_context</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">requirements</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">file_content</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">file_content</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">requirements_files</span>
            <span class="p">)</span>
            <span class="ow">or</span> <span class="kc">None</span>
        <span class="p">)</span>

        <span class="n">apt_packages</span> <span class="o">=</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">apt_packages</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">install_stack_requirements</span><span class="p">:</span>
            <span class="n">apt_packages</span> <span class="o">+=</span> <span class="n">stack</span><span class="o">.</span><span class="n">apt_packages</span>

        <span class="c1"># include apt packages from all required integrations</span>
        <span class="k">for</span> <span class="n">integration</span> <span class="ow">in</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">required_integrations</span><span class="p">:</span>
            <span class="c1"># get the integration</span>
            <span class="n">integration_cls</span> <span class="o">=</span> <span class="n">integration_registry</span><span class="o">.</span><span class="n">integrations</span><span class="p">[</span>
                <span class="n">integration</span>
            <span class="p">]</span>
            <span class="n">apt_packages</span> <span class="o">+=</span> <span class="n">integration_cls</span><span class="o">.</span><span class="n">APT_PACKAGES</span>

        <span class="k">if</span> <span class="n">apt_packages</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Including apt packages: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">`&quot;</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">apt_packages</span><span class="p">),</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">parent_image</span> <span class="o">==</span> <span class="n">DEFAULT_DOCKER_PARENT_IMAGE</span><span class="p">:</span>
            <span class="c1"># The default parent image is static and doesn&#39;t require a pull</span>
            <span class="c1"># each time</span>
            <span class="n">pull_parent_image</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">dockerfile</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">container_registry</span><span class="p">:</span>
            <span class="c1"># We built a custom parent image and there was no container</span>
            <span class="c1"># registry in the stack to push to, this is a local image</span>
            <span class="n">pull_parent_image</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">image_builder</span><span class="o">.</span><span class="n">is_building_locally</span><span class="p">:</span>
            <span class="c1"># Remote image builders always need to pull the image</span>
            <span class="n">pull_parent_image</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If the image is local, we don&#39;t need to pull it. Otherwise</span>
            <span class="c1"># we play it safe and always pull in case the user pushed a new</span>
            <span class="c1"># image for the given name and tag</span>
            <span class="n">pull_parent_image</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">is_local_image</span><span class="p">(</span>
                <span class="n">parent_image</span>
            <span class="p">)</span>

        <span class="n">build_options</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;pull&quot;</span><span class="p">:</span> <span class="n">pull_parent_image</span><span class="p">,</span>
            <span class="s2">&quot;rm&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="o">**</span><span class="n">build_config</span><span class="o">.</span><span class="n">build_options</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">dockerfile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_zenml_pipeline_dockerfile</span><span class="p">(</span>
            <span class="n">parent_image</span><span class="o">=</span><span class="n">parent_image</span><span class="p">,</span>
            <span class="n">docker_settings</span><span class="o">=</span><span class="n">docker_settings</span><span class="p">,</span>
            <span class="n">requirements_files</span><span class="o">=</span><span class="n">requirements_files</span><span class="p">,</span>
            <span class="n">apt_packages</span><span class="o">=</span><span class="n">apt_packages</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="o">=</span><span class="n">entrypoint</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">build_context</span><span class="o">.</span><span class="n">add_file</span><span class="p">(</span><span class="n">destination</span><span class="o">=</span><span class="s2">&quot;Dockerfile&quot;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">dockerfile</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">extra_files</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">destination</span><span class="p">,</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">extra_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">build_context</span><span class="o">.</span><span class="n">add_file</span><span class="p">(</span>
                    <span class="n">destination</span><span class="o">=</span><span class="n">destination</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">source</span>
                <span class="p">)</span>

        <span class="n">image_name_or_digest</span> <span class="o">=</span> <span class="n">image_builder</span><span class="o">.</span><span class="n">build</span><span class="p">(</span>
            <span class="n">image_name</span><span class="o">=</span><span class="n">target_image_name</span><span class="p">,</span>
            <span class="n">build_context</span><span class="o">=</span><span class="n">build_context</span><span class="p">,</span>
            <span class="n">docker_build_options</span><span class="o">=</span><span class="n">build_options</span><span class="p">,</span>
            <span class="n">container_registry</span><span class="o">=</span><span class="n">container_registry</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">image_name_or_digest</span><span class="p">,</span> <span class="n">dockerfile</span><span class="p">,</span> <span class="n">requirements</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.pipeline_docker_image_builder.PipelineDockerImageBuilder.gather_requirements_files" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">gather_requirements_files</span><span class="p">(</span><span class="n">docker_settings</span><span class="p">:</span> <span class="n">DockerSettings</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">Stack</span><span class="p">,</span> <span class="n">code_repository</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseCodeRepository</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">log</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">extra_requirements_files</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{})</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h8>


    <div class="doc doc-contents ">

        <p>Gathers and/or generates pip requirements files.</p>
<p>This method is called in <code>PipelineDockerImageBuilder.build_docker_image</code>
but it is also called by other parts of the codebase, e.g. the
<code>AzureMLStepOperator</code>, which needs to upload the requirements files to
AzureML where the step image is then built.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>docker_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DockerSettings(warn_about_plain_text_secrets: bool = False, **kwargs: Any) (zenml.config.DockerSettings)" href="core-config.html#zenml.config.DockerSettings">DockerSettings</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Docker settings that specifies which
requirements to install.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stack</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stack(id: UUID, name: str, *, environment: Optional[Dict[str, str]] = None, secrets: Optional[List[UUID]] = None, orchestrator: BaseOrchestrator, artifact_store: BaseArtifactStore, container_registry: Optional[BaseContainerRegistry] = None, step_operator: Optional[BaseStepOperator] = None, feature_store: Optional[BaseFeatureStore] = None, model_deployer: Optional[BaseModelDeployer] = None, experiment_tracker: Optional[BaseExperimentTracker] = None, alerter: Optional[BaseAlerter] = None, annotator: Optional[BaseAnnotator] = None, data_validator: Optional[BaseDataValidator] = None, image_builder: Optional[BaseImageBuilder] = None, model_registry: Optional[BaseModelRegistry] = None, deployer: Optional[BaseDeployer] = None) (zenml.stack.Stack)" href="core-stack.html#zenml.stack.Stack">Stack</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stack on which the pipeline will run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>code_repository</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="BaseCodeRepository(id: UUID, name: str, config: Dict[str, Any]) (zenml.code_repositories.BaseCodeRepository)" href="core-code_repositories.html#zenml.code_repositories.BaseCodeRepository">BaseCodeRepository</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The code repository from which files will be
downloaded.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>log</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, will log the requirements.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>extra_requirements_files</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Extra requirements to install in the
Docker image. Each key is the name of a Python requirements file
to be created and the value is the list of requirements to be
installed.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the command to export the local python packages
failed.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the specified requirements file does not
exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of tuples (filename, file_content, pip_options) of all</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>requirements files.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The files will be in the following order:</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>Packages installed in the local Python environment</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>Requirements defined by stack integrations</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>Extra requirements files</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>Requirements defined by user integrations</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>Requirements exported from a pyproject.toml</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>User-defined requirements</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/pipeline_docker_image_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">gather_requirements_files</span><span class="p">(</span>
    <span class="n">docker_settings</span><span class="p">:</span> <span class="n">DockerSettings</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">code_repository</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseCodeRepository&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">log</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">extra_requirements_files</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{},</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gathers and/or generates pip requirements files.</span>

<span class="sd">    This method is called in `PipelineDockerImageBuilder.build_docker_image`</span>
<span class="sd">    but it is also called by other parts of the codebase, e.g. the</span>
<span class="sd">    `AzureMLStepOperator`, which needs to upload the requirements files to</span>
<span class="sd">    AzureML where the step image is then built.</span>

<span class="sd">    Args:</span>
<span class="sd">        docker_settings: Docker settings that specifies which</span>
<span class="sd">            requirements to install.</span>
<span class="sd">        stack: The stack on which the pipeline will run.</span>
<span class="sd">        code_repository: The code repository from which files will be</span>
<span class="sd">            downloaded.</span>
<span class="sd">        log: If True, will log the requirements.</span>
<span class="sd">        extra_requirements_files: Extra requirements to install in the</span>
<span class="sd">            Docker image. Each key is the name of a Python requirements file</span>
<span class="sd">            to be created and the value is the list of requirements to be</span>
<span class="sd">            installed.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the command to export the local python packages</span>
<span class="sd">            failed.</span>
<span class="sd">        FileNotFoundError: If the specified requirements file does not</span>
<span class="sd">            exist.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of tuples (filename, file_content, pip_options) of all</span>
<span class="sd">        requirements files.</span>
<span class="sd">        The files will be in the following order:</span>
<span class="sd">        - Packages installed in the local Python environment</span>
<span class="sd">        - Requirements defined by stack integrations</span>
<span class="sd">        - Extra requirements files</span>
<span class="sd">        - Requirements defined by user integrations</span>
<span class="sd">        - Requirements exported from a pyproject.toml</span>
<span class="sd">        - User-defined requirements</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">implicit_requirements</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">pyproject_path</span> <span class="o">=</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">pyproject_path</span>
    <span class="n">requirements</span> <span class="o">=</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">requirements</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">replicate_local_python_environment</span><span class="p">,</span>
            <span class="n">requirements</span><span class="p">,</span>
            <span class="n">pyproject_path</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">get_source_root</span><span class="p">()</span>
        <span class="n">requirements_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;requirements.txt&quot;</span><span class="p">)</span>
        <span class="n">pyproject_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;pyproject.toml&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">requirements_path</span><span class="p">):</span>
            <span class="n">implicit_requirements</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">requirements</span> <span class="o">=</span> <span class="n">requirements_path</span>
        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">pyproject_file_path</span><span class="p">):</span>
            <span class="n">implicit_requirements</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">pyproject_path</span> <span class="o">=</span> <span class="n">pyproject_file_path</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="n">implicit_requirements</span>
        <span class="ow">and</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">disable_automatic_requirements_detection</span>
    <span class="p">):</span>
        <span class="c1"># TODO: This is only temporary to log a warning notifying users</span>
        <span class="c1"># that we will soon switch the default behavior to</span>
        <span class="c1"># `disable_automatic_requirements_detection=False`. Remove and</span>
        <span class="c1"># adjust the logic once we&#39;ve made this change.</span>
        <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Detected `requirements.txt` or `pyproject.toml` files in &quot;</span>
                <span class="s2">&quot;the source root. In future versions of ZenML, these will &quot;</span>
                <span class="s2">&quot;be automatically picked up and installed in Docker images &quot;</span>
                <span class="s2">&quot;by default. To disable this behavior and keep the &quot;</span>
                <span class="s2">&quot;current behavior, set &quot;</span>
                <span class="s2">&quot;`DockerSettings.disable_automatic_requirements_detection` &quot;</span>
                <span class="s2">&quot;to `True`. If you want to enable this behavior right away, &quot;</span>
                <span class="s2">&quot;you can do so by setting &quot;</span>
                <span class="s2">&quot;`DockerSettings.disable_automatic_requirements_detection` &quot;</span>
                <span class="s2">&quot;to `False`.&quot;</span>
            <span class="p">)</span>
        <span class="n">implicit_requirements</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">requirements</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">pyproject_path</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">requirements_files</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Generate requirements file for the local environment if configured</span>
    <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">replicate_local_python_environment</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">replicate_local_python_environment</span><span class="p">,</span>
            <span class="n">PythonEnvironmentExportMethod</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">docker_settings</span><span class="o">.</span><span class="n">replicate_local_python_environment</span><span class="o">.</span><span class="n">command</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span>
            <span class="n">docker_settings</span><span class="o">.</span><span class="n">replicate_local_python_environment</span><span class="p">,</span> <span class="nb">bool</span>
        <span class="p">):</span>
            <span class="n">command</span> <span class="o">=</span> <span class="n">PythonEnvironmentExportMethod</span><span class="o">.</span><span class="n">PIP_FREEZE</span><span class="o">.</span><span class="n">command</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">docker_settings</span><span class="o">.</span><span class="n">replicate_local_python_environment</span>
            <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">local_requirements</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span>
                <span class="n">command</span><span class="p">,</span>
                <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># nosec</span>
            <span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Unable to export local python packages.&quot;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>

        <span class="n">requirements_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">(</span><span class="s2">&quot;.zenml_local_requirements&quot;</span><span class="p">,</span> <span class="n">local_requirements</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;- Including python packages from local environment&quot;</span>
            <span class="p">)</span>

    <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">install_stack_requirements</span><span class="p">:</span>
        <span class="n">stack_requirements</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">requirements</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">code_repository</span><span class="p">:</span>
            <span class="n">stack_requirements</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">code_repository</span><span class="o">.</span><span class="n">requirements</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">stack_requirements</span><span class="p">:</span>
            <span class="n">stack_requirements_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">stack_requirements</span><span class="p">)</span>
            <span class="n">stack_requirements_file</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">stack_requirements_list</span><span class="p">)</span>
            <span class="n">requirements_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">(</span>
                    <span class="s2">&quot;.zenml_stack_integration_requirements&quot;</span><span class="p">,</span>
                    <span class="n">stack_requirements_file</span><span class="p">,</span>
                    <span class="p">[],</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;- Including stack requirements: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">r</span><span class="si">}</span><span class="s2">`&quot;</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">stack_requirements_list</span><span class="p">),</span>
                <span class="p">)</span>

    <span class="k">for</span> <span class="n">filename</span><span class="p">,</span> <span class="n">extra_requirements</span> <span class="ow">in</span> <span class="n">extra_requirements_files</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">requirements_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">extra_requirements</span><span class="p">)</span>
        <span class="n">requirements_file</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">requirements_list</span><span class="p">)</span>
        <span class="n">requirements_files</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">filename</span><span class="p">,</span> <span class="n">requirements_file</span><span class="p">,</span> <span class="p">[]))</span>
        <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;- Including extra requirements from file `</span><span class="si">%s</span><span class="s2">`: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">filename</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">r</span><span class="si">}</span><span class="s2">`&quot;</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">requirements_list</span><span class="p">),</span>
            <span class="p">)</span>

    <span class="c1"># Generate requirements file for all required integrations</span>
    <span class="n">integration_requirements</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
        <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
            <span class="n">integration_registry</span><span class="o">.</span><span class="n">select_integration_requirements</span><span class="p">(</span>
                <span class="n">integration_name</span><span class="o">=</span><span class="n">integration</span><span class="p">,</span>
                <span class="n">target_os</span><span class="o">=</span><span class="n">OperatingSystemType</span><span class="o">.</span><span class="n">LINUX</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">integration</span> <span class="ow">in</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">required_integrations</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">integration_requirements</span><span class="p">:</span>
        <span class="n">integration_requirements_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">integration_requirements</span><span class="p">)</span>
        <span class="n">integration_requirements_file</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">integration_requirements_list</span>
        <span class="p">)</span>
        <span class="n">requirements_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="s2">&quot;.zenml_integration_requirements&quot;</span><span class="p">,</span>
                <span class="n">integration_requirements_file</span><span class="p">,</span>
                <span class="p">[],</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;- Including integration requirements: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">r</span><span class="si">}</span><span class="s2">`&quot;</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">integration_requirements_list</span><span class="p">),</span>
            <span class="p">)</span>

    <span class="k">if</span> <span class="n">pyproject_path</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">pyproject_path</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Pyproject file </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span>
            <span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">_run_command</span><span class="p">(</span><span class="n">command</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">directory</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>

            <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
                <span class="n">command</span><span class="p">,</span>
                <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># nosec</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">docker_settings</span><span class="o">.</span><span class="n">pyproject_export_command</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">pyproject_export_command</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">pyproject_requirements</span> <span class="o">=</span> <span class="n">_run_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;Failed to export pyproject dependencies with &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;command `</span><span class="si">{</span><span class="n">command</span><span class="si">}</span><span class="s2">`: </span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">command_errors</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="n">DEFAULT_PYPROJECT_EXPORT_COMMANDS</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">pyproject_requirements</span> <span class="o">=</span> <span class="n">_run_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">command_errors</span><span class="p">[</span><span class="n">command</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;Failed to export pyproject dependencies with the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;following commands: </span><span class="si">{</span><span class="n">command_errors</span><span class="si">}</span><span class="s2">. Please specify &quot;</span>
                    <span class="s2">&quot;a working command to export your pyproject.toml &quot;</span>
                    <span class="s2">&quot;dependencies to a requirements.txt formatted file &quot;</span>
                    <span class="s2">&quot;using `DockerSettings.pyproject_export_command`.&quot;</span>
                <span class="p">)</span>

        <span class="n">requirements_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">(</span><span class="s2">&quot;.zenml_pyproject_requirements&quot;</span><span class="p">,</span> <span class="n">pyproject_requirements</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;- </span><span class="si">%s</span><span class="s2"> python packages from file `</span><span class="si">%s</span><span class="s2">`&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Implicitly including&quot;</span>
                <span class="k">if</span> <span class="n">implicit_requirements</span>
                <span class="k">else</span> <span class="s2">&quot;Including&quot;</span><span class="p">,</span>
                <span class="n">path</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="c1"># Generate/Read requirements file for user-defined requirements</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">requirements</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">requirements</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">user_requirements</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Requirements file </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;- </span><span class="si">%s</span><span class="s2"> user-defined requirements from file `</span><span class="si">%s</span><span class="s2">`&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Implicitly including&quot;</span>
                <span class="k">if</span> <span class="n">implicit_requirements</span>
                <span class="k">else</span> <span class="s2">&quot;Including&quot;</span><span class="p">,</span>
                <span class="n">path</span><span class="p">,</span>
            <span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">requirements</span><span class="p">,</span> <span class="n">List</span><span class="p">):</span>
        <span class="n">user_requirements</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">requirements</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;- Including user-defined requirements: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">r</span><span class="si">}</span><span class="s2">`&quot;</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">requirements</span><span class="p">),</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">user_requirements</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">user_requirements</span><span class="p">:</span>
        <span class="n">requirements_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">(</span><span class="s2">&quot;.zenml_user_requirements&quot;</span><span class="p">,</span> <span class="n">user_requirements</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">requirements_files</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h5 id="zenml.utils.pipeline_docker_image_builder-functions">Functions</h5>
<h5 id="zenml.utils.pipeline_docker_image_builder-modules">Modules</h5>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.proxy_utils" class="doc doc-heading">
            <code>proxy_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Proxy design pattern utils.</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.proxy_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.proxy_utils.make_proxy_class" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">make_proxy_class</span><span class="p">(</span><span class="n">interface</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">ABC</span><span class="p">],</span> <span class="n">attribute</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">C</span><span class="p">],</span> <span class="n">C</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Proxy class decorator.</p>
<p>Use this decorator to transform the decorated class into a proxy that
forwards all calls defined in the <code>interface</code> interface to the <code>attribute</code>
class attribute that implements the same interface.</p>
<p>This class is useful in cases where you need to have a base class that acts
as a proxy or facade for one or more other classes. Both the decorated class
and the class attribute must inherit from the same ABC interface for this to
work. Only regular methods are supported, not class methods or attributes.</p>
<p>Example: Let's say you have an interface called <code>BodyBuilder</code>, a base class
called <code>FatBob</code> and another class called <code>BigJim</code>. <code>BigJim</code> implements the
<code>BodyBuilder</code> interface, but <code>FatBob</code> does not. And let's say you want
<code>FatBob</code> to look as if it implements the <code>BodyBuilder</code> interface, but in
fact it just forwards all calls to <code>BigJim</code>. You could do this:</p>
<pre><code class="language-python">from abc import ABC, abstractmethod

class BodyBuilder(ABC):

    @abstractmethod
    def build_body(self):
        pass

class BigJim(BodyBuilder):

    def build_body(self):
        print(&quot;Looks fit!&quot;)

class FatBob(BodyBuilder)

    def __init__(self):
        self.big_jim = BigJim()

    def build_body(self):
        self.big_jim.build_body()

fat_bob = FatBob()
fat_bob.build_body()
</code></pre>
<p>But this leads to a lot of boilerplate code with bigger interfaces and
makes everything harder to maintain. This is where the proxy class
decorator comes in handy. Here's how to use it:</p>
<pre><code class="language-python">from zenml.utils.proxy_utils import make_proxy_class
from typing import Optional

@make_proxy_class(BodyBuilder, &quot;big_jim&quot;)
class FatBob(BodyBuilder)
    big_jim: Optional[BodyBuilder] = None

    def __init__(self):
        self.big_jim = BigJim()

fat_bob = FatBob()
fat_bob.build_body()
</code></pre>
<p>This is the same as implementing FatBob to call BigJim explicitly, but it
has the advantage that you don't need to write a lot of boilerplate code
of modify the FatBob class every time you change something in the
BodyBuilder interface.</p>
<p>This proxy decorator also allows to extend classes dynamically at runtime:
if the <code>attribute</code> class attribute is set to None, the proxy class
will assume that the interface is not implemented by the class and will
raise a NotImplementedError:</p>
<pre><code class="language-python">@make_proxy_class(BodyBuilder, &quot;big_jim&quot;)
class FatBob(BodyBuilder)
    big_jim: Optional[BodyBuilder] = None

    def __init__(self):
        self.big_jim = None

fat_bob = FatBob()

# Raises NotImplementedError, class not extended yet:
fat_bob.build_body()

fat_bob.big_jim = BigJim()
# Now it works:
fat_bob.build_body()
</code></pre>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>interface</code>
            </td>
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="abc.ABC">ABC</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The interface to implement.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attribute</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The attribute of the base class to forward calls to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<span title="zenml.utils.proxy_utils.C">C</span>], <span title="zenml.utils.proxy_utils.C">C</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The proxy class.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/proxy_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">make_proxy_class</span><span class="p">(</span><span class="n">interface</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">ABC</span><span class="p">],</span> <span class="n">attribute</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">C</span><span class="p">],</span> <span class="n">C</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Proxy class decorator.</span>

<span class="sd">    Use this decorator to transform the decorated class into a proxy that</span>
<span class="sd">    forwards all calls defined in the `interface` interface to the `attribute`</span>
<span class="sd">    class attribute that implements the same interface.</span>

<span class="sd">    This class is useful in cases where you need to have a base class that acts</span>
<span class="sd">    as a proxy or facade for one or more other classes. Both the decorated class</span>
<span class="sd">    and the class attribute must inherit from the same ABC interface for this to</span>
<span class="sd">    work. Only regular methods are supported, not class methods or attributes.</span>

<span class="sd">    Example: Let&#39;s say you have an interface called `BodyBuilder`, a base class</span>
<span class="sd">    called `FatBob` and another class called `BigJim`. `BigJim` implements the</span>
<span class="sd">    `BodyBuilder` interface, but `FatBob` does not. And let&#39;s say you want</span>
<span class="sd">    `FatBob` to look as if it implements the `BodyBuilder` interface, but in</span>
<span class="sd">    fact it just forwards all calls to `BigJim`. You could do this:</span>

<span class="sd">    ```python</span>
<span class="sd">    from abc import ABC, abstractmethod</span>

<span class="sd">    class BodyBuilder(ABC):</span>

<span class="sd">        @abstractmethod</span>
<span class="sd">        def build_body(self):</span>
<span class="sd">            pass</span>

<span class="sd">    class BigJim(BodyBuilder):</span>

<span class="sd">        def build_body(self):</span>
<span class="sd">            print(&quot;Looks fit!&quot;)</span>

<span class="sd">    class FatBob(BodyBuilder)</span>

<span class="sd">        def __init__(self):</span>
<span class="sd">            self.big_jim = BigJim()</span>

<span class="sd">        def build_body(self):</span>
<span class="sd">            self.big_jim.build_body()</span>

<span class="sd">    fat_bob = FatBob()</span>
<span class="sd">    fat_bob.build_body()</span>
<span class="sd">    ```</span>

<span class="sd">    But this leads to a lot of boilerplate code with bigger interfaces and</span>
<span class="sd">    makes everything harder to maintain. This is where the proxy class</span>
<span class="sd">    decorator comes in handy. Here&#39;s how to use it:</span>

<span class="sd">    ```python</span>
<span class="sd">    from zenml.utils.proxy_utils import make_proxy_class</span>
<span class="sd">    from typing import Optional</span>

<span class="sd">    @make_proxy_class(BodyBuilder, &quot;big_jim&quot;)</span>
<span class="sd">    class FatBob(BodyBuilder)</span>
<span class="sd">        big_jim: Optional[BodyBuilder] = None</span>

<span class="sd">        def __init__(self):</span>
<span class="sd">            self.big_jim = BigJim()</span>

<span class="sd">    fat_bob = FatBob()</span>
<span class="sd">    fat_bob.build_body()</span>
<span class="sd">    ```</span>

<span class="sd">    This is the same as implementing FatBob to call BigJim explicitly, but it</span>
<span class="sd">    has the advantage that you don&#39;t need to write a lot of boilerplate code</span>
<span class="sd">    of modify the FatBob class every time you change something in the</span>
<span class="sd">    BodyBuilder interface.</span>

<span class="sd">    This proxy decorator also allows to extend classes dynamically at runtime:</span>
<span class="sd">    if the `attribute` class attribute is set to None, the proxy class</span>
<span class="sd">    will assume that the interface is not implemented by the class and will</span>
<span class="sd">    raise a NotImplementedError:</span>

<span class="sd">    ```python</span>
<span class="sd">    @make_proxy_class(BodyBuilder, &quot;big_jim&quot;)</span>
<span class="sd">    class FatBob(BodyBuilder)</span>
<span class="sd">        big_jim: Optional[BodyBuilder] = None</span>

<span class="sd">        def __init__(self):</span>
<span class="sd">            self.big_jim = None</span>

<span class="sd">    fat_bob = FatBob()</span>

<span class="sd">    # Raises NotImplementedError, class not extended yet:</span>
<span class="sd">    fat_bob.build_body()</span>

<span class="sd">    fat_bob.big_jim = BigJim()</span>
<span class="sd">    # Now it works:</span>
<span class="sd">    fat_bob.build_body()</span>
<span class="sd">    ```</span>

<span class="sd">    Args:</span>
<span class="sd">        interface: The interface to implement.</span>
<span class="sd">        attribute: The attribute of the base class to forward calls to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The proxy class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">make_proxy_method</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">C</span><span class="p">,</span> <span class="n">_method</span><span class="p">:</span> <span class="n">F</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">F</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Proxy method decorator.</span>

<span class="sd">        Used to transform a method into a proxy that forwards all calls to the</span>
<span class="sd">        given class attribute.</span>

<span class="sd">        Args:</span>
<span class="sd">            cls: The class to use as the base.</span>
<span class="sd">            _method: The method to replace.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The proxy method.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@wraps</span><span class="p">(</span><span class="n">_method</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">proxy_method</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Proxy method.</span>

<span class="sd">            Args:</span>
<span class="sd">                *args: The arguments to pass to the method.</span>
<span class="sd">                **kw: The keyword arguments to pass to the method.</span>

<span class="sd">            Returns:</span>
<span class="sd">                The return value of the proxied method.</span>

<span class="sd">            Raises:</span>
<span class="sd">                TypeError: If the class does not have the attribute specified</span>
<span class="sd">                    in the decorator or if the attribute does not implement</span>
<span class="sd">                    the specified interface.</span>
<span class="sd">                NotImplementedError: If the attribute specified in the</span>
<span class="sd">                    decorator is None, i.e. the interface is not implemented.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="bp">self</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Class &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; does not have a &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;as specified in the &#39;make_proxy_class&#39; decorator.&quot;</span>
                <span class="p">)</span>
            <span class="n">proxied_obj</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">proxied_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;This &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; instance does not implement the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">interface</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; interface.&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">proxied_obj</span><span class="p">,</span> <span class="n">interface</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Interface &#39;</span><span class="si">{</span><span class="n">interface</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; must be implemented by &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;the &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="si">}</span><span class="s2">&#39; attribute.&quot;</span>
                <span class="p">)</span>
            <span class="n">proxied_method</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">proxied_obj</span><span class="p">,</span> <span class="n">_method</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">proxied_method</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">proxy_method</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_inner_decorator</span><span class="p">(</span><span class="n">_cls</span><span class="p">:</span> <span class="n">C</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">C</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Inner proxy class decorator.</span>

<span class="sd">        Args:</span>
<span class="sd">            _cls: The class to decorate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The decorated class.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the decorated class does not implement the specified</span>
<span class="sd">                interface.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">interface</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Interface &#39;</span><span class="si">{</span><span class="n">interface</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; must be implemented by &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;the &#39;</span><span class="si">{</span><span class="n">_cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; class.&quot;</span>
            <span class="p">)</span>

        <span class="k">for</span> <span class="n">method_name</span> <span class="ow">in</span> <span class="n">interface</span><span class="o">.</span><span class="n">__abstractmethods__</span><span class="p">:</span>
            <span class="n">original_method</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">method_name</span><span class="p">)</span>
            <span class="n">method_proxy</span> <span class="o">=</span> <span class="n">make_proxy_method</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">original_method</span><span class="p">)</span>
            <span class="c1"># Make sure the proxy method is not considered abstract.</span>
            <span class="n">method_proxy</span><span class="o">.</span><span class="n">__isabstractmethod__</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">_cls</span><span class="p">,</span> <span class="n">method_name</span><span class="p">,</span> <span class="n">method_proxy</span><span class="p">)</span>

        <span class="c1"># Remove the abstract methods in the interface from the decorated class.</span>
        <span class="n">_cls</span><span class="o">.</span><span class="n">__abstractmethods__</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">(</span>
            <span class="n">method_name</span>
            <span class="k">for</span> <span class="n">method_name</span> <span class="ow">in</span> <span class="n">_cls</span><span class="o">.</span><span class="n">__abstractmethods__</span>
            <span class="k">if</span> <span class="n">method_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">interface</span><span class="o">.</span><span class="n">__abstractmethods__</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">_cls</span><span class="p">)</span>  <span class="c1"># type: ignore[redundant-cast]</span>

    <span class="k">return</span> <span class="n">_inner_decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.pydantic_utils" class="doc doc-heading">
            <code>pydantic_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utilities for pydantic models.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.pydantic_utils-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.pydantic_utils.TemplateGenerator" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">TemplateGenerator</span><span class="p">(</span><span class="n">instance_or_class</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]])</span></code>

</h6>


    <div class="doc doc-contents ">


        <p>Class to generate templates for pydantic models or classes.</p>

        <p>Initializes the template generator.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>instance_or_class</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pydantic.BaseModel">BaseModel</span>, <span title="typing.Type">Type</span>[<span title="pydantic.BaseModel">BaseModel</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pydantic model or model class for which to
generate a template.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="quote">
                    <summary>Source code in <code>src/zenml/utils/pydantic_utils.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">instance_or_class</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes the template generator.</span>

<span class="sd">    Args:</span>
<span class="sd">        instance_or_class: The pydantic model or model class for which to</span>
<span class="sd">            generate a template.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">instance_or_class</span> <span class="o">=</span> <span class="n">instance_or_class</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">








<h7 id="zenml.utils.pydantic_utils.TemplateGenerator-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.pydantic_utils.TemplateGenerator.run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Generates the template.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The template dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/pydantic_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates the template.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The template dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance_or_class</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
        <span class="n">template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_model</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instance_or_class</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_template_for_model_class</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instance_or_class</span>
        <span class="p">)</span>

    <span class="c1"># Convert to json in an intermediate step, so we can leverage Pydantic&#39;s</span>
    <span class="c1"># encoder to support types like UUID and datetime</span>
    <span class="n">json_string</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">template</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_string</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.pydantic_utils.YAMLSerializationMixin" class="doc doc-heading">
            <code>YAMLSerializationMixin</code>


</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Class to serialize/deserialize pydantic models to/from YAML.</p>











  <div class="doc doc-children">








<h7 id="zenml.utils.pydantic_utils.YAMLSerializationMixin-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.pydantic_utils.YAMLSerializationMixin.from_yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_yaml</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">M</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>


    <div class="doc doc-contents ">

        <p>Creates an instance from a YAML file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to a YAML file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="zenml.utils.pydantic_utils.M">M</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The model instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/pydantic_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_yaml</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">M</span><span class="p">],</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">M</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates an instance from a YAML file.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Path to a YAML file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dict_</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.pydantic_utils.YAMLSerializationMixin.yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">yaml</span><span class="p">(</span><span class="n">sort_keys</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>YAML string representation..</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sort_keys</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to sort the keys in the YAML representation.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Kwargs to pass to the pydantic model_dump(...) method.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>YAML string representation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/pydantic_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">yaml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sort_keys</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;YAML string representation..</span>

<span class="sd">    Args:</span>
<span class="sd">        sort_keys: Whether to sort the keys in the YAML representation.</span>
<span class="sd">        **kwargs: Kwargs to pass to the pydantic model_dump(...) method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        YAML string representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dict_</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span> <span class="n">sort_keys</span><span class="o">=</span><span class="n">sort_keys</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="n">sort_keys</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h5 id="zenml.utils.pydantic_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.pydantic_utils.before_validator_handler" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">before_validator_handler</span><span class="p">(</span><span class="n">method</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">Any</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Decorator to handle the raw input data for pydantic model validators.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[..., <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the class method with the actual validation logic.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<span title="typing.Any">Any</span>, <span title="typing.Any">Any</span>, <span title="typing.Any">Any</span>], <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the validator method</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/pydantic_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">before_validator_handler</span><span class="p">(</span>
    <span class="n">method</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Decorator to handle the raw input data for pydantic model validators.</span>

<span class="sd">    Args:</span>
<span class="sd">        method: the class method with the actual validation logic.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the validator method</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">before_validator</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">],</span> <span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">validation_info</span><span class="p">:</span> <span class="n">ValidationInfo</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wrapper method to handle the raw data.</span>

<span class="sd">        Args:</span>
<span class="sd">            cls: the class handler</span>
<span class="sd">            data: the raw input data</span>
<span class="sd">            validation_info: the context of the validation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the validated data</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">model_validator_data_handler</span><span class="p">(</span>
            <span class="n">raw_data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">base_class</span><span class="o">=</span><span class="bp">cls</span><span class="p">,</span> <span class="n">validation_info</span><span class="o">=</span><span class="n">validation_info</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">method</span><span class="p">(</span><span class="bp">cls</span><span class="o">=</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">before_validator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.pydantic_utils.has_validators" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_validators</span><span class="p">(</span><span class="n">pydantic_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">],</span> <span class="n">field_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Function to check if a Pydantic model or a pydantic field has validators.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pydantic_class</code>
            </td>
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="pydantic.BaseModel">BaseModel</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The class defining the pydantic model.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>field_name</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional, field info. If specified, this function will focus
on a singular field within the class. If not specified, it will
check model validators.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the specified field or class has a validator or not.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/pydantic_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">has_validators</span><span class="p">(</span>
    <span class="n">pydantic_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">],</span>
    <span class="n">field_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to check if a Pydantic model or a pydantic field has validators.</span>

<span class="sd">    Args:</span>
<span class="sd">        pydantic_class: The class defining the pydantic model.</span>
<span class="sd">        field_name: Optional, field info. If specified, this function will focus</span>
<span class="sd">            on a singular field within the class. If not specified, it will</span>
<span class="sd">            check model validators.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether the specified field or class has a validator or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># If field is not specified check model validators</span>
    <span class="k">if</span> <span class="n">field_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">pydantic_class</span><span class="o">.</span><span class="n">__pydantic_decorators__</span><span class="o">.</span><span class="n">model_validators</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># Else, check field validators</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># 1. Field validators can be defined through @field_validator decorators</span>
        <span class="n">f_validators</span> <span class="o">=</span> <span class="n">pydantic_class</span><span class="o">.</span><span class="n">__pydantic_decorators__</span><span class="o">.</span><span class="n">field_validators</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">f_v</span> <span class="ow">in</span> <span class="n">f_validators</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="n">f_v</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">fields</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="c1"># 2. Field validators can be defined through the Annotation[.....]</span>
        <span class="n">field_info</span> <span class="o">=</span> <span class="n">pydantic_class</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">field_name</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">metadata</span> <span class="o">:=</span> <span class="n">field_info</span><span class="o">.</span><span class="n">metadata</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span>
                <span class="nb">isinstance</span><span class="p">(</span>
                    <span class="n">m</span><span class="p">,</span>
                    <span class="p">(</span>
                        <span class="n">AfterValidator</span><span class="p">,</span>
                        <span class="n">BeforeValidator</span><span class="p">,</span>
                        <span class="n">PlainValidator</span><span class="p">,</span>
                        <span class="n">WrapValidator</span><span class="p">,</span>
                    <span class="p">),</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">metadata</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.pydantic_utils.model_validator_data_handler" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">model_validator_data_handler</span><span class="p">(</span><span class="n">raw_data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">base_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">],</span> <span class="n">validation_info</span><span class="p">:</span> <span class="n">ValidationInfo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Utility function to parse raw input data of varying types to a dict.</p>
<p>With the change to pydantic v2, validators which operate with "before"
(or previously known as the "pre" parameter) are getting "Any" types of raw
input instead of a "Dict[str, Any]" as before. Depending on the use-case,
this can create conflicts after the migration and this function will be
used as a helper function to handle different types of raw input data.</p>
<p>A code snippet to showcase how the behavior changes. The "before" validator
prints the type of the input:</p>
<pre><code>class Base(BaseModel):
    a: int = 3

class MyClass(Base):
    @model_validator(mode="before")
    @classmethod
    def before_validator(cls, data: Any) -&gt; Any:
        print(type(data))
        return {}

one = MyClass() # prints "&lt;class 'dict'&gt;"
MyClass.model_validate(one)  # prints NOTHING, it is already validated
MyClass.model_validate("asdf")  # prints "&lt;class 'str'&gt;", fails without the modified return.
MyClass.model_validate(RandomClass())  # prints "&lt;class 'RandomClass'&gt;", fails without the modified return.
MyClass.model_validate(Base())  # prints "&lt;class 'Base'&gt;", fails without the modified return.
MyClass.model_validate_json(json.dumps("aria"))  # prints "&lt;class 'str'&gt;", fails without the modified return.
MyClass.model_validate_json(json.dumps([1]))  # prints "&lt;class 'list'&gt;", fails without the modified return.
MyClass.model_validate_json(one.model_dump_json())  # prints "&lt;class 'dict'&gt;"
</code></pre>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>raw_data</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The raw data passed to the validator, can be "Any" type.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>base_class</code>
            </td>
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="pydantic.BaseModel">BaseModel</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The class that the validator belongs to</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>validation_info</code>
            </td>
            <td>
                  <code><span title="pydantic.ValidationInfo">ValidationInfo</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Extra information about the validation process.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the type of the data is not processable.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>in case of an unknown validation mode.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary which will be passed to the eventual validator of pydantic.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/pydantic_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">model_validator_data_handler</span><span class="p">(</span>
    <span class="n">raw_data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">base_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">],</span>
    <span class="n">validation_info</span><span class="p">:</span> <span class="n">ValidationInfo</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Utility function to parse raw input data of varying types to a dict.</span>

<span class="sd">    With the change to pydantic v2, validators which operate with &quot;before&quot;</span>
<span class="sd">    (or previously known as the &quot;pre&quot; parameter) are getting &quot;Any&quot; types of raw</span>
<span class="sd">    input instead of a &quot;Dict[str, Any]&quot; as before. Depending on the use-case,</span>
<span class="sd">    this can create conflicts after the migration and this function will be</span>
<span class="sd">    used as a helper function to handle different types of raw input data.</span>

<span class="sd">    A code snippet to showcase how the behavior changes. The &quot;before&quot; validator</span>
<span class="sd">    prints the type of the input:</span>

<span class="sd">        class Base(BaseModel):</span>
<span class="sd">            a: int = 3</span>

<span class="sd">        class MyClass(Base):</span>
<span class="sd">            @model_validator(mode=&quot;before&quot;)</span>
<span class="sd">            @classmethod</span>
<span class="sd">            def before_validator(cls, data: Any) -&gt; Any:</span>
<span class="sd">                print(type(data))</span>
<span class="sd">                return {}</span>

<span class="sd">        one = MyClass() # prints &quot;&lt;class &#39;dict&#39;&gt;&quot;</span>
<span class="sd">        MyClass.model_validate(one)  # prints NOTHING, it is already validated</span>
<span class="sd">        MyClass.model_validate(&quot;asdf&quot;)  # prints &quot;&lt;class &#39;str&#39;&gt;&quot;, fails without the modified return.</span>
<span class="sd">        MyClass.model_validate(RandomClass())  # prints &quot;&lt;class &#39;RandomClass&#39;&gt;&quot;, fails without the modified return.</span>
<span class="sd">        MyClass.model_validate(Base())  # prints &quot;&lt;class &#39;Base&#39;&gt;&quot;, fails without the modified return.</span>
<span class="sd">        MyClass.model_validate_json(json.dumps(&quot;aria&quot;))  # prints &quot;&lt;class &#39;str&#39;&gt;&quot;, fails without the modified return.</span>
<span class="sd">        MyClass.model_validate_json(json.dumps([1]))  # prints &quot;&lt;class &#39;list&#39;&gt;&quot;, fails without the modified return.</span>
<span class="sd">        MyClass.model_validate_json(one.model_dump_json())  # prints &quot;&lt;class &#39;dict&#39;&gt;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        raw_data: The raw data passed to the validator, can be &quot;Any&quot; type.</span>
<span class="sd">        base_class: The class that the validator belongs to</span>
<span class="sd">        validation_info: Extra information about the validation process.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: if the type of the data is not processable.</span>
<span class="sd">        ValueError: in case of an unknown validation mode.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary which will be passed to the eventual validator of pydantic.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">validation_info</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;python&quot;</span><span class="p">:</span>
        <span class="c1"># This is mode is only active if people validate objects using pythonic</span>
        <span class="c1"># raw data such as MyClass(...) or MyClass.model_validate()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="c1"># In most cases, this is the behavior as the raw input is a dict</span>
            <span class="k">return</span> <span class="n">raw_data</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="n">base_class</span><span class="p">):</span>
            <span class="c1"># In some cases, we pass the same object type to the validation</span>
            <span class="c1"># in such cases, it is critical we keep the original structure of</span>
            <span class="c1"># fields that are already set.</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">raw_data</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">base_class</span><span class="p">,</span> <span class="n">raw_data</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="c1"># There are a few occurrences where the annotation of the field is</span>
            <span class="c1"># denoted by a subclass, and we use the instance of its super class</span>
            <span class="c1"># as the raw input. In such cases we will use the same approach as</span>
            <span class="c1"># before, while raising a debug message.</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;During the validation of a `</span><span class="si">{</span><span class="n">base_class</span><span class="si">}</span><span class="s2">` object, an instance&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;of `</span><span class="si">{</span><span class="n">raw_data</span><span class="o">.</span><span class="vm">__class__</span><span class="si">}</span><span class="s2">` (super class of `</span><span class="si">{</span><span class="n">base_class</span><span class="si">}</span><span class="s2">`) &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;has been passed as raw input. This might lead to unexpected &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;behavior in case `</span><span class="si">{</span><span class="n">base_class</span><span class="si">}</span><span class="s2">` have features which can not&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;be extracted from an instance of a `</span><span class="si">{</span><span class="n">raw_data</span><span class="o">.</span><span class="vm">__class__</span><span class="si">}</span><span class="s2">`.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">raw_data</span><span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="c1"># If the raw input is a raw string, we can try to use the `json`</span>
            <span class="c1"># module to parse it. The resulting data needs to be a proper</span>
            <span class="c1"># dict for us to pass it to the validation process.</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">json_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">raw_data</span><span class="p">)</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json_data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">json_data</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The resulting json data is not a dict!&quot;</span><span class="p">)</span>

            <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">JSONDecodeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="s2">&quot;The raw json input string can not be converted to a &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;dict: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;Unsupported type of raw input data for the `python` validation&quot;</span>
                <span class="s2">&quot;mode of the pydantic class. Please consider changing the way &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;you are creating using the `</span><span class="si">{</span><span class="n">base_class</span><span class="si">}</span><span class="s2">` or instead use&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">base_class</span><span class="si">}</span><span class="s2">.model_validate_json()`.&quot;</span>
            <span class="p">)</span>

    <span class="k">elif</span> <span class="n">validation_info</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
        <span class="c1"># This is mode is only active if people validate objects using json</span>
        <span class="c1"># input data such as MyClass.model_validate_json()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">raw_data</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The resulting JSON data </span><span class="si">{</span><span class="n">raw_data</span><span class="si">}</span><span class="s2"> is not a dict, therefore&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;can not be used by the validation process.&quot;</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Unknown validation mode</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown validation mode. </span><span class="si">{</span><span class="n">validation_info</span><span class="o">.</span><span class="n">mode</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.pydantic_utils.update_model" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_model</span><span class="p">(</span><span class="n">original</span><span class="p">:</span> <span class="n">M</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">recursive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">exclude_none</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">M</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Updates a pydantic model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>original</code>
            </td>
            <td>
                  <code><span title="zenml.utils.pydantic_utils.M">M</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The model to update.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>update</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pydantic.BaseModel">BaseModel</span>, <span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The update values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>recursive</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, dictionary values will be updated recursively.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>exclude_none</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, <code>None</code> values in the update will be removed.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="zenml.utils.pydantic_utils.M">M</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The updated model.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/pydantic_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_model</span><span class="p">(</span>
    <span class="n">original</span><span class="p">:</span> <span class="n">M</span><span class="p">,</span>
    <span class="n">update</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;BaseModel&quot;</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="n">recursive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">exclude_none</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">M</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a pydantic model.</span>

<span class="sd">    Args:</span>
<span class="sd">        original: The model to update.</span>
<span class="sd">        update: The update values.</span>
<span class="sd">        recursive: If `True`, dictionary values will be updated recursively.</span>
<span class="sd">        exclude_none: If `True`, `None` values in the update will be removed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">update</span><span class="p">,</span> <span class="n">Dict</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">exclude_none</span><span class="p">:</span>
            <span class="n">update_dict</span> <span class="o">=</span> <span class="n">dict_utils</span><span class="o">.</span><span class="n">remove_none_values</span><span class="p">(</span>
                <span class="n">update</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="n">recursive</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">update_dict</span> <span class="o">=</span> <span class="n">update</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">update_dict</span> <span class="o">=</span> <span class="n">update</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span>
            <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude_none</span><span class="o">=</span><span class="n">exclude_none</span>
        <span class="p">)</span>

    <span class="n">original_dict</span> <span class="o">=</span> <span class="n">original</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">recursive</span><span class="p">:</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">dict_utils</span><span class="o">.</span><span class="n">recursive_update</span><span class="p">(</span><span class="n">original_dict</span><span class="p">,</span> <span class="n">update_dict</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">original_dict</span><span class="p">,</span> <span class="o">**</span><span class="n">update_dict</span><span class="p">}</span>

    <span class="k">return</span> <span class="n">original</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.pydantic_utils.validate_function_args" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_function_args</span><span class="p">(</span><span class="n">__func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">__config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ConfigDict</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Validates arguments passed to a function.</p>
<p>This function validates that all arguments to call the function exist and
that the types match.</p>
<p>It raises a pydantic.ValidationError if the validation fails.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>__func</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[..., <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The function for which the arguments are passed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>__config</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="pydantic.ConfigDict">ConfigDict</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pydantic config for the underlying model that is created
to validate the types of the arguments.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function arguments.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function keyword arguments.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The validated arguments.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/pydantic_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate_function_args</span><span class="p">(</span>
    <span class="n">__func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">__config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ConfigDict</span><span class="p">],</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validates arguments passed to a function.</span>

<span class="sd">    This function validates that all arguments to call the function exist and</span>
<span class="sd">    that the types match.</span>

<span class="sd">    It raises a pydantic.ValidationError if the validation fails.</span>

<span class="sd">    Args:</span>
<span class="sd">        __func: The function for which the arguments are passed.</span>
<span class="sd">        __config: The pydantic config for the underlying model that is created</span>
<span class="sd">            to validate the types of the arguments.</span>
<span class="sd">        *args: Function arguments.</span>
<span class="sd">        **kwargs: Function keyword arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The validated arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">__func</span><span class="p">)</span>

    <span class="n">validated_args</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">validated_kwargs</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">nonlocal</span> <span class="n">validated_args</span>
        <span class="k">nonlocal</span> <span class="n">validated_kwargs</span>

        <span class="n">validated_args</span> <span class="o">=</span> <span class="n">args</span>
        <span class="n">validated_kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>

    <span class="c1"># We create a dummy function with the original function signature to run</span>
    <span class="c1"># pydantic validation without actually running the function code</span>
    <span class="n">f</span><span class="o">.</span><span class="n">__signature__</span> <span class="o">=</span> <span class="n">signature</span>  <span class="c1"># type: ignore[attr-defined]</span>
    <span class="n">f</span><span class="o">.</span><span class="vm">__annotations__</span> <span class="o">=</span> <span class="n">__func</span><span class="o">.</span><span class="vm">__annotations__</span>

    <span class="n">validated_function</span> <span class="o">=</span> <span class="n">validate_call</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">__config</span><span class="p">,</span> <span class="n">validate_return</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span>
        <span class="n">f</span>
    <span class="p">)</span>

    <span class="c1"># This raises a pydantic.ValidatonError in case the arguments are not valid</span>
    <span class="n">validated_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">signature</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="o">*</span><span class="n">validated_args</span><span class="p">,</span> <span class="o">**</span><span class="n">validated_kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">arguments</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>
<h5 id="zenml.utils.pydantic_utils-modules">Modules</h5>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.requirements_utils" class="doc doc-heading">
            <code>requirements_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Requirement utils.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.requirements_utils-classes">Classes</h5>
<h5 id="zenml.utils.requirements_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.requirements_utils.get_requirements_for_component" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_requirements_for_component</span><span class="p">(</span><span class="n">component</span><span class="p">:</span> <span class="n">ComponentResponse</span><span class="p">,</span> <span class="n">python_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get requirements for a component model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>component</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ComponentResponse (zenml.models.ComponentResponse)" href="core-models.html#zenml.models.ComponentResponse">ComponentResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The component for which to get the requirements.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_version</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Python version to use for the requirements.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="typing.List">List</span>[<span title="str">str</span>], <span title="typing.List">List</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tuple of PyPI and APT requirements of the component.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/requirements_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_requirements_for_component</span><span class="p">(</span>
    <span class="n">component</span><span class="p">:</span> <span class="s2">&quot;ComponentResponse&quot;</span><span class="p">,</span>
    <span class="n">python_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get requirements for a component model.</span>

<span class="sd">    Args:</span>
<span class="sd">        component: The component for which to get the requirements.</span>
<span class="sd">        python_version: The Python version to use for the requirements.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple of PyPI and APT requirements of the component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">integration</span> <span class="o">=</span> <span class="n">get_integration_for_module</span><span class="p">(</span>
        <span class="n">module_name</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">flavor</span><span class="o">.</span><span class="n">source</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">integration</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">integration</span><span class="o">.</span><span class="n">get_requirements</span><span class="p">(</span>
            <span class="n">python_version</span><span class="o">=</span><span class="n">python_version</span>
        <span class="p">),</span> <span class="n">integration</span><span class="o">.</span><span class="n">APT_PACKAGES</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[],</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.requirements_utils.get_requirements_for_stack" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_requirements_for_stack</span><span class="p">(</span><span class="n">stack</span><span class="p">:</span> <span class="n">StackResponse</span><span class="p">,</span> <span class="n">python_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get requirements for a stack model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>stack</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="StackResponse (zenml.models.StackResponse)" href="core-models.html#zenml.models.StackResponse">StackResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stack for which to get the requirements.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>python_version</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Python version to use for the requirements.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="typing.List">List</span>[<span title="str">str</span>], <span title="typing.List">List</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tuple of PyPI and APT requirements of the stack.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/requirements_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_requirements_for_stack</span><span class="p">(</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;StackResponse&quot;</span><span class="p">,</span>
    <span class="n">python_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get requirements for a stack model.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack: The stack for which to get the requirements.</span>
<span class="sd">        python_version: The Python version to use for the requirements.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple of PyPI and APT requirements of the stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pypi_requirements</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">apt_packages</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">component_list</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">component_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="n">component</span> <span class="o">=</span> <span class="n">component_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="p">(</span>
            <span class="n">component_pypi_requirements</span><span class="p">,</span>
            <span class="n">component_apt_packages</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="n">get_requirements_for_component</span><span class="p">(</span>
            <span class="n">component</span><span class="o">=</span><span class="n">component</span><span class="p">,</span>
            <span class="n">python_version</span><span class="o">=</span><span class="n">python_version</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">pypi_requirements</span> <span class="o">=</span> <span class="n">pypi_requirements</span><span class="o">.</span><span class="n">union</span><span class="p">(</span>
            <span class="n">component_pypi_requirements</span>
        <span class="p">)</span>
        <span class="n">apt_packages</span> <span class="o">=</span> <span class="n">apt_packages</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">component_apt_packages</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pypi_requirements</span><span class="p">),</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">apt_packages</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.run_utils" class="doc doc-heading">
            <code>run_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions for runs.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.run_utils-classes">Classes</h5>
<h5 id="zenml.utils.run_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.run_utils.build_dag" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_dag</span><span class="p">(</span><span class="n">steps</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Build DAG with downstream steps from a list of steps.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>steps</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of steps.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Set">Set</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DAG with downstream steps.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/run_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_dag</span><span class="p">(</span><span class="n">steps</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Build DAG with downstream steps from a list of steps.</span>

<span class="sd">    Args:</span>
<span class="sd">        steps: The list of steps.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The DAG with downstream steps.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dag</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span><span class="n">step</span><span class="p">:</span> <span class="nb">set</span><span class="p">()</span> <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">steps</span><span class="p">}</span>

    <span class="k">for</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">upstream_steps</span> <span class="ow">in</span> <span class="n">steps</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">upstream_step</span> <span class="ow">in</span> <span class="n">upstream_steps</span><span class="p">:</span>
            <span class="n">dag</span><span class="p">[</span><span class="n">upstream_step</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">step_name</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">dag</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.run_utils.find_all_downstream_steps" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_all_downstream_steps</span><span class="p">(</span><span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">dag</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Find all downstream steps of a given step.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>step_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the step to find the downstream steps of.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dag</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Set">Set</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The DAG.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Set">Set</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of downstream steps.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/run_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">find_all_downstream_steps</span><span class="p">(</span>
    <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">dag</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find all downstream steps of a given step.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_name: The name of the step to find the downstream steps of.</span>
<span class="sd">        dag: The DAG.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The set of downstream steps.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">downstream_steps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">downstream_step</span> <span class="ow">in</span> <span class="n">dag</span><span class="p">[</span><span class="n">step_name</span><span class="p">]:</span>
        <span class="n">downstream_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">downstream_step</span><span class="p">)</span>
        <span class="n">downstream_steps</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="n">find_all_downstream_steps</span><span class="p">(</span><span class="n">downstream_step</span><span class="p">,</span> <span class="n">dag</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">downstream_steps</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.run_utils.refresh_run_status" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">refresh_run_status</span><span class="p">(</span><span class="n">run</span><span class="p">:</span> <span class="n">PipelineRunResponse</span><span class="p">,</span> <span class="n">include_step_updates</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">zen_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseZenStore</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponse</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Refresh the status of a pipeline run if it is initializing/running.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>run</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineRunResponse (zenml.models.PipelineRunResponse)" href="core-models.html#zenml.models.PipelineRunResponse">PipelineRunResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pipeline run to refresh.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_step_updates</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag deciding whether we should also refresh
the status of individual steps.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>zen_store</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="BaseZenStore(skip_default_registrations: bool = False, **kwargs: Any) (zenml.zen_stores.base_zen_store.BaseZenStore)" href="core-zen_stores.html#zenml.zen_stores.base_zen_store.BaseZenStore">BaseZenStore</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional ZenStore to use for updating the run. If not provided,
the ZenStore will be fetched from the Client. This is mainly useful
for running inside the ZenML server.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineRunResponse (zenml.models.PipelineRunResponse)" href="core-models.html#zenml.models.PipelineRunResponse">PipelineRunResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The refreshed pipeline run.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the stack or the orchestrator of the run is deleted.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/run_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">refresh_run_status</span><span class="p">(</span>
    <span class="n">run</span><span class="p">:</span> <span class="n">PipelineRunResponse</span><span class="p">,</span>
    <span class="n">include_step_updates</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">zen_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseZenStore&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Refresh the status of a pipeline run if it is initializing/running.</span>

<span class="sd">    Args:</span>
<span class="sd">        run: The pipeline run to refresh.</span>
<span class="sd">        include_step_updates: Flag deciding whether we should also refresh</span>
<span class="sd">            the status of individual steps.</span>
<span class="sd">        zen_store: Optional ZenStore to use for updating the run. If not provided,</span>
<span class="sd">            the ZenStore will be fetched from the Client. This is mainly useful</span>
<span class="sd">            for running inside the ZenML server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The refreshed pipeline run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the stack or the orchestrator of the run is deleted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check if the stack still accessible</span>
    <span class="k">if</span> <span class="n">run</span><span class="o">.</span><span class="n">stack</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The stack that this pipeline run response was executed on&quot;</span>
            <span class="s2">&quot;is either not accessible or has been deleted.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Check if the orchestrator is still accessible</span>
    <span class="n">orchestrator_list</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span> <span class="p">[]</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">orchestrator_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The orchestrator that this pipeline run response was &quot;</span>
            <span class="s2">&quot;executed with is either not accessible or has been deleted.&quot;</span>
        <span class="p">)</span>

    <span class="n">orchestrator</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
        <span class="n">BaseOrchestrator</span><span class="p">,</span>
        <span class="n">StackComponent</span><span class="o">.</span><span class="n">from_model</span><span class="p">(</span><span class="n">component_model</span><span class="o">=</span><span class="n">orchestrator_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
    <span class="p">)</span>

    <span class="c1"># Fetch the status (and optionally step statuses)</span>
    <span class="n">pipeline_status</span><span class="p">,</span> <span class="n">step_statuses</span> <span class="o">=</span> <span class="n">orchestrator</span><span class="o">.</span><span class="n">fetch_status</span><span class="p">(</span>
        <span class="n">run</span><span class="o">=</span><span class="n">run</span><span class="p">,</span> <span class="n">include_steps</span><span class="o">=</span><span class="n">include_step_updates</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">zen_store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.client</span><span class="w"> </span><span class="kn">import</span> <span class="n">Client</span>

        <span class="n">zen_store</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">zen_store</span> <span class="o">=</span> <span class="n">zen_store</span>

    <span class="c1"># Update step statuses</span>
    <span class="k">if</span> <span class="n">include_step_updates</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">step_statuses</span><span class="p">:</span>
            <span class="n">current_steps</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">steps</span>
            <span class="k">for</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">step_status</span> <span class="ow">in</span> <span class="n">step_statuses</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="c1"># If step is not in the run yet, skip</span>
                <span class="k">if</span> <span class="n">step_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">current_steps</span><span class="p">:</span>
                    <span class="k">continue</span>

                <span class="c1"># If the step is already finished, skip</span>
                <span class="k">if</span> <span class="n">current_steps</span><span class="p">[</span><span class="n">step_name</span><span class="p">]</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">is_finished</span><span class="p">:</span>
                    <span class="k">continue</span>

                <span class="c1"># Update only if the status has changed</span>
                <span class="k">if</span> <span class="n">step_status</span> <span class="o">!=</span> <span class="n">current_steps</span><span class="p">[</span><span class="n">step_name</span><span class="p">]</span><span class="o">.</span><span class="n">status</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">zen_store</span><span class="o">.</span><span class="n">update_run_step</span><span class="p">(</span>
                            <span class="n">step_run_id</span><span class="o">=</span><span class="n">run</span><span class="o">.</span><span class="n">steps</span><span class="p">[</span><span class="n">step_name</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                            <span class="n">step_run_update</span><span class="o">=</span><span class="n">StepRunUpdate</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="n">step_status</span><span class="p">),</span>
                        <span class="p">)</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Failed to update status for step &#39;</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="p">)</span>

    <span class="c1"># Update pipeline status</span>
    <span class="k">if</span> <span class="n">pipeline_status</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">pipeline_status</span> <span class="o">!=</span> <span class="n">run</span><span class="o">.</span><span class="n">status</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">zen_store</span><span class="o">.</span><span class="n">update_run</span><span class="p">(</span>
            <span class="n">run_id</span><span class="o">=</span><span class="n">run</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">run_update</span><span class="o">=</span><span class="n">PipelineRunUpdate</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="n">pipeline_status</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">run</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.run_utils.stop_run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">stop_run</span><span class="p">(</span><span class="n">run</span><span class="p">:</span> <span class="n">PipelineRunResponse</span><span class="p">,</span> <span class="n">graceful</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Stop a pipeline run.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>run</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineRunResponse (zenml.models.PipelineRunResponse)" href="core-models.html#zenml.models.PipelineRunResponse">PipelineRunResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pipeline run to stop.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>graceful</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to stop the run gracefully.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="IllegalOperationError(message: Optional[str] = None, url: Optional[str] = None) (zenml.exceptions.IllegalOperationError)" href="core-exceptions.html#zenml.exceptions.IllegalOperationError">IllegalOperationError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the run is already stopped or being stopped.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the stack is not accessible.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/run_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">stop_run</span><span class="p">(</span><span class="n">run</span><span class="p">:</span> <span class="n">PipelineRunResponse</span><span class="p">,</span> <span class="n">graceful</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stop a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run: The pipeline run to stop.</span>
<span class="sd">        graceful: Whether to stop the run gracefully.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the run is already stopped or being stopped.</span>
<span class="sd">        ValueError: If the stack is not accessible.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check if the stack is still accessible</span>
    <span class="k">if</span> <span class="n">run</span><span class="o">.</span><span class="n">stack</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The stack that this pipeline run response was executed on &quot;</span>
            <span class="s2">&quot;is either not accessible or has been deleted.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Check if pipeline can be stopped</span>
    <span class="k">if</span> <span class="n">run</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">COMPLETED</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;Cannot stop a run that is already completed.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">run</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">STOPPED</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span><span class="s2">&quot;Run is already stopped.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">run</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">STOPPING</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span><span class="s2">&quot;Run is already being stopped.&quot;</span><span class="p">)</span>

    <span class="c1"># Check if the stack is still accessible</span>
    <span class="n">orchestrator_list</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span> <span class="p">[]</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">orchestrator_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The orchestrator that this pipeline run response was &quot;</span>
            <span class="s2">&quot;executed with is either not accessible or has been deleted.&quot;</span>
        <span class="p">)</span>

    <span class="n">orchestrator</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
        <span class="n">BaseOrchestrator</span><span class="p">,</span>
        <span class="n">StackComponent</span><span class="o">.</span><span class="n">from_model</span><span class="p">(</span><span class="n">component_model</span><span class="o">=</span><span class="n">orchestrator_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
    <span class="p">)</span>

    <span class="c1"># Stop the run</span>
    <span class="n">orchestrator</span><span class="o">.</span><span class="n">stop_run</span><span class="p">(</span><span class="n">run</span><span class="o">=</span><span class="n">run</span><span class="p">,</span> <span class="n">graceful</span><span class="o">=</span><span class="n">graceful</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.secret_utils" class="doc doc-heading">
            <code>secret_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions for secrets and secret references.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.secret_utils-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.secret_utils.SecretReference" class="doc doc-heading">
            <code>SecretReference</code>


</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="typing.NamedTuple">NamedTuple</span></code></p>


        <p>Class representing a secret reference.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="zenml.utils.secret_utils.SecretReference.name">name</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The secret name.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="zenml.utils.secret_utils.SecretReference.key">key</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The secret key.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











  <div class="doc doc-children">












  </div>

    </div>

</div>
<h5 id="zenml.utils.secret_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.secret_utils.ClearTextField" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ClearTextField</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Marks a pydantic field to prevent secret references.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Positional arguments which will be forwarded
to <code>pydantic.Field(...)</code>.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Keyword arguments which will be forwarded to
<code>pydantic.Field(...)</code>.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pydantic field info.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/secret_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ClearTextField</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Marks a pydantic field to prevent secret references.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: Positional arguments which will be forwarded</span>
<span class="sd">            to `pydantic.Field(...)`.</span>
<span class="sd">        **kwargs: Keyword arguments which will be forwarded to</span>
<span class="sd">            `pydantic.Field(...)`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Pydantic field info.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema_extra</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;json_schema_extra&quot;</span><span class="p">,</span> <span class="p">{})</span>
    <span class="n">json_schema_extra</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">PYDANTIC_CLEAR_TEXT_FIELD_MARKER</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">Field</span><span class="p">(</span><span class="n">json_schema_extra</span><span class="o">=</span><span class="n">json_schema_extra</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.secret_utils.SecretField" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">SecretField</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Marks a pydantic field as something containing sensitive information.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Positional arguments which will be forwarded
to <code>pydantic.Field(...)</code>.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Keyword arguments which will be forwarded to
<code>pydantic.Field(...)</code>.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pydantic field info.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/secret_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">SecretField</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Marks a pydantic field as something containing sensitive information.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: Positional arguments which will be forwarded</span>
<span class="sd">            to `pydantic.Field(...)`.</span>
<span class="sd">        **kwargs: Keyword arguments which will be forwarded to</span>
<span class="sd">            `pydantic.Field(...)`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Pydantic field info.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema_extra</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;json_schema_extra&quot;</span><span class="p">,</span> <span class="p">{})</span>
    <span class="n">json_schema_extra</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">PYDANTIC_SENSITIVE_FIELD_MARKER</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">Field</span><span class="p">(</span><span class="n">json_schema_extra</span><span class="o">=</span><span class="n">json_schema_extra</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.secret_utils.is_clear_text_field" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_clear_text_field</span><span class="p">(</span><span class="n">field</span><span class="p">:</span> <span class="n">FieldInfo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns whether a pydantic field prevents secret references or not.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>field</code>
            </td>
            <td>
                  <code><span title="pydantic.fields.FieldInfo">FieldInfo</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The field to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True</code> if the field prevents secret references, <code>False</code> otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/secret_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_clear_text_field</span><span class="p">(</span><span class="n">field</span><span class="p">:</span> <span class="s2">&quot;FieldInfo&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns whether a pydantic field prevents secret references or not.</span>

<span class="sd">    Args:</span>
<span class="sd">        field: The field to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the field prevents secret references, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">json_schema_extra</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">json_schema_extra</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">marker</span> <span class="o">:=</span> <span class="n">field</span><span class="o">.</span><span class="n">json_schema_extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">PYDANTIC_CLEAR_TEXT_FIELD_MARKER</span>
            <span class="p">):</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="nb">bool</span><span class="p">),</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The parameter `</span><span class="si">{</span><span class="n">PYDANTIC_CLEAR_TEXT_FIELD_MARKER</span><span class="si">}</span><span class="s2">` in the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;field definition can only be a boolean value.&quot;</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="n">marker</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The &#39;json_schema_extra&#39; of the field &#39;</span><span class="si">{</span><span class="n">field</span><span class="o">.</span><span class="n">title</span><span class="si">}</span><span class="s2">&#39; is &quot;</span>
                <span class="s2">&quot;not defined as a dict. This might lead to unexpected &quot;</span>
                <span class="s2">&quot;behavior as we are checking it is a clear text field. &quot;</span>
                <span class="s2">&quot;Returning &#39;False&#39; as default...&quot;</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.secret_utils.is_secret_field" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_secret_field</span><span class="p">(</span><span class="n">field</span><span class="p">:</span> <span class="n">FieldInfo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns whether a pydantic field contains sensitive information or not.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>field</code>
            </td>
            <td>
                  <code><span title="pydantic.fields.FieldInfo">FieldInfo</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The field to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True</code> if the field contains sensitive information, <code>False</code> otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/secret_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_secret_field</span><span class="p">(</span><span class="n">field</span><span class="p">:</span> <span class="s2">&quot;FieldInfo&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns whether a pydantic field contains sensitive information or not.</span>

<span class="sd">    Args:</span>
<span class="sd">        field: The field to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the field contains sensitive information, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">json_schema_extra</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">json_schema_extra</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">marker</span> <span class="o">:=</span> <span class="n">field</span><span class="o">.</span><span class="n">json_schema_extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">PYDANTIC_SENSITIVE_FIELD_MARKER</span>
            <span class="p">):</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="nb">bool</span><span class="p">),</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The parameter `</span><span class="si">{</span><span class="n">PYDANTIC_SENSITIVE_FIELD_MARKER</span><span class="si">}</span><span class="s2">` in the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;field definition can only be a boolean value.&quot;</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="n">marker</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The &#39;json_schema_extra&#39; of the field &#39;</span><span class="si">{</span><span class="n">field</span><span class="o">.</span><span class="n">title</span><span class="si">}</span><span class="s2">&#39; is &quot;</span>
                <span class="s2">&quot;not defined as a dict. This might lead to unexpected &quot;</span>
                <span class="s2">&quot;behavior as we are checking it is a secret text field. &quot;</span>
                <span class="s2">&quot;Returning &#39;False&#39; as default...&quot;</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.secret_utils.is_secret_reference" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_secret_reference</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks whether any value is a secret reference.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True</code> if the value is a secret reference, <code>False</code> otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/secret_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_secret_reference</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks whether any value is a secret reference.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: The value to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the value is a secret reference, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">_secret_reference_expression</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.secret_utils.parse_secret_reference" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_secret_reference</span><span class="p">(</span><span class="n">reference</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretReference</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Parses a secret reference.</p>
<p>This function assumes the input string is a valid secret reference and
<strong>does not</strong> perform any additional checks. If you pass an invalid secret
reference here, this will most likely crash.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>reference</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The string representing a <strong>valid</strong> secret reference.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="SecretReference (zenml.utils.secret_utils.SecretReference)" href="#zenml.utils.secret_utils.SecretReference">SecretReference</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parsed secret reference.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/secret_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">parse_secret_reference</span><span class="p">(</span><span class="n">reference</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretReference</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parses a secret reference.</span>

<span class="sd">    This function assumes the input string is a valid secret reference and</span>
<span class="sd">    **does not** perform any additional checks. If you pass an invalid secret</span>
<span class="sd">    reference here, this will most likely crash.</span>

<span class="sd">    Args:</span>
<span class="sd">        reference: The string representing a **valid** secret reference.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The parsed secret reference.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">reference</span> <span class="o">=</span> <span class="n">reference</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
    <span class="n">reference</span> <span class="o">=</span> <span class="n">reference</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

    <span class="n">secret_name</span><span class="p">,</span> <span class="n">secret_key</span> <span class="o">=</span> <span class="n">reference</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">secret_name</span><span class="p">,</span> <span class="n">secret_key</span> <span class="o">=</span> <span class="n">secret_name</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="n">secret_key</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">SecretReference</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">secret_key</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.secret_utils.resolve_and_verify_secrets" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">resolve_and_verify_secrets</span><span class="p">(</span><span class="n">secrets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Convert a list of secret names or IDs to a list of secret IDs.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>secrets</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of secret names or IDs.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of secret IDs.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/secret_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">resolve_and_verify_secrets</span><span class="p">(</span>
    <span class="n">secrets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a list of secret names or IDs to a list of secret IDs.</span>

<span class="sd">    Args:</span>
<span class="sd">        secrets: A list of secret names or IDs.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of secret IDs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.client</span><span class="w"> </span><span class="kn">import</span> <span class="n">Client</span>

    <span class="k">return</span> <span class="p">[</span>
        <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="n">secrets</span>
    <span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.server_utils" class="doc doc-heading">
            <code>server_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions for ZenML servers.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.server_utils-classes">Classes</h5>
<h5 id="zenml.utils.server_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.server_utils.connected_to_local_server" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">connected_to_local_server</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Check if the client is connected to a local server.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the client is connected to a local server, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/server_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">connected_to_local_server</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the client is connected to a local server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the client is connected to a local server, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.zen_server.deploy.deployer</span><span class="w"> </span><span class="kn">import</span> <span class="n">LocalServerDeployer</span>

    <span class="n">deployer</span> <span class="o">=</span> <span class="n">LocalServerDeployer</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">deployer</span><span class="o">.</span><span class="n">is_connected_to_server</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.server_utils.get_local_server" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_local_server</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LocalServerDeployment</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get the active local server.</p>
<p>Call this function to retrieve the local server deployed on this machine.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="LocalServerDeployment (zenml.zen_server.deploy.LocalServerDeployment)" href="core-zen_server.html#zenml.zen_server.deploy.LocalServerDeployment">LocalServerDeployment</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The local server deployment or None, if no local server deployment was</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="LocalServerDeployment (zenml.zen_server.deploy.LocalServerDeployment)" href="core-zen_server.html#zenml.zen_server.deploy.LocalServerDeployment">LocalServerDeployment</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/server_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_local_server</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;LocalServerDeployment&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the active local server.</span>

<span class="sd">    Call this function to retrieve the local server deployed on this machine.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The local server deployment or None, if no local server deployment was</span>
<span class="sd">        found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.zen_server.deploy.deployer</span><span class="w"> </span><span class="kn">import</span> <span class="n">LocalServerDeployer</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.zen_server.deploy.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
        <span class="n">ServerDeploymentNotFoundError</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">deployer</span> <span class="o">=</span> <span class="n">LocalServerDeployer</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">deployer</span><span class="o">.</span><span class="n">get_server</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">ServerDeploymentNotFoundError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.settings_utils" class="doc doc-heading">
            <code>settings_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions for ZenML settings.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.settings_utils-classes">Classes</h5>
<h5 id="zenml.utils.settings_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.settings_utils.get_flavor_setting_key" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_flavor_setting_key</span><span class="p">(</span><span class="n">flavor</span><span class="p">:</span> <span class="n">Flavor</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Gets the setting key for a flavor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>flavor</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Flavor (zenml.stack.flavor.Flavor)" href="core-stack.html#zenml.stack.flavor.Flavor">Flavor</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The flavor for which to get the key.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The setting key for the flavor.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/settings_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_flavor_setting_key</span><span class="p">(</span><span class="n">flavor</span><span class="p">:</span> <span class="s2">&quot;Flavor&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the setting key for a flavor.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor: The flavor for which to get the key.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The setting key for the flavor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.settings_utils.get_general_settings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_general_settings</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseSettings</span><span class="p">]]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns all general settings.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="BaseSettings(warn_about_plain_text_secrets: bool = False, **kwargs: Any) (zenml.config.base_settings.BaseSettings)" href="core-config.html#zenml.config.base_settings.BaseSettings">BaseSettings</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary mapping general settings keys to their type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/settings_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_general_settings</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseSettings&quot;</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns all general settings.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary mapping general settings keys to their type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.config</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
        <span class="n">DeploymentSettings</span><span class="p">,</span>
        <span class="n">DockerSettings</span><span class="p">,</span>
        <span class="n">ResourceSettings</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="n">DOCKER_SETTINGS_KEY</span><span class="p">:</span> <span class="n">DockerSettings</span><span class="p">,</span>
        <span class="n">RESOURCE_SETTINGS_KEY</span><span class="p">:</span> <span class="n">ResourceSettings</span><span class="p">,</span>
        <span class="n">DEPLOYMENT_SETTINGS_KEY</span><span class="p">:</span> <span class="n">DeploymentSettings</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.settings_utils.get_stack_component_for_settings_key" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_stack_component_for_settings_key</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">Stack</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackComponent</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Gets the stack component of a stack for a given settings key.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The settings key for which to get the component.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stack</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stack(id: UUID, name: str, *, environment: Optional[Dict[str, str]] = None, secrets: Optional[List[UUID]] = None, orchestrator: BaseOrchestrator, artifact_store: BaseArtifactStore, container_registry: Optional[BaseContainerRegistry] = None, step_operator: Optional[BaseStepOperator] = None, feature_store: Optional[BaseFeatureStore] = None, model_deployer: Optional[BaseModelDeployer] = None, experiment_tracker: Optional[BaseExperimentTracker] = None, alerter: Optional[BaseAlerter] = None, annotator: Optional[BaseAnnotator] = None, data_validator: Optional[BaseDataValidator] = None, image_builder: Optional[BaseImageBuilder] = None, model_registry: Optional[BaseModelRegistry] = None, deployer: Optional[BaseDeployer] = None) (zenml.stack.Stack)" href="core-stack.html#zenml.stack.Stack">Stack</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stack from which to get the component.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the key is invalid or the stack does not contain a
component of the correct flavor.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="StackComponent(name: str, id: UUID, config: StackComponentConfig, flavor: str, type: StackComponentType, user: Optional[UUID], created: datetime, updated: datetime, environment: Optional[Dict[str, str]] = None, secrets: Optional[List[UUID]] = None, labels: Optional[Dict[str, Any]] = None, connector_requirements: Optional[ServiceConnectorRequirements] = None, connector: Optional[UUID] = None, connector_resource_id: Optional[str] = None, *args: Any, **kwargs: Any) (zenml.stack.StackComponent)" href="core-stack.html#zenml.stack.StackComponent">StackComponent</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stack component.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/settings_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_stack_component_for_settings_key</span><span class="p">(</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StackComponent&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the stack component of a stack for a given settings key.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: The settings key for which to get the component.</span>
<span class="sd">        stack: The stack from which to get the component.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the key is invalid or the stack does not contain a</span>
<span class="sd">            component of the correct flavor.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_stack_component_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Settings key </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> does not refer to a stack component.&quot;</span>
        <span class="p">)</span>

    <span class="n">component_type</span><span class="p">,</span> <span class="n">flavor</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">stack_component</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">StackComponentType</span><span class="p">(</span><span class="n">component_type</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">stack_component</span> <span class="ow">or</span> <span class="n">stack_component</span><span class="o">.</span><span class="n">flavor</span> <span class="o">!=</span> <span class="n">flavor</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Component of type </span><span class="si">{</span><span class="n">component_type</span><span class="si">}</span><span class="s2"> in stack </span><span class="si">{</span><span class="n">stack</span><span class="si">}</span><span class="s2"> is not &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of the flavor </span><span class="si">{</span><span class="n">flavor</span><span class="si">}</span><span class="s2"> specified by the settings key </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">stack_component</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.settings_utils.get_stack_component_setting_key" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_stack_component_setting_key</span><span class="p">(</span><span class="n">stack_component</span><span class="p">:</span> <span class="n">StackComponent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Gets the setting key for a stack component.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>stack_component</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="StackComponent(name: str, id: UUID, config: StackComponentConfig, flavor: str, type: StackComponentType, user: Optional[UUID], created: datetime, updated: datetime, environment: Optional[Dict[str, str]] = None, secrets: Optional[List[UUID]] = None, labels: Optional[Dict[str, Any]] = None, connector_requirements: Optional[ServiceConnectorRequirements] = None, connector: Optional[UUID] = None, connector_resource_id: Optional[str] = None, *args: Any, **kwargs: Any) (zenml.stack.StackComponent)" href="core-stack.html#zenml.stack.StackComponent">StackComponent</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stack component for which to get the key.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The setting key for the stack component.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/settings_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_stack_component_setting_key</span><span class="p">(</span><span class="n">stack_component</span><span class="p">:</span> <span class="s2">&quot;StackComponent&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the setting key for a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_component: The stack component for which to get the key.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The setting key for the stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stack_component</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">stack_component</span><span class="o">.</span><span class="n">flavor</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.settings_utils.is_general_setting_key" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_general_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks whether the key refers to a general setting.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The key to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the key refers to a general setting.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/settings_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_general_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks whether the key refers to a general setting.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: The key to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        If the key refers to a general setting.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">get_general_settings</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.settings_utils.is_stack_component_setting_key" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_stack_component_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks whether a settings key refers to a stack component.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The key to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the key refers to a stack component.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/settings_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_stack_component_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks whether a settings key refers to a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: The key to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        If the key refers to a stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">STACK_COMPONENT_REGEX</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.settings_utils.is_valid_setting_key" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_valid_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks whether a settings key is valid.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The key to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the key is valid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/settings_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_valid_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks whether a settings key is valid.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: The key to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        If the key is valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">is_general_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">or</span> <span class="n">is_stack_component_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.settings_utils.validate_setting_keys" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_setting_keys</span><span class="p">(</span><span class="n">setting_keys</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Validates settings keys.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>setting_keys</code>
            </td>
            <td>
                  <code><span title="typing.Sequence">Sequence</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The keys to validate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If any key is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/settings_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate_setting_keys</span><span class="p">(</span><span class="n">setting_keys</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validates settings keys.</span>

<span class="sd">    Args:</span>
<span class="sd">        setting_keys: The keys to validate.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If any key is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">setting_keys</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_valid_setting_key</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid setting key `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">`. Setting keys can either refer &quot;</span>
                <span class="s2">&quot;to general settings (available keys: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="n">get_general_settings</span><span class="p">())</span><span class="si">}</span><span class="s2">) or stack component specific &quot;</span>
                <span class="s2">&quot;settings. Stack component specific keys are of the format &quot;</span>
                <span class="s2">&quot;`&lt;STACK_COMPONENT_TYPE&gt;.&lt;STACK_COMPONENT_FLAVOR&gt;`.&quot;</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.singleton" class="doc doc-heading">
            <code>singleton</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility class to turn classes into singleton classes.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.singleton-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.singleton.SingletonMetaClass" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">SingletonMetaClass</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="type">type</span></code></p>


        <p>Singleton metaclass.</p>
<p>Use this metaclass to make any class into a singleton class:</p>
<pre><code class="language-python">class OneRing(metaclass=SingletonMetaClass):
    def __init__(self, owner):
        self._owner = owner

    @property
    def owner(self):
        return self._owner

the_one_ring = OneRing('Sauron')
the_lost_ring = OneRing('Frodo')
print(the_lost_ring.owner)  # Sauron
OneRing._clear() # ring destroyed
</code></pre>

        <p>Initialize a singleton class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional arguments.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="quote">
                    <summary>Source code in <code>src/zenml/utils/singleton.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize a singleton class.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: Additional arguments.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">__singleton_instance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;SingletonMetaClass&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">








<h7 id="zenml.utils.singleton.SingletonMetaClass-functions">Functions</h7>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.singleton.ThreadLocalSingleton" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">ThreadLocalSingleton</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="type">type</span></code></p>


        <p>Thread-local singleton metaclass using contextvars.</p>
<p>This metaclass creates singleton instances that are isolated per execution
context (thread or asyncio task). Each context gets its own singleton
instance, allowing for thread-safe and coroutine-safe singleton behavior.</p>
<p>Use this metaclass when you need singleton behavior but want isolation
between different execution contexts:</p>
<p>```python
class DatabaseConnection(metaclass=ContextVarSingleton):
    def <strong>init</strong>(self, connection_string: str):
        self._connection_string = connection_string
        self._connected = False</p>
<pre><code>def connect(self):
    if not self._connected:
        # Connect to database
        self._connected = True

@property
def connection_string(self):
    return self._connection_string
</code></pre>
<h6 id="zenml.utils.singleton.ThreadLocalSingleton--in-context-1-eg-thread-1">In context 1 (e.g., thread 1)</h6>
<p>db1 = DatabaseConnection("postgres://localhost/db1")
db1.connect()</p>
<h6 id="zenml.utils.singleton.ThreadLocalSingleton--in-context-2-eg-thread-2">In context 2 (e.g., thread 2)</h6>
<p>db2 = DatabaseConnection("postgres://localhost/db2")</p>
<h6 id="zenml.utils.singleton.ThreadLocalSingleton--db2-is-a-different-instance-from-db1-isolated-by-context">db2 is a different instance from db1, isolated by context</h6>
<pre><code>```
</code></pre>

        <p>Initialize a thread-local singleton class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>*args</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional arguments.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="quote">
                    <summary>Source code in <code>src/zenml/utils/singleton.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize a thread-local singleton class.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: Additional arguments.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">__context_instance</span><span class="p">:</span> <span class="n">contextvars</span><span class="o">.</span><span class="n">ContextVar</span><span class="p">[</span>
        <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ThreadLocalSingleton&quot;</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">contextvars</span><span class="o">.</span><span class="n">ContextVar</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">_instance&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">








<h7 id="zenml.utils.singleton.ThreadLocalSingleton-functions">Functions</h7>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.source_code_utils" class="doc doc-heading">
            <code>source_code_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utilities for getting the source code of objects.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.source_code_utils-classes">Classes</h5>
<h5 id="zenml.utils.source_code_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_code_utils.get_hashed_source_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_hashed_source_code</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a hash of the objects source code.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>object to get source from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Hash of source code.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If unable to compute the hash.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_code_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_hashed_source_code</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a hash of the objects source code.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: object to get source from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Hash of source code.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If unable to compute the hash.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">source_code</span> <span class="o">=</span> <span class="n">get_source_code</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to compute the hash of source code of object: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">source_code</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_code_utils.get_source_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_source_code</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns the source code of an object.</p>
<p>If executing within a IPython kernel environment, then this monkey-patches
<code>inspect</code> module temporarily with a workaround to get source from the cell.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>object to get source from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Source code of object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_code_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_source_code</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the source code of an object.</span>

<span class="sd">    If executing within a IPython kernel environment, then this monkey-patches</span>
<span class="sd">    `inspect` module temporarily with a workaround to get source from the cell.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: object to get source from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Source code of object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
        <span class="c1"># Monkey patch inspect.getfile temporarily to make getsource work.</span>
        <span class="c1"># Source: https://stackoverflow.com/questions/51566497/</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">_new_getfile</span><span class="p">(</span>
            <span class="nb">object</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
            <span class="n">_old_getfile</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span>
                <span class="p">[</span>
                    <span class="n">Union</span><span class="p">[</span>
                        <span class="n">ModuleType</span><span class="p">,</span>
                        <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span>
                        <span class="n">MethodType</span><span class="p">,</span>
                        <span class="n">FunctionType</span><span class="p">,</span>
                        <span class="n">TracebackType</span><span class="p">,</span>
                        <span class="n">FrameType</span><span class="p">,</span>
                        <span class="n">CodeType</span><span class="p">,</span>
                        <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
                    <span class="p">]</span>
                <span class="p">],</span>
                <span class="nb">str</span><span class="p">,</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">_old_getfile</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>

            <span class="c1"># Lookup by parent module (as in current inspect)</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="s2">&quot;__module__&quot;</span><span class="p">):</span>
                <span class="n">object_</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">object</span><span class="o">.</span><span class="vm">__module__</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">object_</span><span class="p">,</span> <span class="s2">&quot;__file__&quot;</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">object_</span><span class="o">.</span><span class="vm">__file__</span>  <span class="c1"># type: ignore[union-attr]</span>

            <span class="c1"># If parent module is __main__, lookup by methods</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">inspect</span><span class="o">.</span><span class="n">isfunction</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="nb">object</span><span class="o">.</span><span class="vm">__qualname__</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">member</span><span class="o">.</span><span class="vm">__name__</span>
                    <span class="o">==</span> <span class="n">member</span><span class="o">.</span><span class="vm">__qualname__</span>
                <span class="p">):</span>
                    <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Source for </span><span class="si">{</span><span class="nb">object</span><span class="si">!r}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>

        <span class="c1"># Monkey patch, compute source, then revert monkey patch.</span>
        <span class="n">_old_getfile</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span>
        <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span> <span class="o">=</span> <span class="n">_new_getfile</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">src</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span> <span class="o">=</span> <span class="n">_old_getfile</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Use standard inspect if running outside a notebook</span>
        <span class="n">src</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">src</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.source_utils" class="doc doc-heading">
            <code>source_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utilities for loading/resolving objects.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.source_utils-classes">Classes</h5>
<h5 id="zenml.utils.source_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.get_implicit_source_root" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_implicit_source_root</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get the implicit source root (the parent directory of the main module).</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the main module file can't be found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The implicit source root.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_implicit_source_root</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the implicit source root (the parent directory of the main module).</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the main module file can&#39;t be found.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The implicit source root.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">main_module</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;__main__&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">main_module</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Unable to determine source root because the main module could not &quot;</span>
            <span class="s2">&quot;be found.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">main_module</span><span class="p">,</span> <span class="s2">&quot;__file__&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">main_module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Unable to determine source root because the main module does not &quot;</span>
            <span class="s2">&quot;have an associated file. This could be because you&#39;re running in &quot;</span>
            <span class="s2">&quot;an interactive Python environment. If you are trying to run from &quot;</span>
            <span class="s2">&quot;within a Jupyter notebook, please run `zenml init` from the root &quot;</span>
            <span class="s2">&quot;where your notebook is located and restart your notebook server.&quot;</span>
        <span class="p">)</span>

    <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">main_module</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.get_resolved_notebook_sources" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_resolved_notebook_sources</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get all notebook sources that were resolved in this process.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary mapping the import path of notebook sources to the code</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>of their notebook cell.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_resolved_notebook_sources</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all notebook sources that were resolved in this process.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary mapping the import path of notebook sources to the code</span>
<span class="sd">        of their notebook cell.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_resolved_notebook_sources</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.get_source_root" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_source_root</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get the source root.</p>
<p>The source root will be determined in the following order:
- The manually specified custom source root if it was set.
- The ZenML repository directory if one exists in the current working
  directory or any parent directories.
- The parent directory of the main module file.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The source root.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_source_root</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the source root.</span>

<span class="sd">    The source root will be determined in the following order:</span>
<span class="sd">    - The manually specified custom source root if it was set.</span>
<span class="sd">    - The ZenML repository directory if one exists in the current working</span>
<span class="sd">      directory or any parent directories.</span>
<span class="sd">    - The parent directory of the main module file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The source root.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">_CUSTOM_SOURCE_ROOT</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Using custom source root: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">_CUSTOM_SOURCE_ROOT</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_CUSTOM_SOURCE_ROOT</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.client</span><span class="w"> </span><span class="kn">import</span> <span class="n">Client</span>

    <span class="n">repo_root</span> <span class="o">=</span> <span class="n">Client</span><span class="o">.</span><span class="n">find_repository</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">repo_root</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Using repository root as source root: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">repo_root</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">repo_root</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>

    <span class="n">implicit_source_root</span> <span class="o">=</span> <span class="n">get_implicit_source_root</span><span class="p">()</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Using main module parent directory as source root: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">implicit_source_root</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">implicit_source_root</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.get_source_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_source_type</span><span class="p">(</span><span class="n">module</span><span class="p">:</span> <span class="n">ModuleType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SourceType</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get the type of a source.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>module</code>
            </td>
            <td>
                  <code><span title="types.ModuleType">ModuleType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The module for which to get the source type.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="SourceType (zenml.config.source.SourceType)" href="core-config.html#zenml.config.source.SourceType">SourceType</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The source type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_source_type</span><span class="p">(</span><span class="n">module</span><span class="p">:</span> <span class="n">ModuleType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SourceType</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the type of a source.</span>

<span class="sd">    Args:</span>
<span class="sd">        module: The module for which to get the source type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The source type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">module</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">in</span> <span class="n">_notebook_modules</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">NOTEBOOK</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">OSError</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">module</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span> <span class="ow">and</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">NOTEBOOK</span>

        <span class="k">return</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">BUILTIN</span>

    <span class="k">if</span> <span class="n">is_internal_module</span><span class="p">(</span><span class="n">module_name</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="vm">__name__</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">INTERNAL</span>

    <span class="k">if</span> <span class="n">is_distribution_package_file</span><span class="p">(</span>
        <span class="n">file_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span> <span class="n">module_name</span><span class="o">=</span><span class="n">module</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">DISTRIBUTION_PACKAGE</span>

    <span class="k">if</span> <span class="n">is_standard_lib_file</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">BUILTIN</span>

    <span class="c1"># Make sure to check for distribution packages before this to catch the</span>
    <span class="c1"># case when a virtual environment is inside our source root</span>
    <span class="k">if</span> <span class="n">is_user_file</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">USER</span>

    <span class="k">return</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">UNKNOWN</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.is_distribution_package_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_distribution_package_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">module_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if a file/module belongs to a distribution package.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>module_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The module name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the file/module belongs to a distribution package, False</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_distribution_package_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">module_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if a file/module belongs to a distribution package.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: The file path to check.</span>
<span class="sd">        module_name: The module name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the file/module belongs to a distribution package, False</span>
<span class="sd">        otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">absolute_file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">site</span><span class="o">.</span><span class="n">getsitepackages</span><span class="p">()</span> <span class="o">+</span> <span class="p">[</span><span class="n">site</span><span class="o">.</span><span class="n">getusersitepackages</span><span class="p">()]:</span>
        <span class="k">if</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span> <span class="ow">in</span> <span class="n">absolute_file_path</span><span class="o">.</span><span class="n">parents</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># TODO: The previous check does not detect editable installs because</span>
    <span class="c1"># the site packages dir only contains a reference to the source files,</span>
    <span class="c1"># not the actual files. That means currently editable installs get a</span>
    <span class="c1"># source type UNKNOWN which might or might not lead to issues.</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.is_internal_module" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_internal_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if a module is internal (=part of the zenml package).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>module_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the module to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the module is internal, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_internal_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if a module is internal (=part of the zenml package).</span>

<span class="sd">    Args:</span>
<span class="sd">        module_name: Name of the module to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the module is internal, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">module_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;zenml&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.is_standard_lib_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_standard_lib_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if a file belongs to the Python standard library.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the file belongs to the Python standard library, False</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_standard_lib_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if a file belongs to the Python standard library.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: The file path to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the file belongs to the Python standard library, False</span>
<span class="sd">        otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">stdlib_root</span> <span class="o">=</span> <span class="n">get_python_lib</span><span class="p">(</span><span class="n">standard_lib</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Standard library root: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">stdlib_root</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">stdlib_root</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span> <span class="ow">in</span> <span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span><span class="o">.</span><span class="n">parents</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.is_user_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_user_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if a file is a user file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the file is a user file, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_user_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if a file is a user file.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: The file path to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the file is a user file, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">source_root</span> <span class="o">=</span> <span class="n">get_source_root</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">source_root</span><span class="p">)</span> <span class="ow">in</span> <span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span><span class="o">.</span><span class="n">parents</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Source</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Load a source or import path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="Source (zenml.config.source.Source)" href="core-config.html#zenml.config.source.Source">Source</a>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The source to load.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The loaded object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Source</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load a source or import path.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: The source to load.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The loaded object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">Source</span><span class="o">.</span><span class="n">from_import_path</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

    <span class="c1"># The types of some objects don&#39;t exist in the `builtin` module</span>
    <span class="c1"># so we need to manually handle it here</span>
    <span class="k">if</span> <span class="n">source</span><span class="o">.</span><span class="n">import_path</span> <span class="o">==</span> <span class="n">NoneTypeSource</span><span class="o">.</span><span class="n">import_path</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">NoneType</span>
    <span class="k">elif</span> <span class="n">source</span><span class="o">.</span><span class="n">import_path</span> <span class="o">==</span> <span class="n">FunctionTypeSource</span><span class="o">.</span><span class="n">import_path</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">FunctionType</span>
    <span class="k">elif</span> <span class="n">source</span><span class="o">.</span><span class="n">import_path</span> <span class="o">==</span> <span class="n">BuiltinFunctionTypeSource</span><span class="o">.</span><span class="n">import_path</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">BuiltinFunctionType</span>

    <span class="n">import_root</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">source</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">CODE_REPOSITORY</span><span class="p">:</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">CodeRepositorySource</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">source</span><span class="p">))</span>
        <span class="n">_warn_about_potential_source_loading_issues</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>
        <span class="n">import_root</span> <span class="o">=</span> <span class="n">get_source_root</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">source</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">DISTRIBUTION_PACKAGE</span><span class="p">:</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">DistributionPackageSource</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">source</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">source</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
            <span class="n">current_package_version</span> <span class="o">=</span> <span class="n">_get_package_version</span><span class="p">(</span>
                <span class="n">package_name</span><span class="o">=</span><span class="n">source</span><span class="o">.</span><span class="n">package_name</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">current_package_version</span> <span class="o">!=</span> <span class="n">source</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;The currently installed version `</span><span class="si">%s</span><span class="s2">` of package `</span><span class="si">%s</span><span class="s2">` &quot;</span>
                    <span class="s2">&quot;does not match the source version `</span><span class="si">%s</span><span class="s2">`. This might lead &quot;</span>
                    <span class="s2">&quot;to unexpected behavior when using the source object `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span>
                    <span class="n">current_package_version</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">.</span><span class="n">package_name</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">.</span><span class="n">import_path</span><span class="p">,</span>
                <span class="p">)</span>
    <span class="k">elif</span> <span class="n">source</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">NOTEBOOK</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
            <span class="c1"># If we&#39;re in a notebook, we don&#39;t need to do anything as the</span>
            <span class="c1"># loading from the __main__ module should work just fine.</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">notebook_source</span> <span class="o">=</span> <span class="n">NotebookSource</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">source</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">_try_to_load_notebook_source</span><span class="p">(</span><span class="n">notebook_source</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">source</span><span class="o">.</span><span class="n">type</span> <span class="ow">in</span> <span class="p">{</span><span class="n">SourceType</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">UNKNOWN</span><span class="p">}:</span>
        <span class="c1"># Unknown source might also refer to a user file, include source</span>
        <span class="c1"># root in python path just to be sure</span>
        <span class="n">import_root</span> <span class="o">=</span> <span class="n">get_source_root</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">_should_load_from_main_module</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
        <span class="c1"># This source points to the __main__ module of the current process.</span>
        <span class="c1"># If we were to load the module here, we would load the same python</span>
        <span class="c1"># file with a different module name, which would rerun all top-level</span>
        <span class="c1"># code. To avoid this, we instead load the source from the __main__</span>
        <span class="c1"># module which is already loaded.</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="s2">&quot;__main__&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">_load_module</span><span class="p">(</span>
            <span class="n">module_name</span><span class="o">=</span><span class="n">source</span><span class="o">.</span><span class="n">module</span><span class="p">,</span> <span class="n">import_root</span><span class="o">=</span><span class="n">import_root</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">source</span><span class="o">.</span><span class="n">attribute</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">source</span><span class="o">.</span><span class="n">attribute</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">module</span>

    <span class="k">return</span> <span class="n">obj</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.load_and_validate_class" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_and_validate_class</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Source</span><span class="p">],</span> <span class="n">expected_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Loads a source class and validates its class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Source (zenml.config.source.Source)" href="core-config.html#zenml.config.source.Source">Source</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The source.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>expected_class</code>
            </td>
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The class that the source should resolve to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the source does not resolve to the expected class.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The resolved source class.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_and_validate_class</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Source</span><span class="p">],</span> <span class="n">expected_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Loads a source class and validates its class.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: The source.</span>
<span class="sd">        expected_class: The class that the source should resolve to.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If the source does not resolve to the expected class.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resolved source class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">expected_class</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">obj</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error while loading `</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">`. Expected class &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">expected_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">, got </span><span class="si">{</span><span class="n">obj</span><span class="si">}</span><span class="s2"> instead.&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.prepend_python_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">prepend_python_path</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Context manager to temporarily prepend a path to the python path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path that will be prepended to sys.path for the duration of
the context manager.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@contextlib</span><span class="o">.</span><span class="n">contextmanager</span>
<span class="k">def</span><span class="w"> </span><span class="nf">prepend_python_path</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Context manager to temporarily prepend a path to the python path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Path that will be prepended to sys.path for the duration of</span>
<span class="sd">            the context manager.</span>

<span class="sd">    Yields:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
        <span class="k">yield</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.resolve" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">resolve</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">ModuleType</span><span class="p">,</span> <span class="n">FunctionType</span><span class="p">,</span> <span class="n">BuiltinFunctionType</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">],</span> <span class="n">skip_validation</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Source</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Resolve an object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>obj</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>], <span title="typing.Callable">Callable</span>[..., <span title="typing.Any">Any</span>], <span title="types.ModuleType">ModuleType</span>, <span title="types.FunctionType">FunctionType</span>, <span title="types.BuiltinFunctionType">BuiltinFunctionType</span>, <span title="zenml.utils.source_utils.NoneType">NoneType</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The object to resolve.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>skip_validation</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the validation that the object exist in the
module is skipped.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the object can't be resolved.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Source (zenml.config.source.Source)" href="core-config.html#zenml.config.source.Source">Source</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The source of the resolved object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">resolve</span><span class="p">(</span>
    <span class="n">obj</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span>
        <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">ModuleType</span><span class="p">,</span>
        <span class="n">FunctionType</span><span class="p">,</span>
        <span class="n">BuiltinFunctionType</span><span class="p">,</span>
        <span class="n">NoneType</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">skip_validation</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Source</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resolve an object.</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: The object to resolve.</span>
<span class="sd">        skip_validation: If True, the validation that the object exist in the</span>
<span class="sd">            module is skipped.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the object can&#39;t be resolved.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The source of the resolved object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># The types of some objects don&#39;t exist in the `builtin` module</span>
    <span class="c1"># so we need to manually handle it here</span>
    <span class="k">if</span> <span class="n">obj</span> <span class="ow">is</span> <span class="n">NoneType</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">NoneTypeSource</span>
    <span class="k">elif</span> <span class="n">obj</span> <span class="ow">is</span> <span class="n">FunctionType</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">FunctionTypeSource</span>
    <span class="k">elif</span> <span class="n">obj</span> <span class="ow">is</span> <span class="n">BuiltinFunctionType</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">BuiltinFunctionTypeSource</span>
    <span class="k">elif</span> <span class="n">source</span> <span class="o">:=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ZENML_SOURCE_ATTRIBUTE_NAME</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">Source</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">source</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ModuleType</span><span class="p">):</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">obj</span>
        <span class="n">attribute_name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">obj</span><span class="o">.</span><span class="vm">__module__</span><span class="p">]</span>
        <span class="n">attribute_name</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="vm">__name__</span>  <span class="c1"># type: ignore[union-attr]</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="ow">not</span> <span class="p">(</span><span class="n">skip_validation</span> <span class="ow">or</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">&quot;_DOCS_BUILDING_MODE&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
        <span class="ow">and</span> <span class="n">attribute_name</span>
        <span class="ow">and</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">attribute_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">obj</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to resolve object `</span><span class="si">{</span><span class="n">obj</span><span class="si">}</span><span class="s2">`. For the resolving to work, the &quot;</span>
            <span class="s2">&quot;class or function must be defined as top-level code (= it must &quot;</span>
            <span class="s2">&quot;get defined when importing the module) and not inside a function/&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;if-condition. Please make sure that your `</span><span class="si">{</span><span class="n">module</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;module has a top-level attribute `</span><span class="si">{</span><span class="n">attribute_name</span><span class="si">}</span><span class="s2">` that &quot;</span>
            <span class="s2">&quot;holds the object you want to resolve.&quot;</span>
        <span class="p">)</span>

    <span class="n">module_name</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="k">if</span> <span class="n">module_name</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
        <span class="n">module_name</span> <span class="o">=</span> <span class="n">_resolve_module</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>

    <span class="n">source_type</span> <span class="o">=</span> <span class="n">get_source_type</span><span class="p">(</span><span class="n">module</span><span class="o">=</span><span class="n">module</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">source_type</span> <span class="o">==</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">USER</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">code_repository_utils</span>

        <span class="n">local_repo_context</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">code_repository_utils</span><span class="o">.</span><span class="n">find_active_code_repository</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">local_repo_context</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">local_repo_context</span><span class="o">.</span><span class="n">has_local_changes</span><span class="p">:</span>
            <span class="n">module_name</span> <span class="o">=</span> <span class="n">_resolve_module</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>

            <span class="n">source_root</span> <span class="o">=</span> <span class="n">get_source_root</span><span class="p">()</span>
            <span class="n">subdir</span> <span class="o">=</span> <span class="n">PurePath</span><span class="p">(</span><span class="n">source_root</span><span class="p">)</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">local_repo_context</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">CodeRepositorySource</span><span class="p">(</span>
                <span class="n">repository_id</span><span class="o">=</span><span class="n">local_repo_context</span><span class="o">.</span><span class="n">code_repository</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">commit</span><span class="o">=</span><span class="n">local_repo_context</span><span class="o">.</span><span class="n">current_commit</span><span class="p">,</span>
                <span class="n">subdirectory</span><span class="o">=</span><span class="n">subdir</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span>
                <span class="n">module</span><span class="o">=</span><span class="n">module_name</span><span class="p">,</span>
                <span class="n">attribute</span><span class="o">=</span><span class="n">attribute_name</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">SourceType</span><span class="o">.</span><span class="n">CODE_REPOSITORY</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">module_name</span> <span class="o">=</span> <span class="n">_resolve_module</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">source_type</span> <span class="o">==</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">DISTRIBUTION_PACKAGE</span><span class="p">:</span>
        <span class="n">package_name</span> <span class="o">=</span> <span class="n">_get_package_for_module</span><span class="p">(</span><span class="n">module_name</span><span class="o">=</span><span class="n">module_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">package_name</span><span class="p">:</span>
            <span class="n">package_version</span> <span class="o">=</span> <span class="n">_get_package_version</span><span class="p">(</span><span class="n">package_name</span><span class="o">=</span><span class="n">package_name</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">DistributionPackageSource</span><span class="p">(</span>
                <span class="n">module</span><span class="o">=</span><span class="n">module_name</span><span class="p">,</span>
                <span class="n">attribute</span><span class="o">=</span><span class="n">attribute_name</span><span class="p">,</span>
                <span class="n">package_name</span><span class="o">=</span><span class="n">package_name</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="n">package_version</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">source_type</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Fallback to an unknown source if we can&#39;t find the package</span>
            <span class="n">source_type</span> <span class="o">=</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">UNKNOWN</span>
    <span class="k">elif</span> <span class="n">source_type</span> <span class="o">==</span> <span class="n">SourceType</span><span class="o">.</span><span class="n">NOTEBOOK</span><span class="p">:</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">NotebookSource</span><span class="p">(</span>
            <span class="n">module</span><span class="o">=</span><span class="s2">&quot;__main__&quot;</span><span class="p">,</span>
            <span class="n">attribute</span><span class="o">=</span><span class="n">attribute_name</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">source_type</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">module_name</span> <span class="ow">in</span> <span class="n">_notebook_modules</span><span class="p">:</span>
            <span class="n">source</span><span class="o">.</span><span class="n">replacement_module</span> <span class="o">=</span> <span class="n">module_name</span>
            <span class="n">source</span><span class="o">.</span><span class="n">artifact_store_id</span> <span class="o">=</span> <span class="n">_notebook_modules</span><span class="p">[</span><span class="n">module_name</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">cell_code</span> <span class="o">:=</span> <span class="n">notebook_utils</span><span class="o">.</span><span class="n">load_notebook_cell_code</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="n">replacement_module</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">notebook_utils</span><span class="o">.</span><span class="n">compute_cell_replacement_module_name</span><span class="p">(</span>
                    <span class="n">cell_code</span><span class="o">=</span><span class="n">cell_code</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">source</span><span class="o">.</span><span class="n">replacement_module</span> <span class="o">=</span> <span class="n">replacement_module</span>
            <span class="n">_resolved_notebook_sources</span><span class="p">[</span><span class="n">source</span><span class="o">.</span><span class="n">import_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">cell_code</span>

        <span class="k">return</span> <span class="n">source</span>

    <span class="k">return</span> <span class="n">Source</span><span class="p">(</span>
        <span class="n">module</span><span class="o">=</span><span class="n">module_name</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">attribute_name</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">source_type</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.set_custom_source_root" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_custom_source_root</span><span class="p">(</span><span class="n">source_root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Sets a custom source root.</p>
<p>If set this has the highest priority and will always be used as the source
root.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source_root</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The source root to use.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_custom_source_root</span><span class="p">(</span><span class="n">source_root</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets a custom source root.</span>

<span class="sd">    If set this has the highest priority and will always be used as the source</span>
<span class="sd">    root.</span>

<span class="sd">    Args:</span>
<span class="sd">        source_root: The source root to use.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Setting custom source root: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">source_root</span><span class="p">)</span>
    <span class="k">global</span> <span class="n">_CUSTOM_SOURCE_ROOT</span>
    <span class="n">_CUSTOM_SOURCE_ROOT</span> <span class="o">=</span> <span class="n">source_root</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.source_utils.validate_source_class" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_source_class</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Source</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">expected_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Validates that a source resolves to a certain class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="Source (zenml.config.source.Source)" href="core-config.html#zenml.config.source.Source">Source</a>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The source to validate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>expected_class</code>
            </td>
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The class that the source should resolve to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the source resolves to the expected class, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/source_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate_source_class</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Source</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">expected_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validates that a source resolves to a certain class.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: The source to validate.</span>
<span class="sd">        expected_class: The class that the source should resolve to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the source resolves to the expected class, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">expected_class</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>
<h5 id="zenml.utils.source_utils-modules">Modules</h5>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.string_utils" class="doc doc-heading">
            <code>string_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utils for strings.</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.string_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.string_utils.b64_decode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">b64_decode</span><span class="p">(</span><span class="n">input_</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a decoded string of the base 64 encoded input string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Base64 encoded string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Decoded string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/string_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">b64_decode</span><span class="p">(</span><span class="n">input_</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a decoded string of the base 64 encoded input string.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_: Base64 encoded string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Decoded string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">encoded_bytes</span> <span class="o">=</span> <span class="n">input_</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
    <span class="n">decoded_bytes</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">encoded_bytes</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">decoded_bytes</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.string_utils.b64_encode" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">b64_encode</span><span class="p">(</span><span class="n">input_</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a base 64 encoded string of the input string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input to encode.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Base64 encoded string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/string_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">b64_encode</span><span class="p">(</span><span class="n">input_</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a base 64 encoded string of the input string.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_: The input to encode.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Base64 encoded string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">input_bytes</span> <span class="o">=</span> <span class="n">input_</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
    <span class="n">encoded_bytes</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">input_bytes</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">encoded_bytes</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.string_utils.format_name_template" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">format_name_template</span><span class="p">(</span><span class="n">name_template</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">substitutions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Formats a name template with the given arguments.</p>
<p>Default substitutions for <code>{date}</code> and <code>{time}</code> placeholders will be used if
not included in the provided substitutions.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name_template</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name template to format.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>substitutions</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Substitutions to use in the template.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The formatted name template.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="KeyError">KeyError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If a key in template is missing in the substitutions.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the formatted name is empty.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/string_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">format_name_template</span><span class="p">(</span>
    <span class="n">name_template</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">substitutions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Formats a name template with the given arguments.</span>

<span class="sd">    Default substitutions for `{date}` and `{time}` placeholders will be used if</span>
<span class="sd">    not included in the provided substitutions.</span>

<span class="sd">    Args:</span>
<span class="sd">        name_template: The name template to format.</span>
<span class="sd">        substitutions: Substitutions to use in the template.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The formatted name template.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If a key in template is missing in the substitutions.</span>
<span class="sd">        ValueError: If the formatted name is empty.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">substitutions</span> <span class="o">=</span> <span class="n">substitutions</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;date&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">substitutions</span> <span class="ow">and</span> <span class="s2">&quot;</span><span class="si">{date}</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="n">name_template</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span>
        <span class="s2">&quot;time&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">substitutions</span> <span class="ow">and</span> <span class="s2">&quot;</span><span class="si">{time}</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="n">name_template</span>
    <span class="p">):</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">zenml</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_step_context</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">pr</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span><span class="o">.</span><span class="n">pipeline_run</span>
            <span class="n">start_time</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">start_time</span>
            <span class="n">substitutions</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">pr</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">substitutions</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="n">start_time</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">start_time</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">start_time</span> <span class="o">=</span> <span class="n">utc_now</span><span class="p">()</span>
        <span class="n">substitutions</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="n">start_time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y_%m_</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">))</span>
        <span class="n">substitutions</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">start_time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%H_%M_%S_</span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">))</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">formatted_name</span> <span class="o">=</span> <span class="n">name_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">substitutions</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Could not format the name template `</span><span class="si">{</span><span class="n">name_template</span><span class="si">}</span><span class="s2">`. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Missing key: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">formatted_name</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Empty names are not allowed.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">formatted_name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.string_utils.get_human_readable_filesize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_human_readable_filesize</span><span class="p">(</span><span class="n">bytes_</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Convert a file size in bytes into a human-readable string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>bytes_</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of bytes to convert.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A human-readable string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/string_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_human_readable_filesize</span><span class="p">(</span><span class="n">bytes_</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a file size in bytes into a human-readable string.</span>

<span class="sd">    Args:</span>
<span class="sd">        bytes_: The number of bytes to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A human-readable string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">bytes_</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">unit</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;KiB&quot;</span><span class="p">,</span> <span class="s2">&quot;MiB&quot;</span><span class="p">,</span> <span class="s2">&quot;GiB&quot;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">size</span> <span class="o">&lt;</span> <span class="mf">1024.0</span> <span class="ow">or</span> <span class="n">unit</span> <span class="o">==</span> <span class="s2">&quot;GiB&quot;</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">size</span> <span class="o">/=</span> <span class="mf">1024.0</span>

    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">size</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">unit</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.string_utils.get_human_readable_time" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_human_readable_time</span><span class="p">(</span><span class="n">seconds</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Convert seconds into a human-readable string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>seconds</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of seconds to convert.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A human-readable string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/string_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_human_readable_time</span><span class="p">(</span><span class="n">seconds</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert seconds into a human-readable string.</span>

<span class="sd">    Args:</span>
<span class="sd">        seconds: The number of seconds to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A human-readable string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span> <span class="k">if</span> <span class="n">seconds</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">seconds</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span>
    <span class="n">int_seconds</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span>
    <span class="n">days</span><span class="p">,</span> <span class="n">int_seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">int_seconds</span><span class="p">,</span> <span class="mi">86400</span><span class="p">)</span>
    <span class="n">hours</span><span class="p">,</span> <span class="n">int_seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">int_seconds</span><span class="p">,</span> <span class="mi">3600</span><span class="p">)</span>
    <span class="n">minutes</span><span class="p">,</span> <span class="n">int_seconds</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">int_seconds</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">days</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">days</span><span class="si">}</span><span class="s2">d</span><span class="si">{</span><span class="n">hours</span><span class="si">}</span><span class="s2">h</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">m</span><span class="si">{</span><span class="n">int_seconds</span><span class="si">}</span><span class="s2">s&quot;</span>
    <span class="k">elif</span> <span class="n">hours</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">hours</span><span class="si">}</span><span class="s2">h</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">m</span><span class="si">{</span><span class="n">int_seconds</span><span class="si">}</span><span class="s2">s&quot;</span>
    <span class="k">elif</span> <span class="n">minutes</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">m</span><span class="si">{</span><span class="n">int_seconds</span><span class="si">}</span><span class="s2">s&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">seconds</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">s&quot;</span>

    <span class="k">return</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">time_string</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.string_utils.random_str" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">random_str</span><span class="p">(</span><span class="n">length</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Generate a random human-readable string of given length.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>length</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Length of string</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Random human-readable string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/string_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">random_str</span><span class="p">(</span><span class="n">length</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a random human-readable string of given length.</span>

<span class="sd">    Args:</span>
<span class="sd">        length: Length of string</span>

<span class="sd">    Returns:</span>
<span class="sd">        Random human-readable string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">()</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">length</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.string_utils.substitute_string" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">substitute_string</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">V</span><span class="p">,</span> <span class="n">substitution_func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">V</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Recursively substitute strings in objects.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="zenml.utils.string_utils.V">V</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An object in which the strings should be recursively substituted.
This can be a pydantic model, dict, set, list, tuple or any
primitive type.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>substitution_func</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<span title="str">str</span>], <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The function that does the actual string
substitution.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="zenml.utils.string_utils.V">V</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The object with the substitution function applied to all string values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/string_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">substitute_string</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">V</span><span class="p">,</span> <span class="n">substitution_func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">V</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Recursively substitute strings in objects.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: An object in which the strings should be recursively substituted.</span>
<span class="sd">            This can be a pydantic model, dict, set, list, tuple or any</span>
<span class="sd">            primitive type.</span>
<span class="sd">        substitution_func: The function that does the actual string</span>
<span class="sd">            substitution.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The object with the substitution function applied to all string values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">substitute_</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
        <span class="n">substitute_string</span><span class="p">,</span> <span class="n">substitution_func</span><span class="o">=</span><span class="n">substitution_func</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">):</span>
        <span class="n">model_values</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="fm">__iter__</span><span class="p">():</span>
            <span class="n">new_value</span> <span class="o">=</span> <span class="n">substitute_</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">model_fields_set</span> <span class="ow">and</span> <span class="n">new_value</span> <span class="o">==</span> <span class="nb">getattr</span><span class="p">(</span>
                <span class="n">value</span><span class="p">,</span> <span class="n">k</span>
            <span class="p">):</span>
                <span class="c1"># This is a default value on the model and was not set</span>
                <span class="c1"># explicitly. In this case, we don&#39;t include it in the model</span>
                <span class="c1"># values to keep the `exclude_unset` behavior the same</span>
                <span class="k">continue</span>

            <span class="n">model_values</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_value</span>

        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">model_values</span><span class="p">))</span>  <span class="c1"># type: ignore[redundant-cast]</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">V</span><span class="p">,</span> <span class="p">{</span><span class="n">substitute_</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">substitute_</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">set</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)(</span><span class="n">substitute_</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">))</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">substitution_func</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.string_utils.validate_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_name</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">name_field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;name&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Validator to ensure that the given name has only allowed characters.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>model</code>
            </td>
            <td>
                  <code><span title="pydantic.BaseModel">BaseModel</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The model to validate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>name_field</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the field to validate.</p>
              </div>
            </td>
            <td>
                  <code>&#39;name&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the name has invalid characters.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/string_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate_name</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">name_field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;name&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validator to ensure that the given name has only allowed characters.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The model to validate.</span>
<span class="sd">        name_field: The name of the field to validate.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the name has invalid characters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cls_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="k">if</span> <span class="n">cls_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;Base&quot;</span><span class="p">):</span>
        <span class="n">type_</span> <span class="o">=</span> <span class="n">cls_name</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">cls_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;Request&quot;</span><span class="p">):</span>
        <span class="n">type_</span> <span class="o">=</span> <span class="n">cls_name</span><span class="p">[:</span><span class="o">-</span><span class="mi">7</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">type_</span> <span class="o">=</span> <span class="n">cls_name</span>

    <span class="k">if</span> <span class="n">name</span> <span class="o">:=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">name_field</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">BANNED_NAME_CHARACTERS</span><span class="p">)))</span>
        <span class="k">if</span> <span class="n">diff</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">name_field</span><span class="si">}</span><span class="s2"> `</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">` of the `</span><span class="si">{</span><span class="n">type_</span><span class="si">}</span><span class="s2">` contains &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;the following forbidden characters: `</span><span class="si">{</span><span class="n">diff</span><span class="si">}</span><span class="s2">`.&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The class `</span><span class="si">{</span><span class="n">cls_name</span><span class="si">}</span><span class="s2">` has no attribute `</span><span class="si">{</span><span class="n">name_field</span><span class="si">}</span><span class="s2">` &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;or it is set to `None`. Cannot validate the </span><span class="si">{</span><span class="n">name_field</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.tag_utils" class="doc doc-heading">
            <code>tag_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions for tags.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.tag_utils-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.tag_utils.Tag" class="doc doc-heading">
            <code>Tag</code>


</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>A model representing a tag.</p>











  <div class="doc doc-children">








<h7 id="zenml.utils.tag_utils.Tag-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.tag_utils.Tag.to_request" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_request</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">TagRequest</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Convert the tag to a TagRequest.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="TagRequest (zenml.models.TagRequest)" href="core-models.html#zenml.models.TagRequest">TagRequest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tag as a TagRequest.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/tag_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TagRequest&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert the tag to a TagRequest.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The tag as a TagRequest.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagRequest</span>

    <span class="n">request</span> <span class="o">=</span> <span class="n">TagRequest</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exclusive</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span><span class="o">.</span><span class="n">exclusive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exclusive</span>
    <span class="k">return</span> <span class="n">request</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h5 id="zenml.utils.tag_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.tag_utils.add_tags" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_tags</span><span class="p">(</span><span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]]],</span> <span class="n">pipeline</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">run_template</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">deployment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">artifact</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">artifact_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">artifact_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">infer_artifact</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>
          <div class="doc-overloads">
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_tags</span><span class="p">(</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]]],</span>
    <span class="n">run</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]]],</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]]],</span>
    <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]]],</span>
    <span class="n">artifact_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">artifact_version</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]]],</span>
    <span class="n">infer_artifact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">artifact_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]]],</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]]],</span>
    <span class="n">run_template</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]]],</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]]],</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>          </div>


    <div class="doc doc-contents ">

        <p>Add tags to various resource types in a generalized way.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tags</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Tag (zenml.utils.tag_utils.Tag)" href="#zenml.utils.tag_utils.Tag">Tag</a>, <span title="typing.List">List</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="Tag (zenml.utils.tag_utils.Tag)" href="#zenml.utils.tag_utils.Tag">Tag</a>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tags to add.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pipeline</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID or the name of the pipeline.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>run</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The id, name or prefix of the run.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>run_template</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID or the name of the run template.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>snapshot</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the snapshot.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>deployment</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID or the name of the deployment.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID or the name of the artifact.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_version_id</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the artifact version.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_name</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the artifact.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_version</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The version of the artifact.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>infer_artifact</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag deciding whether the artifact version should be
inferred from the step context.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no identifiers are provided and the function is not
called from within a step, or if exclusive is provided for a
resource type that doesn't support it.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/tag_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_tags</span><span class="p">(</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">]]],</span>
    <span class="c1"># Pipelines</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Runs</span>
    <span class="n">run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Run Templates</span>
    <span class="n">run_template</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Snapshots</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Deployments</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Artifacts</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Artifact Versions</span>
    <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">artifact_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">artifact_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">infer_artifact</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add tags to various resource types in a generalized way.</span>

<span class="sd">    Args:</span>
<span class="sd">        tags: The tags to add.</span>
<span class="sd">        pipeline: The ID or the name of the pipeline.</span>
<span class="sd">        run: The id, name or prefix of the run.</span>
<span class="sd">        run_template: The ID or the name of the run template.</span>
<span class="sd">        snapshot: The ID of the snapshot.</span>
<span class="sd">        deployment: The ID or the name of the deployment.</span>
<span class="sd">        artifact: The ID or the name of the artifact.</span>
<span class="sd">        artifact_version_id: The ID of the artifact version.</span>
<span class="sd">        artifact_name: The name of the artifact.</span>
<span class="sd">        artifact_version: The version of the artifact.</span>
<span class="sd">        infer_artifact: Flag deciding whether the artifact version should be</span>
<span class="sd">            inferred from the step context.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If no identifiers are provided and the function is not</span>
<span class="sd">            called from within a step, or if exclusive is provided for a</span>
<span class="sd">            resource type that doesn&#39;t support it.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.client</span><span class="w"> </span><span class="kn">import</span> <span class="n">Client</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.models.v2.misc.tag</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagResource</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
    <span class="n">resource_id</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">resource_type</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tags</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Tag</span><span class="p">)):</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="p">[</span><span class="n">tags</span><span class="p">]</span>

    <span class="c1"># Tag a pipeline</span>
    <span class="k">if</span> <span class="n">pipeline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">pipeline_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_pipeline</span><span class="p">(</span><span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">pipeline</span><span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">pipeline_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">PIPELINE</span>

    <span class="c1"># Tag a run by ID</span>
    <span class="k">elif</span> <span class="n">run</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">run_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_pipeline_run</span><span class="p">(</span><span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">run</span><span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">run_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">PIPELINE_RUN</span>

    <span class="c1"># Tag a run template</span>
    <span class="k">elif</span> <span class="n">run_template</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">run_template_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_run_template</span><span class="p">(</span>
            <span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">run_template</span>
        <span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">run_template_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">RUN_TEMPLATE</span>

    <span class="c1"># Tag a snapshot</span>
    <span class="k">elif</span> <span class="n">snapshot</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">snapshot_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_snapshot</span><span class="p">(</span>
            <span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">snapshot</span><span class="p">,</span> <span class="n">allow_prefix_match</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">snapshot_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">PIPELINE_SNAPSHOT</span>

    <span class="c1"># Tag a deployment</span>
    <span class="k">elif</span> <span class="n">deployment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">deployment_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">deployment</span><span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">deployment_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">DEPLOYMENT</span>

    <span class="c1"># Tag an artifact</span>
    <span class="k">elif</span> <span class="n">artifact</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">artifact_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">(</span><span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">artifact</span><span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">artifact_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT</span>

    <span class="c1"># Tag an artifact version by its ID</span>
    <span class="k">elif</span> <span class="n">artifact_version_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">artifact_version_id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span>

    <span class="c1"># Tag an artifact version by its name and version</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">artifact_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">artifact_version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">artifact_version_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span>
            <span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">artifact_name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">artifact_version</span>
        <span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">artifact_version_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span>

    <span class="c1"># Tag an artifact version through the step context</span>
    <span class="k">elif</span> <span class="n">infer_artifact</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.steps.step_context</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_step_context</span>

            <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;When you are using the `infer_artifact` option when you call &quot;</span>
                <span class="s2">&quot;`add_tags`, it must be called inside a step with outputs.&quot;</span>
                <span class="s2">&quot;Otherwise, you can provide a `artifact_version_id` or a &quot;</span>
                <span class="s2">&quot;combination of `artifact_name` and `artifact_version`.&quot;</span>
            <span class="p">)</span>

        <span class="n">step_output_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">step_context</span><span class="o">.</span><span class="n">_outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">artifact_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># If a name provided, ensure it is in the outputs</span>
            <span class="k">if</span> <span class="n">artifact_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_output_names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The provided artifact name`</span><span class="si">{</span><span class="n">artifact_name</span><span class="si">}</span><span class="s2">` does not &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;exist in the step outputs: </span><span class="si">{</span><span class="n">step_output_names</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If no name provided, ensure there is only one output</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">step_output_names</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;There is more than one output. If you would like to use &quot;</span>
                    <span class="s2">&quot;the `infer_artifact` option, you need to define an &quot;</span>
                    <span class="s2">&quot;`artifact_name`.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">step_output_names</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The step does not have any outputs.&quot;</span><span class="p">)</span>

            <span class="n">artifact_name</span> <span class="o">=</span> <span class="n">step_output_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">step_context</span><span class="o">.</span><span class="n">add_output_tags</span><span class="p">(</span>
            <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">Tag</span><span class="p">)</span> <span class="k">else</span> <span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tags</span><span class="p">],</span>
            <span class="n">output_name</span><span class="o">=</span><span class="n">artifact_name</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># If every additional value is None, that means we are calling it bare bones</span>
    <span class="c1"># and this call needs to happen during a step execution. We will use the</span>
    <span class="c1"># step context to fetch the run and attach the tags accordingly.</span>
    <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.steps.step_context</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_step_context</span>

            <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                You are calling &#39;add_tags()&#39; outside of a step execution. </span>
<span class="s2">                If you would like to add tags to a ZenML entity outside </span>
<span class="s2">                of the step execution, please provide the required </span>
<span class="s2">                identifiers.</span><span class="se">\n</span><span class="si">{</span><span class="n">add_tags_warning</span><span class="si">}</span>
<span class="s2">                &quot;&quot;&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Tag the pipeline run, not the step</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">step_context</span><span class="o">.</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">PIPELINE_RUN</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            Unsupported way to call the `add_tags`. Possible combinations &quot;</span>
<span class="s2">            include: </span><span class="se">\n</span><span class="si">{</span><span class="n">add_tags_warning</span><span class="si">}</span>
<span class="s2">            &quot;&quot;&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">tags</span><span class="p">:</span>
            <span class="n">client</span><span class="o">.</span><span class="n">attach_tag</span><span class="p">(</span>
                <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
                <span class="n">resources</span><span class="o">=</span><span class="p">[</span><span class="n">TagResource</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">)],</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.tag_utils.remove_tags" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_tags</span><span class="p">(</span><span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">pipeline</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">run_template</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">deployment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">artifact</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">artifact_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">artifact_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">infer_artifact</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>
          <div class="doc-overloads">
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_tags</span><span class="p">(</span><span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span> <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">run</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">run_template</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">artifact_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">artifact_version</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_tags</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">infer_artifact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">artifact_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>          </div>


    <div class="doc doc-contents ">

        <p>Remove tags from various resource types in a generalized way.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tags</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="typing.List">List</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tags to remove.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pipeline</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID or the name of the pipeline.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>run</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The id, name or prefix of the run.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>run_template</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID or the name of the run template.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>snapshot</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the snapshot.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>deployment</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID or the name of the deployment.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="uuid.UUID">UUID</span>, <span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID or the name of the artifact.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_version_id</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the artifact version.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_name</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the artifact.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_version</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The version of the artifact.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>infer_artifact</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flag deciding whether the artifact version should be
inferred from the step context.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no identifiers are provided and the function is not
called from within a step.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/tag_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_tags</span><span class="p">(</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="c1"># Pipelines</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Runs</span>
    <span class="n">run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Run Templates</span>
    <span class="n">run_template</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Snapshots</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Deployments</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Artifacts</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Artifact Versions</span>
    <span class="n">artifact_version_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">artifact_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">artifact_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">infer_artifact</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove tags from various resource types in a generalized way.</span>

<span class="sd">    Args:</span>
<span class="sd">        tags: The tags to remove.</span>
<span class="sd">        pipeline: The ID or the name of the pipeline.</span>
<span class="sd">        run: The id, name or prefix of the run.</span>
<span class="sd">        run_template: The ID or the name of the run template.</span>
<span class="sd">        snapshot: The ID of the snapshot.</span>
<span class="sd">        deployment: The ID or the name of the deployment.</span>
<span class="sd">        artifact: The ID or the name of the artifact.</span>
<span class="sd">        artifact_version_id: The ID of the artifact version.</span>
<span class="sd">        artifact_name: The name of the artifact.</span>
<span class="sd">        artifact_version: The version of the artifact.</span>
<span class="sd">        infer_artifact: Flag deciding whether the artifact version should be</span>
<span class="sd">            inferred from the step context.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If no identifiers are provided and the function is not</span>
<span class="sd">            called from within a step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.client</span><span class="w"> </span><span class="kn">import</span> <span class="n">Client</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.models.v2.misc.tag</span><span class="w"> </span><span class="kn">import</span> <span class="n">TagResource</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
    <span class="n">resource_id</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">resource_type</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tags</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="p">[</span><span class="n">tags</span><span class="p">]</span>

    <span class="c1"># Remove tags from a pipeline</span>
    <span class="k">if</span> <span class="n">pipeline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">pipeline_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_pipeline</span><span class="p">(</span><span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">pipeline</span><span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">pipeline_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">PIPELINE</span>

    <span class="c1"># Remove tags from a run template</span>
    <span class="k">elif</span> <span class="n">run_template</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">run_template_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_run_template</span><span class="p">(</span>
            <span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">run_template</span>
        <span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">run_template_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">RUN_TEMPLATE</span>

    <span class="c1"># Remove tags from a snapshot</span>
    <span class="k">elif</span> <span class="n">snapshot</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">snapshot_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_snapshot</span><span class="p">(</span>
            <span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">snapshot</span><span class="p">,</span> <span class="n">allow_prefix_match</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">snapshot_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">PIPELINE_SNAPSHOT</span>

    <span class="c1"># Remove tags from a deployment</span>
    <span class="k">elif</span> <span class="n">deployment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">deployment_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_deployment</span><span class="p">(</span><span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">deployment</span><span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">deployment_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">DEPLOYMENT</span>

    <span class="c1"># Remove tags from a run</span>
    <span class="k">elif</span> <span class="n">run</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">run_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_pipeline_run</span><span class="p">(</span><span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">run</span><span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">run_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">PIPELINE_RUN</span>

    <span class="c1"># Remove tags from an artifact</span>
    <span class="k">elif</span> <span class="n">artifact</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">artifact_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">(</span><span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">artifact</span><span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">artifact_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT</span>

    <span class="c1"># Remove tags from an artifact version by its ID</span>
    <span class="k">elif</span> <span class="n">artifact_version_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">artifact_version_id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span>

    <span class="c1"># Remove tags from an artifact version by its name and version</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">artifact_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">artifact_version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="n">artifact_version_model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_artifact_version</span><span class="p">(</span>
            <span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">artifact_name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">artifact_version</span>
        <span class="p">)</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">artifact_version_model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">ARTIFACT_VERSION</span>

    <span class="c1"># Remove tags from an artifact version through the step context</span>
    <span class="k">elif</span> <span class="n">infer_artifact</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.steps.step_context</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_step_context</span>

            <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;When you are using the `infer_artifact` option when you call &quot;</span>
                <span class="s2">&quot;`remove_tags`, it must be called inside a step with outputs.&quot;</span>
                <span class="s2">&quot;Otherwise, you can provide a `artifact_version_id` or a &quot;</span>
                <span class="s2">&quot;combination of `artifact_name` and `artifact_version`.&quot;</span>
            <span class="p">)</span>

        <span class="n">step_output_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">step_context</span><span class="o">.</span><span class="n">_outputs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">artifact_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># If a name provided, ensure it is in the outputs</span>
            <span class="k">if</span> <span class="n">artifact_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">step_output_names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The provided artifact name`</span><span class="si">{</span><span class="n">artifact_name</span><span class="si">}</span><span class="s2">` does not &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;exist in the step outputs: </span><span class="si">{</span><span class="n">step_output_names</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If no name provided, ensure there is only one output</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">step_output_names</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;There is more than one output. If you would like to use &quot;</span>
                    <span class="s2">&quot;the `infer_artifact` option, you need to define an &quot;</span>
                    <span class="s2">&quot;`artifact_name`.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">step_output_names</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The step does not have any outputs.&quot;</span><span class="p">)</span>

            <span class="n">artifact_name</span> <span class="o">=</span> <span class="n">step_output_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">step_context</span><span class="o">.</span><span class="n">remove_output_tags</span><span class="p">(</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">output_name</span><span class="o">=</span><span class="n">artifact_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span>

    <span class="c1"># If every additional value is None, that means we are calling it bare bones</span>
    <span class="c1"># and this call needs to happen during a step execution. We will use the</span>
    <span class="c1"># step context to fetch the run and detach the tags accordingly.</span>
    <span class="k">elif</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">pipeline</span><span class="p">,</span>
            <span class="n">run</span><span class="p">,</span>
            <span class="n">run_template</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="p">,</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">artifact</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="p">,</span>
            <span class="n">artifact_name</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="p">,</span>
            <span class="n">infer_artifact</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.steps.step_context</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_step_context</span>

            <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                You are calling &#39;remove_tags()&#39; outside of a step execution. </span>
<span class="s2">                If you would like to remove tags from a ZenML entity outside </span>
<span class="s2">                of the step execution, please provide the required </span>
<span class="s2">                identifiers. </span><span class="se">\n</span><span class="si">{</span><span class="n">remove_tags_warning</span><span class="si">}</span>
<span class="s2">                &quot;&quot;&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Tag the pipeline run, not the step</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">step_context</span><span class="o">.</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">id</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">TaggableResourceTypes</span><span class="o">.</span><span class="n">PIPELINE_RUN</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            Unsupported way to call the `remove_tags`. Possible combinations &quot;</span>
<span class="s2">            include: </span><span class="se">\n</span><span class="si">{</span><span class="n">remove_tags_warning</span><span class="si">}</span>
<span class="s2">            &quot;&quot;&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Remove tags from resource</span>
    <span class="k">for</span> <span class="n">tag_name</span> <span class="ow">in</span> <span class="n">tags</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Get the tag</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_tag</span><span class="p">(</span><span class="n">tag_name</span><span class="p">,</span> <span class="n">allow_name_prefix_match</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="c1"># Detach tag from resources</span>
            <span class="n">client</span><span class="o">.</span><span class="n">detach_tag</span><span class="p">(</span>
                <span class="n">tag_name_or_id</span><span class="o">=</span><span class="n">tag</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">resources</span><span class="o">=</span><span class="p">[</span><span class="n">TagResource</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">)],</span>
            <span class="p">)</span>

        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="c1"># Tag doesn&#39;t exist, nothing to remove</span>
            <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.time_utils" class="doc doc-heading">
            <code>time_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Time utils.</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.time_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.time_utils.expires_in" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">expires_in</span><span class="p">(</span><span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">expired_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">skew_tolerance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns a human-readable string of the time until an expiration.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>expires_at</code>
            </td>
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Expiration time.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>expired_str</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String to return if the expiration is in the past.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>skew_tolerance</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Seconds of skew tolerance to subtract from the
expiration time. If the expiration is within the skew tolerance,
the function will return the expired string.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Human readable string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/time_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">expires_in</span><span class="p">(</span>
    <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
    <span class="n">expired_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">skew_tolerance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a human-readable string of the time until an expiration.</span>

<span class="sd">    Args:</span>
<span class="sd">        expires_at: Expiration time.</span>
<span class="sd">        expired_str: String to return if the expiration is in the past.</span>
<span class="sd">        skew_tolerance: Seconds of skew tolerance to subtract from the</span>
<span class="sd">            expiration time. If the expiration is within the skew tolerance,</span>
<span class="sd">            the function will return the expired string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Human readable string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">now</span> <span class="o">=</span> <span class="n">utc_now</span><span class="p">(</span><span class="n">tz_aware</span><span class="o">=</span><span class="n">expires_at</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">skew_tolerance</span><span class="p">:</span>
        <span class="n">expires_at</span> <span class="o">-=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">skew_tolerance</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">expires_at</span> <span class="o">&lt;</span> <span class="n">now</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">expired_str</span>
    <span class="k">return</span> <span class="n">seconds_to_human_readable</span><span class="p">(</span><span class="nb">int</span><span class="p">((</span><span class="n">expires_at</span> <span class="o">-</span> <span class="n">now</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.time_utils.seconds_to_human_readable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">seconds_to_human_readable</span><span class="p">(</span><span class="n">time_seconds</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Converts seconds to human-readable format.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>time_seconds</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Seconds to convert.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Human readable string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/time_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">seconds_to_human_readable</span><span class="p">(</span><span class="n">time_seconds</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts seconds to human-readable format.</span>

<span class="sd">    Args:</span>
<span class="sd">        time_seconds: Seconds to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Human readable string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">seconds</span> <span class="o">=</span> <span class="n">time_seconds</span> <span class="o">%</span> <span class="mi">60</span>
    <span class="n">minutes</span> <span class="o">=</span> <span class="p">(</span><span class="n">time_seconds</span> <span class="o">//</span> <span class="mi">60</span><span class="p">)</span> <span class="o">%</span> <span class="mi">60</span>
    <span class="n">hours</span> <span class="o">=</span> <span class="p">(</span><span class="n">time_seconds</span> <span class="o">//</span> <span class="mi">3600</span><span class="p">)</span> <span class="o">%</span> <span class="mi">24</span>
    <span class="n">days</span> <span class="o">=</span> <span class="n">time_seconds</span> <span class="o">//</span> <span class="mi">86400</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">days</span><span class="p">:</span>
        <span class="n">tokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">days</span><span class="si">}</span><span class="s2">d&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">hours</span><span class="p">:</span>
        <span class="n">tokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">hours</span><span class="si">}</span><span class="s2">h&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">minutes</span><span class="p">:</span>
        <span class="n">tokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">m&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">seconds</span><span class="p">:</span>
        <span class="n">tokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">seconds</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.time_utils.to_local_tz" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_local_tz</span><span class="p">(</span><span class="n">dt</span><span class="p">:</span> <span class="n">datetime</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Convert a datetime to the local timezone.</p>
<p>If the input datetime is timezone-naive, it will be assumed to be in the UTC
timezone.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dt</code>
            </td>
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>datetime to convert.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Datetime in the local timezone.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/time_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_local_tz</span><span class="p">(</span><span class="n">dt</span><span class="p">:</span> <span class="n">datetime</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a datetime to the local timezone.</span>

<span class="sd">    If the input datetime is timezone-naive, it will be assumed to be in the UTC</span>
<span class="sd">    timezone.</span>

<span class="sd">    Args:</span>
<span class="sd">        dt: datetime to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Datetime in the local timezone.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">dt</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dt</span><span class="o">.</span><span class="n">astimezone</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.time_utils.to_utc_timezone" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_utc_timezone</span><span class="p">(</span><span class="n">dt</span><span class="p">:</span> <span class="n">datetime</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Convert a datetime to the UTC timezone.</p>
<p>If the input datetime is timezone-naive, it will be assumed to be in the UTC
timezone.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dt</code>
            </td>
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>datetime to convert.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Datetime in the UTC timezone.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/time_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_utc_timezone</span><span class="p">(</span><span class="n">dt</span><span class="p">:</span> <span class="n">datetime</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a datetime to the UTC timezone.</span>

<span class="sd">    If the input datetime is timezone-naive, it will be assumed to be in the UTC</span>
<span class="sd">    timezone.</span>

<span class="sd">    Args:</span>
<span class="sd">        dt: datetime to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Datetime in the UTC timezone.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">dt</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dt</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.time_utils.utc_now" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">utc_now</span><span class="p">(</span><span class="n">tz_aware</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get the current time in the UTC timezone.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tz_aware</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="bool">bool</span>, <span title="datetime.datetime">datetime</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Use this flag to control whether the returned datetime is
timezone-aware or timezone-naive. If a datetime is provided, the
returned datetime will be timezone-aware if and only if the input
datetime is also timezone-aware.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The current UTC time. If tz_aware is a datetime, the returned datetime</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>will be timezone-aware only if the input datetime is also timezone-aware.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If tz_aware is a boolean, the returned datetime will be timezone-aware</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, and timezone-naive if False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/time_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">utc_now</span><span class="p">(</span><span class="n">tz_aware</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the current time in the UTC timezone.</span>

<span class="sd">    Args:</span>
<span class="sd">        tz_aware: Use this flag to control whether the returned datetime is</span>
<span class="sd">            timezone-aware or timezone-naive. If a datetime is provided, the</span>
<span class="sd">            returned datetime will be timezone-aware if and only if the input</span>
<span class="sd">            datetime is also timezone-aware.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The current UTC time. If tz_aware is a datetime, the returned datetime</span>
<span class="sd">        will be timezone-aware only if the input datetime is also timezone-aware.</span>
<span class="sd">        If tz_aware is a boolean, the returned datetime will be timezone-aware</span>
<span class="sd">        if True, and timezone-naive if False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="nb">isinstance</span><span class="p">(</span><span class="n">tz_aware</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
        <span class="ow">and</span> <span class="n">tz_aware</span> <span class="ow">is</span> <span class="kc">False</span>
        <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tz_aware</span><span class="p">,</span> <span class="n">datetime</span><span class="p">)</span>
        <span class="ow">and</span> <span class="n">tz_aware</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="n">now</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">now</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.time_utils.utc_now_tz_aware" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">utc_now_tz_aware</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">datetime</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get the current timezone-aware UTC time.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The current UTC time.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/time_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">utc_now_tz_aware</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the current timezone-aware UTC time.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The current UTC time.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">utc_now</span><span class="p">(</span><span class="n">tz_aware</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.typed_model" class="doc doc-heading">
            <code>typed_model</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility classes for adding type information to Pydantic models.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.typed_model-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.typed_model.BaseTypedModel" class="doc doc-heading">
            <code>BaseTypedModel</code>


</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Typed Pydantic model base class.</p>
<p>Use this class as a base class instead of BaseModel to automatically
add a <code>type</code> literal attribute to the model that stores the name of the
class.</p>
<p>This can be useful when serializing models to JSON and then de-serializing
them as part of a submodel union field, e.g.:</p>
<pre><code class="language-python">
class BluePill(BaseTypedModel):
    ...

class RedPill(BaseTypedModel):
    ...

class TheMatrix(BaseTypedModel):
    choice: Union[BluePill, RedPill] = Field(..., discriminator='type')

matrix = TheMatrix(choice=RedPill())
d = matrix.dict()
new_matrix = TheMatrix.model_validate(d)
assert isinstance(new_matrix.choice, RedPill)
</code></pre>
<p>It can also facilitate de-serializing objects when their type isn't known:</p>
<pre><code class="language-python">matrix = TheMatrix(choice=RedPill())
d = matrix.dict()
new_matrix = BaseTypedModel.from_dict(d)
assert isinstance(new_matrix.choice, RedPill)
</code></pre>











  <div class="doc doc-children">








<h7 id="zenml.utils.typed_model.BaseTypedModel-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.typed_model.BaseTypedModel.from_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_dict</span><span class="p">(</span><span class="n">model_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">BaseTypedModel</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>


    <div class="doc doc-contents ">

        <p>Instantiate a Pydantic model from a serialized JSON-able dict representation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>model_dict</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the model attributes serialized as JSON-able dict.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseTypedModel (zenml.utils.typed_model.BaseTypedModel)" href="#zenml.utils.typed_model.BaseTypedModel">BaseTypedModel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A BaseTypedModel created from the serialized representation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the model_dict contains an invalid type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/typed_model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">model_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Instantiate a Pydantic model from a serialized JSON-able dict representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        model_dict: the model attributes serialized as JSON-able dict.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A BaseTypedModel created from the serialized representation.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the model_dict contains an invalid type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_type</span> <span class="o">=</span> <span class="n">model_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">model_type</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;`type` information is missing from the serialized model dict.&quot;</span>
        <span class="p">)</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">BaseTypedModel</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Class `</span><span class="si">{</span><span class="bp">cls</span><span class="si">}</span><span class="s2">` is not a ZenML BaseTypedModel subclass.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.typed_model.BaseTypedModel.from_json" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_json</span><span class="p">(</span><span class="n">json_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseTypedModel</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>


    <div class="doc doc-contents ">

        <p>Instantiate a Pydantic model from a serialized JSON representation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>json_str</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the model attributes serialized as JSON.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseTypedModel (zenml.utils.typed_model.BaseTypedModel)" href="#zenml.utils.typed_model.BaseTypedModel">BaseTypedModel</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A BaseTypedModel created from the serialized representation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/typed_model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_json</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">json_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Instantiate a Pydantic model from a serialized JSON representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        json_str: the model attributes serialized as JSON.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A BaseTypedModel created from the serialized representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">model_dict</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.typed_model.BaseTypedModelMeta" class="doc doc-heading">
            <code>BaseTypedModelMeta</code>


</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic._internal._model_construction.ModelMetaclass">ModelMetaclass</span></code></p>


        <p>Metaclass responsible for adding type information to Pydantic models.</p>











  <div class="doc doc-children">








<h7 id="zenml.utils.typed_model.BaseTypedModelMeta-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.typed_model.BaseTypedModelMeta.__new__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">BaseTypedModelMeta</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Creates a Pydantic BaseModel class.</p>
<p>This includes a hidden attribute that reflects the full class
identifier.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the class.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>bases</code>
            </td>
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>], ...]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The base classes of the class.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dct</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The class dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseTypedModelMeta (zenml.utils.typed_model.BaseTypedModelMeta)" href="#zenml.utils.typed_model.BaseTypedModelMeta">BaseTypedModelMeta</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Pydantic BaseModel class that includes a hidden attribute that</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseTypedModelMeta (zenml.utils.typed_model.BaseTypedModelMeta)" href="#zenml.utils.typed_model.BaseTypedModelMeta">BaseTypedModelMeta</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>reflects the full class identifier.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="TypeError">TypeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the class is not a Pydantic BaseModel class.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/typed_model.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span>
    <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModelMeta&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a Pydantic BaseModel class.</span>

<span class="sd">    This includes a hidden attribute that reflects the full class</span>
<span class="sd">    identifier.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the class.</span>
<span class="sd">        bases: The base classes of the class.</span>
<span class="sd">        dct: The class dictionary.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A Pydantic BaseModel class that includes a hidden attribute that</span>
<span class="sd">        reflects the full class identifier.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If the class is not a Pydantic BaseModel class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;type&quot;</span> <span class="ow">in</span> <span class="n">dct</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="s2">&quot;`type` is a reserved attribute name for BaseTypedModel &quot;</span>
            <span class="s2">&quot;subclasses&quot;</span>
        <span class="p">)</span>
    <span class="n">type_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dct</span><span class="p">[</span><span class="s1">&#39;__module__&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">dct</span><span class="p">[</span><span class="s1">&#39;__qualname__&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">type_ann</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">[</span><span class="n">type_name</span><span class="p">]</span>  <span class="c1"># type: ignore[valid-type]</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">type_name</span><span class="p">)</span>
    <span class="n">dct</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;__annotations__&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">())[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">type_ann</span>
    <span class="n">dct</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">type</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
        <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<h5 id="zenml.utils.typed_model-modules">Modules</h5>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.typing_utils" class="doc doc-heading">
            <code>typing_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Carried over version of some functions from the pydantic v1 typing module.</p>
<p>Check out the latest version here:
https://github.com/pydantic/pydantic/blob/v1.10.14/pydantic/typing.py</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.typing_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.typing_utils.all_literal_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">all_literal_values</span><span class="p">(</span><span class="n">type_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Fetches the literal values defined in a type in a recursive manner.</p>
<p>This method is used to retrieve all Literal values as Literal can be
used recursively (see https://www.python.org/dev/peps/pep-0586)
e.g. <code>Literal[Literal[Literal[1, 2, 3], "foo"], 5, None]</code></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>type_</code>
            </td>
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>type to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="typing.Any">Any</span>, ...]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tuple of all the literal values defined in the type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/typing_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">all_literal_values</span><span class="p">(</span><span class="n">type_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fetches the literal values defined in a type in a recursive manner.</span>

<span class="sd">    This method is used to retrieve all Literal values as Literal can be</span>
<span class="sd">    used recursively (see https://www.python.org/dev/peps/pep-0586)</span>
<span class="sd">    e.g. `Literal[Literal[Literal[1, 2, 3], &quot;foo&quot;], 5, None]`</span>

<span class="sd">    Args:</span>
<span class="sd">        type_: type to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        tuple of all the literal values defined in the type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_literal_type</span><span class="p">(</span><span class="n">type_</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">type_</span><span class="p">,)</span>

    <span class="n">values</span> <span class="o">=</span> <span class="n">literal_values</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">all_literal_values</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.typing_utils.get_args" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_args</span><span class="p">(</span><span class="n">tp</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Get type arguments with all substitutions performed.</p>
<p>For unions, basic simplifications used by Union constructor are performed.
Examples::
    get_args(Dict[str, int]) == (str, int)
    get_args(int) == ()
    get_args(Union[int, Union[T, int], str][int]) == (int, str)
    get_args(Union[int, Tuple[T, int]][str]) == (int, Tuple[str, int])
    get_args(Callable[[], T][int]) == ([], int)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tp</code>
            </td>
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the type to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="typing.Any">Any</span>, ...]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tuple of all the args.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/typing_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_args</span><span class="p">(</span><span class="n">tp</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get type arguments with all substitutions performed.</span>

<span class="sd">    For unions, basic simplifications used by Union constructor are performed.</span>
<span class="sd">    Examples::</span>
<span class="sd">        get_args(Dict[str, int]) == (str, int)</span>
<span class="sd">        get_args(int) == ()</span>
<span class="sd">        get_args(Union[int, Union[T, int], str][int]) == (int, str)</span>
<span class="sd">        get_args(Union[int, Tuple[T, int]][str]) == (int, Tuple[str, int])</span>
<span class="sd">        get_args(Callable[[], T][int]) == ([], int)</span>

<span class="sd">    Args:</span>
<span class="sd">        tp: the type to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple of all the args.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">in</span> <span class="n">AnnotatedTypeNames</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">tp</span><span class="o">.</span><span class="n">__args__</span> <span class="o">+</span> <span class="n">tp</span><span class="o">.</span><span class="n">__metadata__</span>  <span class="c1"># type: ignore[no-any-return]</span>
    <span class="c1"># the fallback is needed for the same reasons as `get_origin` (see above)</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">_typing_get_args</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span>
        <span class="ow">or</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="s2">&quot;__args__&quot;</span><span class="p">,</span> <span class="p">())</span>
        <span class="ow">or</span> <span class="n">_generic_get_args</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.typing_utils.get_origin" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_origin</span><span class="p">(</span><span class="n">tp</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Fetches the origin of a given type.</p>
<p>We can't directly use <code>typing.get_origin</code> since we need a fallback to
support custom generic classes like <code>ConstrainedList</code>
It should be useless once https://github.com/cython/cython/issues/3537 is
solved and https://github.com/pydantic/pydantic/pull/1753 is merged.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tp</code>
            </td>
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>type to check</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the origin type of the provided type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/typing_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_origin</span><span class="p">(</span><span class="n">tp</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fetches the origin of a given type.</span>

<span class="sd">    We can&#39;t directly use `typing.get_origin` since we need a fallback to</span>
<span class="sd">    support custom generic classes like `ConstrainedList`</span>
<span class="sd">    It should be useless once https://github.com/cython/cython/issues/3537 is</span>
<span class="sd">    solved and https://github.com/pydantic/pydantic/pull/1753 is merged.</span>

<span class="sd">    Args:</span>
<span class="sd">        tp: type to check</span>

<span class="sd">    Returns:</span>
<span class="sd">        the origin type of the provided type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">in</span> <span class="n">AnnotatedTypeNames</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">Annotated</span><span class="p">)</span>  <span class="c1"># mypy complains about _SpecialForm</span>
    <span class="k">return</span> <span class="n">_typing_get_origin</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="s2">&quot;__origin__&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.typing_utils.is_literal_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_literal_type</span><span class="p">(</span><span class="n">type_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if the provided type is a literal type.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>type_</code>
            </td>
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>type to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>boolean indicating whether the type is union type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/typing_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_literal_type</span><span class="p">(</span><span class="n">type_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if the provided type is a literal type.</span>

<span class="sd">    Args:</span>
<span class="sd">        type_: type to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boolean indicating whether the type is union type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Literal</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">get_origin</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">LITERAL_TYPES</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.typing_utils.is_none_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_none_type</span><span class="p">(</span><span class="n">type_</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if the provided type is a none type.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>type_</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>type to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>boolean indicating whether the type is a none type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/typing_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_none_type</span><span class="p">(</span><span class="n">type_</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if the provided type is a none type.</span>

<span class="sd">    Args:</span>
<span class="sd">        type_: type to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boolean indicating whether the type is a none type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">type_</span> <span class="ow">in</span> <span class="n">NONE_TYPES</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.typing_utils.is_optional" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_optional</span><span class="p">(</span><span class="n">tp</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks whether a given annotation is typing.Optional.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tp</code>
            </td>
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the type to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>boolean indicating if the type is typing.Optional.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/typing_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_optional</span><span class="p">(</span><span class="n">tp</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks whether a given annotation is typing.Optional.</span>

<span class="sd">    Args:</span>
<span class="sd">        tp: the type to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boolean indicating if the type is typing.Optional.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">is_union</span><span class="p">(</span><span class="n">get_origin</span><span class="p">(</span><span class="n">tp</span><span class="p">))</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="ow">in</span> <span class="n">get_args</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.typing_utils.is_union" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_union</span><span class="p">(</span><span class="n">type_</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if the provided type is a union type.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>type_</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>type to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>boolean indicating whether the type is union type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/typing_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_union</span><span class="p">(</span><span class="n">type_</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if the provided type is a union type.</span>

<span class="sd">    Args:</span>
<span class="sd">        type_: type to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        boolean indicating whether the type is union type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">types</span>

    <span class="k">return</span> <span class="n">type_</span> <span class="ow">is</span> <span class="n">Union</span> <span class="ow">or</span> <span class="n">type_</span> <span class="ow">is</span> <span class="n">types</span><span class="o">.</span><span class="n">UnionType</span>  <span class="c1"># type: ignore[comparison-overlap]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.typing_utils.literal_values" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">literal_values</span><span class="p">(</span><span class="n">type_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Fetches the literal values defined in a type.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>type_</code>
            </td>
            <td>
                  <code><span title="typing.Type">Type</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>type to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="typing.Any">Any</span>, ...]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tuple of the literal values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/typing_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">literal_values</span><span class="p">(</span><span class="n">type_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fetches the literal values defined in a type.</span>

<span class="sd">    Args:</span>
<span class="sd">        type_: type to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        tuple of the literal values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_args</span><span class="p">(</span><span class="n">type_</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.uuid_utils" class="doc doc-heading">
            <code>uuid_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions for handling UUIDs.</p>










  <div class="doc doc-children">








<h5 id="zenml.utils.uuid_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.uuid_utils.generate_uuid_from_string" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_uuid_from_string</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UUID</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Deterministically generates a UUID from a string seed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The string from which to generate the UUID.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated UUID.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/uuid_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">generate_uuid_from_string</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UUID</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deterministically generates a UUID from a string seed.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: The string from which to generate the UUID.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated UUID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">hash_</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">()</span>  <span class="c1"># nosec</span>
    <span class="n">hash_</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">UUID</span><span class="p">(</span><span class="nb">hex</span><span class="o">=</span><span class="n">hash_</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">(),</span> <span class="n">version</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.uuid_utils.is_valid_uuid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_valid_uuid</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks if a string is a valid UUID.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>version</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Version of UUID to check for.</p>
              </div>
            </td>
            <td>
                  <code>4</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if string is a valid UUID, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/uuid_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_valid_uuid</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if a string is a valid UUID.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: String to check.</span>
<span class="sd">        version: Version of UUID to check for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if string is a valid UUID, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">UUID</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.uuid_utils.parse_name_or_uuid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_name_or_uuid</span><span class="p">(</span><span class="n">name_or_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Convert a "name or id" string value to a string or UUID.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name_or_id</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name or id to convert.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A UUID if name_or_id is a UUID, string otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/uuid_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">parse_name_or_uuid</span><span class="p">(</span>
    <span class="n">name_or_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a &quot;name or id&quot; string value to a string or UUID.</span>

<span class="sd">    Args:</span>
<span class="sd">        name_or_id: Name or id to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A UUID if name_or_id is a UUID, string otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name_or_id</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">UUID</span><span class="p">(</span><span class="n">name_or_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">name_or_id</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">name_or_id</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.visualization_utils" class="doc doc-heading">
            <code>visualization_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions for dashboard visualizations.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.visualization_utils-classes">Classes</h5>
<h5 id="zenml.utils.visualization_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.visualization_utils.format_csv_visualization_as_html" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">format_csv_visualization_as_html</span><span class="p">(</span><span class="n">csv_visualization</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">max_rows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">max_cols</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Formats a CSV visualization as an HTML table.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>csv_visualization</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>CSV visualization as a string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_rows</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum number of rows to display. Remaining rows will be
replaced by an ellipsis in the middle of the table.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_cols</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum number of columns to display. Remaining columns will
be replaced by an ellipsis at the end of each row.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>HTML table as a string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/visualization_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">format_csv_visualization_as_html</span><span class="p">(</span>
    <span class="n">csv_visualization</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">max_rows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">max_cols</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Formats a CSV visualization as an HTML table.</span>

<span class="sd">    Args:</span>
<span class="sd">        csv_visualization: CSV visualization as a string.</span>
<span class="sd">        max_rows: Maximum number of rows to display. Remaining rows will be</span>
<span class="sd">            replaced by an ellipsis in the middle of the table.</span>
<span class="sd">        max_cols: Maximum number of columns to display. Remaining columns will</span>
<span class="sd">            be replaced by an ellipsis at the end of each row.</span>

<span class="sd">    Returns:</span>
<span class="sd">        HTML table as a string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">csv_visualization</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
    <span class="n">html</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># If there are fewer rows than the maximum, print all rows</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">max_rows</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="n">_format_csv_row_as_html</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">max_cols</span><span class="o">=</span><span class="n">max_cols</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Else, replace middle rows with ellipsis</span>
        <span class="n">half_max_rows</span> <span class="o">=</span> <span class="n">max_rows</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="c1"># Print first half of rows</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">[:</span><span class="n">half_max_rows</span><span class="p">]:</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="n">_format_csv_row_as_html</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">max_cols</span><span class="o">=</span><span class="n">max_cols</span><span class="p">)</span>

        <span class="c1"># Print ellipsis</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_rows</span><span class="p">:</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="s2">&quot;&lt;tr&gt;&lt;td&gt;...&lt;/td&gt;&lt;/tr&gt;&quot;</span>

        <span class="c1"># Print last half of rows</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">[</span><span class="o">-</span><span class="n">half_max_rows</span><span class="p">:]:</span>
            <span class="n">html</span> <span class="o">+=</span> <span class="n">_format_csv_row_as_html</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">max_cols</span><span class="o">=</span><span class="n">max_cols</span><span class="p">)</span>

    <span class="k">return</span> <span class="s2">&quot;&lt;table&gt;&quot;</span> <span class="o">+</span> <span class="n">html</span> <span class="o">+</span> <span class="s2">&quot;&lt;/table&gt;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.visualization_utils.visualize_artifact" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">visualize_artifact</span><span class="p">(</span><span class="n">artifact</span><span class="p">:</span> <span class="n">ArtifactVersionResponse</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Visualize an artifact in notebook environments.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>artifact</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ArtifactVersionResponse (zenml.models.ArtifactVersionResponse)" href="core-models.html#zenml.models.ArtifactVersionResponse">ArtifactVersionResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The artifact to visualize.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>title</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional title to show before the visualizations.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If not in a notebook environment.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/visualization_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">visualize_artifact</span><span class="p">(</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Visualize an artifact in notebook environments.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact: The artifact to visualize.</span>
<span class="sd">        title: Optional title to show before the visualizations.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If not in a notebook environment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">Environment</span><span class="o">.</span><span class="n">in_notebook</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;The `output.visualize()` method is only available in Jupyter &quot;</span>
            <span class="s2">&quot;notebooks. In all other runtime environments, please open &quot;</span>
            <span class="s2">&quot;your ZenML dashboard using `zenml login --local` and view the &quot;</span>
            <span class="s2">&quot;visualizations by clicking on the respective artifacts in the &quot;</span>
            <span class="s2">&quot;pipeline run DAG instead.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">artifact</span><span class="o">.</span><span class="n">visualizations</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;### </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">visualizations</span><span class="p">)):</span>
        <span class="n">visualization</span> <span class="o">=</span> <span class="n">load_artifact_visualization</span><span class="p">(</span><span class="n">artifact</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">visualization</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">VisualizationType</span><span class="o">.</span><span class="n">IMAGE</span><span class="p">:</span>
            <span class="n">display</span><span class="p">(</span><span class="n">Image</span><span class="p">(</span><span class="n">visualization</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">visualization</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">VisualizationType</span><span class="o">.</span><span class="n">HTML</span><span class="p">:</span>
            <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">visualization</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">visualization</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">VisualizationType</span><span class="o">.</span><span class="n">MARKDOWN</span><span class="p">:</span>
            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">visualization</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">visualization</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">VisualizationType</span><span class="o">.</span><span class="n">CSV</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">visualization</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
            <span class="n">table</span> <span class="o">=</span> <span class="n">format_csv_visualization_as_html</span><span class="p">(</span><span class="n">visualization</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
            <span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="n">table</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">visualization</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">VisualizationType</span><span class="o">.</span><span class="n">JSON</span><span class="p">:</span>
            <span class="n">display</span><span class="p">(</span><span class="n">JSON</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">visualization</span><span class="o">.</span><span class="n">value</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">display</span><span class="p">(</span><span class="n">visualization</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.utils.yaml_utils" class="doc doc-heading">
            <code>yaml_utils</code>


</h4>

    <div class="doc doc-contents ">

        <p>Utility functions to help with YAML files and data.</p>










  <div class="doc doc-children">







<h5 id="zenml.utils.yaml_utils-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.utils.yaml_utils.UUIDEncoder" class="doc doc-heading">
            <code>UUIDEncoder</code>


</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="json.JSONEncoder">JSONEncoder</span></code></p>


        <p>JSON encoder for UUID objects.</p>











  <div class="doc doc-children">








<h7 id="zenml.utils.yaml_utils.UUIDEncoder-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.utils.yaml_utils.UUIDEncoder.default" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">default</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Default UUID encoder for JSON.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>obj</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Object to encode.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Encoded object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/yaml_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Default UUID encoder for JSON.</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: Object to encode.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Encoded object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
        <span class="c1"># if the obj is uuid, we simply return the value of uuid</span>
        <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">hex</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h5 id="zenml.utils.yaml_utils-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.yaml_utils.append_yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">append_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Append contents to a YAML file at file_path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to YAML file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contents</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="typing.Any">Any</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contents of YAML file as dict.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if directory does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/yaml_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">append_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Append contents to a YAML file at file_path.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to YAML file.</span>
<span class="sd">        contents: Contents of YAML file as dict.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if directory does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">file_contents</span> <span class="o">=</span> <span class="n">read_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">file_contents</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">dir_</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Directory </span><span class="si">{</span><span class="n">dir_</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">write_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">file_contents</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.yaml_utils.comment_out_yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">comment_out_yaml</span><span class="p">(</span><span class="n">yaml_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Comments out a yaml string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>yaml_string</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The yaml string to comment out.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The commented out yaml string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/yaml_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">comment_out_yaml</span><span class="p">(</span><span class="n">yaml_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Comments out a yaml string.</span>

<span class="sd">    Args:</span>
<span class="sd">        yaml_string: The yaml string to comment out.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The commented out yaml string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">yaml_string</span><span class="o">.</span><span class="n">splitlines</span><span class="p">(</span><span class="n">keepends</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;# &quot;</span> <span class="o">+</span> <span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">]</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.yaml_utils.is_json_serializable" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_json_serializable</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Checks whether an object is JSON serializable.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>obj</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The object to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the object is JSON serializable using pydantics encoder class.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/yaml_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_json_serializable</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks whether an object is JSON serializable.</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: The object to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether the object is JSON serializable using pydantics encoder class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.utils.json_utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">pydantic_encoder</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.yaml_utils.is_yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Returns True if file_path is YAML, else False.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to YAML file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if is yaml, else False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/yaml_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns True if file_path is YAML, else False.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to YAML file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if is yaml, else False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">extension</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">file_path</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">extension</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;.yaml&quot;</span><span class="p">,</span> <span class="s2">&quot;.yml&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.yaml_utils.read_json" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Read JSON on file path and returns contents as dict.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to JSON file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contents of the file in a dict.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if file does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/yaml_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">read_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Read JSON on file path and returns contents as dict.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to JSON file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Contents of the file in a dict.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if file does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.yaml_utils.read_yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Read YAML on file path and returns contents as dict.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to YAML file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contents of the file in a dict.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if file does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/yaml_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">read_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Read YAML on file path and returns contents as dict.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to YAML file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Contents of the file in a dict.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if file does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">read_file_contents_as_string</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="c1"># TODO: [LOW] consider adding a default empty dict to be returned</span>
        <span class="c1">#   instead of None</span>
        <span class="k">return</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.yaml_utils.write_json" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">contents</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">encoder</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">json_dump_args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Write contents as JSON format to file_path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to JSON file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contents</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contents of JSON file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>encoder</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Type">Type</span>[<span title="json.JSONEncoder">JSONEncoder</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom JSON encoder to use when saving json.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**json_dump_args</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Extra arguments to pass to json.dumps.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if directory does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/yaml_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write_json</span><span class="p">(</span>
    <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">contents</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">encoder</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">json_dump_args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Write contents as JSON format to file_path.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to JSON file.</span>
<span class="sd">        contents: Contents of JSON file.</span>
<span class="sd">        encoder: Custom JSON encoder to use when saving json.</span>
<span class="sd">        **json_dump_args: Extra arguments to pass to json.dumps.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if directory does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">dir_</span><span class="p">):</span>
            <span class="c1"># Check if it is a local path, if it doesn&#39;t exist, raise Exception.</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Directory </span><span class="si">{</span><span class="n">dir_</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">write_file_contents_as_string</span><span class="p">(</span>
        <span class="n">file_path</span><span class="p">,</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">encoder</span><span class="p">,</span> <span class="o">**</span><span class="n">json_dump_args</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.utils.yaml_utils.write_yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">contents</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span> <span class="n">sort_keys</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Write contents as YAML format to file_path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to YAML file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>contents</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="typing.Dict">Dict</span>[<span title="typing.Any">Any</span>, <span title="typing.Any">Any</span>], <span title="typing.List">List</span>[<span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Contents of YAML file as dict or list.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sort_keys</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code>, keys are sorted alphabetically. If <code>False</code>,
the order in which the keys were inserted into the dict will
be preserved.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if directory does not exist.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>src/zenml/utils/yaml_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write_yaml</span><span class="p">(</span>
    <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">contents</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span>
    <span class="n">sort_keys</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Write contents as YAML format to file_path.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: Path to YAML file.</span>
<span class="sd">        contents: Contents of YAML file as dict or list.</span>
<span class="sd">        sort_keys: If `True`, keys are sorted alphabetically. If `False`,</span>
<span class="sd">            the order in which the keys were inserted into the dict will</span>
<span class="sd">            be preserved.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if directory does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">io_utils</span><span class="o">.</span><span class="n">is_remote</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">dir_</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Directory </span><span class="si">{</span><span class="n">dir_</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">write_file_contents_as_string</span><span class="p">(</span>
        <span class="n">file_path</span><span class="p">,</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="n">sort_keys</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>
<h5 id="zenml.utils.yaml_utils-modules">Modules</h5>


  </div>

    </div>

</div>


  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 ZenML GmbH – <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>