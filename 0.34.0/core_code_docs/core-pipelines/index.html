
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://apidocs.zenml.io/0.34.0/core_code_docs/core-pipelines/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Pipelines - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pipelines" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Pipelines
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-image_builders/" class="md-nav__link">
        Image Builders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Pipelines
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Pipelines
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.pipelines" class="md-nav__link">
    pipelines
  </a>
  
    <nav class="md-nav" aria-label="pipelines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline" class="md-nav__link">
    base_pipeline
  </a>
  
    <nav class="md-nav" aria-label="base_pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline" class="md-nav__link">
    BasePipeline
  </a>
  
    <nav class="md-nav" aria-label="BasePipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.configuration" class="md-nav__link">
    configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.enable_cache" class="md-nav__link">
    enable_cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.steps" class="md-nav__link">
    steps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.build" class="md-nav__link">
    build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.configure" class="md-nav__link">
    configure()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.connect" class="md-nav__link">
    connect()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.from_model" class="md-nav__link">
    from_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.get_runs" class="md-nav__link">
    get_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.register" class="md-nav__link">
    register()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.write_run_configuration_template" class="md-nav__link">
    write_run_configuration_template()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipelineMeta" class="md-nav__link">
    BasePipelineMeta
  </a>
  
    <nav class="md-nav" aria-label="BasePipelineMeta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipelineMeta.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.pipeline_decorator" class="md-nav__link">
    pipeline_decorator
  </a>
  
    <nav class="md-nav" aria-label="pipeline_decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.pipeline_decorator.pipeline" class="md-nav__link">
    pipeline()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-recipes/" class="md-nav__link">
        Recipes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-repository/" class="md-nav__link">
        Repository
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secrets_managers/" class="md-nav__link">
        Secrets Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-visualizers/" class="md-nav__link">
        Visualizers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-azure/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bentoml/" class="md-nav__link">
        Bentoml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-dash/" class="md-nav__link">
        Dash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-graphviz/" class="md-nav__link">
        Graphviz
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-huggingface/" class="md-nav__link">
        Huggingface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kaniko/" class="md-nav__link">
        Kaniko
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kserve/" class="md-nav__link">
        Kserve
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neptune/" class="md-nav__link">
        Neptune
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-plotly/" class="md-nav__link">
        Plotly
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-vault/" class="md-nav__link">
        Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.pipelines" class="md-nav__link">
    pipelines
  </a>
  
    <nav class="md-nav" aria-label="pipelines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline" class="md-nav__link">
    base_pipeline
  </a>
  
    <nav class="md-nav" aria-label="base_pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline" class="md-nav__link">
    BasePipeline
  </a>
  
    <nav class="md-nav" aria-label="BasePipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.configuration" class="md-nav__link">
    configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.enable_cache" class="md-nav__link">
    enable_cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.steps" class="md-nav__link">
    steps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.build" class="md-nav__link">
    build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.configure" class="md-nav__link">
    configure()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.connect" class="md-nav__link">
    connect()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.from_model" class="md-nav__link">
    from_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.get_runs" class="md-nav__link">
    get_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.register" class="md-nav__link">
    register()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipeline.write_run_configuration_template" class="md-nav__link">
    write_run_configuration_template()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipelineMeta" class="md-nav__link">
    BasePipelineMeta
  </a>
  
    <nav class="md-nav" aria-label="BasePipelineMeta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.base_pipeline.BasePipelineMeta.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.pipeline_decorator" class="md-nav__link">
    pipeline_decorator
  </a>
  
    <nav class="md-nav" aria-label="pipeline_decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.pipelines.pipeline_decorator.pipeline" class="md-nav__link">
    pipeline()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zenml-io/zenml/docs/core_code_docs/core-pipelines.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="pipelines">Pipelines</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.pipelines" class="doc doc-heading">
        <code>zenml.pipelines</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>A ZenML pipeline consists of tasks that execute in order and yield artifacts.</p>
<p>The artifacts are automatically stored within the artifact store and metadata 
is tracked by ZenML. Each individual task within a pipeline is known as a
step. The standard pipelines within ZenML are designed to have easy interfaces
to add pre-decided steps, with the order also pre-decided. Other sorts of
pipelines can be created as well from scratch, building on the <code>BasePipeline</code> class.</p>
<p>Pipelines can be written as simple functions. They are created by using decorators appropriate to the specific use case you have. The moment it is <code>run</code>, a pipeline is compiled and passed directly to the orchestrator.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h3 id="zenml.pipelines.base_pipeline" class="doc doc-heading">
        <code>base_pipeline</code>



</h3>

    <div class="doc doc-contents ">

      <p>Abstract base class for all ZenML pipelines.</p>



  <div class="doc doc-children">















  <div class="doc doc-object doc-class">



<h4 id="zenml.pipelines.base_pipeline.BasePipeline" class="doc doc-heading">
        <code>
BasePipeline        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Abstract base class for all ZenML pipelines.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td></td>
        <td><p>The name of this pipeline.</p></td>
      </tr>
      <tr>
        <td><code>enable_cache</code></td>
        <td></td>
        <td><p>A boolean indicating if caching is enabled for this
pipeline.</p></td>
      </tr>
      <tr>
        <td><code>enable_artifact_metadata</code></td>
        <td></td>
        <td><p>A boolean indicating if artifact metadata
is enabled for this pipeline.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/base_pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BasePipeline</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">BasePipelineMeta</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract base class for all ZenML pipelines.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: The name of this pipeline.</span>
<span class="sd">        enable_cache: A boolean indicating if caching is enabled for this</span>
<span class="sd">            pipeline.</span>
<span class="sd">        enable_artifact_metadata: A boolean indicating if artifact metadata</span>
<span class="sd">            is enabled for this pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">STEP_SPEC</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore[assignment]</span>

    <span class="n">INSTANCE_CONFIGURATION</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the BasePipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: The steps to be executed by this pipeline.</span>
<span class="sd">            **kwargs: The configuration for this pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">INSTANCE_CONFIGURATION</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span> <span class="o">=</span> <span class="n">PipelineConfiguration</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">enable_cache</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_ENABLE_CACHE</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">enable_artifact_metadata</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
                <span class="n">PARAM_ENABLE_ARTIFACT_METADATA</span><span class="p">,</span> <span class="kc">None</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_apply_class_configuration</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BaseStep</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_verify_steps</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The name of the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">enable_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;If caching is enabled for the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            If caching is enabled for the pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">enable_cache</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineConfiguration</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The configuration of the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The configuration of the pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">steps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BaseStep</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a dictionary of pipeline steps.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary of pipeline steps.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_model</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">model</span><span class="p">:</span> <span class="s2">&quot;PipelineResponseModel&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a pipeline instance from a model.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The model to load the pipeline instance from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The pipeline instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the spec version of the given model is &lt;0.2</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">version</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">version</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">version</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;0.2&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Loading a pipeline is only possible for pipeline specs with &quot;</span>
                <span class="s2">&quot;version 0.2 or higher.&quot;</span>
            <span class="p">)</span>

        <span class="n">steps</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_load_and_verify_steps</span><span class="p">(</span><span class="n">pipeline_spec</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">spec</span><span class="p">)</span>
        <span class="n">connect_method</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_generate_connect_method</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">)</span>

        <span class="n">pipeline_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span>
            <span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="p">(</span><span class="bp">cls</span><span class="p">,),</span>
            <span class="p">{</span>
                <span class="n">PIPELINE_INNER_FUNC_NAME</span><span class="p">:</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">connect_method</span><span class="p">),</span>
                <span class="s2">&quot;__doc__&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">docstring</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">)</span>

        <span class="n">pipeline_instance</span> <span class="o">=</span> <span class="n">pipeline_class</span><span class="p">(</span><span class="o">**</span><span class="n">steps</span><span class="p">)</span>

        <span class="n">version_hash</span> <span class="o">=</span> <span class="n">pipeline_instance</span><span class="o">.</span><span class="n">_compute_unique_identifier</span><span class="p">(</span>
            <span class="n">pipeline_spec</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">spec</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">version_hash</span> <span class="o">!=</span> <span class="n">model</span><span class="o">.</span><span class="n">version_hash</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Trying to load pipeline version `</span><span class="si">%s</span><span class="s2">`, but the local step code &quot;</span>
                <span class="s2">&quot;changed since this pipeline version was registered. Using &quot;</span>
                <span class="s2">&quot;this pipeline instance will result in a different pipeline &quot;</span>
                <span class="s2">&quot;version being registered or reused.&quot;</span><span class="p">,</span>
                <span class="n">model</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">pipeline_instance</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span>
        <span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enable_artifact_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;SettingsOrDict&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">extra</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">merge</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configures the pipeline.</span>

<span class="sd">        Configuration merging example:</span>
<span class="sd">        * `merge==True`:</span>
<span class="sd">            pipeline.configure(extra={&quot;key1&quot;: 1})</span>
<span class="sd">            pipeline.configure(extra={&quot;key2&quot;: 2}, merge=True)</span>
<span class="sd">            pipeline.configuration.extra # {&quot;key1&quot;: 1, &quot;key2&quot;: 2}</span>
<span class="sd">        * `merge==False`:</span>
<span class="sd">            pipeline.configure(extra={&quot;key1&quot;: 1})</span>
<span class="sd">            pipeline.configure(extra={&quot;key2&quot;: 2}, merge=False)</span>
<span class="sd">            pipeline.configuration.extra # {&quot;key2&quot;: 2}</span>

<span class="sd">        Args:</span>
<span class="sd">            enable_cache: If caching should be enabled for this pipeline.</span>
<span class="sd">            enable_artifact_metadata: If artifact metadata should be enabled for</span>
<span class="sd">                this pipeline.</span>
<span class="sd">            settings: settings for this pipeline.</span>
<span class="sd">            extra: Extra configurations for this pipeline.</span>
<span class="sd">            merge: If `True`, will merge the given dictionary configurations</span>
<span class="sd">                like `extra` and `settings` with existing</span>
<span class="sd">                configurations. If `False` the given configurations will</span>
<span class="sd">                overwrite all existing ones. See the general description of this</span>
<span class="sd">                method for an example.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The pipeline instance that this method was called on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">dict_utils</span><span class="o">.</span><span class="n">remove_none_values</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;enable_cache&quot;</span><span class="p">:</span> <span class="n">enable_cache</span><span class="p">,</span>
                <span class="s2">&quot;enable_artifact_metadata&quot;</span><span class="p">:</span> <span class="n">enable_artifact_metadata</span><span class="p">,</span>
                <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">,</span>
                <span class="s2">&quot;extra&quot;</span><span class="p">:</span> <span class="n">extra</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">PipelineConfigurationUpdate</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_apply_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="n">merge</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Function that connects inputs and outputs of the pipeline steps.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: The positional arguments passed to the pipeline.</span>
<span class="sd">            **kwargs: The keyword arguments passed to the pipeline.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: Always.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">register</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineResponseModel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register the pipeline in the server.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The registered pipeline model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Activating the built-in integrations to load all materializers</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.registry</span> <span class="kn">import</span> <span class="n">integration_registry</span>

        <span class="n">integration_registry</span><span class="o">.</span><span class="n">activate_integrations</span><span class="p">()</span>

        <span class="n">custom_configurations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span>
            <span class="n">exclude_defaults</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">}</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">custom_configurations</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The pipeline `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` that you&#39;re registering has &quot;</span>
                <span class="s2">&quot;custom configurations applied to it. These will not be &quot;</span>
                <span class="s2">&quot;registered with the pipeline and won&#39;t be set when you build &quot;</span>
                <span class="s2">&quot;images or run the pipeline from the CLI. To provide these &quot;</span>
                <span class="s2">&quot;configurations, use the `--config` option of the `zenml &quot;</span>
                <span class="s2">&quot;pipeline build/run` commands.&quot;</span>
            <span class="p">)</span>

        <span class="n">pipeline_spec</span> <span class="o">=</span> <span class="n">Compiler</span><span class="p">()</span><span class="o">.</span><span class="n">compile_spec</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">pipeline_spec</span><span class="o">=</span><span class="n">pipeline_spec</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;SettingsOrDict&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">step_configurations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
            <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;StepConfigurationUpdateOrDict&quot;</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineBuildResponseModel&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Builds Docker images for the pipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            settings: Settings for the pipeline.</span>
<span class="sd">            step_configurations: Configurations for steps of the pipeline.</span>
<span class="sd">            config_path: Path to a yaml configuration file. This file will</span>
<span class="sd">                be parsed as a `zenml.config.pipeline_configurations.PipelineRunConfiguration`</span>
<span class="sd">                object. Options provided in this file will be overwritten by</span>
<span class="sd">                options provided in code using the other arguments of this</span>
<span class="sd">                method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The build output.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">deployment</span><span class="p">,</span> <span class="n">pipeline_spec</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compile</span><span class="p">(</span>
            <span class="n">config_path</span><span class="o">=</span><span class="n">config_path</span><span class="p">,</span>
            <span class="n">steps</span><span class="o">=</span><span class="n">step_configurations</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">pipeline_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">pipeline_spec</span><span class="o">=</span><span class="n">pipeline_spec</span><span class="p">)</span><span class="o">.</span><span class="n">id</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">run_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enable_artifact_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">schedule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Schedule</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">build</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;PipelineBuildBaseModel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;SettingsOrDict&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">step_configurations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
            <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;StepConfigurationUpdateOrDict&quot;</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">extra</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">unlisted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs the pipeline on the active stack of the current repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_name: Name of the pipeline run.</span>
<span class="sd">            enable_cache: If caching should be enabled for this pipeline run.</span>
<span class="sd">            enable_artifact_metadata: If artifact metadata should be enabled</span>
<span class="sd">                for this pipeline run.</span>
<span class="sd">            schedule: Optional schedule to use for the run.</span>
<span class="sd">            build: Optional build to use for the run.</span>
<span class="sd">            settings: Settings for this pipeline run.</span>
<span class="sd">            step_configurations: Configurations for steps of the pipeline.</span>
<span class="sd">            extra: Extra configurations for this pipeline run.</span>
<span class="sd">            config_path: Path to a yaml configuration file. This file will</span>
<span class="sd">                be parsed as a `zenml.config.pipeline_configurations.PipelineRunConfiguration`</span>
<span class="sd">                object. Options provided in this file will be overwritten by</span>
<span class="sd">                options provided in code using the other arguments of this</span>
<span class="sd">                method.</span>
<span class="sd">            unlisted: Whether the pipeline run should be unlisted (not assigned</span>
<span class="sd">                to any pipeline).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">constants</span><span class="o">.</span><span class="n">SHOULD_PREVENT_PIPELINE_EXECUTION</span><span class="p">:</span>
            <span class="c1"># An environment variable was set to stop the execution of</span>
            <span class="c1"># pipelines. This is done to prevent execution of module-level</span>
            <span class="c1"># pipeline.run() calls inside docker containers which should only</span>
            <span class="c1"># run a single step.</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Preventing execution of pipeline &#39;</span><span class="si">%s</span><span class="s2">&#39;. If this is not &quot;</span>
                <span class="s2">&quot;intended behavior, make sure to unset the environment &quot;</span>
                <span class="s2">&quot;variable &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">constants</span><span class="o">.</span><span class="n">ENV_ZENML_PREVENT_PIPELINE_EXECUTION</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span>

        <span class="k">with</span> <span class="n">event_handler</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">RUN_PIPELINE</span><span class="p">)</span> <span class="k">as</span> <span class="n">analytics_handler</span><span class="p">:</span>
            <span class="n">deployment</span><span class="p">,</span> <span class="n">pipeline_spec</span><span class="p">,</span> <span class="n">schedule</span><span class="p">,</span> <span class="n">build</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compile</span><span class="p">(</span>
                <span class="n">config_path</span><span class="o">=</span><span class="n">config_path</span><span class="p">,</span>
                <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
                <span class="n">enable_cache</span><span class="o">=</span><span class="n">enable_cache</span><span class="p">,</span>
                <span class="n">enable_artifact_metadata</span><span class="o">=</span><span class="n">enable_artifact_metadata</span><span class="p">,</span>
                <span class="n">steps</span><span class="o">=</span><span class="n">step_configurations</span><span class="p">,</span>
                <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
                <span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
                <span class="n">build</span><span class="o">=</span><span class="n">build</span><span class="p">,</span>
                <span class="n">extra</span><span class="o">=</span><span class="n">extra</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">skip_pipeline_registration</span> <span class="o">=</span> <span class="n">constants</span><span class="o">.</span><span class="n">handle_bool_env_var</span><span class="p">(</span>
                <span class="n">constants</span><span class="o">.</span><span class="n">ENV_ZENML_SKIP_PIPELINE_REGISTRATION</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>

            <span class="n">register_pipeline</span> <span class="o">=</span> <span class="ow">not</span> <span class="p">(</span><span class="n">skip_pipeline_registration</span> <span class="ow">or</span> <span class="n">unlisted</span><span class="p">)</span>

            <span class="n">pipeline_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">register_pipeline</span><span class="p">:</span>
                <span class="n">pipeline_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">pipeline_spec</span><span class="o">=</span><span class="n">pipeline_spec</span><span class="p">)</span><span class="o">.</span><span class="n">id</span>

            <span class="c1"># TODO: check whether orchestrator even support scheduling before</span>
            <span class="c1"># registering the schedule</span>
            <span class="n">schedule_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">schedule</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                    <span class="n">schedule_name</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y_%m_</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%H_%M_%S_</span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">schedule_name</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">run_name_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="n">time</span>
                    <span class="p">)</span>
                <span class="n">components</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack_model</span><span class="o">.</span><span class="n">components</span>
                <span class="n">orchestrator</span> <span class="o">=</span> <span class="n">components</span><span class="p">[</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">schedule_model</span> <span class="o">=</span> <span class="n">ScheduleRequestModel</span><span class="p">(</span>
                    <span class="n">workspace</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">user</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
                    <span class="n">orchestrator_id</span><span class="o">=</span><span class="n">orchestrator</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">schedule_name</span><span class="p">,</span>
                    <span class="n">active</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">cron_expression</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">,</span>
                    <span class="n">start_time</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
                    <span class="n">end_time</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
                    <span class="n">interval_second</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">interval_second</span><span class="p">,</span>
                    <span class="n">catchup</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">catchup</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">schedule_id</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_schedule</span><span class="p">(</span><span class="n">schedule_model</span><span class="p">)</span><span class="o">.</span><span class="n">id</span>
                <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Created schedule `</span><span class="si">{</span><span class="n">schedule_name</span><span class="si">}</span><span class="s2">` for pipeline &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">deployment</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`.&quot;</span>
                <span class="p">)</span>

            <span class="n">stack</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span>

            <span class="n">build_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_or_create_pipeline_build</span><span class="p">(</span>
                <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span>
                <span class="n">pipeline_spec</span><span class="o">=</span><span class="n">pipeline_spec</span><span class="p">,</span>
                <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
                <span class="n">build</span><span class="o">=</span><span class="n">build</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">build_id</span> <span class="o">=</span> <span class="n">build_model</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="n">build_model</span> <span class="k">else</span> <span class="kc">None</span>

            <span class="n">deployment_request</span> <span class="o">=</span> <span class="n">PipelineDeploymentRequestModel</span><span class="p">(</span>
                <span class="n">user</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
                <span class="n">build</span><span class="o">=</span><span class="n">build_id</span><span class="p">,</span>
                <span class="n">schedule</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">,</span>
                <span class="o">**</span><span class="n">deployment</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
            <span class="p">)</span>
            <span class="n">deployment_model</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_deployment</span><span class="p">(</span>
                <span class="n">deployment</span><span class="o">=</span><span class="n">deployment_request</span>
            <span class="p">)</span>

            <span class="n">analytics_handler</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_pipeline_analytics_metadata</span><span class="p">(</span>
                <span class="n">deployment</span><span class="o">=</span><span class="n">deployment_model</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="n">stack</span>
            <span class="p">)</span>
            <span class="n">caching_status</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;enabled&quot;</span>
                <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">enable_cache</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span>
                <span class="k">else</span> <span class="s2">&quot;disabled&quot;</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> on stack `</span><span class="si">%s</span><span class="s2">` (caching </span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Scheduling&quot;</span> <span class="k">if</span> <span class="n">deployment_model</span><span class="o">.</span><span class="n">schedule</span> <span class="k">else</span> <span class="s2">&quot;Running&quot;</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;pipeline `</span><span class="si">{</span><span class="n">deployment_model</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`&quot;</span>
                <span class="k">if</span> <span class="n">register_pipeline</span>
                <span class="k">else</span> <span class="s2">&quot;unlisted pipeline&quot;</span><span class="p">,</span>
                <span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">caching_status</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">stack</span><span class="o">.</span><span class="n">prepare_pipeline_deployment</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment_model</span><span class="p">)</span>

            <span class="c1"># Prevent execution of nested pipelines which might lead to</span>
            <span class="c1"># unexpected behavior</span>
            <span class="n">constants</span><span class="o">.</span><span class="n">SHOULD_PREVENT_PIPELINE_EXECUTION</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">stack</span><span class="o">.</span><span class="n">deploy_pipeline</span><span class="p">(</span>
                    <span class="n">deployment</span><span class="o">=</span><span class="n">deployment_model</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">finally</span><span class="p">:</span>
                <span class="n">constants</span><span class="o">.</span><span class="n">SHOULD_PREVENT_PIPELINE_EXECUTION</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="c1"># Log the dashboard URL</span>
            <span class="n">dashboard_utils</span><span class="o">.</span><span class="n">print_run_url</span><span class="p">(</span>
                <span class="n">run_name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">run_name_template</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline_id</span>
            <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_runs</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineRunView&quot;</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all past runs from the associated PipelineView.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all past PipelineRunViews.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: In case the repository does not contain the view</span>
<span class="sd">                of the current pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.post_execution</span> <span class="kn">import</span> <span class="n">get_pipeline</span>

        <span class="n">pipeline_view</span> <span class="o">=</span> <span class="n">get_pipeline</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pipeline_view</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">pipeline_view</span><span class="o">.</span><span class="n">runs</span>  <span class="c1"># type: ignore[no-any-return]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The PipelineView for `</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` could &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;not be found. Are you sure this pipeline has &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;been run already?&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">write_run_configuration_template</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Stack&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Writes a run configuration yaml template.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path where the template will be written.</span>
<span class="sd">            stack: The stack for which the template should be generated. If</span>
<span class="sd">                not given, the active stack will be used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.config.base_settings</span> <span class="kn">import</span> <span class="n">ConfigurationLevel</span>
        <span class="kn">from</span> <span class="nn">zenml.config.step_configurations</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">PartialArtifactConfiguration</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">stack</span> <span class="o">=</span> <span class="n">stack</span> <span class="ow">or</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span>

        <span class="n">setting_classes</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">setting_classes</span>
        <span class="n">setting_classes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">settings_utils</span><span class="o">.</span><span class="n">get_general_settings</span><span class="p">())</span>

        <span class="n">pipeline_settings</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">step_settings</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">setting_class</span> <span class="ow">in</span> <span class="n">setting_classes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">fields</span> <span class="o">=</span> <span class="n">pydantic_utils</span><span class="o">.</span><span class="n">TemplateGenerator</span><span class="p">(</span><span class="n">setting_class</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">ConfigurationLevel</span><span class="o">.</span><span class="n">PIPELINE</span> <span class="ow">in</span> <span class="n">setting_class</span><span class="o">.</span><span class="n">LEVEL</span><span class="p">:</span>
                <span class="n">pipeline_settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">fields</span>
            <span class="k">if</span> <span class="n">ConfigurationLevel</span><span class="o">.</span><span class="n">STEP</span> <span class="ow">in</span> <span class="n">setting_class</span><span class="o">.</span><span class="n">LEVEL</span><span class="p">:</span>
                <span class="n">step_settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">fields</span>

        <span class="n">steps</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">pydantic_utils</span><span class="o">.</span><span class="n">TemplateGenerator</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span>
                <span class="k">else</span> <span class="p">{}</span>
            <span class="p">)</span>
            <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">name</span><span class="p">:</span> <span class="n">PartialArtifactConfiguration</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span>
            <span class="p">}</span>
            <span class="n">step_template</span> <span class="o">=</span> <span class="n">StepConfigurationUpdate</span><span class="p">(</span>
                <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span>
                <span class="n">settings</span><span class="o">=</span><span class="n">step_settings</span><span class="p">,</span>
                <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">steps</span><span class="p">[</span><span class="n">step_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">step_template</span>

        <span class="n">run_config</span> <span class="o">=</span> <span class="n">PipelineRunConfiguration</span><span class="p">(</span>
            <span class="n">settings</span><span class="o">=</span><span class="n">pipeline_settings</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="n">steps</span>
        <span class="p">)</span>
        <span class="n">template</span> <span class="o">=</span> <span class="n">pydantic_utils</span><span class="o">.</span><span class="n">TemplateGenerator</span><span class="p">(</span><span class="n">run_config</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
        <span class="n">yaml_string</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
        <span class="n">yaml_string</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">comment_out_yaml</span><span class="p">(</span><span class="n">yaml_string</span><span class="p">)</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">yaml_string</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_apply_class_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Applies the configurations specified on the pipeline class.</span>

<span class="sd">        Args:</span>
<span class="sd">            options: Class configurations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_SETTINGS</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_EXTRA_OPTIONS</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="n">extra</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_apply_configuration</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">PipelineConfigurationUpdate</span><span class="p">,</span>
        <span class="n">merge</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Applies an update to the pipeline configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The configuration update.</span>
<span class="sd">            merge: Whether to merge the updates with the existing configuration</span>
<span class="sd">                or not. See the `BasePipeline.configure(...)` method for a</span>
<span class="sd">                detailed explanation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span> <span class="o">=</span> <span class="n">pydantic_utils</span><span class="o">.</span><span class="n">update_model</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="n">merge</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updated pipeline configuration:&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_validate_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">PipelineConfigurationUpdate</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates a configuration update.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The configuration update to validate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">settings_utils</span><span class="o">.</span><span class="n">validate_setting_keys</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">settings</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_verify_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">steps</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_steps</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifies the initialization args and kwargs of this pipeline.</span>

<span class="sd">        This method makes sure that no missing/unexpected arguments or</span>
<span class="sd">        arguments of a wrong type are passed when creating a pipeline. If</span>
<span class="sd">        all arguments are correct, saves the steps to `self.__steps`.</span>

<span class="sd">        Args:</span>
<span class="sd">            *steps: The args passed to the init method of this pipeline.</span>
<span class="sd">            **kw_steps: The kwargs passed to the init method of this pipeline.</span>

<span class="sd">        Raises:</span>
<span class="sd">            PipelineInterfaceError: If there are too many/few arguments or</span>
<span class="sd">                arguments with a wrong name/type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">input_step_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">STEP_SPEC</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_step_keys</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">PipelineInterfaceError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Too many input steps for pipeline &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;This pipeline expects </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">input_step_keys</span><span class="p">)</span><span class="si">}</span><span class="s2"> step(s) &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;but got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">kw_steps</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">combined_steps</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">step_ids</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">def</span> <span class="nf">_verify_step</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Verifies a single step of the pipeline.</span>

<span class="sd">            Args:</span>
<span class="sd">                key: The key of the step.</span>
<span class="sd">                step: The step to verify.</span>

<span class="sd">            Raises:</span>
<span class="sd">                PipelineInterfaceError: If the step is not of the correct type</span>
<span class="sd">                    or is of the same class as another step.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">step_class</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">BaseStepMeta</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">PipelineInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Wrong argument type (`</span><span class="si">{</span><span class="n">step_class</span><span class="si">}</span><span class="s2">`) for argument &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; of pipeline &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;A `BaseStep` subclass was provided instead of an &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;instance. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;This might have been caused due to missing brackets of &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;your steps when creating a pipeline with `@step` &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;decorated functions, &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;for which the correct syntax is `pipeline(step=step())`.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">BaseStep</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">PipelineInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Wrong argument type (`</span><span class="si">{</span><span class="n">step_class</span><span class="si">}</span><span class="s2">`) for argument &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; of pipeline &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Only &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`@step` decorated functions or instances of `BaseStep` &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;subclasses can be used as arguments when creating &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;a pipeline.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="nb">id</span><span class="p">(</span><span class="n">step</span><span class="p">)</span> <span class="ow">in</span> <span class="n">step_ids</span><span class="p">:</span>
                <span class="n">previous_key</span> <span class="o">=</span> <span class="n">step_ids</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">step</span><span class="p">)]</span>
                <span class="k">raise</span> <span class="n">PipelineInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Found the same step object for arguments &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">previous_key</span><span class="si">}</span><span class="s2">&#39; and &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; in pipeline &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. &quot;</span>
                    <span class="s2">&quot;Step object cannot be reused inside a ZenML pipeline. &quot;</span>
                    <span class="s2">&quot;A possible solution is to create two instances of the &quot;</span>
                    <span class="s2">&quot;same step class and assigning them different names: &quot;</span>
                    <span class="s2">&quot;`first_instance = step_class(name=&#39;s1&#39;)` and &quot;</span>
                    <span class="s2">&quot;`second_instance = step_class(name=&#39;s2&#39;)`.&quot;</span>
                <span class="p">)</span>

            <span class="n">step_ids</span><span class="p">[</span><span class="nb">id</span><span class="p">(</span><span class="n">step</span><span class="p">)]</span> <span class="o">=</span> <span class="n">key</span>
            <span class="n">combined_steps</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span>

        <span class="c1"># verify args</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">steps</span><span class="p">):</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">input_step_keys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">_verify_step</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>

        <span class="c1"># verify kwargs</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">kw_steps</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">combined_steps</span><span class="p">:</span>
                <span class="c1"># a step for this key was already set by</span>
                <span class="c1"># the positional input steps</span>
                <span class="k">raise</span> <span class="n">PipelineInterfaceError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39; for pipeline &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. A step for this key was &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;already passed as a positional argument.&quot;</span>
                <span class="p">)</span>
            <span class="n">_verify_step</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>

        <span class="c1"># check if there are any missing or unexpected steps</span>
        <span class="n">expected_steps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">STEP_SPEC</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">actual_steps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">combined_steps</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">missing_steps</span> <span class="o">=</span> <span class="n">expected_steps</span> <span class="o">-</span> <span class="n">actual_steps</span>
        <span class="n">unexpected_steps</span> <span class="o">=</span> <span class="n">actual_steps</span> <span class="o">-</span> <span class="n">expected_steps</span>

        <span class="k">if</span> <span class="n">missing_steps</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">PipelineInterfaceError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Missing input step(s) for pipeline &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">missing_steps</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">unexpected_steps</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">PipelineInterfaceError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unexpected input step(s) for pipeline &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">unexpected_steps</span><span class="si">}</span><span class="s2">. This pipeline &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;only requires the following steps: </span><span class="si">{</span><span class="n">expected_steps</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span> <span class="o">=</span> <span class="n">combined_steps</span>

    <span class="k">def</span> <span class="nf">_get_pipeline_analytics_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeploymentResponseModel&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the pipeline deployment metadata.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The pipeline deployment to track.</span>
<span class="sd">            stack: The stack on which the pipeline will be deployed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the metadata about the pipeline deployment</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">custom_materializer</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">deployment</span><span class="o">.</span><span class="n">step_configurations</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">output</span><span class="o">.</span><span class="n">materializer_source</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;zenml.&quot;</span><span class="p">):</span>
                    <span class="n">custom_materializer</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">stack_creator</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">get_stack</span><span class="p">(</span><span class="n">stack</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">user</span>
        <span class="n">active_user</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_user</span>
        <span class="n">own_stack</span> <span class="o">=</span> <span class="n">stack_creator</span> <span class="ow">and</span> <span class="n">stack_creator</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">active_user</span><span class="o">.</span><span class="n">id</span>

        <span class="n">stack_metadata</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">component_type</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="n">component</span><span class="o">.</span><span class="n">flavor</span>
            <span class="k">for</span> <span class="n">component_type</span><span class="p">,</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;store_type&quot;</span><span class="p">:</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="o">**</span><span class="n">stack_metadata</span><span class="p">,</span>
            <span class="s2">&quot;total_steps&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">),</span>
            <span class="s2">&quot;schedule&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">(</span><span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="p">),</span>
            <span class="s2">&quot;custom_materializer&quot;</span><span class="p">:</span> <span class="n">custom_materializer</span><span class="p">,</span>
            <span class="s2">&quot;own_stack&quot;</span><span class="p">:</span> <span class="n">own_stack</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_load_and_verify_steps</span><span class="p">(</span>
        <span class="n">pipeline_spec</span><span class="p">:</span> <span class="s2">&quot;PipelineSpec&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BaseStep</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Loads steps and verifies their names and inputs/outputs names.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_spec: The pipeline spec from which to load the steps.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the step names or input/output names of the</span>
<span class="sd">                loaded steps don&#39;t match with the names defined in the spec.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The loaded steps.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">steps</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">available_outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">step_spec</span> <span class="ow">in</span> <span class="n">pipeline_spec</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">upstream_step</span> <span class="ow">in</span> <span class="n">step_spec</span><span class="o">.</span><span class="n">upstream_steps</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">upstream_step</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">available_outputs</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Unable to find upstream step `</span><span class="si">{</span><span class="n">upstream_step</span><span class="si">}</span><span class="s2">`. &quot;</span>
                        <span class="s2">&quot;This is probably because the step was renamed in code.&quot;</span>
                    <span class="p">)</span>

            <span class="k">for</span> <span class="n">input_spec</span> <span class="ow">in</span> <span class="n">step_spec</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">input_spec</span><span class="o">.</span><span class="n">output_name</span>
                    <span class="ow">not</span> <span class="ow">in</span> <span class="n">available_outputs</span><span class="p">[</span><span class="n">input_spec</span><span class="o">.</span><span class="n">step_name</span><span class="p">]</span>
                <span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Missing output `</span><span class="si">{</span><span class="n">input_spec</span><span class="o">.</span><span class="n">output_name</span><span class="si">}</span><span class="s2">` for step &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">input_spec</span><span class="o">.</span><span class="n">step_name</span><span class="si">}</span><span class="s2">`. This is probably because &quot;</span>
                        <span class="s2">&quot;the output of the step was renamed.&quot;</span>
                    <span class="p">)</span>

            <span class="n">step</span> <span class="o">=</span> <span class="n">BaseStep</span><span class="o">.</span><span class="n">load_from_source</span><span class="p">(</span><span class="n">step_spec</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
            <span class="n">input_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">INPUT_SIGNATURE</span><span class="p">)</span>
            <span class="n">spec_input_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">step_spec</span><span class="o">.</span><span class="n">inputs</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">input_names</span> <span class="o">!=</span> <span class="n">spec_input_names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Input names of step </span><span class="si">{</span><span class="n">step_spec</span><span class="o">.</span><span class="n">source</span><span class="si">}</span><span class="s2"> and the spec &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;from the database don&#39;t match. Step inputs: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">input_names</span><span class="si">}</span><span class="s2">`, spec inputs: `</span><span class="si">{</span><span class="n">spec_input_names</span><span class="si">}</span><span class="s2">`.&quot;</span>
                <span class="p">)</span>

            <span class="n">steps</span><span class="p">[</span><span class="n">step_spec</span><span class="o">.</span><span class="n">pipeline_parameter_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span>
            <span class="n">available_outputs</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">steps</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_generate_connect_method</span><span class="p">(</span>
        <span class="n">model</span><span class="p">:</span> <span class="s2">&quot;PipelineResponseModel&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Dynamically generates a connect method for a pipeline model.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The model for which to generate the method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The generated connect method.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="o">**</span><span class="n">steps</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Bind **steps to the connect signature assigned to this method</span>
            <span class="c1"># below. This ensures that the method inputs get verified and only</span>
            <span class="c1"># the arguments defined in the signature are allowed</span>
            <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">connect</span><span class="p">)</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="o">**</span><span class="n">steps</span><span class="p">)</span>

            <span class="n">step_outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BaseStep</span><span class="o">.</span><span class="n">_OutputArtifact</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">step_spec</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
                <span class="n">step</span> <span class="o">=</span> <span class="n">steps</span><span class="p">[</span><span class="n">step_spec</span><span class="o">.</span><span class="n">pipeline_parameter_name</span><span class="p">]</span>

                <span class="n">step_inputs</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">input_</span> <span class="ow">in</span> <span class="n">step_spec</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">upstream_step</span> <span class="o">=</span> <span class="n">step_outputs</span><span class="p">[</span><span class="n">input_</span><span class="o">.</span><span class="n">step_name</span><span class="p">]</span>
                        <span class="n">step_input</span> <span class="o">=</span> <span class="n">upstream_step</span><span class="p">[</span><span class="n">input_</span><span class="o">.</span><span class="n">output_name</span><span class="p">]</span>
                        <span class="n">step_inputs</span><span class="p">[</span><span class="n">input_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">step_input</span>
                    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Unable to find upstream step &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">input_</span><span class="o">.</span><span class="n">step_name</span><span class="si">}</span><span class="s2">` in pipeline `</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`. &quot;</span>
                            <span class="s2">&quot;This is probably due to configuring a new step &quot;</span>
                            <span class="s2">&quot;name after loading a pipeline using &quot;</span>
                            <span class="s2">&quot;`BasePipeline.from_model`.&quot;</span>
                        <span class="p">)</span>

                <span class="n">step_output</span> <span class="o">=</span> <span class="n">step</span><span class="p">(</span><span class="o">**</span><span class="n">step_inputs</span><span class="p">)</span>
                <span class="n">output_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">step_output</span><span class="p">,</span> <span class="n">BaseStep</span><span class="o">.</span><span class="n">_OutputArtifact</span><span class="p">):</span>
                    <span class="n">step_output</span> <span class="o">=</span> <span class="p">[</span><span class="n">step_output</span><span class="p">]</span>

                <span class="n">step_outputs</span><span class="p">[</span><span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="n">key</span><span class="p">:</span> <span class="n">step_output</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">output_keys</span><span class="p">)</span>
                <span class="p">}</span>

        <span class="c1"># Create the connect method signature based on the expected steps</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">inspect</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">step_spec</span><span class="o">.</span><span class="n">pipeline_parameter_name</span><span class="p">,</span>
                <span class="n">kind</span><span class="o">=</span><span class="n">inspect</span><span class="o">.</span><span class="n">Parameter</span><span class="o">.</span><span class="n">POSITIONAL_OR_KEYWORD</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">step_spec</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">steps</span>
        <span class="p">]</span>
        <span class="n">signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">Signature</span><span class="p">(</span><span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">)</span>
        <span class="n">connect</span><span class="o">.</span><span class="n">__signature__</span> <span class="o">=</span> <span class="n">signature</span>  <span class="c1"># type: ignore[attr-defined]</span>

        <span class="k">return</span> <span class="n">connect</span>

    <span class="k">def</span> <span class="nf">_compile</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">run_configuration_args</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span>
        <span class="s2">&quot;PipelineDeploymentBaseModel&quot;</span><span class="p">,</span>
        <span class="s2">&quot;PipelineSpec&quot;</span><span class="p">,</span>
        <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Schedule&quot;</span><span class="p">],</span>
        <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;PipelineBuildBaseModel&quot;</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
    <span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Compiles the pipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            config_path: Path to a config file.</span>
<span class="sd">            **run_configuration_args: Configurations for the pipeline run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple containing the deployment, spec, schedule and build of</span>
<span class="sd">            the compiled pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Activating the built-in integrations to load all materializers</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.registry</span> <span class="kn">import</span> <span class="n">integration_registry</span>

        <span class="n">integration_registry</span><span class="o">.</span><span class="n">activate_integrations</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">config_path</span><span class="p">:</span>
            <span class="n">run_config</span> <span class="o">=</span> <span class="n">PipelineRunConfiguration</span><span class="o">.</span><span class="n">from_yaml</span><span class="p">(</span><span class="n">config_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">run_config</span> <span class="o">=</span> <span class="n">PipelineRunConfiguration</span><span class="p">()</span>

        <span class="n">new_values</span> <span class="o">=</span> <span class="n">dict_utils</span><span class="o">.</span><span class="n">remove_none_values</span><span class="p">(</span><span class="n">run_configuration_args</span><span class="p">)</span>
        <span class="n">update</span> <span class="o">=</span> <span class="n">PipelineRunConfiguration</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">new_values</span><span class="p">)</span>

        <span class="c1"># Update with the values in code so they take precedence</span>
        <span class="n">run_config</span> <span class="o">=</span> <span class="n">pydantic_utils</span><span class="o">.</span><span class="n">update_model</span><span class="p">(</span><span class="n">run_config</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="n">update</span><span class="p">)</span>

        <span class="n">deployment</span><span class="p">,</span> <span class="n">pipeline_spec</span> <span class="o">=</span> <span class="n">Compiler</span><span class="p">()</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
            <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">stack</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="p">,</span>
            <span class="n">run_configuration</span><span class="o">=</span><span class="n">run_config</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">pipeline_spec</span><span class="p">,</span> <span class="n">run_config</span><span class="o">.</span><span class="n">schedule</span><span class="p">,</span> <span class="n">run_config</span><span class="o">.</span><span class="n">build</span>

    <span class="k">def</span> <span class="nf">_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_spec</span><span class="p">:</span> <span class="s2">&quot;PipelineSpec&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineResponseModel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register the pipeline in the server.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_spec: The pipeline spec to register.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The registered pipeline model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">version_hash</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_unique_identifier</span><span class="p">(</span>
            <span class="n">pipeline_spec</span><span class="o">=</span><span class="n">pipeline_spec</span>
        <span class="p">)</span>

        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">matching_pipelines</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_pipelines</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">version_hash</span><span class="o">=</span><span class="n">version_hash</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;desc:created&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">matching_pipelines</span><span class="o">.</span><span class="n">total</span><span class="p">:</span>
            <span class="n">registered_pipeline</span> <span class="o">=</span> <span class="n">matching_pipelines</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Reusing registered pipeline `</span><span class="si">%s</span><span class="s2">` (version: </span><span class="si">%s</span><span class="s2">).&quot;</span><span class="p">,</span>
                <span class="n">registered_pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">registered_pipeline</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">registered_pipeline</span>

        <span class="n">latest_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_latest_version</span><span class="p">()</span> <span class="ow">or</span> <span class="mi">0</span>
        <span class="n">version</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">latest_version</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">PipelineRequestModel</span><span class="p">(</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
            <span class="n">version_hash</span><span class="o">=</span><span class="n">version_hash</span><span class="p">,</span>
            <span class="n">spec</span><span class="o">=</span><span class="n">pipeline_spec</span><span class="p">,</span>
            <span class="n">docstring</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">registered_pipeline</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_pipeline</span><span class="p">(</span>
            <span class="n">pipeline</span><span class="o">=</span><span class="n">request</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Registered pipeline `</span><span class="si">%s</span><span class="s2">` (version </span><span class="si">%s</span><span class="s2">).&quot;</span><span class="p">,</span>
            <span class="n">registered_pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">registered_pipeline</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">registered_pipeline</span>

    <span class="k">def</span> <span class="nf">_compute_unique_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_spec</span><span class="p">:</span> <span class="n">PipelineSpec</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Computes a unique identifier from the pipeline spec and steps.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_spec: Compiled spec of the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The unique identifier of the pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">hash_</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">()</span>
        <span class="n">hash_</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">pipeline_spec</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

        <span class="k">for</span> <span class="n">step_spec</span> <span class="ow">in</span> <span class="n">pipeline_spec</span><span class="o">.</span><span class="n">steps</span><span class="p">:</span>
            <span class="n">step_source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="p">[</span>
                <span class="n">step_spec</span><span class="o">.</span><span class="n">pipeline_parameter_name</span>
            <span class="p">]</span><span class="o">.</span><span class="n">source_code</span>
            <span class="n">hash_</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">step_source</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">hash_</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_latest_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the latest version of this pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The latest version or `None` if no version exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">all_pipelines</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">list_pipelines</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">sort_by</span><span class="o">=</span><span class="s2">&quot;desc:created&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">all_pipelines</span><span class="o">.</span><span class="n">total</span><span class="p">:</span>
            <span class="n">pipeline</span> <span class="o">=</span> <span class="n">all_pipelines</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="s2">&quot;UNVERSIONED&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">all_pipelines</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_load_or_create_pipeline_build</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeploymentBaseModel&quot;</span><span class="p">,</span>
        <span class="n">pipeline_spec</span><span class="p">:</span> <span class="s2">&quot;PipelineSpec&quot;</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">build</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;PipelineBuildBaseModel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineBuildResponseModel&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Loads or creates a pipeline build.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The pipeline deployment for which to load or create the</span>
<span class="sd">                build.</span>
<span class="sd">            pipeline_spec: Spec of the pipeline.</span>
<span class="sd">            pipeline_id: Optional ID of the pipeline to reference in the build.</span>
<span class="sd">            build: Optional existing build. If given, the build will be loaded</span>
<span class="sd">                (or registered) in the database. If not given, a new build will</span>
<span class="sd">                be created.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The build response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">build</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Using an old build for a pipeline run can lead to &quot;</span>
            <span class="s2">&quot;unexpected behavior as the pipeline will run with the step &quot;</span>
            <span class="s2">&quot;code that was included in the Docker images which might &quot;</span>
            <span class="s2">&quot;differ from the code in your client environment.&quot;</span>
        <span class="p">)</span>

        <span class="n">build_model</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">build</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
            <span class="n">build_model</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_build</span><span class="p">(</span><span class="n">build_id</span><span class="o">=</span><span class="n">build</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">build_model</span><span class="o">.</span><span class="n">pipeline</span><span class="p">:</span>
                <span class="n">build_hash</span> <span class="o">=</span> <span class="n">build_model</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">version_hash</span>
                <span class="n">current_hash</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_unique_identifier</span><span class="p">(</span>
                    <span class="n">pipeline_spec</span><span class="o">=</span><span class="n">pipeline_spec</span>
                <span class="p">)</span>

                <span class="k">if</span> <span class="n">build_hash</span> <span class="o">!=</span> <span class="n">current_hash</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="s2">&quot;The pipeline associated with the build you &quot;</span>
                        <span class="s2">&quot;specified for this run has a different spec &quot;</span>
                        <span class="s2">&quot;or step code. This might lead to unexpected &quot;</span>
                        <span class="s2">&quot;behavior as this pipeline run will use the &quot;</span>
                        <span class="s2">&quot;code that was included in the Docker images which &quot;</span>
                        <span class="s2">&quot;might differ from the code in your client &quot;</span>
                        <span class="s2">&quot;environment.&quot;</span>
                    <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">build_request</span> <span class="o">=</span> <span class="n">PipelineBuildRequestModel</span><span class="p">(</span>
                <span class="n">user</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">stack</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack_model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
                <span class="o">**</span><span class="n">build</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
            <span class="p">)</span>
            <span class="n">build_model</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_build</span><span class="p">(</span><span class="n">build</span><span class="o">=</span><span class="n">build_request</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">build_model</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;You&#39;re using a local build to run your pipeline. This &quot;</span>
                <span class="s2">&quot;might lead to errors if the images don&#39;t exist on &quot;</span>
                <span class="s2">&quot;your local machine or the image tags have been &quot;</span>
                <span class="s2">&quot;overwritten since the original build happened.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">build_model</span>

    <span class="k">def</span> <span class="nf">_build</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeploymentBaseModel&quot;</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineBuildResponseModel&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Builds images and registers the output in the server.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The compiled pipeline deployment.</span>
<span class="sd">            pipeline_id: The ID of the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The build output.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If multiple builds with the same key but different</span>
<span class="sd">                settings were specified.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">active_stack</span>
        <span class="n">required_builds</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">get_docker_builds</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">required_builds</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;No docker builds required.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Building Docker image(s) for pipeline `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span>
            <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">docker_image_builder</span> <span class="o">=</span> <span class="n">PipelineDockerImageBuilder</span><span class="p">()</span>
        <span class="n">images</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BuildItem</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">image_names</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">build_config</span> <span class="ow">in</span> <span class="n">required_builds</span><span class="p">:</span>
            <span class="n">combined_key</span> <span class="o">=</span> <span class="n">PipelineBuildBaseModel</span><span class="o">.</span><span class="n">get_image_key</span><span class="p">(</span>
                <span class="n">component_key</span><span class="o">=</span><span class="n">build_config</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">build_config</span><span class="o">.</span><span class="n">step_name</span>
            <span class="p">)</span>
            <span class="n">checksum</span> <span class="o">=</span> <span class="n">build_config</span><span class="o">.</span><span class="n">compute_settings_checksum</span><span class="p">(</span><span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">combined_key</span> <span class="ow">in</span> <span class="n">images</span><span class="p">:</span>
                <span class="n">previous_checksum</span> <span class="o">=</span> <span class="n">images</span><span class="p">[</span><span class="n">combined_key</span><span class="p">]</span><span class="o">.</span><span class="n">settings_checksum</span>

                <span class="k">if</span> <span class="n">previous_checksum</span> <span class="o">!=</span> <span class="n">checksum</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Trying to build image for key `</span><span class="si">{</span><span class="n">combined_key</span><span class="si">}</span><span class="s2">` but &quot;</span>
                        <span class="s2">&quot;an image for this key was already built with a &quot;</span>
                        <span class="s2">&quot;different configuration. This happens if multiple &quot;</span>
                        <span class="s2">&quot;stack components specified Docker builds for the same &quot;</span>
                        <span class="s2">&quot;key in the `StackComponent.get_docker_builds(...)` &quot;</span>
                        <span class="s2">&quot;method. If you&#39;re using custom components, make sure &quot;</span>
                        <span class="s2">&quot;to provide unique keys when returning your build &quot;</span>
                        <span class="s2">&quot;configurations to avoid this error.&quot;</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">continue</span>

            <span class="k">if</span> <span class="n">checksum</span> <span class="ow">in</span> <span class="n">image_names</span><span class="p">:</span>
                <span class="n">image_name_or_digest</span> <span class="o">=</span> <span class="n">image_names</span><span class="p">[</span><span class="n">checksum</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">tag</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">name</span>
                <span class="k">if</span> <span class="n">build_config</span><span class="o">.</span><span class="n">step_name</span><span class="p">:</span>
                    <span class="n">tag</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;-</span><span class="si">{</span><span class="n">build_config</span><span class="o">.</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">tag</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;-</span><span class="si">{</span><span class="n">build_config</span><span class="o">.</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span>

                <span class="n">image_name_or_digest</span> <span class="o">=</span> <span class="n">docker_image_builder</span><span class="o">.</span><span class="n">build_docker_image</span><span class="p">(</span>
                    <span class="n">docker_settings</span><span class="o">=</span><span class="n">build_config</span><span class="o">.</span><span class="n">settings</span><span class="p">,</span>
                    <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
                    <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span>
                    <span class="n">entrypoint</span><span class="o">=</span><span class="n">build_config</span><span class="o">.</span><span class="n">entrypoint</span><span class="p">,</span>
                    <span class="n">extra_files</span><span class="o">=</span><span class="n">build_config</span><span class="o">.</span><span class="n">extra_files</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">images</span><span class="p">[</span><span class="n">combined_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">BuildItem</span><span class="p">(</span>
                <span class="n">image</span><span class="o">=</span><span class="n">image_name_or_digest</span><span class="p">,</span> <span class="n">settings_checksum</span><span class="o">=</span><span class="n">checksum</span>
            <span class="p">)</span>
            <span class="n">image_names</span><span class="p">[</span><span class="n">checksum</span><span class="p">]</span> <span class="o">=</span> <span class="n">image_name_or_digest</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building Docker image(s).&quot;</span><span class="p">)</span>

        <span class="n">is_local</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="n">build_request</span> <span class="o">=</span> <span class="n">PipelineBuildRequestModel</span><span class="p">(</span>
            <span class="n">user</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">stack</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">active_stack_model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">is_local</span><span class="o">=</span><span class="n">is_local</span><span class="p">,</span>
            <span class="n">images</span><span class="o">=</span><span class="n">images</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_build</span><span class="p">(</span><span class="n">build_request</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.configuration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">configuration</span><span class="p">:</span> <span class="n">PipelineConfiguration</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The configuration of the pipeline.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineConfiguration</code></td>
      <td><p>The configuration of the pipeline.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.enable_cache" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>If caching is enabled for the pipeline.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[bool]</code></td>
      <td><p>If caching is enabled for the pipeline.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The name of the pipeline.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of the pipeline.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">steps</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">zenml</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">base_step</span><span class="o">.</span><span class="n">BaseStep</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Returns a dictionary of pipeline steps.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, zenml.steps.base_step.BaseStep]</code></td>
      <td><p>A dictionary of pipeline steps.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialize the BasePipeline.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>BaseStep</code></td>
        <td><p>The steps to be executed by this pipeline.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>The configuration for this pipeline.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/base_pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the BasePipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: The steps to be executed by this pipeline.</span>
<span class="sd">        **kwargs: The configuration for this pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">INSTANCE_CONFIGURATION</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span> <span class="o">=</span> <span class="n">PipelineConfiguration</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="n">enable_cache</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">PARAM_ENABLE_CACHE</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="n">enable_artifact_metadata</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
            <span class="n">PARAM_ENABLE_ARTIFACT_METADATA</span><span class="p">,</span> <span class="kc">None</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_apply_class_configuration</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">__steps</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BaseStep</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_verify_steps</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">step_configurations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">config_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Builds Docker images for the pipeline.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>settings</code></td>
        <td><code>Optional[Mapping[str, SettingsOrDict]]</code></td>
        <td><p>Settings for the pipeline.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>step_configurations</code></td>
        <td><code>Optional[Mapping[str, StepConfigurationUpdateOrDict]]</code></td>
        <td><p>Configurations for steps of the pipeline.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>config_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Path to a yaml configuration file. This file will
be parsed as a <code>zenml.config.pipeline_configurations.PipelineRunConfiguration</code>
object. Options provided in this file will be overwritten by
options provided in code using the other arguments of this
method.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[PipelineBuildResponseModel]</code></td>
      <td><p>The build output.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/base_pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;SettingsOrDict&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">step_configurations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;StepConfigurationUpdateOrDict&quot;</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineBuildResponseModel&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Builds Docker images for the pipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        settings: Settings for the pipeline.</span>
<span class="sd">        step_configurations: Configurations for steps of the pipeline.</span>
<span class="sd">        config_path: Path to a yaml configuration file. This file will</span>
<span class="sd">            be parsed as a `zenml.config.pipeline_configurations.PipelineRunConfiguration`</span>
<span class="sd">            object. Options provided in this file will be overwritten by</span>
<span class="sd">            options provided in code using the other arguments of this</span>
<span class="sd">            method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The build output.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">deployment</span><span class="p">,</span> <span class="n">pipeline_spec</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compile</span><span class="p">(</span>
        <span class="n">config_path</span><span class="o">=</span><span class="n">config_path</span><span class="p">,</span>
        <span class="n">steps</span><span class="o">=</span><span class="n">step_configurations</span><span class="p">,</span>
        <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">pipeline_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">pipeline_spec</span><span class="o">=</span><span class="n">pipeline_spec</span><span class="p">)</span><span class="o">.</span><span class="n">id</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.configure" class="doc doc-heading">
<code class="highlight language-python"><span class="n">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable_cache</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enable_artifact_metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Configures the pipeline.</p>
<p>Configuration merging example:
* <code>merge==True</code>:
    pipeline.configure(extra={"key1": 1})
    pipeline.configure(extra={"key2": 2}, merge=True)
    pipeline.configuration.extra # {"key1": 1, "key2": 2}
* <code>merge==False</code>:
    pipeline.configure(extra={"key1": 1})
    pipeline.configure(extra={"key2": 2}, merge=False)
    pipeline.configuration.extra # {"key2": 2}</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>enable_cache</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>If caching should be enabled for this pipeline.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>enable_artifact_metadata</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>If artifact metadata should be enabled for
this pipeline.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>settings</code></td>
        <td><code>Optional[Mapping[str, SettingsOrDict]]</code></td>
        <td><p>settings for this pipeline.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>extra</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Extra configurations for this pipeline.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>merge</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, will merge the given dictionary configurations
like <code>extra</code> and <code>settings</code> with existing
configurations. If <code>False</code> the given configurations will
overwrite all existing ones. See the general description of this
method for an example.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~T</code></td>
      <td><p>The pipeline instance that this method was called on.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/base_pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">configure</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span>
    <span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enable_artifact_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;SettingsOrDict&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">merge</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configures the pipeline.</span>

<span class="sd">    Configuration merging example:</span>
<span class="sd">    * `merge==True`:</span>
<span class="sd">        pipeline.configure(extra={&quot;key1&quot;: 1})</span>
<span class="sd">        pipeline.configure(extra={&quot;key2&quot;: 2}, merge=True)</span>
<span class="sd">        pipeline.configuration.extra # {&quot;key1&quot;: 1, &quot;key2&quot;: 2}</span>
<span class="sd">    * `merge==False`:</span>
<span class="sd">        pipeline.configure(extra={&quot;key1&quot;: 1})</span>
<span class="sd">        pipeline.configure(extra={&quot;key2&quot;: 2}, merge=False)</span>
<span class="sd">        pipeline.configuration.extra # {&quot;key2&quot;: 2}</span>

<span class="sd">    Args:</span>
<span class="sd">        enable_cache: If caching should be enabled for this pipeline.</span>
<span class="sd">        enable_artifact_metadata: If artifact metadata should be enabled for</span>
<span class="sd">            this pipeline.</span>
<span class="sd">        settings: settings for this pipeline.</span>
<span class="sd">        extra: Extra configurations for this pipeline.</span>
<span class="sd">        merge: If `True`, will merge the given dictionary configurations</span>
<span class="sd">            like `extra` and `settings` with existing</span>
<span class="sd">            configurations. If `False` the given configurations will</span>
<span class="sd">            overwrite all existing ones. See the general description of this</span>
<span class="sd">            method for an example.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline instance that this method was called on.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">dict_utils</span><span class="o">.</span><span class="n">remove_none_values</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;enable_cache&quot;</span><span class="p">:</span> <span class="n">enable_cache</span><span class="p">,</span>
            <span class="s2">&quot;enable_artifact_metadata&quot;</span><span class="p">:</span> <span class="n">enable_artifact_metadata</span><span class="p">,</span>
            <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="n">settings</span><span class="p">,</span>
            <span class="s2">&quot;extra&quot;</span><span class="p">:</span> <span class="n">extra</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">PipelineConfigurationUpdate</span><span class="p">(</span><span class="o">**</span><span class="n">values</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_apply_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="n">merge</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.connect" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Function that connects inputs and outputs of the pipeline steps.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>BaseStep</code></td>
        <td><p>The positional arguments passed to the pipeline.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>BaseStep</code></td>
        <td><p>The keyword arguments passed to the pipeline.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>Always.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/base_pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function that connects inputs and outputs of the pipeline steps.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: The positional arguments passed to the pipeline.</span>
<span class="sd">        **kwargs: The keyword arguments passed to the pipeline.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: Always.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.from_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Creates a pipeline instance from a model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>PipelineResponseModel</code></td>
        <td><p>The model to load the pipeline instance from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~T</code></td>
      <td><p>The pipeline instance.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the spec version of the given model is &lt;0.2</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/base_pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_model</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">model</span><span class="p">:</span> <span class="s2">&quot;PipelineResponseModel&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a pipeline instance from a model.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The model to load the pipeline instance from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline instance.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the spec version of the given model is &lt;0.2</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">version</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">version</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">version</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;0.2&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Loading a pipeline is only possible for pipeline specs with &quot;</span>
            <span class="s2">&quot;version 0.2 or higher.&quot;</span>
        <span class="p">)</span>

    <span class="n">steps</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_load_and_verify_steps</span><span class="p">(</span><span class="n">pipeline_spec</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">spec</span><span class="p">)</span>
    <span class="n">connect_method</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_generate_connect_method</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">)</span>

    <span class="n">pipeline_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span>
        <span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="p">(</span><span class="bp">cls</span><span class="p">,),</span>
        <span class="p">{</span>
            <span class="n">PIPELINE_INNER_FUNC_NAME</span><span class="p">:</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">connect_method</span><span class="p">),</span>
            <span class="s2">&quot;__doc__&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">docstring</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">)</span>

    <span class="n">pipeline_instance</span> <span class="o">=</span> <span class="n">pipeline_class</span><span class="p">(</span><span class="o">**</span><span class="n">steps</span><span class="p">)</span>

    <span class="n">version_hash</span> <span class="o">=</span> <span class="n">pipeline_instance</span><span class="o">.</span><span class="n">_compute_unique_identifier</span><span class="p">(</span>
        <span class="n">pipeline_spec</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">spec</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">version_hash</span> <span class="o">!=</span> <span class="n">model</span><span class="o">.</span><span class="n">version_hash</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Trying to load pipeline version `</span><span class="si">%s</span><span class="s2">`, but the local step code &quot;</span>
            <span class="s2">&quot;changed since this pipeline version was registered. Using &quot;</span>
            <span class="s2">&quot;this pipeline instance will result in a different pipeline &quot;</span>
            <span class="s2">&quot;version being registered or reused.&quot;</span><span class="p">,</span>
            <span class="n">model</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">pipeline_instance</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.get_runs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_runs</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get all past runs from the associated PipelineView.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[List[PipelineRunView]]</code></td>
      <td><p>A list of all past PipelineRunViews.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>In case the repository does not contain the view
of the current pipeline.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/base_pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_runs</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineRunView&quot;</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all past runs from the associated PipelineView.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all past PipelineRunViews.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: In case the repository does not contain the view</span>
<span class="sd">            of the current pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.post_execution</span> <span class="kn">import</span> <span class="n">get_pipeline</span>

    <span class="n">pipeline_view</span> <span class="o">=</span> <span class="n">get_pipeline</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pipeline_view</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">pipeline_view</span><span class="o">.</span><span class="n">runs</span>  <span class="c1"># type: ignore[no-any-return]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The PipelineView for `</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` could &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;not be found. Are you sure this pipeline has &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;been run already?&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.register" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Register the pipeline in the server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponseModel</code></td>
      <td><p>The registered pipeline model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/base_pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineResponseModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register the pipeline in the server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The registered pipeline model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Activating the built-in integrations to load all materializers</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.registry</span> <span class="kn">import</span> <span class="n">integration_registry</span>

    <span class="n">integration_registry</span><span class="o">.</span><span class="n">activate_integrations</span><span class="p">()</span>

    <span class="n">custom_configurations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span>
        <span class="n">exclude_defaults</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">custom_configurations</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The pipeline `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` that you&#39;re registering has &quot;</span>
            <span class="s2">&quot;custom configurations applied to it. These will not be &quot;</span>
            <span class="s2">&quot;registered with the pipeline and won&#39;t be set when you build &quot;</span>
            <span class="s2">&quot;images or run the pipeline from the CLI. To provide these &quot;</span>
            <span class="s2">&quot;configurations, use the `--config` option of the `zenml &quot;</span>
            <span class="s2">&quot;pipeline build/run` commands.&quot;</span>
        <span class="p">)</span>

    <span class="n">pipeline_spec</span> <span class="o">=</span> <span class="n">Compiler</span><span class="p">()</span><span class="o">.</span><span class="n">compile_spec</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">pipeline_spec</span><span class="o">=</span><span class="n">pipeline_spec</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">run_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enable_cache</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enable_artifact_metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">schedule</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">build</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">step_configurations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">config_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unlisted</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Runs the pipeline on the active stack of the current repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Name of the pipeline run.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>enable_cache</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>If caching should be enabled for this pipeline run.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>enable_artifact_metadata</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>If artifact metadata should be enabled
for this pipeline run.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>schedule</code></td>
        <td><code>Optional[zenml.config.schedule.Schedule]</code></td>
        <td><p>Optional schedule to use for the run.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>build</code></td>
        <td><code>Union[str, UUID, PipelineBuildBaseModel]</code></td>
        <td><p>Optional build to use for the run.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>settings</code></td>
        <td><code>Optional[Mapping[str, SettingsOrDict]]</code></td>
        <td><p>Settings for this pipeline run.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>step_configurations</code></td>
        <td><code>Optional[Mapping[str, StepConfigurationUpdateOrDict]]</code></td>
        <td><p>Configurations for steps of the pipeline.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>extra</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Extra configurations for this pipeline run.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>config_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Path to a yaml configuration file. This file will
be parsed as a <code>zenml.config.pipeline_configurations.PipelineRunConfiguration</code>
object. Options provided in this file will be overwritten by
options provided in code using the other arguments of this
method.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>unlisted</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the pipeline run should be unlisted (not assigned
to any pipeline).</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/base_pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enable_artifact_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">schedule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Schedule</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">build</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;UUID&quot;</span><span class="p">,</span> <span class="s2">&quot;PipelineBuildBaseModel&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;SettingsOrDict&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">step_configurations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;StepConfigurationUpdateOrDict&quot;</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">unlisted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs the pipeline on the active stack of the current repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_name: Name of the pipeline run.</span>
<span class="sd">        enable_cache: If caching should be enabled for this pipeline run.</span>
<span class="sd">        enable_artifact_metadata: If artifact metadata should be enabled</span>
<span class="sd">            for this pipeline run.</span>
<span class="sd">        schedule: Optional schedule to use for the run.</span>
<span class="sd">        build: Optional build to use for the run.</span>
<span class="sd">        settings: Settings for this pipeline run.</span>
<span class="sd">        step_configurations: Configurations for steps of the pipeline.</span>
<span class="sd">        extra: Extra configurations for this pipeline run.</span>
<span class="sd">        config_path: Path to a yaml configuration file. This file will</span>
<span class="sd">            be parsed as a `zenml.config.pipeline_configurations.PipelineRunConfiguration`</span>
<span class="sd">            object. Options provided in this file will be overwritten by</span>
<span class="sd">            options provided in code using the other arguments of this</span>
<span class="sd">            method.</span>
<span class="sd">        unlisted: Whether the pipeline run should be unlisted (not assigned</span>
<span class="sd">            to any pipeline).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">constants</span><span class="o">.</span><span class="n">SHOULD_PREVENT_PIPELINE_EXECUTION</span><span class="p">:</span>
        <span class="c1"># An environment variable was set to stop the execution of</span>
        <span class="c1"># pipelines. This is done to prevent execution of module-level</span>
        <span class="c1"># pipeline.run() calls inside docker containers which should only</span>
        <span class="c1"># run a single step.</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Preventing execution of pipeline &#39;</span><span class="si">%s</span><span class="s2">&#39;. If this is not &quot;</span>
            <span class="s2">&quot;intended behavior, make sure to unset the environment &quot;</span>
            <span class="s2">&quot;variable &#39;</span><span class="si">%s</span><span class="s2">&#39;.&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">constants</span><span class="o">.</span><span class="n">ENV_ZENML_PREVENT_PIPELINE_EXECUTION</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span>

    <span class="k">with</span> <span class="n">event_handler</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">RUN_PIPELINE</span><span class="p">)</span> <span class="k">as</span> <span class="n">analytics_handler</span><span class="p">:</span>
        <span class="n">deployment</span><span class="p">,</span> <span class="n">pipeline_spec</span><span class="p">,</span> <span class="n">schedule</span><span class="p">,</span> <span class="n">build</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compile</span><span class="p">(</span>
            <span class="n">config_path</span><span class="o">=</span><span class="n">config_path</span><span class="p">,</span>
            <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
            <span class="n">enable_cache</span><span class="o">=</span><span class="n">enable_cache</span><span class="p">,</span>
            <span class="n">enable_artifact_metadata</span><span class="o">=</span><span class="n">enable_artifact_metadata</span><span class="p">,</span>
            <span class="n">steps</span><span class="o">=</span><span class="n">step_configurations</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
            <span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
            <span class="n">build</span><span class="o">=</span><span class="n">build</span><span class="p">,</span>
            <span class="n">extra</span><span class="o">=</span><span class="n">extra</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">skip_pipeline_registration</span> <span class="o">=</span> <span class="n">constants</span><span class="o">.</span><span class="n">handle_bool_env_var</span><span class="p">(</span>
            <span class="n">constants</span><span class="o">.</span><span class="n">ENV_ZENML_SKIP_PIPELINE_REGISTRATION</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>

        <span class="n">register_pipeline</span> <span class="o">=</span> <span class="ow">not</span> <span class="p">(</span><span class="n">skip_pipeline_registration</span> <span class="ow">or</span> <span class="n">unlisted</span><span class="p">)</span>

        <span class="n">pipeline_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">register_pipeline</span><span class="p">:</span>
            <span class="n">pipeline_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">pipeline_spec</span><span class="o">=</span><span class="n">pipeline_spec</span><span class="p">)</span><span class="o">.</span><span class="n">id</span>

        <span class="c1"># TODO: check whether orchestrator even support scheduling before</span>
        <span class="c1"># registering the schedule</span>
        <span class="n">schedule_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">schedule</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                <span class="n">schedule_name</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y_%m_</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%H_%M_%S_</span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">schedule_name</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">run_name_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="n">time</span>
                <span class="p">)</span>
            <span class="n">components</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack_model</span><span class="o">.</span><span class="n">components</span>
            <span class="n">orchestrator</span> <span class="o">=</span> <span class="n">components</span><span class="p">[</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">schedule_model</span> <span class="o">=</span> <span class="n">ScheduleRequestModel</span><span class="p">(</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
                <span class="n">orchestrator_id</span><span class="o">=</span><span class="n">orchestrator</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">schedule_name</span><span class="p">,</span>
                <span class="n">active</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">cron_expression</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">,</span>
                <span class="n">start_time</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
                <span class="n">end_time</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
                <span class="n">interval_second</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">interval_second</span><span class="p">,</span>
                <span class="n">catchup</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">catchup</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">schedule_id</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_schedule</span><span class="p">(</span><span class="n">schedule_model</span><span class="p">)</span><span class="o">.</span><span class="n">id</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Created schedule `</span><span class="si">{</span><span class="n">schedule_name</span><span class="si">}</span><span class="s2">` for pipeline &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">deployment</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`.&quot;</span>
            <span class="p">)</span>

        <span class="n">stack</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span>

        <span class="n">build_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_or_create_pipeline_build</span><span class="p">(</span>
            <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span>
            <span class="n">pipeline_spec</span><span class="o">=</span><span class="n">pipeline_spec</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">build</span><span class="o">=</span><span class="n">build</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">build_id</span> <span class="o">=</span> <span class="n">build_model</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="n">build_model</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="n">deployment_request</span> <span class="o">=</span> <span class="n">PipelineDeploymentRequestModel</span><span class="p">(</span>
            <span class="n">user</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">build</span><span class="o">=</span><span class="n">build_id</span><span class="p">,</span>
            <span class="n">schedule</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">,</span>
            <span class="o">**</span><span class="n">deployment</span><span class="o">.</span><span class="n">dict</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="n">deployment_model</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_deployment</span><span class="p">(</span>
            <span class="n">deployment</span><span class="o">=</span><span class="n">deployment_request</span>
        <span class="p">)</span>

        <span class="n">analytics_handler</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_pipeline_analytics_metadata</span><span class="p">(</span>
            <span class="n">deployment</span><span class="o">=</span><span class="n">deployment_model</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="n">stack</span>
        <span class="p">)</span>
        <span class="n">caching_status</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;enabled&quot;</span>
            <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">enable_cache</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span>
            <span class="k">else</span> <span class="s2">&quot;disabled&quot;</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> on stack `</span><span class="si">%s</span><span class="s2">` (caching </span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Scheduling&quot;</span> <span class="k">if</span> <span class="n">deployment_model</span><span class="o">.</span><span class="n">schedule</span> <span class="k">else</span> <span class="s2">&quot;Running&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;pipeline `</span><span class="si">{</span><span class="n">deployment_model</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`&quot;</span>
            <span class="k">if</span> <span class="n">register_pipeline</span>
            <span class="k">else</span> <span class="s2">&quot;unlisted pipeline&quot;</span><span class="p">,</span>
            <span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">caching_status</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">stack</span><span class="o">.</span><span class="n">prepare_pipeline_deployment</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment_model</span><span class="p">)</span>

        <span class="c1"># Prevent execution of nested pipelines which might lead to</span>
        <span class="c1"># unexpected behavior</span>
        <span class="n">constants</span><span class="o">.</span><span class="n">SHOULD_PREVENT_PIPELINE_EXECUTION</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">stack</span><span class="o">.</span><span class="n">deploy_pipeline</span><span class="p">(</span>
                <span class="n">deployment</span><span class="o">=</span><span class="n">deployment_model</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">constants</span><span class="o">.</span><span class="n">SHOULD_PREVENT_PIPELINE_EXECUTION</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># Log the dashboard URL</span>
        <span class="n">dashboard_utils</span><span class="o">.</span><span class="n">print_run_url</span><span class="p">(</span>
            <span class="n">run_name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">run_name_template</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="o">=</span><span class="n">pipeline_id</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.pipelines.base_pipeline.BasePipeline.write_run_configuration_template" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_run_configuration_template</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Writes a run configuration yaml template.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>The path where the template will be written.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Optional[Stack]</code></td>
        <td><p>The stack for which the template should be generated. If
not given, the active stack will be used.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/base_pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_run_configuration_template</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Stack&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Writes a run configuration yaml template.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path where the template will be written.</span>
<span class="sd">        stack: The stack for which the template should be generated. If</span>
<span class="sd">            not given, the active stack will be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.config.base_settings</span> <span class="kn">import</span> <span class="n">ConfigurationLevel</span>
    <span class="kn">from</span> <span class="nn">zenml.config.step_configurations</span> <span class="kn">import</span> <span class="p">(</span>
        <span class="n">PartialArtifactConfiguration</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">stack</span> <span class="o">=</span> <span class="n">stack</span> <span class="ow">or</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span>

    <span class="n">setting_classes</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">setting_classes</span>
    <span class="n">setting_classes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">settings_utils</span><span class="o">.</span><span class="n">get_general_settings</span><span class="p">())</span>

    <span class="n">pipeline_settings</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">step_settings</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">setting_class</span> <span class="ow">in</span> <span class="n">setting_classes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="n">pydantic_utils</span><span class="o">.</span><span class="n">TemplateGenerator</span><span class="p">(</span><span class="n">setting_class</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">ConfigurationLevel</span><span class="o">.</span><span class="n">PIPELINE</span> <span class="ow">in</span> <span class="n">setting_class</span><span class="o">.</span><span class="n">LEVEL</span><span class="p">:</span>
            <span class="n">pipeline_settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">fields</span>
        <span class="k">if</span> <span class="n">ConfigurationLevel</span><span class="o">.</span><span class="n">STEP</span> <span class="ow">in</span> <span class="n">setting_class</span><span class="o">.</span><span class="n">LEVEL</span><span class="p">:</span>
            <span class="n">step_settings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">fields</span>

    <span class="n">steps</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">pydantic_utils</span><span class="o">.</span><span class="n">TemplateGenerator</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">PARAMETERS_CLASS</span>
            <span class="k">else</span> <span class="p">{}</span>
        <span class="p">)</span>
        <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">name</span><span class="p">:</span> <span class="n">PartialArtifactConfiguration</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">OUTPUT_SIGNATURE</span>
        <span class="p">}</span>
        <span class="n">step_template</span> <span class="o">=</span> <span class="n">StepConfigurationUpdate</span><span class="p">(</span>
            <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">=</span><span class="n">step_settings</span><span class="p">,</span>
            <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">steps</span><span class="p">[</span><span class="n">step_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">step_template</span>

    <span class="n">run_config</span> <span class="o">=</span> <span class="n">PipelineRunConfiguration</span><span class="p">(</span>
        <span class="n">settings</span><span class="o">=</span><span class="n">pipeline_settings</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="n">steps</span>
    <span class="p">)</span>
    <span class="n">template</span> <span class="o">=</span> <span class="n">pydantic_utils</span><span class="o">.</span><span class="n">TemplateGenerator</span><span class="p">(</span><span class="n">run_config</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
    <span class="n">yaml_string</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
    <span class="n">yaml_string</span> <span class="o">=</span> <span class="n">yaml_utils</span><span class="o">.</span><span class="n">comment_out_yaml</span><span class="p">(</span><span class="n">yaml_string</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">yaml_string</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.pipelines.base_pipeline.BasePipelineMeta" class="doc doc-heading">
        <code>
BasePipelineMeta            (<span title="type">type</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Pipeline Metaclass responsible for validating the pipeline definition.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/base_pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BasePipelineMeta</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pipeline Metaclass responsible for validating the pipeline definition.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
        <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BasePipelineMeta&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Saves argument names for later verification purposes.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the class.</span>
<span class="sd">            bases: The base classes of the class.</span>
<span class="sd">            dct: The dictionary of the class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dct</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">INSTANCE_CONFIGURATION</span><span class="p">,</span> <span class="p">{})</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BasePipeline&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">cls</span><span class="o">.</span><span class="n">STEP_SPEC</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">connect_spec</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfullargspec</span><span class="p">(</span>
            <span class="n">inspect</span><span class="o">.</span><span class="n">unwrap</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">PIPELINE_INNER_FUNC_NAME</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="n">connect_args</span> <span class="o">=</span> <span class="n">connect_spec</span><span class="o">.</span><span class="n">args</span>

        <span class="k">if</span> <span class="n">connect_args</span> <span class="ow">and</span> <span class="n">connect_args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;self&quot;</span><span class="p">:</span>
            <span class="n">connect_args</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">connect_args</span><span class="p">:</span>
            <span class="n">arg_type</span> <span class="o">=</span> <span class="n">connect_spec</span><span class="o">.</span><span class="n">annotations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">STEP_SPEC</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">arg</span><span class="p">:</span> <span class="n">arg_type</span><span class="p">})</span>
        <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.pipelines.base_pipeline.BasePipelineMeta.__new__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Saves argument names for later verification purposes.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the class.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>bases</code></td>
        <td><code>Tuple[Type[Any], ...]</code></td>
        <td><p>The base classes of the class.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dct</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>The dictionary of the class.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BasePipelineMeta</code></td>
      <td><p>The class.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/base_pipeline.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
    <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BasePipelineMeta&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Saves argument names for later verification purposes.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the class.</span>
<span class="sd">        bases: The base classes of the class.</span>
<span class="sd">        dct: The dictionary of the class.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dct</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">INSTANCE_CONFIGURATION</span><span class="p">,</span> <span class="p">{})</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
        <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BasePipeline&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="bp">cls</span><span class="o">.</span><span class="n">STEP_SPEC</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">connect_spec</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfullargspec</span><span class="p">(</span>
        <span class="n">inspect</span><span class="o">.</span><span class="n">unwrap</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">PIPELINE_INNER_FUNC_NAME</span><span class="p">))</span>
    <span class="p">)</span>
    <span class="n">connect_args</span> <span class="o">=</span> <span class="n">connect_spec</span><span class="o">.</span><span class="n">args</span>

    <span class="k">if</span> <span class="n">connect_args</span> <span class="ow">and</span> <span class="n">connect_args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;self&quot;</span><span class="p">:</span>
        <span class="n">connect_args</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">connect_args</span><span class="p">:</span>
        <span class="n">arg_type</span> <span class="o">=</span> <span class="n">connect_spec</span><span class="o">.</span><span class="n">annotations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">STEP_SPEC</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">arg</span><span class="p">:</span> <span class="n">arg_type</span><span class="p">})</span>
    <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.pipelines.pipeline_decorator" class="doc doc-heading">
        <code>pipeline_decorator</code>



</h3>

    <div class="doc doc-contents ">

      <p>Decorator function for ZenML pipelines.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h4 id="zenml.pipelines.pipeline_decorator.pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pipeline</span><span class="p">(</span><span class="n">_func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enable_cache</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enable_artifact_metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Outer decorator function for the creation of a ZenML pipeline.</p>
<p>In order to be able to work with parameters such as "name", it features a
nested decorator structure.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>_func</code></td>
        <td><code>Optional[~F]</code></td>
        <td><p>The decorated function.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the pipeline. If left empty, the name of the
decorated function will be used as a fallback.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>enable_cache</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Whether to use caching or not.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>enable_artifact_metadata</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Whether to enable artifact metadata or not.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>settings</code></td>
        <td><code>Optional[Dict[str, SettingsOrDict]]</code></td>
        <td><p>Settings for this pipeline.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>extra</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Extra configurations for this pipeline.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[Type[zenml.pipelines.base_pipeline.BasePipeline], Callable[[~F], Type[zenml.pipelines.base_pipeline.BasePipeline]]]</code></td>
      <td><p>the inner decorator which creates the pipeline class based on the
ZenML BasePipeline</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/pipelines/pipeline_decorator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">pipeline</span><span class="p">(</span>
    <span class="n">_func</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">F</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enable_artifact_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;SettingsOrDict&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">extra</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">BasePipeline</span><span class="p">],</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">F</span><span class="p">],</span> <span class="n">Type</span><span class="p">[</span><span class="n">BasePipeline</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Outer decorator function for the creation of a ZenML pipeline.</span>

<span class="sd">    In order to be able to work with parameters such as &quot;name&quot;, it features a</span>
<span class="sd">    nested decorator structure.</span>

<span class="sd">    Args:</span>
<span class="sd">        _func: The decorated function.</span>
<span class="sd">        name: The name of the pipeline. If left empty, the name of the</span>
<span class="sd">            decorated function will be used as a fallback.</span>
<span class="sd">        enable_cache: Whether to use caching or not.</span>
<span class="sd">        enable_artifact_metadata: Whether to enable artifact metadata or not.</span>
<span class="sd">        settings: Settings for this pipeline.</span>
<span class="sd">        extra: Extra configurations for this pipeline.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the inner decorator which creates the pipeline class based on the</span>
<span class="sd">        ZenML BasePipeline</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">inner_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">F</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">BasePipeline</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Inner decorator function for the creation of a ZenML pipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            func: types.FunctionType, this function will be used as the</span>
<span class="sd">                &quot;connect&quot; method of the generated Pipeline</span>

<span class="sd">        Returns:</span>
<span class="sd">            the class of a newly generated ZenML Pipeline</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span>  <span class="c1"># noqa</span>
            <span class="n">name</span> <span class="k">if</span> <span class="n">name</span> <span class="k">else</span> <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">(</span><span class="n">BasePipeline</span><span class="p">,),</span>
            <span class="p">{</span>
                <span class="n">PIPELINE_INNER_FUNC_NAME</span><span class="p">:</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="n">func</span><span class="p">),</span>  <span class="c1"># type: ignore[arg-type] # noqa</span>
                <span class="n">INSTANCE_CONFIGURATION</span><span class="p">:</span> <span class="p">{</span>
                    <span class="n">PARAM_ENABLE_CACHE</span><span class="p">:</span> <span class="n">enable_cache</span><span class="p">,</span>
                    <span class="n">PARAM_ENABLE_ARTIFACT_METADATA</span><span class="p">:</span> <span class="n">enable_artifact_metadata</span><span class="p">,</span>
                    <span class="n">PARAM_SETTINGS</span><span class="p">:</span> <span class="n">settings</span><span class="p">,</span>
                    <span class="n">PARAM_EXTRA_OPTIONS</span><span class="p">:</span> <span class="n">extra</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="s2">&quot;__module__&quot;</span><span class="p">:</span> <span class="n">func</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span>
                <span class="s2">&quot;__doc__&quot;</span><span class="p">:</span> <span class="n">func</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">_func</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inner_decorator</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">inner_decorator</span><span class="p">(</span><span class="n">_func</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../core-orchestrators/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Orchestrators" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Orchestrators
            </div>
          </div>
        </a>
      
      
        
        <a href="../core-post_execution/" class="md-footer__link md-footer__link--next" aria-label="Next: Post Execution" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Post Execution
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH  <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>