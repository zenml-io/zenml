import{j as t}from"./@radix-sxciy0xP.js";import{a as r}from"./@monaco-editor-Di1Jq_O0.js";import{b as y}from"./@tanstack-BjpQvXOk.js";import{F as j,aO as v,G as E,H as L,e as N,T as $,b5 as H,a0 as R,r as C,k,B as T,s as F,aG as B}from"./index-Duh0NHGE.js";import{L as g}from"./@react-router-B8Rvl3f4.js";import{N as Z}from"./KeyValue-DZ13WVJV.js";import{C as G}from"./ComponentBadge-DFdPRD6s.js";const D=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0083 2C6.47396 2 2 6.58331 2 12.2535C2 16.786 4.86662 20.6226 8.84338 21.9805C9.34058 22.0826 9.5227 21.7599 9.5227 21.4885C9.5227 21.2508 9.50631 20.436 9.50631 19.587C6.72225 20.1983 6.14249 18.3647 6.14249 18.3647C5.69508 17.1764 5.03215 16.871 5.03215 16.871C4.12092 16.2429 5.09852 16.2429 5.09852 16.2429C6.1093 16.3108 6.63969 17.2954 6.63969 17.2954C7.53432 18.857 8.97592 18.4158 9.55588 18.1441C9.63865 17.482 9.90394 17.0237 10.1856 16.7691C7.96514 16.5314 5.62891 15.6487 5.62891 11.7102C5.62891 10.5898 6.02634 9.67309 6.65608 8.96018C6.55672 8.7056 6.20866 7.65289 6.75564 6.24394C6.75564 6.24394 7.60069 5.97228 9.5061 7.29644C10.3219 7.07199 11.1632 6.95782 12.0083 6.95685C12.8533 6.95685 13.7148 7.07581 14.5102 7.29644C16.4159 5.97228 17.2609 6.24394 17.2609 6.24394C17.8079 7.65289 17.4596 8.7056 17.3603 8.96018C18.0066 9.67309 18.3876 10.5898 18.3876 11.7102C18.3876 15.6487 16.0514 16.5143 13.8143 16.7691C14.179 17.0916 14.4936 17.7026 14.4936 18.6703C14.4936 20.0453 14.4773 21.1489 14.4773 21.4883C14.4773 21.7599 14.6596 22.0826 15.1566 21.9808C19.1333 20.6224 22 16.786 22 12.2535C22.0163 6.58331 17.526 2 12.0083 2Z",fill:"#0D061D"})),_=e=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M11.9993 21.4496L15.6838 10.0985H8.32019L11.9993 21.4496Z",fill:"#E24329"}),r.createElement("path",{d:"M3.1594 10.0985L2.03738 13.5471C1.93585 13.8603 2.0455 14.2059 2.31349 14.4011L11.9993 21.4496L3.1594 10.0985Z",fill:"#FCA326"}),r.createElement("path",{d:"M3.15942 10.0985H8.32019L6.09914 3.26231C5.98547 2.91256 5.49006 2.91256 5.3723 3.26231L3.15942 10.0985Z",fill:"#E24329"}),r.createElement("path",{d:"M20.8446 10.0985L21.9626 13.5471C22.0641 13.8603 21.9545 14.2059 21.6865 14.4011L11.9993 21.4496L20.8446 10.0985Z",fill:"#FCA326"}),r.createElement("path",{d:"M20.8446 10.0985H15.6838L17.9008 3.26231C18.0145 2.91256 18.5099 2.91256 18.6276 3.26231L20.8446 10.0985Z",fill:"#E24329"}),r.createElement("path",{d:"M11.9993 21.4496L15.6838 10.0985H20.8446L11.9993 21.4496Z",fill:"#FC6D26"}),r.createElement("path",{d:"M11.9993 21.4496L3.15942 10.0985H8.32019L11.9993 21.4496Z",fill:"#FC6D26"}));function A({repositoryId:e}){return["code_repositories",e]}async function P({repositoryId:e}){const n=j(L.code_repositories.detail(e)),l=await fetch(n,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(l.status===404&&v(),!l.ok)throw new E({message:`Error while fetching code repository ${e}`,status:l.status,statusText:l.statusText});return l.json()}function S(e,n){return y({queryKey:A(e),queryFn:()=>P(e),...n})}function V({repositoryId:e,commit:n}){var h;const{data:l,isPending:i,isError:a}=S({repositoryId:e},{enabled:!!e});if(!e||!n)return t.jsx("p",{children:"Not available"});if(i)return t.jsx(N,{className:"h-6"});if(a)return null;const s=(h=l.metadata)==null?void 0:h.config,b=()=>{var m,f,p,x;let c=null,o=l==null?void 0:l.name,u;return((f=(m=l==null?void 0:l.body)==null?void 0:m.source)==null?void 0:f.attribute)==="GitHubCodeRepository"?(c=D,o=`${s==null?void 0:s.owner}/${s==null?void 0:s.repository}`,u=`https://www.${(typeof(s==null?void 0:s.host)=="string"?s.host:"github.com").replace(/\/$/,"")}/${o}`+(n?`/commit/${n}`:"")):((x=(p=l==null?void 0:l.body)==null?void 0:p.source)==null?void 0:x.attribute)==="GitLabCodeRepository"&&(c=_,o=`${s==null?void 0:s.group}/${s==null?void 0:s.project}`,u=`https://www.${(typeof(s==null?void 0:s.host)=="string"?s.host:"gitlab.com").replace(/\/$/,"")}/${o}`+(n?`/commit/${n}`:"")),t.jsxs("a",{target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${u?"":"pointer-events-none"}`,onClick:d=>d.stopPropagation(),href:u,children:[c&&t.jsx(c,{className:"mr-1 h-5 w-5 fill-theme-text-brand"}),o]})};return t.jsxs("div",{className:"group/copybutton mr-1",children:[t.jsxs($,{color:"grey",className:"inline-flex items-center font-semibold text-neutral-900",rounded:!1,emphasis:"subtle",children:[b(),t.jsx("div",{className:"ml-1 rounded-sm bg-neutral-200 px-1 py-0.25",children:H(n,10)})]}),t.jsx(R,{copyText:n})]})}function W({component:e,objectConfig:n}){var a,s;const l=`${(a=e.body)==null?void 0:a.type}.${(s=e.body)==null?void 0:s.flavor_name}`,i=(n==null?void 0:n[l])??void 0;return!i||Object.keys(i).length===0?t.jsx(g,{to:C.components.detail(e.id),children:t.jsx(k,{className:"flex w-full items-center justify-between gap-3 px-5 py-3 text-left",children:t.jsx(w,{component:e})})}):t.jsx(Z,{intent:"primary",contentClassName:"pl-[60px]",className:"w-full",isInitialOpen:!1,title:t.jsx("div",{className:"flex w-full items-center justify-between gap-3 text-left",children:t.jsx(w,{component:e})}),data:i,children:t.jsx(T,{asChild:!0,intent:"secondary",emphasis:"subtle",className:"mx-auto flex w-fit justify-center text-text-sm text-theme-text-secondary",children:t.jsx(g,{to:C.components.detail(e.id),children:"See Component Details"})})})}function w({component:e}){var n,l,i,a;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{width:32,height:32,alt:`${(n=e.body)==null?void 0:n.flavor_name} logo`,src:F(((l=e.body)==null?void 0:l.logo_url)||"")}),t.jsxs("div",{children:[t.jsx("p",{className:"text-text-lg",children:e.name}),t.jsx("p",{className:"text-text-sm text-theme-text-secondary",children:e.id.split("-")[0]})]})]}),t.jsx(G,{type:((i=e.body)==null?void 0:i.type)||"orchestrator",children:B(((a=e.body)==null?void 0:a.type)||"")})]})}export{W as C,V as R};
