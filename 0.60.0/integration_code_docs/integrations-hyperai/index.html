
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.60.0/integration_code_docs/integrations-hyperai/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-8.5.10">
    
    
      
        <title>Hyperai - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hyperai" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Hyperai
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-_hub/" class="md-nav__link">
        Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-actions/" class="md-nav__link">
        Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-analytics/" class="md-nav__link">
        Analytics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-api/" class="md-nav__link">
        Api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-client_lazy_loader/" class="md-nav__link">
        Client Lazy Loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-code_repositories/" class="md-nav__link">
        Code Repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-event_hub/" class="md-nav__link">
        Event Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-event_sources/" class="md-nav__link">
        Event Sources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-image_builders/" class="md-nav__link">
        Image Builders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-lineage_graph/" class="md-nav__link">
        Lineage Graph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-model/" class="md-nav__link">
        Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-model_registries/" class="md-nav__link">
        Model Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-new/" class="md-nav__link">
        New
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-service_connectors/" class="md-nav__link">
        Service Connectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-argilla/" class="md-nav__link">
        Argilla
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-azure/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-bentoml/" class="md-nav__link">
        Bentoml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-bitbucket/" class="md-nav__link">
        Bitbucket
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-comet/" class="md-nav__link">
        Comet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-discord/" class="md-nav__link">
        Discord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-gitlab/" class="md-nav__link">
        Gitlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-huggingface/" class="md-nav__link">
        Huggingface
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Hyperai
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Hyperai
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai" class="md-nav__link">
    hyperai
  </a>
  
    <nav class="md-nav" aria-label="hyperai">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.HyperAIIntegration" class="md-nav__link">
    HyperAIIntegration
  </a>
  
    <nav class="md-nav" aria-label="HyperAIIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.HyperAIIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.HyperAIIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors" class="md-nav__link">
    flavors
  </a>
  
    <nav class="md-nav" aria-label="flavors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor" class="md-nav__link">
    hyperai_orchestrator_flavor
  </a>
  
    <nav class="md-nav" aria-label="hyperai_orchestrator_flavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorConfig" class="md-nav__link">
    HyperAIOrchestratorConfig
  </a>
  
    <nav class="md-nav" aria-label="HyperAIOrchestratorConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorConfig.is_remote" class="md-nav__link">
    is_remote
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor" class="md-nav__link">
    HyperAIOrchestratorFlavor
  </a>
  
    <nav class="md-nav" aria-label="HyperAIOrchestratorFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.docs_url" class="md-nav__link">
    docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.logo_url" class="md-nav__link">
    logo_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.sdk_docs_url" class="md-nav__link">
    sdk_docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.service_connector_requirements" class="md-nav__link">
    service_connector_requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorSettings" class="md-nav__link">
    HyperAIOrchestratorSettings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator" class="md-nav__link">
    hyperai_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="hyperai_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator" class="md-nav__link">
    HyperAIOrchestrator
  </a>
  
    <nav class="md-nav" aria-label="HyperAIOrchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.settings_class" class="md-nav__link">
    settings_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.validator" class="md-nav__link">
    validator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.get_orchestrator_run_id" class="md-nav__link">
    get_orchestrator_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.prepare_or_run_pipeline" class="md-nav__link">
    prepare_or_run_pipeline()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.service_connectors" class="md-nav__link">
    service_connectors
  </a>
  
    <nav class="md-nav" aria-label="service_connectors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.service_connectors.hyperai_service_connector" class="md-nav__link">
    hyperai_service_connector
  </a>
  
    <nav class="md-nav" aria-label="hyperai_service_connector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAIAuthenticationMethods" class="md-nav__link">
    HyperAIAuthenticationMethods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAIConfiguration" class="md-nav__link">
    HyperAIConfiguration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAICredentials" class="md-nav__link">
    HyperAICredentials
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAIServiceConnector" class="md-nav__link">
    HyperAIServiceConnector
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-kaniko/" class="md-nav__link">
        Kaniko
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-langchain/" class="md-nav__link">
        Langchain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-llama_index/" class="md-nav__link">
        Llama Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-neptune/" class="md-nav__link">
        Neptune
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-openai/" class="md-nav__link">
        Openai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pigeon/" class="md-nav__link">
        Pigeon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-polars/" class="md-nav__link">
        Polars
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-prodigy/" class="md-nav__link">
        Prodigy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pycaret/" class="md-nav__link">
        Pycaret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot/" class="md-nav__link">
        Skypilot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_aws/" class="md-nav__link">
        Skypilot Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_azure/" class="md-nav__link">
        Skypilot Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_gcp/" class="md-nav__link">
        Skypilot Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_lambda/" class="md-nav__link">
        Skypilot Lambda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai" class="md-nav__link">
    hyperai
  </a>
  
    <nav class="md-nav" aria-label="hyperai">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.HyperAIIntegration" class="md-nav__link">
    HyperAIIntegration
  </a>
  
    <nav class="md-nav" aria-label="HyperAIIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.HyperAIIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.HyperAIIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors" class="md-nav__link">
    flavors
  </a>
  
    <nav class="md-nav" aria-label="flavors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor" class="md-nav__link">
    hyperai_orchestrator_flavor
  </a>
  
    <nav class="md-nav" aria-label="hyperai_orchestrator_flavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorConfig" class="md-nav__link">
    HyperAIOrchestratorConfig
  </a>
  
    <nav class="md-nav" aria-label="HyperAIOrchestratorConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorConfig.is_remote" class="md-nav__link">
    is_remote
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor" class="md-nav__link">
    HyperAIOrchestratorFlavor
  </a>
  
    <nav class="md-nav" aria-label="HyperAIOrchestratorFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.docs_url" class="md-nav__link">
    docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.logo_url" class="md-nav__link">
    logo_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.sdk_docs_url" class="md-nav__link">
    sdk_docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.service_connector_requirements" class="md-nav__link">
    service_connector_requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorSettings" class="md-nav__link">
    HyperAIOrchestratorSettings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator" class="md-nav__link">
    hyperai_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="hyperai_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator" class="md-nav__link">
    HyperAIOrchestrator
  </a>
  
    <nav class="md-nav" aria-label="HyperAIOrchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.settings_class" class="md-nav__link">
    settings_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.validator" class="md-nav__link">
    validator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.get_orchestrator_run_id" class="md-nav__link">
    get_orchestrator_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.prepare_or_run_pipeline" class="md-nav__link">
    prepare_or_run_pipeline()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.service_connectors" class="md-nav__link">
    service_connectors
  </a>
  
    <nav class="md-nav" aria-label="service_connectors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.service_connectors.hyperai_service_connector" class="md-nav__link">
    hyperai_service_connector
  </a>
  
    <nav class="md-nav" aria-label="hyperai_service_connector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAIAuthenticationMethods" class="md-nav__link">
    HyperAIAuthenticationMethods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAIConfiguration" class="md-nav__link">
    HyperAIConfiguration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAICredentials" class="md-nav__link">
    HyperAICredentials
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAIServiceConnector" class="md-nav__link">
    HyperAIServiceConnector
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zenml-io/zenml/docs/integration_code_docs/integrations-hyperai.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="hyperai">Hyperai</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.integrations.hyperai" class="doc doc-heading">
        <code>zenml.integrations.hyperai</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>Initialization of the HyperAI integration.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h3 id="zenml.integrations.hyperai.HyperAIIntegration" class="doc doc-heading">
        <code>
HyperAIIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="../integrations-integration/#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h3>

    <div class="doc doc-contents ">

      <p>Definition of HyperAI integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HyperAIIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Definition of HyperAI integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">HYPERAI</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;paramiko&gt;=3.4.0&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.hyperai</span> <span class="kn">import</span> <span class="n">service_connectors</span>  <span class="c1"># noqa</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Flavor</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the HyperAI integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.hyperai.flavors</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">HyperAIOrchestratorFlavor</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">HyperAIOrchestratorFlavor</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h4 id="zenml.integrations.hyperai.HyperAIIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Activates the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.hyperai</span> <span class="kn">import</span> <span class="n">service_connectors</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="zenml.integrations.hyperai.HyperAIIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the HyperAI integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Type[zenml.stack.flavor.Flavor]]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Flavor</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the HyperAI integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.hyperai.flavors</span> <span class="kn">import</span> <span class="p">(</span>
        <span class="n">HyperAIOrchestratorFlavor</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">HyperAIOrchestratorFlavor</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.hyperai.flavors" class="doc doc-heading">
        <code>flavors</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>HyperAI integration flavors.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor" class="doc doc-heading">
        <code>hyperai_orchestrator_flavor</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the ZenML HyperAI orchestrator.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorConfig" class="doc doc-heading">
        <code>
HyperAIOrchestratorConfig            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig" href="../../core_code_docs/core-orchestrators/#zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig">BaseOrchestratorConfig</a>, <a class="autorefs autorefs-internal" title="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorSettings" href="#zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorSettings">HyperAIOrchestratorSettings</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Configuration for the HyperAI orchestrator.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>container_registry_autologin</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the orchestrator will attempt to
automatically log in to the container registry specified in the stack
configuration on the HyperAI instance. This is useful if the container
registry requires authentication and the HyperAI instance has not been
manually logged in to the container registry. Defaults to <code>False</code>.</p></td>
      </tr>
      <tr>
        <td><code>automatic_cleanup_pipeline_files</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the orchestrator will
automatically clean up old pipeline files that are on the HyperAI
instance. Pipeline files will be cleaned up if they are 7 days old or
older. Defaults to <code>True</code>.</p></td>
      </tr>
      <tr>
        <td><code>gpu_enabled_in_container</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the orchestrator will enable GPU
support in the Docker container that runs on the HyperAI instance.
Defaults to <code>True</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/flavors/hyperai_orchestrator_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HyperAIOrchestratorConfig</span><span class="p">(</span>
    <span class="n">BaseOrchestratorConfig</span><span class="p">,</span> <span class="n">HyperAIOrchestratorSettings</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configuration for the HyperAI orchestrator.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        container_registry_autologin: If True, the orchestrator will attempt to</span>
<span class="sd">            automatically log in to the container registry specified in the stack</span>
<span class="sd">            configuration on the HyperAI instance. This is useful if the container</span>
<span class="sd">            registry requires authentication and the HyperAI instance has not been</span>
<span class="sd">            manually logged in to the container registry. Defaults to `False`.</span>
<span class="sd">        automatic_cleanup_pipeline_files: If True, the orchestrator will</span>
<span class="sd">            automatically clean up old pipeline files that are on the HyperAI</span>
<span class="sd">            instance. Pipeline files will be cleaned up if they are 7 days old or</span>
<span class="sd">            older. Defaults to `True`.</span>
<span class="sd">        gpu_enabled_in_container: If True, the orchestrator will enable GPU</span>
<span class="sd">            support in the Docker container that runs on the HyperAI instance.</span>
<span class="sd">            Defaults to `True`.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">container_registry_autologin</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">automatic_cleanup_pipeline_files</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">gpu_enabled_in_container</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_remote</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if this stack component is running remotely.</span>

<span class="sd">        This designation is used to determine if the stack component can be</span>
<span class="sd">        used with a local ZenML database or if it requires a remote ZenML</span>
<span class="sd">        server.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if this config is for a remote component, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorConfig.is_remote" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_remote</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Checks if this stack component is running remotely.</p>
<p>This designation is used to determine if the stack component can be
used with a local ZenML database or if it requires a remote ZenML
server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if this config is for a remote component, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor" class="doc doc-heading">
        <code>
HyperAIOrchestratorFlavor            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor" href="../../core_code_docs/core-orchestrators/#zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor">BaseOrchestratorFlavor</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Flavor for the HyperAI orchestrator.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/flavors/hyperai_orchestrator_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HyperAIOrchestratorFlavor</span><span class="p">(</span><span class="n">BaseOrchestratorFlavor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Flavor for the HyperAI orchestrator.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Name of the orchestrator flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Name of the orchestrator flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;hyperai&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">service_connector_requirements</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceConnectorRequirements</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Service connector resource requirements for service connectors.</span>

<span class="sd">        Specifies resource requirements that are used to filter the available</span>
<span class="sd">        service connector types that are compatible with this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Requirements for compatible service connectors, if a service</span>
<span class="sd">            connector is required for this flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ServiceConnectorRequirements</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">HYPERAI_RESOURCE_TYPE</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to point at docs explaining this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A flavor docs url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_default_docs_url</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sdk_docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to point at SDK docs explaining this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A flavor SDK docs url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_default_sdk_docs_url</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">logo_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to represent the flavor in the dashboard.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The flavor logo.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;https://public-flavor-logos.s3.eu-central-1.amazonaws.com/connectors/hyperai/hyperai.png&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseOrchestratorConfig</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Config class for the base orchestrator flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The config class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">HyperAIOrchestratorConfig</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;HyperAIOrchestrator&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation class for this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Implementation class for this flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.hyperai.orchestrators</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">HyperAIOrchestrator</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">HyperAIOrchestrator</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.config_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">orchestrators</span><span class="o">.</span><span class="n">base_orchestrator</span><span class="o">.</span><span class="n">BaseOrchestratorConfig</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Config class for the base orchestrator flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig]</code></td>
      <td><p>The config class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.docs_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A url to point at docs explaining this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A flavor docs url.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.implementation_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">implementation_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">HyperAIOrchestrator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Implementation class for this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[HyperAIOrchestrator]</code></td>
      <td><p>Implementation class for this flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.logo_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logo_url</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A url to represent the flavor in the dashboard.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The flavor logo.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Name of the orchestrator flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Name of the orchestrator flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.sdk_docs_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sdk_docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A url to point at SDK docs explaining this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A flavor SDK docs url.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorFlavor.service_connector_requirements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service_connector_requirements</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">service_connector_type</span><span class="o">.</span><span class="n">ServiceConnectorRequirements</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Service connector resource requirements for service connectors.</p>
<p>Specifies resource requirements that are used to filter the available
service connector types that are compatible with this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.models.v2.misc.service_connector_type.ServiceConnectorRequirements]</code></td>
      <td><p>Requirements for compatible service connectors, if a service
connector is required for this flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.hyperai.flavors.hyperai_orchestrator_flavor.HyperAIOrchestratorSettings" class="doc doc-heading">
        <code>
HyperAIOrchestratorSettings            (<a class="autorefs autorefs-internal" title="zenml.config.base_settings.BaseSettings" href="../../core_code_docs/core-config/#zenml.config.base_settings.BaseSettings">BaseSettings</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>HyperAI orchestrator settings.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>mounts_from_to</code></td>
        <td><code>Dict[str, str]</code></td>
        <td><p>A dictionary mapping from paths on the HyperAI instance
to paths within the Docker container. This allows users to mount
directories from the HyperAI instance into the Docker container that runs
on it.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/flavors/hyperai_orchestrator_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HyperAIOrchestratorSettings</span><span class="p">(</span><span class="n">BaseSettings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;HyperAI orchestrator settings.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        mounts_from_to: A dictionary mapping from paths on the HyperAI instance</span>
<span class="sd">            to paths within the Docker container. This allows users to mount</span>
<span class="sd">            directories from the HyperAI instance into the Docker container that runs</span>
<span class="sd">            on it.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">mounts_from_to</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.hyperai.orchestrators" class="doc doc-heading">
        <code>orchestrators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>HyperAI orchestrator.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.hyperai.orchestrators.hyperai_orchestrator" class="doc doc-heading">
        <code>hyperai_orchestrator</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the ZenML HyperAI orchestrator.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator" class="doc doc-heading">
        <code>
HyperAIOrchestrator            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.containerized_orchestrator.ContainerizedOrchestrator" href="../../core_code_docs/core-orchestrators/#zenml.orchestrators.containerized_orchestrator.ContainerizedOrchestrator">ContainerizedOrchestrator</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Orchestrator responsible for running pipelines on HyperAI instances.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/orchestrators/hyperai_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HyperAIOrchestrator</span><span class="p">(</span><span class="n">ContainerizedOrchestrator</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Orchestrator responsible for running pipelines on HyperAI instances.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HyperAIOrchestratorConfig</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the `HyperAIOrchestratorConfig` config.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">HyperAIOrchestratorConfig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">settings_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseSettings&quot;</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Settings class for the HyperAI orchestrator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The settings class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">HyperAIOrchestratorSettings</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ensures there is an image builder in the stack.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `StackValidator` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">StackValidator</span><span class="p">(</span>
            <span class="n">required_components</span><span class="o">=</span><span class="p">{</span>
                <span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">,</span>
                <span class="n">StackComponentType</span><span class="o">.</span><span class="n">IMAGE_BUILDER</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the active orchestrator run id.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the environment variable specifying the run id</span>
<span class="sd">                is not set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The orchestrator run id.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_HYPERAI_RUN_ID</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Unable to read run id from environment variable &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ENV_ZENML_HYPERAI_RUN_ID</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_validate_mount_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates if a given string is in a valid path format.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to be validated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path in a valid format.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the path is not in a valid format.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Define a regular expression pattern to match a valid path format</span>
        <span class="n">pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;^(?:[a-zA-Z]:</span><span class="se">\\</span><span class="s1">(</span><span class="se">\\</span><span class="s1">[^</span><span class="se">\\</span><span class="s1">/:*?&quot;&lt;&gt;|]*)*$|^/([^\0]*)*$)&#39;</span>

        <span class="k">if</span> <span class="nb">bool</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">path</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">path</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Path &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39; is not in a valid format, so a mount cannot be established.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_escape_shell_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Escapes a shell command.</span>

<span class="sd">        Args:</span>
<span class="sd">            command: The command to escape.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The escaped command.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">quote</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_scp_to_hyperai_instance</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">paramiko_client</span><span class="p">:</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">SSHClient</span><span class="p">,</span>
        <span class="n">f</span><span class="p">:</span> <span class="n">IO</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">directory_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Copies a file to a HyperAI instance using SCP.</span>

<span class="sd">        Args:</span>
<span class="sd">            paramiko_client: The SSH client to use for the SCP transfer.</span>
<span class="sd">            f: The file to transfer.</span>
<span class="sd">            directory_name: The directory on the HyperAI instance to transfer</span>
<span class="sd">                the file to.</span>
<span class="sd">            file_name: The name of the file being transferred.</span>
<span class="sd">            description: A description of the file being transferred.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the file cannot be written to the HyperAI instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">scp_client</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">open_sftp</span><span class="p">()</span>
            <span class="n">scp_client</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">scp_client</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to write </span><span class="si">{</span><span class="n">description</span><span class="si">}</span><span class="s2"> to HyperAI instance. Does the user have permissions to write?&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeploymentResponse&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">environment</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sequentially runs all pipeline steps in Docker containers.</span>

<span class="sd">        Assumes that:</span>
<span class="sd">        - A HyperAI (hyperai.ai) instance is running on the configured IP address.</span>
<span class="sd">        - The HyperAI instance has been configured to allow SSH connections from the</span>
<span class="sd">            machine running the pipeline.</span>
<span class="sd">        - Docker and Docker Compose are installed on the HyperAI instance.</span>
<span class="sd">        - A key pair has been generated and the public key has been added to the</span>
<span class="sd">            HyperAI instance&#39;s `authorized_keys` file.</span>
<span class="sd">        - The private key is available in a HyperAI service connector linked to this</span>
<span class="sd">            orchestrator.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The pipeline deployment to prepare or run.</span>
<span class="sd">            stack: The stack the pipeline will run on.</span>
<span class="sd">            environment: Environment variables to set in the orchestration</span>
<span class="sd">                environment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If a step fails.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.hyperai.service_connectors.hyperai_service_connector</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">HyperAIServiceConnector</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Basic Docker Compose definition</span>
        <span class="n">compose_definition</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">{}}</span>

        <span class="c1"># Get deployment id</span>
        <span class="n">deployment_id</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">id</span>

        <span class="c1"># Set environment</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_HYPERAI_RUN_ID</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">deployment_id</span><span class="p">)</span>
        <span class="n">environment</span><span class="p">[</span><span class="n">ENV_ZENML_HYPERAI_RUN_ID</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">deployment_id</span><span class="p">)</span>

        <span class="c1"># Add each step as a service to the Docker Compose definition</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Preparing pipeline steps for deployment.&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">deployment</span><span class="o">.</span><span class="n">step_configurations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Get image</span>
            <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_image</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">)</span>

            <span class="c1"># Get settings</span>
            <span class="n">step_settings</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
                <span class="n">HyperAIOrchestratorSettings</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_settings</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
            <span class="p">)</span>

            <span class="c1"># Define container name as combination between deployment id and step name</span>
            <span class="n">container_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">deployment_id</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&quot;</span>

            <span class="c1"># Make Compose service definition for step</span>
            <span class="n">compose_definition</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">][</span><span class="n">container_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="n">image</span><span class="p">,</span>
                <span class="s2">&quot;container_name&quot;</span><span class="p">:</span> <span class="n">container_name</span><span class="p">,</span>
                <span class="s2">&quot;network_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;host&quot;</span><span class="p">,</span>
                <span class="s2">&quot;entrypoint&quot;</span><span class="p">:</span> <span class="n">StepEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">(),</span>
                <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">StepEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                    <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span> <span class="n">deployment_id</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">id</span>
                <span class="p">),</span>
                <span class="s2">&quot;volumes&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_mount_path</span><span class="p">(</span><span class="n">mount_from</span><span class="p">),</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_mount_path</span><span class="p">(</span><span class="n">mount_to</span><span class="p">),</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">mount_from</span><span class="p">,</span> <span class="n">mount_to</span> <span class="ow">in</span> <span class="n">step_settings</span><span class="o">.</span><span class="n">mounts_from_to</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="p">],</span>
            <span class="p">}</span>

            <span class="c1"># Depending on GPU setting, add GPU support to service definition</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">gpu_enabled_in_container</span><span class="p">:</span>
                <span class="n">compose_definition</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">][</span><span class="n">container_name</span><span class="p">][</span><span class="s2">&quot;deploy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;resources&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;reservations&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;devices&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="p">{</span><span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="s2">&quot;nvidia&quot;</span><span class="p">,</span> <span class="s2">&quot;capabilities&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;gpu&quot;</span><span class="p">]}</span>
                            <span class="p">]</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>

            <span class="c1"># Depending on whether it is a scheduled or a realtime pipeline, add</span>
            <span class="c1"># potential .env file to service definition for deployment ID override.</span>
            <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
                <span class="c1"># drop ZENML_HYPERAI_ORCHESTRATOR_RUN_ID from environment but only if it is set</span>
                <span class="k">if</span> <span class="n">ENV_ZENML_HYPERAI_RUN_ID</span> <span class="ow">in</span> <span class="n">environment</span><span class="p">:</span>
                    <span class="k">del</span> <span class="n">environment</span><span class="p">[</span><span class="n">ENV_ZENML_HYPERAI_RUN_ID</span><span class="p">]</span>
                <span class="n">compose_definition</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">][</span><span class="n">container_name</span><span class="p">][</span><span class="s2">&quot;env_file&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="s2">&quot;.env&quot;</span>
                <span class="p">]</span>

            <span class="n">compose_definition</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">][</span><span class="n">container_name</span><span class="p">][</span><span class="s2">&quot;environment&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">environment</span>
            <span class="p">)</span>

            <span class="c1"># Add dependency on upstream steps if applicable</span>
            <span class="n">upstream_steps</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">upstream_steps</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">upstream_steps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">compose_definition</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">][</span><span class="n">container_name</span><span class="p">][</span>
                    <span class="s2">&quot;depends_on&quot;</span>
                <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

                <span class="k">for</span> <span class="n">upstream_step_name</span> <span class="ow">in</span> <span class="n">upstream_steps</span><span class="p">:</span>
                    <span class="n">upstream_container_name</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">deployment_id</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">upstream_step_name</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                    <span class="n">compose_definition</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">][</span><span class="n">container_name</span><span class="p">][</span>
                        <span class="s2">&quot;depends_on&quot;</span>
                    <span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                        <span class="p">{</span>
                            <span class="n">upstream_container_name</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="s2">&quot;service_completed_successfully&quot;</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">)</span>

        <span class="c1"># Convert into yaml</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finalizing Docker Compose definition.&quot;</span><span class="p">)</span>
        <span class="n">compose_definition_yaml</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">compose_definition</span><span class="p">)</span>

        <span class="c1"># Connect to configured HyperAI instance</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Connecting to HyperAI instance and placing Docker Compose file.&quot;</span>
        <span class="p">)</span>
        <span class="n">paramiko_client</span><span class="p">:</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">SSHClient</span>
        <span class="k">if</span> <span class="n">connector</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connector</span><span class="p">():</span>
            <span class="n">paramiko_client</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">paramiko_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;Expected to receive a `paramiko.SSHClient` object from the &quot;</span>
                    <span class="s2">&quot;linked connector, but got `None`. This likely originates from &quot;</span>
                    <span class="s2">&quot;a misconfigured service connector, typically caused by a wrong &quot;</span>
                    <span class="s2">&quot;SSH key type being selected. Please check your &quot;</span>
                    <span class="s2">&quot;`hyperai_orchestrator` configuration and make sure that the &quot;</span>
                    <span class="s2">&quot;`ssh_key_type` of its connected service connector is set to the &quot;</span>
                    <span class="s2">&quot;correct value.&quot;</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">paramiko_client</span><span class="p">,</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">SSHClient</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Expected to receive a `paramiko.SSHClient` object from the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;linked connector, but got type `</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">paramiko_client</span><span class="p">)</span><span class="si">}</span><span class="s2">`.&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;You must link a HyperAI service connector to the orchestrator.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Get container registry autologin setting</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">container_registry_autologin</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Attempting to automatically log in to container registry used by stack.&quot;</span>
            <span class="p">)</span>

            <span class="c1"># Select stack container registry</span>
            <span class="n">container_registry</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>

            <span class="c1"># Raise error if no container registry is found</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">container_registry</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;Unable to find container registry in stack.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Get container registry credentials from its config</span>
            <span class="n">credentials</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">credentials</span>
            <span class="k">if</span> <span class="n">credentials</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;The container registry in the active stack has no &quot;</span>
                    <span class="s2">&quot;credentials or service connector configured, but the &quot;</span>
                    <span class="s2">&quot;HyperAI orchestrator is set to autologin to the container &quot;</span>
                    <span class="s2">&quot;registry. Please configure the container registry with &quot;</span>
                    <span class="s2">&quot;credentials or turn off the `container_registry_autologin` &quot;</span>
                    <span class="s2">&quot;setting in the HyperAI orchestrator configuration.&quot;</span>
                <span class="p">)</span>

            <span class="n">container_registry_url</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">uri</span>
            <span class="p">(</span>
                <span class="n">container_registry_username</span><span class="p">,</span>
                <span class="n">container_registry_password</span><span class="p">,</span>
            <span class="p">)</span> <span class="o">=</span> <span class="n">credentials</span>

            <span class="c1"># Escape inputs</span>
            <span class="n">container_registry_username</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_escape_shell_command</span><span class="p">(</span>
                <span class="n">container_registry_username</span>
            <span class="p">)</span>
            <span class="n">container_registry_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_escape_shell_command</span><span class="p">(</span>
                <span class="n">container_registry_url</span>
            <span class="p">)</span>

            <span class="c1"># Log in to container registry using --password-stdin</span>
            <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
                <span class="sa">f</span><span class="s2">&quot;docker login -u </span><span class="si">{</span><span class="n">container_registry_username</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;--password-stdin </span><span class="si">{</span><span class="n">container_registry_url</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="c1"># Send the password to stdin</span>
            <span class="n">stdin</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">container_registry_password</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">stdin</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">shutdown_write</span><span class="p">()</span>

            <span class="c1"># Log stdout</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">stdout</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="c1"># Get username from connector</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">connector</span><span class="p">,</span> <span class="n">HyperAIServiceConnector</span><span class="p">)</span>
        <span class="n">username</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">username</span>

        <span class="c1"># Set up pipeline-runs directory if it doesn&#39;t exist</span>
        <span class="n">nonscheduled_directory_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_escape_shell_command</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;/home/</span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s2">/pipeline-runs&quot;</span>
        <span class="p">)</span>
        <span class="n">directory_name</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">nonscheduled_directory_name</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_escape_shell_command</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;/home/</span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s2">/scheduled-pipeline-runs&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
            <span class="sa">f</span><span class="s2">&quot;mkdir -p </span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="c1"># Get pipeline run id and create directory for it</span>
        <span class="n">orchestrator_run_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_orchestrator_run_id</span><span class="p">()</span>
        <span class="n">directory_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_escape_shell_command</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">orchestrator_run_id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
            <span class="sa">f</span><span class="s2">&quot;mkdir -p </span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="c1"># Remove all folders from nonscheduled pipelines if they are 7 days old or older</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">automatic_cleanup_pipeline_files</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Cleaning up old pipeline files on HyperAI instance. This may take a while.&quot;</span>
            <span class="p">)</span>
            <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
                <span class="sa">f</span><span class="s2">&quot;find </span><span class="si">{</span><span class="n">nonscheduled_directory_name</span><span class="si">}</span><span class="s2"> -type d -ctime +7 -exec rm -rf </span><span class="se">{{}}</span><span class="s2"> +&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Create temporary file and write Docker Compose file to it</span>
        <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="c1"># Write Docker Compose file to temporary file</span>
            <span class="k">with</span> <span class="n">f</span><span class="o">.</span><span class="n">file</span> <span class="k">as</span> <span class="n">f_</span><span class="p">:</span>
                <span class="n">f_</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">compose_definition_yaml</span><span class="p">)</span>

            <span class="c1"># Scp Docker Compose file to HyperAI instance</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scp_to_hyperai_instance</span><span class="p">(</span>
                <span class="n">paramiko_client</span><span class="p">,</span>
                <span class="n">f</span><span class="p">,</span>
                <span class="n">directory_name</span><span class="p">,</span>
                <span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;docker-compose.yml&quot;</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Docker Compose file&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># Create temporary file and write script to it</span>
        <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="c1"># Define bash line and command line</span>
            <span class="n">bash_line</span> <span class="o">=</span> <span class="s2">&quot;#!/bin/bash</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">command_line</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;cd </span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s1"> &amp;&amp; echo </span><span class="si">{</span><span class="n">ENV_ZENML_HYPERAI_RUN_ID</span><span class="si">}</span><span class="s1">=&quot;</span><span class="si">{</span><span class="n">deployment_id</span><span class="si">}</span><span class="s1">_$(date +\%s)&quot; &gt; .env &amp;&amp; docker compose up -d&#39;</span>

            <span class="c1"># Write script to temporary file</span>
            <span class="k">with</span> <span class="n">f</span><span class="o">.</span><span class="n">file</span> <span class="k">as</span> <span class="n">f_</span><span class="p">:</span>
                <span class="n">f_</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">bash_line</span><span class="p">)</span>
                <span class="n">f_</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">command_line</span><span class="p">)</span>

            <span class="c1"># Scp script to HyperAI instance</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_scp_to_hyperai_instance</span><span class="p">(</span>
                <span class="n">paramiko_client</span><span class="p">,</span>
                <span class="n">f</span><span class="p">,</span>
                <span class="n">directory_name</span><span class="p">,</span>
                <span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;run_pipeline.sh&quot;</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="s2">&quot;startup script&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># Run or schedule Docker Compose file depending on settings</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Starting ZenML pipeline on HyperAI instance. Depending on the size of your container image, this may take a while...&quot;</span>
            <span class="p">)</span>
            <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
                <span class="sa">f</span><span class="s2">&quot;cd </span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2"> &amp;&amp; docker compose up -d&quot;</span>
            <span class="p">)</span>

            <span class="c1"># Log errors in case of failure</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">stderr</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span> <span class="ow">and</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">:</span>
            <span class="c1"># Get cron expression for scheduled pipeline</span>
            <span class="n">cron_expression</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">cron_expression</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;A cron expression is required for scheduled pipelines.&quot;</span>
                <span class="p">)</span>
            <span class="n">expected_cron_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^(?:(?:[0-9]|[1-5][0-9]|60)(?:,(?:[0-9]|[1-5][0-9]|60))*|[*](?:\/[1-9][0-9]*)?)(?:[ \t]+(?:(?:[0-9]|[0-5][0-9]|60)(?:,(?:[0-9]|[0-5][0-9]|60))*|[*](?:\/[1-9][0-9]*)?))</span><span class="si">{4}</span><span class="s2">$&quot;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">expected_cron_pattern</span><span class="p">,</span> <span class="n">cron_expression</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The cron expression &#39;</span><span class="si">{</span><span class="n">cron_expression</span><span class="si">}</span><span class="s2">&#39; is not in a valid format.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Log about scheduling</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Requested cron expression: </span><span class="si">{</span><span class="n">cron_expression</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Scheduling ZenML pipeline on HyperAI instance...&quot;</span><span class="p">)</span>

            <span class="c1"># Create cron job for scheduled pipeline on HyperAI instance</span>
            <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
                <span class="sa">f</span><span class="s2">&quot;(crontab -l ; echo &#39;</span><span class="si">{</span><span class="n">cron_expression</span><span class="si">}</span><span class="s2"> bash </span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2">/run_pipeline.sh&#39;) | crontab -&quot;</span>
            <span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Pipeline scheduled successfully in crontab with cron expression: </span><span class="si">{</span><span class="n">cron_expression</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span> <span class="ow">and</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">run_once_start_time</span><span class="p">:</span>
            <span class="c1"># Get start time for scheduled pipeline</span>
            <span class="n">start_time</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">run_once_start_time</span>

            <span class="c1"># Log about scheduling</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Requested start time: </span><span class="si">{</span><span class="n">start_time</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Scheduling ZenML pipeline on HyperAI instance...&quot;</span><span class="p">)</span>

            <span class="c1"># Check if `at` is installed on HyperAI instance</span>
            <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
                <span class="s2">&quot;which at&quot;</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">stdout</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;The `at` command is not installed on the HyperAI instance. Please install it to use start times for scheduled pipelines.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Convert start time into YYYYMMDDHHMM.SS format</span>
            <span class="n">start_time_str</span> <span class="o">=</span> <span class="n">start_time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y%m</span><span class="si">%d</span><span class="s2">%H%M.%S&quot;</span><span class="p">)</span>

            <span class="c1"># Create cron job for scheduled pipeline on HyperAI instance</span>
            <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
                <span class="sa">f</span><span class="s2">&quot;echo &#39;bash </span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2">/run_pipeline.sh&#39; | at -t </span><span class="si">{</span><span class="n">start_time_str</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Pipeline scheduled successfully to run once at: </span><span class="si">{</span><span class="n">start_time</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;A cron expression or start time is required for scheduled pipelines.&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">HyperAIOrchestratorConfig</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns the <code>HyperAIOrchestratorConfig</code> config.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>HyperAIOrchestratorConfig</code></td>
      <td><p>The configuration.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.settings_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">settings_class</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseSettings</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Settings class for the HyperAI orchestrator.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[Type[BaseSettings]]</code></td>
      <td><p>The settings class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_validator</span><span class="o">.</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Ensures there is an image builder in the stack.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.stack.stack_validator.StackValidator]</code></td>
      <td><p>A <code>StackValidator</code> instance.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.get_orchestrator_run_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Returns the active orchestrator run id.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the environment variable specifying the run id
is not set.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The orchestrator run id.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/orchestrators/hyperai_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the active orchestrator run id.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the environment variable specifying the run id</span>
<span class="sd">            is not set.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The orchestrator run id.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_HYPERAI_RUN_ID</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Unable to read run id from environment variable &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ENV_ZENML_HYPERAI_RUN_ID</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.hyperai.orchestrators.hyperai_orchestrator.HyperAIOrchestrator.prepare_or_run_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_or_run_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">environment</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Sequentially runs all pipeline steps in Docker containers.</p>
<p>Assumes that:
- A HyperAI (hyperai.ai) instance is running on the configured IP address.
- The HyperAI instance has been configured to allow SSH connections from the
    machine running the pipeline.
- Docker and Docker Compose are installed on the HyperAI instance.
- A key pair has been generated and the public key has been added to the
    HyperAI instance's <code>authorized_keys</code> file.
- The private key is available in a HyperAI service connector linked to this
    orchestrator.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeploymentResponse</code></td>
        <td><p>The pipeline deployment to prepare or run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack the pipeline will run on.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>environment</code></td>
        <td><code>Dict[str, str]</code></td>
        <td><p>Environment variables to set in the orchestration
environment.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If a step fails.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/orchestrators/hyperai_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeploymentResponse&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">environment</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sequentially runs all pipeline steps in Docker containers.</span>

<span class="sd">    Assumes that:</span>
<span class="sd">    - A HyperAI (hyperai.ai) instance is running on the configured IP address.</span>
<span class="sd">    - The HyperAI instance has been configured to allow SSH connections from the</span>
<span class="sd">        machine running the pipeline.</span>
<span class="sd">    - Docker and Docker Compose are installed on the HyperAI instance.</span>
<span class="sd">    - A key pair has been generated and the public key has been added to the</span>
<span class="sd">        HyperAI instance&#39;s `authorized_keys` file.</span>
<span class="sd">    - The private key is available in a HyperAI service connector linked to this</span>
<span class="sd">        orchestrator.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The pipeline deployment to prepare or run.</span>
<span class="sd">        stack: The stack the pipeline will run on.</span>
<span class="sd">        environment: Environment variables to set in the orchestration</span>
<span class="sd">            environment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If a step fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.hyperai.service_connectors.hyperai_service_connector</span> <span class="kn">import</span> <span class="p">(</span>
        <span class="n">HyperAIServiceConnector</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Basic Docker Compose definition</span>
    <span class="n">compose_definition</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">{}}</span>

    <span class="c1"># Get deployment id</span>
    <span class="n">deployment_id</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">id</span>

    <span class="c1"># Set environment</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_HYPERAI_RUN_ID</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">deployment_id</span><span class="p">)</span>
    <span class="n">environment</span><span class="p">[</span><span class="n">ENV_ZENML_HYPERAI_RUN_ID</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">deployment_id</span><span class="p">)</span>

    <span class="c1"># Add each step as a service to the Docker Compose definition</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Preparing pipeline steps for deployment.&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">deployment</span><span class="o">.</span><span class="n">step_configurations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># Get image</span>
        <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_image</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">)</span>

        <span class="c1"># Get settings</span>
        <span class="n">step_settings</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">HyperAIOrchestratorSettings</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_settings</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Define container name as combination between deployment id and step name</span>
        <span class="n">container_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">deployment_id</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="c1"># Make Compose service definition for step</span>
        <span class="n">compose_definition</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">][</span><span class="n">container_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="n">image</span><span class="p">,</span>
            <span class="s2">&quot;container_name&quot;</span><span class="p">:</span> <span class="n">container_name</span><span class="p">,</span>
            <span class="s2">&quot;network_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;host&quot;</span><span class="p">,</span>
            <span class="s2">&quot;entrypoint&quot;</span><span class="p">:</span> <span class="n">StepEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">(),</span>
            <span class="s2">&quot;command&quot;</span><span class="p">:</span> <span class="n">StepEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span> <span class="n">deployment_id</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">id</span>
            <span class="p">),</span>
            <span class="s2">&quot;volumes&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_mount_path</span><span class="p">(</span><span class="n">mount_from</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_mount_path</span><span class="p">(</span><span class="n">mount_to</span><span class="p">),</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">mount_from</span><span class="p">,</span> <span class="n">mount_to</span> <span class="ow">in</span> <span class="n">step_settings</span><span class="o">.</span><span class="n">mounts_from_to</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">],</span>
        <span class="p">}</span>

        <span class="c1"># Depending on GPU setting, add GPU support to service definition</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">gpu_enabled_in_container</span><span class="p">:</span>
            <span class="n">compose_definition</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">][</span><span class="n">container_name</span><span class="p">][</span><span class="s2">&quot;deploy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;resources&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;reservations&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;devices&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span><span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="s2">&quot;nvidia&quot;</span><span class="p">,</span> <span class="s2">&quot;capabilities&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;gpu&quot;</span><span class="p">]}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>

        <span class="c1"># Depending on whether it is a scheduled or a realtime pipeline, add</span>
        <span class="c1"># potential .env file to service definition for deployment ID override.</span>
        <span class="k">if</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
            <span class="c1"># drop ZENML_HYPERAI_ORCHESTRATOR_RUN_ID from environment but only if it is set</span>
            <span class="k">if</span> <span class="n">ENV_ZENML_HYPERAI_RUN_ID</span> <span class="ow">in</span> <span class="n">environment</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">environment</span><span class="p">[</span><span class="n">ENV_ZENML_HYPERAI_RUN_ID</span><span class="p">]</span>
            <span class="n">compose_definition</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">][</span><span class="n">container_name</span><span class="p">][</span><span class="s2">&quot;env_file&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="s2">&quot;.env&quot;</span>
            <span class="p">]</span>

        <span class="n">compose_definition</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">][</span><span class="n">container_name</span><span class="p">][</span><span class="s2">&quot;environment&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">environment</span>
        <span class="p">)</span>

        <span class="c1"># Add dependency on upstream steps if applicable</span>
        <span class="n">upstream_steps</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">upstream_steps</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">upstream_steps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">compose_definition</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">][</span><span class="n">container_name</span><span class="p">][</span>
                <span class="s2">&quot;depends_on&quot;</span>
            <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="k">for</span> <span class="n">upstream_step_name</span> <span class="ow">in</span> <span class="n">upstream_steps</span><span class="p">:</span>
                <span class="n">upstream_container_name</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">deployment_id</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">upstream_step_name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="n">compose_definition</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">][</span><span class="n">container_name</span><span class="p">][</span>
                    <span class="s2">&quot;depends_on&quot;</span>
                <span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                    <span class="p">{</span>
                        <span class="n">upstream_container_name</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="s2">&quot;service_completed_successfully&quot;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">)</span>

    <span class="c1"># Convert into yaml</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finalizing Docker Compose definition.&quot;</span><span class="p">)</span>
    <span class="n">compose_definition_yaml</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">compose_definition</span><span class="p">)</span>

    <span class="c1"># Connect to configured HyperAI instance</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Connecting to HyperAI instance and placing Docker Compose file.&quot;</span>
    <span class="p">)</span>
    <span class="n">paramiko_client</span><span class="p">:</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">SSHClient</span>
    <span class="k">if</span> <span class="n">connector</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connector</span><span class="p">():</span>
        <span class="n">paramiko_client</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">paramiko_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Expected to receive a `paramiko.SSHClient` object from the &quot;</span>
                <span class="s2">&quot;linked connector, but got `None`. This likely originates from &quot;</span>
                <span class="s2">&quot;a misconfigured service connector, typically caused by a wrong &quot;</span>
                <span class="s2">&quot;SSH key type being selected. Please check your &quot;</span>
                <span class="s2">&quot;`hyperai_orchestrator` configuration and make sure that the &quot;</span>
                <span class="s2">&quot;`ssh_key_type` of its connected service connector is set to the &quot;</span>
                <span class="s2">&quot;correct value.&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">paramiko_client</span><span class="p">,</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">SSHClient</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Expected to receive a `paramiko.SSHClient` object from the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;linked connector, but got type `</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">paramiko_client</span><span class="p">)</span><span class="si">}</span><span class="s2">`.&quot;</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;You must link a HyperAI service connector to the orchestrator.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Get container registry autologin setting</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">container_registry_autologin</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Attempting to automatically log in to container registry used by stack.&quot;</span>
        <span class="p">)</span>

        <span class="c1"># Select stack container registry</span>
        <span class="n">container_registry</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>

        <span class="c1"># Raise error if no container registry is found</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">container_registry</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Unable to find container registry in stack.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Get container registry credentials from its config</span>
        <span class="n">credentials</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">credentials</span>
        <span class="k">if</span> <span class="n">credentials</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;The container registry in the active stack has no &quot;</span>
                <span class="s2">&quot;credentials or service connector configured, but the &quot;</span>
                <span class="s2">&quot;HyperAI orchestrator is set to autologin to the container &quot;</span>
                <span class="s2">&quot;registry. Please configure the container registry with &quot;</span>
                <span class="s2">&quot;credentials or turn off the `container_registry_autologin` &quot;</span>
                <span class="s2">&quot;setting in the HyperAI orchestrator configuration.&quot;</span>
            <span class="p">)</span>

        <span class="n">container_registry_url</span> <span class="o">=</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">uri</span>
        <span class="p">(</span>
            <span class="n">container_registry_username</span><span class="p">,</span>
            <span class="n">container_registry_password</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="n">credentials</span>

        <span class="c1"># Escape inputs</span>
        <span class="n">container_registry_username</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_escape_shell_command</span><span class="p">(</span>
            <span class="n">container_registry_username</span>
        <span class="p">)</span>
        <span class="n">container_registry_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_escape_shell_command</span><span class="p">(</span>
            <span class="n">container_registry_url</span>
        <span class="p">)</span>

        <span class="c1"># Log in to container registry using --password-stdin</span>
        <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
            <span class="sa">f</span><span class="s2">&quot;docker login -u </span><span class="si">{</span><span class="n">container_registry_username</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;--password-stdin </span><span class="si">{</span><span class="n">container_registry_url</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="c1"># Send the password to stdin</span>
        <span class="n">stdin</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">send</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">container_registry_password</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">stdin</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">shutdown_write</span><span class="p">()</span>

        <span class="c1"># Log stdout</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">stdout</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

    <span class="c1"># Get username from connector</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">connector</span><span class="p">,</span> <span class="n">HyperAIServiceConnector</span><span class="p">)</span>
    <span class="n">username</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">username</span>

    <span class="c1"># Set up pipeline-runs directory if it doesn&#39;t exist</span>
    <span class="n">nonscheduled_directory_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_escape_shell_command</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;/home/</span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s2">/pipeline-runs&quot;</span>
    <span class="p">)</span>
    <span class="n">directory_name</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">nonscheduled_directory_name</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span>
        <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_escape_shell_command</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;/home/</span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s2">/scheduled-pipeline-runs&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
        <span class="sa">f</span><span class="s2">&quot;mkdir -p </span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="c1"># Get pipeline run id and create directory for it</span>
    <span class="n">orchestrator_run_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_orchestrator_run_id</span><span class="p">()</span>
    <span class="n">directory_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_escape_shell_command</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">orchestrator_run_id</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
        <span class="sa">f</span><span class="s2">&quot;mkdir -p </span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="c1"># Remove all folders from nonscheduled pipelines if they are 7 days old or older</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">automatic_cleanup_pipeline_files</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Cleaning up old pipeline files on HyperAI instance. This may take a while.&quot;</span>
        <span class="p">)</span>
        <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
            <span class="sa">f</span><span class="s2">&quot;find </span><span class="si">{</span><span class="n">nonscheduled_directory_name</span><span class="si">}</span><span class="s2"> -type d -ctime +7 -exec rm -rf </span><span class="se">{{}}</span><span class="s2"> +&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Create temporary file and write Docker Compose file to it</span>
    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="c1"># Write Docker Compose file to temporary file</span>
        <span class="k">with</span> <span class="n">f</span><span class="o">.</span><span class="n">file</span> <span class="k">as</span> <span class="n">f_</span><span class="p">:</span>
            <span class="n">f_</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">compose_definition_yaml</span><span class="p">)</span>

        <span class="c1"># Scp Docker Compose file to HyperAI instance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_to_hyperai_instance</span><span class="p">(</span>
            <span class="n">paramiko_client</span><span class="p">,</span>
            <span class="n">f</span><span class="p">,</span>
            <span class="n">directory_name</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;docker-compose.yml&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Docker Compose file&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Create temporary file and write script to it</span>
    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="c1"># Define bash line and command line</span>
        <span class="n">bash_line</span> <span class="o">=</span> <span class="s2">&quot;#!/bin/bash</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">command_line</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;cd </span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s1"> &amp;&amp; echo </span><span class="si">{</span><span class="n">ENV_ZENML_HYPERAI_RUN_ID</span><span class="si">}</span><span class="s1">=&quot;</span><span class="si">{</span><span class="n">deployment_id</span><span class="si">}</span><span class="s1">_$(date +\%s)&quot; &gt; .env &amp;&amp; docker compose up -d&#39;</span>

        <span class="c1"># Write script to temporary file</span>
        <span class="k">with</span> <span class="n">f</span><span class="o">.</span><span class="n">file</span> <span class="k">as</span> <span class="n">f_</span><span class="p">:</span>
            <span class="n">f_</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">bash_line</span><span class="p">)</span>
            <span class="n">f_</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">command_line</span><span class="p">)</span>

        <span class="c1"># Scp script to HyperAI instance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scp_to_hyperai_instance</span><span class="p">(</span>
            <span class="n">paramiko_client</span><span class="p">,</span>
            <span class="n">f</span><span class="p">,</span>
            <span class="n">directory_name</span><span class="p">,</span>
            <span class="n">file_name</span><span class="o">=</span><span class="s2">&quot;run_pipeline.sh&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;startup script&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Run or schedule Docker Compose file depending on settings</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Starting ZenML pipeline on HyperAI instance. Depending on the size of your container image, this may take a while...&quot;</span>
        <span class="p">)</span>
        <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
            <span class="sa">f</span><span class="s2">&quot;cd </span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2"> &amp;&amp; docker compose up -d&quot;</span>
        <span class="p">)</span>

        <span class="c1"># Log errors in case of failure</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">stderr</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span> <span class="ow">and</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">:</span>
        <span class="c1"># Get cron expression for scheduled pipeline</span>
        <span class="n">cron_expression</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">cron_expression</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;A cron expression is required for scheduled pipelines.&quot;</span>
            <span class="p">)</span>
        <span class="n">expected_cron_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^(?:(?:[0-9]|[1-5][0-9]|60)(?:,(?:[0-9]|[1-5][0-9]|60))*|[*](?:\/[1-9][0-9]*)?)(?:[ \t]+(?:(?:[0-9]|[0-5][0-9]|60)(?:,(?:[0-9]|[0-5][0-9]|60))*|[*](?:\/[1-9][0-9]*)?))</span><span class="si">{4}</span><span class="s2">$&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">expected_cron_pattern</span><span class="p">,</span> <span class="n">cron_expression</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The cron expression &#39;</span><span class="si">{</span><span class="n">cron_expression</span><span class="si">}</span><span class="s2">&#39; is not in a valid format.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Log about scheduling</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Requested cron expression: </span><span class="si">{</span><span class="n">cron_expression</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Scheduling ZenML pipeline on HyperAI instance...&quot;</span><span class="p">)</span>

        <span class="c1"># Create cron job for scheduled pipeline on HyperAI instance</span>
        <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
            <span class="sa">f</span><span class="s2">&quot;(crontab -l ; echo &#39;</span><span class="si">{</span><span class="n">cron_expression</span><span class="si">}</span><span class="s2"> bash </span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2">/run_pipeline.sh&#39;) | crontab -&quot;</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Pipeline scheduled successfully in crontab with cron expression: </span><span class="si">{</span><span class="n">cron_expression</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span> <span class="ow">and</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">run_once_start_time</span><span class="p">:</span>
        <span class="c1"># Get start time for scheduled pipeline</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">run_once_start_time</span>

        <span class="c1"># Log about scheduling</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Requested start time: </span><span class="si">{</span><span class="n">start_time</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Scheduling ZenML pipeline on HyperAI instance...&quot;</span><span class="p">)</span>

        <span class="c1"># Check if `at` is installed on HyperAI instance</span>
        <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
            <span class="s2">&quot;which at&quot;</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">stdout</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;The `at` command is not installed on the HyperAI instance. Please install it to use start times for scheduled pipelines.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Convert start time into YYYYMMDDHHMM.SS format</span>
        <span class="n">start_time_str</span> <span class="o">=</span> <span class="n">start_time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y%m</span><span class="si">%d</span><span class="s2">%H%M.%S&quot;</span><span class="p">)</span>

        <span class="c1"># Create cron job for scheduled pipeline on HyperAI instance</span>
        <span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">paramiko_client</span><span class="o">.</span><span class="n">exec_command</span><span class="p">(</span>  <span class="c1"># nosec</span>
            <span class="sa">f</span><span class="s2">&quot;echo &#39;bash </span><span class="si">{</span><span class="n">directory_name</span><span class="si">}</span><span class="s2">/run_pipeline.sh&#39; | at -t </span><span class="si">{</span><span class="n">start_time_str</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Pipeline scheduled successfully to run once at: </span><span class="si">{</span><span class="n">start_time</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;A cron expression or start time is required for scheduled pipelines.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.hyperai.service_connectors" class="doc doc-heading">
        <code>service_connectors</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>HyperAI Service Connector.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.hyperai.service_connectors.hyperai_service_connector" class="doc doc-heading">
        <code>hyperai_service_connector</code>



</h4>

    <div class="doc doc-contents ">

      <p>HyperAI Service Connector.</p>
<p>The HyperAI Service Connector allows authenticating to HyperAI (hyperai.ai)
GPU equipped instances.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAIAuthenticationMethods" class="doc doc-heading">
        <code>
HyperAIAuthenticationMethods            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../../core_code_docs/core-utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>HyperAI Authentication methods.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/service_connectors/hyperai_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HyperAIAuthenticationMethods</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;HyperAI Authentication methods.&quot;&quot;&quot;</span>

    <span class="n">RSA_KEY_OPTIONAL_PASSPHRASE</span> <span class="o">=</span> <span class="s2">&quot;rsa-key&quot;</span>
    <span class="n">DSA_KEY_OPTIONAL_PASSPHRASE</span> <span class="o">=</span> <span class="s2">&quot;dsa-key&quot;</span>
    <span class="n">ECDSA_KEY_OPTIONAL_PASSPHRASE</span> <span class="o">=</span> <span class="s2">&quot;ecdsa-key&quot;</span>
    <span class="n">ED25519_KEY_OPTIONAL_PASSPHRASE</span> <span class="o">=</span> <span class="s2">&quot;ed25519-key&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAIConfiguration" class="doc doc-heading">
        <code>
HyperAIConfiguration            (<a class="autorefs autorefs-internal" title="zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAICredentials" href="#zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAICredentials">HyperAICredentials</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>HyperAI client configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/service_connectors/hyperai_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HyperAIConfiguration</span><span class="p">(</span><span class="n">HyperAICredentials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;HyperAI client configuration.&quot;&quot;&quot;</span>

    <span class="n">hostnames</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Hostnames of the supported HyperAI instances.&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">username</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Username to use to connect to the HyperAI instance.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAICredentials" class="doc doc-heading">
        <code>
HyperAICredentials            (<a class="autorefs autorefs-internal" title="zenml.service_connectors.service_connector.AuthenticationConfig" href="../../core_code_docs/core-service_connectors/#zenml.service_connectors.service_connector.AuthenticationConfig">AuthenticationConfig</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>HyperAI client authentication credentials.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/service_connectors/hyperai_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HyperAICredentials</span><span class="p">(</span><span class="n">AuthenticationConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;HyperAI client authentication credentials.&quot;&quot;&quot;</span>

    <span class="n">base64_ssh_key</span><span class="p">:</span> <span class="n">PlainSerializedSecretStr</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;SSH key (base64)&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ssh_passphrase</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PlainSerializedSecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;SSH key passphrase&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.hyperai.service_connectors.hyperai_service_connector.HyperAIServiceConnector" class="doc doc-heading">
        <code>
HyperAIServiceConnector            (<a class="autorefs autorefs-internal" title="zenml.service_connectors.service_connector.ServiceConnector" href="../../core_code_docs/core-service_connectors/#zenml.service_connectors.service_connector.ServiceConnector">ServiceConnector</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>HyperAI service connector.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/hyperai/service_connectors/hyperai_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HyperAIServiceConnector</span><span class="p">(</span><span class="n">ServiceConnector</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;HyperAI service connector.&quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">HyperAIConfiguration</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_connector_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the service connector specification.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service connector specification.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">HYPERAI_SERVICE_CONNECTOR_TYPE_SPEC</span>

    <span class="k">def</span> <span class="nf">_paramiko_key_type_given_auth_method</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">paramiko</span><span class="o">.</span><span class="n">PKey</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the Paramiko key type given the authentication method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Paramiko key type.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the authentication method is invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mapping</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">HyperAIAuthenticationMethods</span><span class="o">.</span><span class="n">RSA_KEY_OPTIONAL_PASSPHRASE</span><span class="p">:</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">RSAKey</span><span class="p">,</span>
            <span class="n">HyperAIAuthenticationMethods</span><span class="o">.</span><span class="n">DSA_KEY_OPTIONAL_PASSPHRASE</span><span class="p">:</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">DSSKey</span><span class="p">,</span>
            <span class="n">HyperAIAuthenticationMethods</span><span class="o">.</span><span class="n">ECDSA_KEY_OPTIONAL_PASSPHRASE</span><span class="p">:</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">ECDSAKey</span><span class="p">,</span>
            <span class="n">HyperAIAuthenticationMethods</span><span class="o">.</span><span class="n">ED25519_KEY_OPTIONAL_PASSPHRASE</span><span class="p">:</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">Ed25519Key</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">mapping</span><span class="p">[</span><span class="n">HyperAIAuthenticationMethods</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">)]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid authentication method: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_paramiko_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">hostname</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">SSHClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a Paramiko SSH client based on the configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            hostname: The hostname of the HyperAI instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A Paramiko SSH client.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If the client cannot be created.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">ssh_passphrase</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ssh_passphrase</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ssh_passphrase</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">ssh_passphrase</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>

        <span class="c1"># Connect to the HyperAI instance</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Convert the SSH key from base64 to string</span>
            <span class="n">base64_key_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">base64_ssh_key</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>
            <span class="n">ssh_key</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">base64_key_value</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="n">paramiko_key</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">ssh_key</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">paramiko_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_paramiko_key_type_given_auth_method</span><span class="p">()</span><span class="o">.</span><span class="n">from_private_key</span><span class="p">(</span>
                    <span class="n">f</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">ssh_passphrase</span>
                <span class="p">)</span>

            <span class="c1"># Trim whitespace from the IP address</span>
            <span class="n">hostname</span> <span class="o">=</span> <span class="n">hostname</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

            <span class="n">paramiko_client</span> <span class="o">=</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">SSHClient</span><span class="p">()</span>
            <span class="n">paramiko_client</span><span class="o">.</span><span class="n">set_missing_host_key_policy</span><span class="p">(</span>
                <span class="n">paramiko</span><span class="o">.</span><span class="n">AutoAddPolicy</span><span class="p">()</span>  <span class="c1"># nosec</span>
            <span class="p">)</span>
            <span class="n">paramiko_client</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
                <span class="n">hostname</span><span class="o">=</span><span class="n">hostname</span><span class="p">,</span>
                <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
                <span class="n">pkey</span><span class="o">=</span><span class="n">paramiko_key</span><span class="p">,</span>
                <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="n">paramiko_client</span>

        <span class="k">except</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">ssh_exception</span><span class="o">.</span><span class="n">BadHostKeyException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Bad host key: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">ssh_exception</span><span class="o">.</span><span class="n">AuthenticationException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Authentication failed: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">paramiko</span><span class="o">.</span><span class="n">ssh_exception</span><span class="o">.</span><span class="n">SSHException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;SSH error: </span><span class="si">%s</span><span class="s2">. A common cause for this error is selection of the wrong key type in your service connector.&quot;</span><span class="p">,</span>
                <span class="n">e</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Unknown error while connecting to HyperAI instance: </span><span class="si">%s</span><span class="s2">. Please check your network connection, IP address, and authentication details.&quot;</span><span class="p">,</span>
                <span class="n">e</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
            <span class="s2">&quot;Could not create SSH client for HyperAI instance.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_authorize_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hostname</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verify that the client can authenticate with the HyperAI instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            hostname: The hostname of the HyperAI instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Verifying connection to HyperAI instance...&quot;</span><span class="p">)</span>

        <span class="n">paramiko_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_paramiko_client</span><span class="p">(</span><span class="n">hostname</span><span class="p">)</span>
        <span class="n">paramiko_client</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_connect_to_resource</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Connect to a HyperAI instance. Returns an authenticated SSH client.</span>

<span class="sd">        Args:</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to pass</span>
<span class="sd">                to the session or client constructor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An authenticated Paramiko SSH client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connecting to HyperAI instance...&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">paramiko_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_paramiko_client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">paramiko_client</span>

    <span class="k">def</span> <span class="nf">_configure_local_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;There is no local client for the HyperAI connector, so it does nothing.</span>

<span class="sd">        Args:</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to pass</span>
<span class="sd">                to the session or client constructor.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If there is no local client for the HyperAI</span>
<span class="sd">                connector.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="s2">&quot;There is no local client for the HyperAI connector.&quot;</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_auto_configure</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;HyperAIServiceConnector&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Auto-configure the connector.</span>

<span class="sd">        Not supported by the HyperAI connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            auth_method: The particular authentication method to use. If not</span>
<span class="sd">                specified, the connector implementation must decide which</span>
<span class="sd">                authentication method to use or raise an exception.</span>
<span class="sd">            resource_type: The type of resource to configure.</span>
<span class="sd">            resource_id: The ID of the resource to configure. The</span>
<span class="sd">                implementation may choose to either require or ignore this</span>
<span class="sd">                parameter if it does not support or detect an resource type that</span>
<span class="sd">                supports multiple instances.</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to use.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If the connector auto-configuration fails or</span>
<span class="sd">                is not supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="s2">&quot;Auto-configuration is not supported by the HyperAI connector.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verify that a connection can be established to the HyperAI instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of resource to verify. Must be set to the</span>
<span class="sd">                Docker resource type.</span>
<span class="sd">            resource_id: The HyperAI instance to verify.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The resource ID if the connection can be established.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the resource ID is not in the list of configured</span>
<span class="sd">                hostnames.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">resource_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">hostnames</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The supplied hostname &#39;</span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">&#39; is not in the list &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;of configured hostnames: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">hostnames</span><span class="si">}</span><span class="s2">. Please &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;check your configuration.&quot;</span>
                <span class="p">)</span>
            <span class="n">hostnames</span> <span class="o">=</span> <span class="p">[</span><span class="n">resource_id</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">hostnames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">hostnames</span>

        <span class="n">resources</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">hostname</span> <span class="ow">in</span> <span class="n">hostnames</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_authorize_client</span><span class="p">(</span><span class="n">hostname</span><span class="p">)</span>
            <span class="n">resources</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hostname</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">resources</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../integrations-huggingface/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Huggingface" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Huggingface
            </div>
          </div>
        </a>
      
      
        
        <a href="../integrations-integration/" class="md-footer__link md-footer__link--next" aria-label="Next: Integration" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Integration
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH  <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>