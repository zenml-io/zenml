
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.43.0/core_code_docs/core-analytics/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-8.5.10">
    
    
      
        <title>Analytics - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#analytics" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Analytics
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-_hub/" class="md-nav__link">
        Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Analytics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Analytics
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.analytics" class="md-nav__link">
    analytics
  </a>
  
    <nav class="md-nav" aria-label="analytics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.group" class="md-nav__link">
    group()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.identify" class="md-nav__link">
    identify()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.set_default_client" class="md-nav__link">
    set_default_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.track" class="md-nav__link">
    track()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client" class="md-nav__link">
    client
  </a>
  
    <nav class="md-nav" aria-label="client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.AnalyticsEncoder" class="md-nav__link">
    AnalyticsEncoder
  </a>
  
    <nav class="md-nav" aria-label="AnalyticsEncoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.AnalyticsEncoder.default" class="md-nav__link">
    default()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client" class="md-nav__link">
    Client
  </a>
  
    <nav class="md-nav" aria-label="Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.DefaultConfig" class="md-nav__link">
    DefaultConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.flush" class="md-nav__link">
    flush()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.group" class="md-nav__link">
    group()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.identify" class="md-nav__link">
    identify()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.join" class="md-nav__link">
    join()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.shutdown" class="md-nav__link">
    shutdown()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.track" class="md-nav__link">
    track()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer" class="md-nav__link">
    consumer
  </a>
  
    <nav class="md-nav" aria-label="consumer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer" class="md-nav__link">
    Consumer
  </a>
  
    <nav class="md-nav" aria-label="Consumer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer.next" class="md-nav__link">
    next()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer.pause" class="md-nav__link">
    pause()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer.request" class="md-nav__link">
    request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer.upload" class="md-nav__link">
    upload()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context" class="md-nav__link">
    context
  </a>
  
    <nav class="md-nav" aria-label="context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext" class="md-nav__link">
    AnalyticsContext
  </a>
  
    <nav class="md-nav" aria-label="AnalyticsContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.in_server" class="md-nav__link">
    in_server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.__enter__" class="md-nav__link">
    __enter__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.__exit__" class="md-nav__link">
    __exit__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.group" class="md-nav__link">
    group()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.identify" class="md-nav__link">
    identify()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.track" class="md-nav__link">
    track()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.request" class="md-nav__link">
    request
  </a>
  
    <nav class="md-nav" aria-label="request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.request.AnalyticsAPIError" class="md-nav__link">
    AnalyticsAPIError
  </a>
  
    <nav class="md-nav" aria-label="AnalyticsAPIError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.request.AnalyticsAPIError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.request.AnalyticsAPIError.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.request.post" class="md-nav__link">
    post()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-api/" class="md-nav__link">
        Api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-code_repositories/" class="md-nav__link">
        Code Repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-image_builders/" class="md-nav__link">
        Image Builders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-lineage_graph/" class="md-nav__link">
        Lineage Graph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_registries/" class="md-nav__link">
        Model Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-new/" class="md-nav__link">
        New
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-recipes/" class="md-nav__link">
        Recipes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secrets_managers/" class="md-nav__link">
        Secrets Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-service_connectors/" class="md-nav__link">
        Service Connectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-azure/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bentoml/" class="md-nav__link">
        Bentoml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gitlab/" class="md-nav__link">
        Gitlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-huggingface/" class="md-nav__link">
        Huggingface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kaniko/" class="md-nav__link">
        Kaniko
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kserve/" class="md-nav__link">
        Kserve
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-langchain/" class="md-nav__link">
        Langchain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-llama_index/" class="md-nav__link">
        Llama Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neptune/" class="md-nav__link">
        Neptune
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-openai/" class="md-nav__link">
        Openai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pycaret/" class="md-nav__link">
        Pycaret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-vault/" class="md-nav__link">
        Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.analytics" class="md-nav__link">
    analytics
  </a>
  
    <nav class="md-nav" aria-label="analytics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.group" class="md-nav__link">
    group()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.identify" class="md-nav__link">
    identify()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.set_default_client" class="md-nav__link">
    set_default_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.track" class="md-nav__link">
    track()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client" class="md-nav__link">
    client
  </a>
  
    <nav class="md-nav" aria-label="client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.AnalyticsEncoder" class="md-nav__link">
    AnalyticsEncoder
  </a>
  
    <nav class="md-nav" aria-label="AnalyticsEncoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.AnalyticsEncoder.default" class="md-nav__link">
    default()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client" class="md-nav__link">
    Client
  </a>
  
    <nav class="md-nav" aria-label="Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.DefaultConfig" class="md-nav__link">
    DefaultConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.flush" class="md-nav__link">
    flush()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.group" class="md-nav__link">
    group()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.identify" class="md-nav__link">
    identify()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.join" class="md-nav__link">
    join()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.shutdown" class="md-nav__link">
    shutdown()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.client.Client.track" class="md-nav__link">
    track()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer" class="md-nav__link">
    consumer
  </a>
  
    <nav class="md-nav" aria-label="consumer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer" class="md-nav__link">
    Consumer
  </a>
  
    <nav class="md-nav" aria-label="Consumer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer.next" class="md-nav__link">
    next()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer.pause" class="md-nav__link">
    pause()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer.request" class="md-nav__link">
    request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.consumer.Consumer.upload" class="md-nav__link">
    upload()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context" class="md-nav__link">
    context
  </a>
  
    <nav class="md-nav" aria-label="context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext" class="md-nav__link">
    AnalyticsContext
  </a>
  
    <nav class="md-nav" aria-label="AnalyticsContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.in_server" class="md-nav__link">
    in_server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.__enter__" class="md-nav__link">
    __enter__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.__exit__" class="md-nav__link">
    __exit__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.group" class="md-nav__link">
    group()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.identify" class="md-nav__link">
    identify()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.context.AnalyticsContext.track" class="md-nav__link">
    track()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.request" class="md-nav__link">
    request
  </a>
  
    <nav class="md-nav" aria-label="request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.request.AnalyticsAPIError" class="md-nav__link">
    AnalyticsAPIError
  </a>
  
    <nav class="md-nav" aria-label="AnalyticsAPIError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.request.AnalyticsAPIError.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.request.AnalyticsAPIError.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.analytics.request.post" class="md-nav__link">
    post()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zenml-io/zenml/docs/core_code_docs/core-analytics.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="analytics">Analytics</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.analytics" class="doc doc-heading">
        <code>zenml.analytics</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>The 'analytics' module of ZenML.</p>
<p>This module is based on the 'analytics-python' package created by Segment.
The base functionalities are adapted to work with the ZenML analytics server.</p>



  <div class="doc doc-children">

















  <div class="doc doc-object doc-function">



<h3 id="zenml.analytics.group" class="doc doc-heading">
<code class="highlight language-python"><span class="n">group</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">group_id</span><span class="p">,</span> <span class="n">traits</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Send a group call with the default client.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The user ID.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>group_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The group ID.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>traits</code></td>
        <td><code>Optional[Dict[Any, Any]]</code></td>
        <td><p>Traits to assign to the group.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[bool, str]</code></td>
      <td><p>Tuple (success flag, the original message).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">group</span><span class="p">(</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">group_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a group call with the default client.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id: The user ID.</span>
<span class="sd">        group_id: The group ID.</span>
<span class="sd">        traits: Traits to assign to the group.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple (success flag, the original message).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">set_default_client</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">default_client</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">default_client</span><span class="o">.</span><span class="n">group</span><span class="p">(</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="n">group_id</span><span class="o">=</span><span class="n">group_id</span><span class="p">,</span> <span class="n">traits</span><span class="o">=</span><span class="n">traits</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="zenml.analytics.identify" class="doc doc-heading">
<code class="highlight language-python"><span class="n">identify</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">traits</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Send an identify call with the default client.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The user ID.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>traits</code></td>
        <td><code>Optional[Dict[Any, Any]]</code></td>
        <td><p>The traits for the identification process.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[bool, str]</code></td>
      <td><p>Tuple (success flag, the original message).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">identify</span><span class="p">(</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send an identify call with the default client.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id: The user ID.</span>
<span class="sd">        traits: The traits for the identification process.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple (success flag, the original message).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">set_default_client</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">default_client</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">default_client</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
        <span class="n">traits</span><span class="o">=</span><span class="n">traits</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="zenml.analytics.set_default_client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_default_client</span><span class="p">()</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Sets up a default client with the default configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/analytics/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_default_client</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets up a default client with the default configuration.&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">default_client</span>
    <span class="k">if</span> <span class="n">default_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">default_client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span>
            <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">,</span>
            <span class="n">max_queue_size</span><span class="o">=</span><span class="n">max_queue_size</span><span class="p">,</span>
            <span class="n">send</span><span class="o">=</span><span class="n">send</span><span class="p">,</span>
            <span class="n">on_error</span><span class="o">=</span><span class="n">on_error</span><span class="p">,</span>
            <span class="n">max_retries</span><span class="o">=</span><span class="n">max_retries</span><span class="p">,</span>
            <span class="n">sync_mode</span><span class="o">=</span><span class="n">sync_mode</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="zenml.analytics.track" class="doc doc-heading">
<code class="highlight language-python"><span class="n">track</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">properties</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Send a track call with the default client.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The user ID.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>event</code></td>
        <td><code>AnalyticsEvent</code></td>
        <td><p>The type of the event.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>properties</code></td>
        <td><code>Optional[Dict[Any, Any]]</code></td>
        <td><p>Dict of additional properties for the event.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[bool, str]</code></td>
      <td><p>Tuple (success flag, the original message).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">track</span><span class="p">(</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">event</span><span class="p">:</span> <span class="s2">&quot;AnalyticsEvent&quot;</span><span class="p">,</span>
    <span class="n">properties</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a track call with the default client.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id: The user ID.</span>
<span class="sd">        event: The type of the event.</span>
<span class="sd">        properties: Dict of additional properties for the event.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple (success flag, the original message).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">set_default_client</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">default_client</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">default_client</span><span class="o">.</span><span class="n">track</span><span class="p">(</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">event</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="n">properties</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-module">



<h3 id="zenml.analytics.client" class="doc doc-heading">
        <code>client</code>



</h3>

    <div class="doc doc-contents ">

      <p>The analytics module of ZenML.</p>
<p>This module is based on the 'analytics-python' package created by Segment.
The base functionalities are adapted to work with the ZenML analytics server.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.analytics.client.AnalyticsEncoder" class="doc doc-heading">
        <code>
AnalyticsEncoder            (<span title="json.encoder.JSONEncoder">JSONEncoder</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Helper encoder class for JSON serialization.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/analytics/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AnalyticsEncoder</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Helper encoder class for JSON serialization.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The default method to handle UUID and &#39;AnalyticsEvent&#39; objects.</span>

<span class="sd">        Args:</span>
<span class="sd">            obj: The object to encode.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The encoded object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.utils.analytics_utils</span> <span class="kn">import</span> <span class="n">AnalyticsEvent</span>

        <span class="c1"># If the object is UUID, we simply return the value of UUID</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

        <span class="c1"># If the object is an AnalyticsEvent, return its value</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.client.AnalyticsEncoder.default" class="doc doc-heading">
<code class="highlight language-python"><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>The default method to handle UUID and 'AnalyticsEvent' objects.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>obj</code></td>
        <td><code>Any</code></td>
        <td><p>The object to encode.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The encoded object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The default method to handle UUID and &#39;AnalyticsEvent&#39; objects.</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: The object to encode.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The encoded object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.utils.analytics_utils</span> <span class="kn">import</span> <span class="n">AnalyticsEvent</span>

    <span class="c1"># If the object is UUID, we simply return the value of UUID</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

    <span class="c1"># If the object is an AnalyticsEvent, return its value</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">AnalyticsEvent</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.analytics.client.Client" class="doc doc-heading">
        <code>
Client        </code>



</h4>

    <div class="doc doc-contents ">

      <p>The client class for ZenML analytics.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/analytics/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Client</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The client class for ZenML analytics.&quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">DefaultConfig</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The configuration class for the client.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            on_error: Function to call if an error occurs.</span>
<span class="sd">            debug: Flag to set to switch to the debug mode.</span>
<span class="sd">            send: Flag to determine whether to send the message.</span>
<span class="sd">            sync_mode: Flag, if set to True, uses the main thread to send</span>
<span class="sd">                the messages, and if set to False, creates other threads</span>
<span class="sd">                for the analytics.</span>
<span class="sd">            max_queue_size: The maximum number of entries a single queue</span>
<span class="sd">                can hold.</span>
<span class="sd">            timeout: Timeout in seconds.</span>
<span class="sd">            max_retries: The number of max tries before failing.</span>
<span class="sd">            thread: The number of additional threads to create for the</span>
<span class="sd">                analytics if the &#39;sync_mode&#39; is set to False.</span>
<span class="sd">            upload_interval: The upload_interval in seconds if the</span>
<span class="sd">                &#39;sync_mode&#39; is set to False.</span>
<span class="sd">            upload_size: The maximum size for messages a consumer can send</span>
<span class="sd">                if the &#39;sync_mode&#39; is set to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">on_error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">send</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">sync_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">max_queue_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10000</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">15</span>
        <span class="n">max_retries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">thread</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">upload_interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span>
        <span class="n">upload_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">debug</span><span class="p">,</span>
        <span class="n">max_queue_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">max_queue_size</span><span class="p">,</span>
        <span class="n">send</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">send</span><span class="p">,</span>
        <span class="n">on_error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">on_error</span><span class="p">,</span>
        <span class="n">max_retries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">max_retries</span><span class="p">,</span>
        <span class="n">sync_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">sync_mode</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span>
        <span class="n">thread</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">thread</span><span class="p">,</span>
        <span class="n">upload_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">upload_size</span><span class="p">,</span>
        <span class="n">upload_interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">upload_interval</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialization of the client.</span>

<span class="sd">        Args:</span>
<span class="sd">            debug: Flag to set to switch to the debug mode.</span>
<span class="sd">            max_queue_size: The maximum number of entries a single queue</span>
<span class="sd">                can hold.</span>
<span class="sd">            send: Flag to determine whether to send the message.</span>
<span class="sd">            on_error: Function to call if an error occurs.</span>
<span class="sd">            max_retries: The number of max tries before failing.</span>
<span class="sd">            sync_mode: Flag, if set to True, uses the main thread to send</span>
<span class="sd">                the messages, and if set to False, creates other threads</span>
<span class="sd">                for the analytics.</span>
<span class="sd">            timeout: Timeout in seconds.</span>
<span class="sd">            thread: The number of additional threads to create for the</span>
<span class="sd">                analytics if the &#39;sync_mode&#39; is set to False.</span>
<span class="sd">            upload_size: The maximum size for messages a consumer can send</span>
<span class="sd">                if the &#39;sync_mode&#39; is set to False.</span>
<span class="sd">            upload_interval: The upload_interval in seconds if the</span>
<span class="sd">                &#39;sync_mode&#39; is set to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">(</span><span class="n">max_queue_size</span><span class="p">)</span>  <span class="c1"># type: ignore[var-annotated]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span> <span class="o">=</span> <span class="n">on_error</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send</span> <span class="o">=</span> <span class="n">send</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sync_mode</span> <span class="o">=</span> <span class="n">sync_mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>

        <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">sync_mode</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">consumers</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># On program exit, allow the consumer thread to exit cleanly.</span>
            <span class="c1"># This prevents exceptions and a messy shutdown when the</span>
            <span class="c1"># interpreter is destroyed before the daemon thread finishes</span>
            <span class="c1"># execution. However, it is *not* the same as flushing the queue!</span>
            <span class="c1"># To guarantee all messages have been delivered, you&#39;ll still need</span>
            <span class="c1"># to call flush().</span>
            <span class="k">if</span> <span class="n">send</span><span class="p">:</span>
                <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">join</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">thread</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">consumers</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">consumer</span> <span class="o">=</span> <span class="n">Consumer</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">queue</span><span class="p">,</span>
                    <span class="n">base_source_context</span><span class="o">=</span><span class="n">source_context</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                    <span class="n">on_error</span><span class="o">=</span><span class="n">on_error</span><span class="p">,</span>
                    <span class="n">upload_size</span><span class="o">=</span><span class="n">upload_size</span><span class="p">,</span>
                    <span class="n">upload_interval</span><span class="o">=</span><span class="n">upload_interval</span><span class="p">,</span>
                    <span class="n">retries</span><span class="o">=</span><span class="n">max_retries</span><span class="p">,</span>
                    <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">consumers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">consumer</span><span class="p">)</span>

                <span class="c1"># if we&#39;ve disabled sending, just don&#39;t start the consumer</span>
                <span class="k">if</span> <span class="n">send</span><span class="p">:</span>
                    <span class="n">consumer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">identify</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Method to identify a user with given traits.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_id: The user ID.</span>
<span class="sd">            traits: The traits for the identification process.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple (success flag, the original message).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span>
            <span class="s2">&quot;traits&quot;</span><span class="p">:</span> <span class="n">traits</span> <span class="ow">or</span> <span class="p">{},</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;identify&quot;</span><span class="p">,</span>
            <span class="s2">&quot;debug&quot;</span><span class="p">:</span> <span class="n">IS_DEBUG_ENV</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enqueue</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">AnalyticsEncoder</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">track</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">event</span><span class="p">:</span> <span class="s2">&quot;AnalyticsEvent&quot;</span><span class="p">,</span>
        <span class="n">properties</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Method to track events.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_id: The user ID.</span>
<span class="sd">            event: The type of the event.</span>
<span class="sd">            properties: Dict of additional properties for the event.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple (success flag, the original message).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span>
            <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="n">event</span><span class="p">,</span>
            <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="n">properties</span> <span class="ow">or</span> <span class="p">{},</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;track&quot;</span><span class="p">,</span>
            <span class="s2">&quot;debug&quot;</span><span class="p">:</span> <span class="n">IS_DEBUG_ENV</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enqueue</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">AnalyticsEncoder</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">group</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">group_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Method to group users.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_id: The user ID.</span>
<span class="sd">            group_id: The group ID.</span>
<span class="sd">            traits: Traits to assign to the group.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple (success flag, the original message).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span>
            <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="n">group_id</span><span class="p">,</span>
            <span class="s2">&quot;traits&quot;</span><span class="p">:</span> <span class="n">traits</span> <span class="ow">or</span> <span class="p">{},</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;group&quot;</span><span class="p">,</span>
            <span class="s2">&quot;debug&quot;</span><span class="p">:</span> <span class="n">IS_DEBUG_ENV</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enqueue</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">AnalyticsEncoder</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_enqueue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Method to queue messages to be sent.</span>

<span class="sd">        Args:</span>
<span class="sd">            msg: The message to queue.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple (success flag, the original message).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># if send is False, return msg as if it was successfully queued</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">msg</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sync_mode</span><span class="p">:</span>
            <span class="n">post</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span> <span class="n">batch</span><span class="o">=</span><span class="p">[</span><span class="n">msg</span><span class="p">])</span>
            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">msg</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">block</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">msg</span>
        <span class="k">except</span> <span class="n">queue</span><span class="o">.</span><span class="n">Full</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;ZenML analytics-python queue is full&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="n">msg</span>

    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Method to force a flush from the internal queue to the server.&quot;&quot;&quot;</span>
        <span class="n">q</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">qsize</span><span class="p">()</span>
        <span class="n">q</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
        <span class="c1"># Note that this message may not be precise, because of threading.</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;successfully flushed about </span><span class="si">%s</span><span class="s2"> items.&quot;</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">join</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Method to end the consumer thread once the queue is empty.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">consumer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">consumers</span><span class="p">:</span>
            <span class="n">consumer</span><span class="o">.</span><span class="n">pause</span><span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">consumer</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
                <span class="c1"># consumer thread has not started</span>
                <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Method to flush all messages and cleanly shutdown the client.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.analytics.client.Client.DefaultConfig" class="doc doc-heading">
        <code>
DefaultConfig        </code>



</h5>

    <div class="doc doc-contents ">

      <p>The configuration class for the client.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>on_error</code></td>
        <td><code>Optional[Callable[..., Any]]</code></td>
        <td><p>Function to call if an error occurs.</p></td>
      </tr>
      <tr>
        <td><code>debug</code></td>
        <td><code>bool</code></td>
        <td><p>Flag to set to switch to the debug mode.</p></td>
      </tr>
      <tr>
        <td><code>send</code></td>
        <td><code>bool</code></td>
        <td><p>Flag to determine whether to send the message.</p></td>
      </tr>
      <tr>
        <td><code>sync_mode</code></td>
        <td><code>bool</code></td>
        <td><p>Flag, if set to True, uses the main thread to send
the messages, and if set to False, creates other threads
for the analytics.</p></td>
      </tr>
      <tr>
        <td><code>max_queue_size</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of entries a single queue
can hold.</p></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>Timeout in seconds.</p></td>
      </tr>
      <tr>
        <td><code>max_retries</code></td>
        <td><code>int</code></td>
        <td><p>The number of max tries before failing.</p></td>
      </tr>
      <tr>
        <td><code>thread</code></td>
        <td><code>int</code></td>
        <td><p>The number of additional threads to create for the
analytics if the 'sync_mode' is set to False.</p></td>
      </tr>
      <tr>
        <td><code>upload_interval</code></td>
        <td><code>float</code></td>
        <td><p>The upload_interval in seconds if the
'sync_mode' is set to False.</p></td>
      </tr>
      <tr>
        <td><code>upload_size</code></td>
        <td><code>int</code></td>
        <td><p>The maximum size for messages a consumer can send
if the 'sync_mode' is set to False.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DefaultConfig</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The configuration class for the client.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        on_error: Function to call if an error occurs.</span>
<span class="sd">        debug: Flag to set to switch to the debug mode.</span>
<span class="sd">        send: Flag to determine whether to send the message.</span>
<span class="sd">        sync_mode: Flag, if set to True, uses the main thread to send</span>
<span class="sd">            the messages, and if set to False, creates other threads</span>
<span class="sd">            for the analytics.</span>
<span class="sd">        max_queue_size: The maximum number of entries a single queue</span>
<span class="sd">            can hold.</span>
<span class="sd">        timeout: Timeout in seconds.</span>
<span class="sd">        max_retries: The number of max tries before failing.</span>
<span class="sd">        thread: The number of additional threads to create for the</span>
<span class="sd">            analytics if the &#39;sync_mode&#39; is set to False.</span>
<span class="sd">        upload_interval: The upload_interval in seconds if the</span>
<span class="sd">            &#39;sync_mode&#39; is set to False.</span>
<span class="sd">        upload_size: The maximum size for messages a consumer can send</span>
<span class="sd">            if the &#39;sync_mode&#39; is set to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">on_error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">send</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">sync_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">max_queue_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10000</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">15</span>
    <span class="n">max_retries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">thread</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">upload_interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span>
    <span class="n">upload_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">





















  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.client.Client.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">max_queue_size</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">send</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">on_error</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_retries</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sync_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">thread</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">upload_size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">upload_interval</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialization of the client.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>debug</code></td>
        <td><code>bool</code></td>
        <td><p>Flag to set to switch to the debug mode.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>max_queue_size</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of entries a single queue
can hold.</p></td>
        <td><code>10000</code></td>
      </tr>
      <tr>
        <td><code>send</code></td>
        <td><code>bool</code></td>
        <td><p>Flag to determine whether to send the message.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>on_error</code></td>
        <td><code>Optional[Callable[..., Any]]</code></td>
        <td><p>Function to call if an error occurs.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>max_retries</code></td>
        <td><code>int</code></td>
        <td><p>The number of max tries before failing.</p></td>
        <td><code>1</code></td>
      </tr>
      <tr>
        <td><code>sync_mode</code></td>
        <td><code>bool</code></td>
        <td><p>Flag, if set to True, uses the main thread to send
the messages, and if set to False, creates other threads
for the analytics.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>Timeout in seconds.</p></td>
        <td><code>15</code></td>
      </tr>
      <tr>
        <td><code>thread</code></td>
        <td><code>int</code></td>
        <td><p>The number of additional threads to create for the
analytics if the 'sync_mode' is set to False.</p></td>
        <td><code>1</code></td>
      </tr>
      <tr>
        <td><code>upload_size</code></td>
        <td><code>int</code></td>
        <td><p>The maximum size for messages a consumer can send
if the 'sync_mode' is set to False.</p></td>
        <td><code>100</code></td>
      </tr>
      <tr>
        <td><code>upload_interval</code></td>
        <td><code>float</code></td>
        <td><p>The upload_interval in seconds if the
'sync_mode' is set to False.</p></td>
        <td><code>0.5</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">debug</span><span class="p">,</span>
    <span class="n">max_queue_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">max_queue_size</span><span class="p">,</span>
    <span class="n">send</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">send</span><span class="p">,</span>
    <span class="n">on_error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">on_error</span><span class="p">,</span>
    <span class="n">max_retries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">max_retries</span><span class="p">,</span>
    <span class="n">sync_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">sync_mode</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span>
    <span class="n">thread</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">thread</span><span class="p">,</span>
    <span class="n">upload_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">upload_size</span><span class="p">,</span>
    <span class="n">upload_interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">DefaultConfig</span><span class="o">.</span><span class="n">upload_interval</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialization of the client.</span>

<span class="sd">    Args:</span>
<span class="sd">        debug: Flag to set to switch to the debug mode.</span>
<span class="sd">        max_queue_size: The maximum number of entries a single queue</span>
<span class="sd">            can hold.</span>
<span class="sd">        send: Flag to determine whether to send the message.</span>
<span class="sd">        on_error: Function to call if an error occurs.</span>
<span class="sd">        max_retries: The number of max tries before failing.</span>
<span class="sd">        sync_mode: Flag, if set to True, uses the main thread to send</span>
<span class="sd">            the messages, and if set to False, creates other threads</span>
<span class="sd">            for the analytics.</span>
<span class="sd">        timeout: Timeout in seconds.</span>
<span class="sd">        thread: The number of additional threads to create for the</span>
<span class="sd">            analytics if the &#39;sync_mode&#39; is set to False.</span>
<span class="sd">        upload_size: The maximum size for messages a consumer can send</span>
<span class="sd">            if the &#39;sync_mode&#39; is set to False.</span>
<span class="sd">        upload_interval: The upload_interval in seconds if the</span>
<span class="sd">            &#39;sync_mode&#39; is set to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">queue</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">(</span><span class="n">max_queue_size</span><span class="p">)</span>  <span class="c1"># type: ignore[var-annotated]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span> <span class="o">=</span> <span class="n">on_error</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">send</span> <span class="o">=</span> <span class="n">send</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sync_mode</span> <span class="o">=</span> <span class="n">sync_mode</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>

    <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">sync_mode</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">consumers</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># On program exit, allow the consumer thread to exit cleanly.</span>
        <span class="c1"># This prevents exceptions and a messy shutdown when the</span>
        <span class="c1"># interpreter is destroyed before the daemon thread finishes</span>
        <span class="c1"># execution. However, it is *not* the same as flushing the queue!</span>
        <span class="c1"># To guarantee all messages have been delivered, you&#39;ll still need</span>
        <span class="c1"># to call flush().</span>
        <span class="k">if</span> <span class="n">send</span><span class="p">:</span>
            <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">join</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">thread</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">consumers</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">consumer</span> <span class="o">=</span> <span class="n">Consumer</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">queue</span><span class="p">,</span>
                <span class="n">base_source_context</span><span class="o">=</span><span class="n">source_context</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
                <span class="n">on_error</span><span class="o">=</span><span class="n">on_error</span><span class="p">,</span>
                <span class="n">upload_size</span><span class="o">=</span><span class="n">upload_size</span><span class="p">,</span>
                <span class="n">upload_interval</span><span class="o">=</span><span class="n">upload_interval</span><span class="p">,</span>
                <span class="n">retries</span><span class="o">=</span><span class="n">max_retries</span><span class="p">,</span>
                <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">consumers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">consumer</span><span class="p">)</span>

            <span class="c1"># if we&#39;ve disabled sending, just don&#39;t start the consumer</span>
            <span class="k">if</span> <span class="n">send</span><span class="p">:</span>
                <span class="n">consumer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.client.Client.flush" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Method to force a flush from the internal queue to the server.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/analytics/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method to force a flush from the internal queue to the server.&quot;&quot;&quot;</span>
    <span class="n">q</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue</span>
    <span class="n">size</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">qsize</span><span class="p">()</span>
    <span class="n">q</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
    <span class="c1"># Note that this message may not be precise, because of threading.</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;successfully flushed about </span><span class="si">%s</span><span class="s2"> items.&quot;</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.client.Client.group" class="doc doc-heading">
<code class="highlight language-python"><span class="n">group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">group_id</span><span class="p">,</span> <span class="n">traits</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Method to group users.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The user ID.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>group_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The group ID.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>traits</code></td>
        <td><code>Optional[Dict[Any, Any]]</code></td>
        <td><p>Traits to assign to the group.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[bool, str]</code></td>
      <td><p>Tuple (success flag, the original message).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">group</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">group_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method to group users.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id: The user ID.</span>
<span class="sd">        group_id: The group ID.</span>
<span class="sd">        traits: Traits to assign to the group.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple (success flag, the original message).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span>
        <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="n">group_id</span><span class="p">,</span>
        <span class="s2">&quot;traits&quot;</span><span class="p">:</span> <span class="n">traits</span> <span class="ow">or</span> <span class="p">{},</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;group&quot;</span><span class="p">,</span>
        <span class="s2">&quot;debug&quot;</span><span class="p">:</span> <span class="n">IS_DEBUG_ENV</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enqueue</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">AnalyticsEncoder</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.client.Client.identify" class="doc doc-heading">
<code class="highlight language-python"><span class="n">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">traits</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Method to identify a user with given traits.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The user ID.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>traits</code></td>
        <td><code>Optional[Dict[Any, Any]]</code></td>
        <td><p>The traits for the identification process.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[bool, str]</code></td>
      <td><p>Tuple (success flag, the original message).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">identify</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method to identify a user with given traits.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id: The user ID.</span>
<span class="sd">        traits: The traits for the identification process.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple (success flag, the original message).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span>
        <span class="s2">&quot;traits&quot;</span><span class="p">:</span> <span class="n">traits</span> <span class="ow">or</span> <span class="p">{},</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;identify&quot;</span><span class="p">,</span>
        <span class="s2">&quot;debug&quot;</span><span class="p">:</span> <span class="n">IS_DEBUG_ENV</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enqueue</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">AnalyticsEncoder</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.client.Client.join" class="doc doc-heading">
<code class="highlight language-python"><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Method to end the consumer thread once the queue is empty.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/analytics/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">join</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method to end the consumer thread once the queue is empty.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">consumer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">consumers</span><span class="p">:</span>
        <span class="n">consumer</span><span class="o">.</span><span class="n">pause</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">consumer</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="c1"># consumer thread has not started</span>
            <span class="k">pass</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.client.Client.shutdown" class="doc doc-heading">
<code class="highlight language-python"><span class="n">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Method to flush all messages and cleanly shutdown the client.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/analytics/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method to flush all messages and cleanly shutdown the client.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.client.Client.track" class="doc doc-heading">
<code class="highlight language-python"><span class="n">track</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">properties</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Method to track events.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The user ID.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>event</code></td>
        <td><code>AnalyticsEvent</code></td>
        <td><p>The type of the event.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>properties</code></td>
        <td><code>Optional[Dict[Any, Any]]</code></td>
        <td><p>Dict of additional properties for the event.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[bool, str]</code></td>
      <td><p>Tuple (success flag, the original message).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/client.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">track</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">event</span><span class="p">:</span> <span class="s2">&quot;AnalyticsEvent&quot;</span><span class="p">,</span>
    <span class="n">properties</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method to track events.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id: The user ID.</span>
<span class="sd">        event: The type of the event.</span>
<span class="sd">        properties: Dict of additional properties for the event.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple (success flag, the original message).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span>
        <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="n">event</span><span class="p">,</span>
        <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="n">properties</span> <span class="ow">or</span> <span class="p">{},</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;track&quot;</span><span class="p">,</span>
        <span class="s2">&quot;debug&quot;</span><span class="p">:</span> <span class="n">IS_DEBUG_ENV</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enqueue</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">AnalyticsEncoder</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.analytics.consumer" class="doc doc-heading">
        <code>consumer</code>



</h3>

    <div class="doc doc-contents ">

      <p>The analytics module of ZenML.</p>
<p>This module is based on the 'analytics-python' package created by Segment.
The base functionalities are adapted to work with the ZenML analytics server.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h4 id="zenml.analytics.consumer.Consumer" class="doc doc-heading">
        <code>
Consumer            (<span title="threading.Thread">Thread</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Consumes the messages from the client's queue.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/analytics/consumer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Consumer</span><span class="p">(</span><span class="n">Thread</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Consumes the messages from the client&#39;s queue.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">queue</span><span class="p">:</span> <span class="n">Queue</span><span class="p">,</span>  <span class="c1"># type: ignore[type-arg]</span>
        <span class="n">base_source_context</span><span class="p">:</span> <span class="n">SourceContextTypes</span><span class="p">,</span>
        <span class="n">upload_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
        <span class="n">on_error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">upload_interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span>
        <span class="n">retries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize and create a consumer thread.</span>

<span class="sd">        Args:</span>
<span class="sd">            queue: The list of messages in the queue.</span>
<span class="sd">            base_source_context: the context type which will be set for the</span>
<span class="sd">                thread as this consumer runs.</span>
<span class="sd">            upload_size: The maximum size for messages a consumer can send</span>
<span class="sd">                if the &#39;sync_mode&#39; is set to False.</span>
<span class="sd">            on_error: Function to call if an error occurs.</span>
<span class="sd">            upload_interval: The upload_interval in seconds</span>
<span class="sd">            retries: The number of max tries before failing.</span>
<span class="sd">            timeout: Timeout in seconds.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Thread</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="c1"># Initialization of the logging, that silences the backoff logger</span>
        <span class="n">init_logging</span><span class="p">()</span>

        <span class="c1"># Store the base context to set for the thread</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_source_context</span> <span class="o">=</span> <span class="n">base_source_context</span>

        <span class="c1"># Set the source context from the base</span>
        <span class="c1"># Make consumer a daemon thread so that it doesn&#39;t block program exit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">upload_size</span> <span class="o">=</span> <span class="n">upload_size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">upload_interval</span> <span class="o">=</span> <span class="n">upload_interval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span> <span class="o">=</span> <span class="n">on_error</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue</span> <span class="o">=</span> <span class="n">queue</span>
        <span class="c1"># It&#39;s important to set running in the constructor: if we are asked to</span>
        <span class="c1"># pause immediately after construction, we might set running to True in</span>
        <span class="c1"># run() *after* we set it to False in pause... and keep running</span>
        <span class="c1"># forever.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">retries</span> <span class="o">=</span> <span class="n">retries</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs the consumer.&quot;&quot;&quot;</span>
        <span class="c1"># Set the base context for each thread</span>
        <span class="kn">from</span> <span class="nn">zenml.analytics</span> <span class="kn">import</span> <span class="n">source_context</span>

        <span class="n">source_context</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_source_context</span><span class="p">)</span>

        <span class="c1"># Run the thread</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Consumer is running...&quot;</span><span class="p">)</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Consumer exited.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pause</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pause the consumer.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">upload</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Upload the next batch of items, return whether successful.</span>

<span class="sd">        Returns:</span>
<span class="sd">            If the upload succeeded.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">batch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span>
            <span class="n">success</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;error uploading: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="n">success</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">batch</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="c1"># mark items as acknowledged from queue</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">batch</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">queue</span><span class="o">.</span><span class="n">task_done</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">success</span>

    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the next batch of items to upload.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The next batch of items to upload.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue</span>
        <span class="n">items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">start_time</span> <span class="o">=</span> <span class="n">monotonic</span><span class="o">.</span><span class="n">monotonic</span><span class="p">()</span>
        <span class="n">total_size</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">upload_size</span><span class="p">:</span>
            <span class="n">elapsed</span> <span class="o">=</span> <span class="n">monotonic</span><span class="o">.</span><span class="n">monotonic</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
            <span class="k">if</span> <span class="n">elapsed</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upload_interval</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                    <span class="n">block</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">upload_interval</span> <span class="o">-</span> <span class="n">elapsed</span>
                <span class="p">)</span>
                <span class="n">item_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

                <span class="k">if</span> <span class="n">item_size</span> <span class="o">&gt;</span> <span class="n">MAX_MSG_SIZE</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                        <span class="s2">&quot;Item exceeds 32kb limit, dropping. (</span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                    <span class="p">)</span>
                    <span class="k">continue</span>
                <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="n">total_size</span> <span class="o">+=</span> <span class="n">item_size</span>
                <span class="k">if</span> <span class="n">total_size</span> <span class="o">&gt;=</span> <span class="n">BATCH_SIZE_LIMIT</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;hit batch size limit (size: </span><span class="si">%d</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">total_size</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">except</span> <span class="n">Empty</span><span class="p">:</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="n">items</span>

    <span class="k">def</span> <span class="nf">request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Attempt to upload the batch and retry before raising an error.</span>

<span class="sd">        Args:</span>
<span class="sd">            batch: The batch to upload.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">fatal_exception</span><span class="p">(</span><span class="n">exc</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="n">AnalyticsAPIError</span><span class="p">):</span>
                <span class="c1"># retry on server errors and client errors</span>
                <span class="c1"># with 429 status code (rate limited),</span>
                <span class="c1"># don&#39;t retry on other client errors</span>
                <span class="k">return</span> <span class="p">(</span><span class="mi">400</span> <span class="o">&lt;=</span> <span class="n">exc</span><span class="o">.</span><span class="n">status</span> <span class="o">&lt;</span> <span class="mi">500</span><span class="p">)</span> <span class="ow">and</span> <span class="n">exc</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="mi">429</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># retry on all other errors (e.g. network)</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="nd">@backoff</span><span class="o">.</span><span class="n">on_exception</span><span class="p">(</span>  <span class="c1"># type: ignore[misc]</span>
            <span class="n">backoff</span><span class="o">.</span><span class="n">expo</span><span class="p">,</span>
            <span class="ne">Exception</span><span class="p">,</span>
            <span class="n">max_tries</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">retries</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">giveup</span><span class="o">=</span><span class="n">fatal_exception</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">def</span> <span class="nf">send_request</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Function to send a batch of messages.&quot;&quot;&quot;</span>
            <span class="n">post</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span> <span class="n">batch</span><span class="o">=</span><span class="n">batch</span><span class="p">)</span>

        <span class="n">send_request</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.consumer.Consumer.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">queue</span><span class="p">,</span> <span class="n">base_source_context</span><span class="p">,</span> <span class="n">upload_size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">on_error</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">upload_interval</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">retries</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialize and create a consumer thread.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>queue</code></td>
        <td><code>Queue</code></td>
        <td><p>The list of messages in the queue.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>base_source_context</code></td>
        <td><code>SourceContextTypes</code></td>
        <td><p>the context type which will be set for the
thread as this consumer runs.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>upload_size</code></td>
        <td><code>int</code></td>
        <td><p>The maximum size for messages a consumer can send
if the 'sync_mode' is set to False.</p></td>
        <td><code>100</code></td>
      </tr>
      <tr>
        <td><code>on_error</code></td>
        <td><code>Optional[Callable[..., Any]]</code></td>
        <td><p>Function to call if an error occurs.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>upload_interval</code></td>
        <td><code>float</code></td>
        <td><p>The upload_interval in seconds</p></td>
        <td><code>0.5</code></td>
      </tr>
      <tr>
        <td><code>retries</code></td>
        <td><code>int</code></td>
        <td><p>The number of max tries before failing.</p></td>
        <td><code>10</code></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>Timeout in seconds.</p></td>
        <td><code>15</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/consumer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">queue</span><span class="p">:</span> <span class="n">Queue</span><span class="p">,</span>  <span class="c1"># type: ignore[type-arg]</span>
    <span class="n">base_source_context</span><span class="p">:</span> <span class="n">SourceContextTypes</span><span class="p">,</span>
    <span class="n">upload_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">on_error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">upload_interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span>
    <span class="n">retries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize and create a consumer thread.</span>

<span class="sd">    Args:</span>
<span class="sd">        queue: The list of messages in the queue.</span>
<span class="sd">        base_source_context: the context type which will be set for the</span>
<span class="sd">            thread as this consumer runs.</span>
<span class="sd">        upload_size: The maximum size for messages a consumer can send</span>
<span class="sd">            if the &#39;sync_mode&#39; is set to False.</span>
<span class="sd">        on_error: Function to call if an error occurs.</span>
<span class="sd">        upload_interval: The upload_interval in seconds</span>
<span class="sd">        retries: The number of max tries before failing.</span>
<span class="sd">        timeout: Timeout in seconds.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">Thread</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="c1"># Initialization of the logging, that silences the backoff logger</span>
    <span class="n">init_logging</span><span class="p">()</span>

    <span class="c1"># Store the base context to set for the thread</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">base_source_context</span> <span class="o">=</span> <span class="n">base_source_context</span>

    <span class="c1"># Set the source context from the base</span>
    <span class="c1"># Make consumer a daemon thread so that it doesn&#39;t block program exit</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">upload_size</span> <span class="o">=</span> <span class="n">upload_size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">upload_interval</span> <span class="o">=</span> <span class="n">upload_interval</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span> <span class="o">=</span> <span class="n">on_error</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">queue</span> <span class="o">=</span> <span class="n">queue</span>
    <span class="c1"># It&#39;s important to set running in the constructor: if we are asked to</span>
    <span class="c1"># pause immediately after construction, we might set running to True in</span>
    <span class="c1"># run() *after* we set it to False in pause... and keep running</span>
    <span class="c1"># forever.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">retries</span> <span class="o">=</span> <span class="n">retries</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.consumer.Consumer.next" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Return the next batch of items to upload.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>The next batch of items to upload.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/consumer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the next batch of items to upload.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The next batch of items to upload.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">queue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue</span>
    <span class="n">items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">start_time</span> <span class="o">=</span> <span class="n">monotonic</span><span class="o">.</span><span class="n">monotonic</span><span class="p">()</span>
    <span class="n">total_size</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">upload_size</span><span class="p">:</span>
        <span class="n">elapsed</span> <span class="o">=</span> <span class="n">monotonic</span><span class="o">.</span><span class="n">monotonic</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
        <span class="k">if</span> <span class="n">elapsed</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">upload_interval</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">block</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">upload_interval</span> <span class="o">-</span> <span class="n">elapsed</span>
            <span class="p">)</span>
            <span class="n">item_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

            <span class="k">if</span> <span class="n">item_size</span> <span class="o">&gt;</span> <span class="n">MAX_MSG_SIZE</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Item exceeds 32kb limit, dropping. (</span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="k">continue</span>
            <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="n">total_size</span> <span class="o">+=</span> <span class="n">item_size</span>
            <span class="k">if</span> <span class="n">total_size</span> <span class="o">&gt;=</span> <span class="n">BATCH_SIZE_LIMIT</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;hit batch size limit (size: </span><span class="si">%d</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">total_size</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="k">except</span> <span class="n">Empty</span><span class="p">:</span>
            <span class="k">break</span>

    <span class="k">return</span> <span class="n">items</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.consumer.Consumer.pause" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pause</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Pause the consumer.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/analytics/consumer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">pause</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pause the consumer.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.consumer.Consumer.request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Attempt to upload the batch and retry before raising an error.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>batch</code></td>
        <td><code>List[str]</code></td>
        <td><p>The batch to upload.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/consumer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Attempt to upload the batch and retry before raising an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        batch: The batch to upload.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">fatal_exception</span><span class="p">(</span><span class="n">exc</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="n">AnalyticsAPIError</span><span class="p">):</span>
            <span class="c1"># retry on server errors and client errors</span>
            <span class="c1"># with 429 status code (rate limited),</span>
            <span class="c1"># don&#39;t retry on other client errors</span>
            <span class="k">return</span> <span class="p">(</span><span class="mi">400</span> <span class="o">&lt;=</span> <span class="n">exc</span><span class="o">.</span><span class="n">status</span> <span class="o">&lt;</span> <span class="mi">500</span><span class="p">)</span> <span class="ow">and</span> <span class="n">exc</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="mi">429</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># retry on all other errors (e.g. network)</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@backoff</span><span class="o">.</span><span class="n">on_exception</span><span class="p">(</span>  <span class="c1"># type: ignore[misc]</span>
        <span class="n">backoff</span><span class="o">.</span><span class="n">expo</span><span class="p">,</span>
        <span class="ne">Exception</span><span class="p">,</span>
        <span class="n">max_tries</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">retries</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">giveup</span><span class="o">=</span><span class="n">fatal_exception</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">send_request</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Function to send a batch of messages.&quot;&quot;&quot;</span>
        <span class="n">post</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span> <span class="n">batch</span><span class="o">=</span><span class="n">batch</span><span class="p">)</span>

    <span class="n">send_request</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.consumer.Consumer.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Runs the consumer.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/analytics/consumer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs the consumer.&quot;&quot;&quot;</span>
    <span class="c1"># Set the base context for each thread</span>
    <span class="kn">from</span> <span class="nn">zenml.analytics</span> <span class="kn">import</span> <span class="n">source_context</span>

    <span class="n">source_context</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_source_context</span><span class="p">)</span>

    <span class="c1"># Run the thread</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Consumer is running...&quot;</span><span class="p">)</span>
    <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Consumer exited.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.consumer.Consumer.upload" class="doc doc-heading">
<code class="highlight language-python"><span class="n">upload</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Upload the next batch of items, return whether successful.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>If the upload succeeded.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/consumer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">upload</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upload the next batch of items, return whether successful.</span>

<span class="sd">    Returns:</span>
<span class="sd">        If the upload succeeded.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">batch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span>
        <span class="n">success</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;error uploading: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="n">success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">batch</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># mark items as acknowledged from queue</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">batch</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">queue</span><span class="o">.</span><span class="n">task_done</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">success</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.analytics.context" class="doc doc-heading">
        <code>context</code>



</h3>

    <div class="doc doc-contents ">

      <p>The analytics module of ZenML.</p>
<p>This module is based on the 'analytics-python' package created by Segment.
The base functionalities are adapted to work with the ZenML analytics server.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.analytics.context.AnalyticsContext" class="doc doc-heading">
        <code>
AnalyticsContext        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Client class for ZenML Analytics v2.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/analytics/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AnalyticsContext</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Client class for ZenML Analytics v2.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialization.</span>

<span class="sd">        Use this as a context manager to ensure that analytics are initialized</span>
<span class="sd">        properly, only tracked when configured to do so and that any errors</span>
<span class="sd">        are handled gracefully.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">database_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ServerDatabaseType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deployment_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ServerDeploymentType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">in_server</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Flag to check whether the code is running in a ZenML server.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if running in a server, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">handle_bool_env_var</span><span class="p">(</span><span class="n">ENV_ZENML_SERVER</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AnalyticsContext&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Enter analytics context manager.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The analytics context.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Fetch the analytics opt-in setting</span>
        <span class="kn">from</span> <span class="nn">zenml.config.global_config</span> <span class="kn">import</span> <span class="n">GlobalConfiguration</span>

        <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">analytics_opt_in</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Fetch the `user_id`</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_server</span><span class="p">:</span>
                <span class="kn">from</span> <span class="nn">zenml.zen_server.auth</span> <span class="kn">import</span> <span class="n">get_auth_context</span>

                <span class="c1"># If the code is running on the server, use the auth context.</span>
                <span class="n">auth_context</span> <span class="o">=</span> <span class="n">get_auth_context</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">auth_context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># If the code is running on the client, use the default user.</span>
                <span class="n">default_user</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_user</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">default_user</span><span class="o">.</span><span class="n">id</span>

            <span class="c1"># Fetch the `client_id`</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_server</span><span class="p">:</span>
                <span class="c1"># If the code is running on the server, there is no client id.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># If the code is running on the client, attach the client id.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">user_id</span>

            <span class="c1"># Fetch the store information including the `server_id`</span>
            <span class="n">store_info</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">server_id</span> <span class="o">=</span> <span class="n">store_info</span><span class="o">.</span><span class="n">id</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">deployment_type</span> <span class="o">=</span> <span class="n">store_info</span><span class="o">.</span><span class="n">deployment_type</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">database_type</span> <span class="o">=</span> <span class="n">store_info</span><span class="o">.</span><span class="n">database_type</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Analytics initialization failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">exc_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]],</span>
        <span class="n">exc_val</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">],</span>
        <span class="n">exc_tb</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TracebackType</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exit context manager.</span>

<span class="sd">        Args:</span>
<span class="sd">            exc_type: Exception type.</span>
<span class="sd">            exc_val: Exception value.</span>
<span class="sd">            exc_tb: Exception traceback.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">exc_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending telemetry 2.0 data failed: </span><span class="si">{</span><span class="n">exc_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Identify the user through segment.</span>

<span class="sd">        Args:</span>
<span class="sd">            traits: Traits of the user.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if tracking information was sent, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">success</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">analytics</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span>
                <span class="n">user_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                <span class="n">traits</span><span class="o">=</span><span class="n">traits</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">success</span>

    <span class="k">def</span> <span class="nf">group</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">group_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Group the user.</span>

<span class="sd">        Args:</span>
<span class="sd">            group_id: Group ID.</span>
<span class="sd">            traits: Traits of the group.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if tracking information was sent, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">success</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">traits</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">traits</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="n">traits</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="n">group_id</span><span class="p">})</span>

            <span class="n">success</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">analytics</span><span class="o">.</span><span class="n">group</span><span class="p">(</span>
                <span class="n">user_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                <span class="n">group_id</span><span class="o">=</span><span class="n">group_id</span><span class="p">,</span>
                <span class="n">traits</span><span class="o">=</span><span class="n">traits</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">success</span>

    <span class="k">def</span> <span class="nf">track</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">event</span><span class="p">:</span> <span class="s2">&quot;AnalyticsEvent&quot;</span><span class="p">,</span>
        <span class="n">properties</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Track an event.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: Event to track.</span>
<span class="sd">            properties: Event properties.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if tracking information was sent, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.utils.analytics_utils</span> <span class="kn">import</span> <span class="n">AnalyticsEvent</span>

        <span class="k">if</span> <span class="n">properties</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">properties</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span>
            <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">value</span>
            <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span>
                <span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">OPT_OUT_ANALYTICS</span><span class="p">,</span>
                <span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">OPT_IN_ANALYTICS</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># add basics</span>
        <span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Environment</span><span class="o">.</span><span class="n">get_system_info</span><span class="p">())</span>
        <span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;environment&quot;</span><span class="p">:</span> <span class="n">get_environment</span><span class="p">(),</span>
                <span class="s2">&quot;python_version&quot;</span><span class="p">:</span> <span class="n">Environment</span><span class="o">.</span><span class="n">python_version</span><span class="p">(),</span>
                <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">__version__</span><span class="p">,</span>
                <span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">),</span>
                <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">),</span>
                <span class="s2">&quot;server_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server_id</span><span class="p">),</span>
                <span class="s2">&quot;deployment_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deployment_type</span><span class="p">),</span>
                <span class="s2">&quot;database_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">database_type</span><span class="p">),</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">properties</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
                <span class="n">properties</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="n">success</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">analytics</span><span class="o">.</span><span class="n">track</span><span class="p">(</span>
            <span class="n">user_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
            <span class="n">event</span><span class="o">=</span><span class="n">event</span><span class="p">,</span>
            <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Sending analytics: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, Event: </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">properties</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">success</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h5 id="zenml.analytics.context.AnalyticsContext.in_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">in_server</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Flag to check whether the code is running in a ZenML server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if running in a server, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.context.AnalyticsContext.__enter__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Enter analytics context manager.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AnalyticsContext</code></td>
      <td><p>The analytics context.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AnalyticsContext&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enter analytics context manager.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The analytics context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Fetch the analytics opt-in setting</span>
    <span class="kn">from</span> <span class="nn">zenml.config.global_config</span> <span class="kn">import</span> <span class="n">GlobalConfiguration</span>

    <span class="n">gc</span> <span class="o">=</span> <span class="n">GlobalConfiguration</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">analytics_opt_in</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Fetch the `user_id`</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_server</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.zen_server.auth</span> <span class="kn">import</span> <span class="n">get_auth_context</span>

            <span class="c1"># If the code is running on the server, use the auth context.</span>
            <span class="n">auth_context</span> <span class="o">=</span> <span class="n">get_auth_context</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">auth_context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">auth_context</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If the code is running on the client, use the default user.</span>
            <span class="n">default_user</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_user</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">default_user</span><span class="o">.</span><span class="n">id</span>

        <span class="c1"># Fetch the `client_id`</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_server</span><span class="p">:</span>
            <span class="c1"># If the code is running on the server, there is no client id.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If the code is running on the client, attach the client id.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">user_id</span>

        <span class="c1"># Fetch the store information including the `server_id`</span>
        <span class="n">store_info</span> <span class="o">=</span> <span class="n">gc</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">server_id</span> <span class="o">=</span> <span class="n">store_info</span><span class="o">.</span><span class="n">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deployment_type</span> <span class="o">=</span> <span class="n">store_info</span><span class="o">.</span><span class="n">deployment_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">database_type</span> <span class="o">=</span> <span class="n">store_info</span><span class="o">.</span><span class="n">database_type</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Analytics initialization failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.context.AnalyticsContext.__exit__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Exit context manager.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>exc_type</code></td>
        <td><code>Optional[Type[BaseException]]</code></td>
        <td><p>Exception type.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>exc_val</code></td>
        <td><code>Optional[BaseException]</code></td>
        <td><p>Exception value.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>exc_tb</code></td>
        <td><code>Optional[traceback]</code></td>
        <td><p>Exception traceback.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">exc_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]],</span>
    <span class="n">exc_val</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">],</span>
    <span class="n">exc_tb</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TracebackType</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Exit context manager.</span>

<span class="sd">    Args:</span>
<span class="sd">        exc_type: Exception type.</span>
<span class="sd">        exc_val: Exception value.</span>
<span class="sd">        exc_tb: Exception traceback.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">exc_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending telemetry 2.0 data failed: </span><span class="si">{</span><span class="n">exc_val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.context.AnalyticsContext.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialization.</p>
<p>Use this as a context manager to ensure that analytics are initialized
properly, only tracked when configured to do so and that any errors
are handled gracefully.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/analytics/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialization.</span>

<span class="sd">    Use this as a context manager to ensure that analytics are initialized</span>
<span class="sd">    properly, only tracked when configured to do so and that any errors</span>
<span class="sd">    are handled gracefully.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">server_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">database_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ServerDatabaseType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">deployment_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ServerDeploymentType&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.context.AnalyticsContext.group" class="doc doc-heading">
<code class="highlight language-python"><span class="n">group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group_id</span><span class="p">,</span> <span class="n">traits</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Group the user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>group_id</code></td>
        <td><code>UUID</code></td>
        <td><p>Group ID.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>traits</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Traits of the group.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if tracking information was sent, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">group</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">group_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Group the user.</span>

<span class="sd">    Args:</span>
<span class="sd">        group_id: Group ID.</span>
<span class="sd">        traits: Traits of the group.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if tracking information was sent, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">traits</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">traits</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">traits</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="n">group_id</span><span class="p">})</span>

        <span class="n">success</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">analytics</span><span class="o">.</span><span class="n">group</span><span class="p">(</span>
            <span class="n">user_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
            <span class="n">group_id</span><span class="o">=</span><span class="n">group_id</span><span class="p">,</span>
            <span class="n">traits</span><span class="o">=</span><span class="n">traits</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">success</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.context.AnalyticsContext.identify" class="doc doc-heading">
<code class="highlight language-python"><span class="n">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">traits</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Identify the user through segment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>traits</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Traits of the user.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if tracking information was sent, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">traits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Identify the user through segment.</span>

<span class="sd">    Args:</span>
<span class="sd">        traits: Traits of the user.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if tracking information was sent, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">success</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">success</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">analytics</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span>
            <span class="n">user_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
            <span class="n">traits</span><span class="o">=</span><span class="n">traits</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">success</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.context.AnalyticsContext.track" class="doc doc-heading">
<code class="highlight language-python"><span class="n">track</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Track an event.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>event</code></td>
        <td><code>AnalyticsEvent</code></td>
        <td><p>Event to track.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>properties</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Event properties.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if tracking information was sent, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/context.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">track</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">event</span><span class="p">:</span> <span class="s2">&quot;AnalyticsEvent&quot;</span><span class="p">,</span>
    <span class="n">properties</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Track an event.</span>

<span class="sd">    Args:</span>
<span class="sd">        event: Event to track.</span>
<span class="sd">        properties: Event properties.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if tracking information was sent, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.utils.analytics_utils</span> <span class="kn">import</span> <span class="n">AnalyticsEvent</span>

    <span class="k">if</span> <span class="n">properties</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">properties</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">analytics_opt_in</span>
        <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">value</span>
        <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span>
            <span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">OPT_OUT_ANALYTICS</span><span class="p">,</span>
            <span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">OPT_IN_ANALYTICS</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="c1"># add basics</span>
    <span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Environment</span><span class="o">.</span><span class="n">get_system_info</span><span class="p">())</span>
    <span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;environment&quot;</span><span class="p">:</span> <span class="n">get_environment</span><span class="p">(),</span>
            <span class="s2">&quot;python_version&quot;</span><span class="p">:</span> <span class="n">Environment</span><span class="o">.</span><span class="n">python_version</span><span class="p">(),</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">__version__</span><span class="p">,</span>
            <span class="s2">&quot;client_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">),</span>
            <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">),</span>
            <span class="s2">&quot;server_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server_id</span><span class="p">),</span>
            <span class="s2">&quot;deployment_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">deployment_type</span><span class="p">),</span>
            <span class="s2">&quot;database_type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">database_type</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">properties</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
            <span class="n">properties</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="n">success</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">analytics</span><span class="o">.</span><span class="n">track</span><span class="p">(</span>
        <span class="n">user_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
        <span class="n">event</span><span class="o">=</span><span class="n">event</span><span class="p">,</span>
        <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Sending analytics: User: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">user_id</span><span class="si">}</span><span class="s2">, Event: </span><span class="si">{</span><span class="n">event</span><span class="si">}</span><span class="s2">, &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">properties</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">success</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.analytics.request" class="doc doc-heading">
        <code>request</code>



</h3>

    <div class="doc doc-contents ">

      <p>The 'analytics' module of ZenML.</p>
<p>This module is based on the 'analytics-python' package created by Segment.
The base functionalities are adapted to work with the ZenML analytics server.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.analytics.request.AnalyticsAPIError" class="doc doc-heading">
        <code>
AnalyticsAPIError            (<span title="Exception">Exception</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Custom exception class for API-related errors.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/analytics/request.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AnalyticsAPIError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Custom exception class for API-related errors.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialization.</span>

<span class="sd">        Args:</span>
<span class="sd">            status: The status code of the response.</span>
<span class="sd">            message: The text of the response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">status</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Method to represent the instance as a string.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A representation of the message and the status code.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;[ZenML Analytics] </span><span class="si">{1}</span><span class="s2">: </span><span class="si">{0}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.request.AnalyticsAPIError.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialization.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>status</code></td>
        <td><code>int</code></td>
        <td><p>The status code of the response.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>message</code></td>
        <td><code>str</code></td>
        <td><p>The text of the response.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/request.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialization.</span>

<span class="sd">    Args:</span>
<span class="sd">        status: The status code of the response.</span>
<span class="sd">        message: The text of the response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">status</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.analytics.request.AnalyticsAPIError.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Method to represent the instance as a string.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>A representation of the message and the status code.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/request.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method to represent the instance as a string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A representation of the message and the status code.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;[ZenML Analytics] </span><span class="si">{1}</span><span class="s2">: </span><span class="si">{0}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="zenml.analytics.request.post" class="doc doc-heading">
<code class="highlight language-python"><span class="n">post</span><span class="p">(</span><span class="n">batch</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Post a batch of messages to the ZenML analytics server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>batch</code></td>
        <td><code>List[str]</code></td>
        <td><p>The messages to send.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>Timeout in seconds.</p></td>
        <td><code>15</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Response</code></td>
      <td><p>The response.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AnalyticsAPIError</code></td>
        <td><p>If the post request has failed.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/analytics/request.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="n">batch</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Post a batch of messages to the ZenML analytics server.</span>

<span class="sd">    Args:</span>
<span class="sd">        batch: The messages to send.</span>
<span class="sd">        timeout: Timeout in seconds.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The response.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AnalyticsAPIError: If the post request has failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.analytics</span> <span class="kn">import</span> <span class="n">source_context</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
        <span class="s2">&quot;content-type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
        <span class="n">source_context</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">source_context</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="n">ANALYTICS_SERVER_URL</span> <span class="o">+</span> <span class="s2">&quot;/batch&quot;</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;data uploaded successfully&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span>

    <span class="k">raise</span> <span class="n">AnalyticsAPIError</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../core-alerter/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Alerter" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Alerter
            </div>
          </div>
        </a>
      
      
        
        <a href="../core-annotators/" class="md-footer__link md-footer__link--next" aria-label="Next: Annotators" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Annotators
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH  <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>