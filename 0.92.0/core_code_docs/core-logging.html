
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.92.0/core_code_docs/core-logging.html">
      
      
        <link rel="prev" href="core-logger.html">
      
      
        <link rel="next" href="core-login.html">
      
      
      <link rel="icon" href="../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>Logging - ZenML SDK Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  // Load Segment analytics library first
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  
  // Bot detection function
  function isBotTraffic() {
    const userAgent = navigator.userAgent || '';
    
    // Check for specific bot signatures found in your traffic
    const botSignatures = [
      'ClaudeBot',           // The main culprit from your debugger data
      'HeadlessChrome',      // Also found in your userAgentData
      'crawler',
      'spider',
      'bot',
      'scraper',
      'Googlebot',
      'Bingbot',
      'SemrushBot',
      'AhrefsBot'
    ];
    
    // Check user agent string
    for (let signature of botSignatures) {
      if (userAgent.toLowerCase().includes(signature.toLowerCase())) {
        return true;
      }
    }
    
    // Check userAgentData brands (modern bot detection)
    try {
      if (navigator.userAgentData && navigator.userAgentData.brands) {
        const brands = navigator.userAgentData.brands;
        for (let brand of brands) {
          // Check for specific bot signatures in brand names
          if (brand.brand === 'HeadlessChrome' || 
              /^Not.?A_Brand$/i.test(brand.brand) || // Matches 'Not?A_Brand' and similar variations
              brand.brand.toLowerCase().includes('bot')) {
            return true;
          }
        }
      }
    } catch (e) {
      // userAgentData API not supported or error accessing it
      // Continue with other bot detection methods
    }
    
    // Check for webdriver (automated browser indicator)
    if (navigator.webdriver === true) {
      return true;
    }
    
    return false;
  }
  
  // Only send analytics data if this is NOT bot traffic
  if (!isBotTraffic()) {
    analytics.page();
  } else {
    // Optional: Log for debugging (only in non-production environments)
    if (window.location.hostname === 'localhost' || window.location.hostname.includes('dev')) {
      console.log('Bot traffic detected, skipping Segment analytics');
    }
  }
  }}();
</script>

<!-- Plausible and Reo continue unchanged -->
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>

<!-- Start of Reo Javascript -->
<script type="text/javascript">
  !function(){var e,t,n;e="d696528d7eed7f5",t=function(){Reo.init({clientID:"d696528d7eed7f5"})},(n=document.createElement("script")).src="https://static.reo.dev/"+e+"/reo.js",n.defer=!0,n.onload=t,document.head.appendChild(n)}();
</script>
<!-- End of Reo Javascript -->


  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#logging" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="ZenML SDK Docs" class="md-header__button md-logo" aria-label="ZenML SDK Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML SDK Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Logging
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="ZenML SDK Docs" class="md-nav__button md-logo" aria-label="ZenML SDK Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ZenML SDK Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ZenML
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI docs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core code docs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Core code docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-actions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-alerter.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alerter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-analytics.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Analytics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-annotators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-artifact_stores.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Artifact Stores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-artifacts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Artifacts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-client.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-client_lazy_loader.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client Lazy Loader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-code_repositories.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Repositories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-config.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-console.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Console
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-constants.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-container_registries.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Container Registries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-data_validators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Validators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-deployers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-entrypoints.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entrypoints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-enums.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enums
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-environment.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-event_hub.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Hub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-event_sources.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Sources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-exceptions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-execution.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Execution
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-experiment_trackers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Trackers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-feature_stores.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Stores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-hooks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-image_builders.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image Builders
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-io.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Io
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-logger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Logging
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="core-logging.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Logging
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.logging" class="md-nav__link">
    <span class="md-ellipsis">
      logging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.logging-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging" class="md-nav__link">
    <span class="md-ellipsis">
      step_logging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="step_logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.ArtifactStoreHandler" class="md-nav__link">
    <span class="md-ellipsis">
      ArtifactStoreHandler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.LogEntry" class="md-nav__link">
    <span class="md-ellipsis">
      LogEntry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.PipelineLogsStorage" class="md-nav__link">
    <span class="md-ellipsis">
      PipelineLogsStorage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.PipelineLogsStorageContext" class="md-nav__link">
    <span class="md-ellipsis">
      PipelineLogsStorageContext
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.fetch_log_records" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_log_records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.parse_log_entry" class="md-nav__link">
    <span class="md-ellipsis">
      parse_log_entry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.prepare_logs_uri" class="md-nav__link">
    <span class="md-ellipsis">
      prepare_logs_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.remove_ansi_escape_codes" class="md-nav__link">
    <span class="md-ellipsis">
      remove_ansi_escape_codes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.setup_orchestrator_logging" class="md-nav__link">
    <span class="md-ellipsis">
      setup_orchestrator_logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.setup_pipeline_logging" class="md-nav__link">
    <span class="md-ellipsis">
      setup_pipeline_logging
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-login.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Login
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-materializers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Materializers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-metadata.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-model.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-model_deployers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Deployers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-model_registries.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Registries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-models.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-orchestrators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Orchestrators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-pipelines.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-plugins.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-secret.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Secret
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-service_connectors.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Service Connectors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-services.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-stack.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-stack_deployments.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stack Deployments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-step_operators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step Operators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-steps.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Steps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-types.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-zen_server.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zen Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-zen_stores.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zen Stores
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Integration code docs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Integration code docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-airflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Airflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-argilla.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Argilla
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-aws.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aws
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-azure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-bentoml.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bentoml
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-bitbucket.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bitbucket
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-comet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-constants.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-databricks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Databricks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-deepchecks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deepchecks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-discord.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discord
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-evidently.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evidently
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-facets.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Facets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-feast.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feast
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-gcp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gcp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-github.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Github
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-gitlab.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gitlab
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-great_expectations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Great Expectations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-huggingface.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Huggingface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-hyperai.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hyperai
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-integration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-jax.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jax
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-kaniko.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kaniko
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-kubeflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubeflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-kubernetes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-label_studio.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Label Studio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-langchain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Langchain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-lightgbm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lightgbm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-lightning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lightning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-llama_index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Llama Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-mlflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mlflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-mlx.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mlx
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-modal.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-neptune.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neptune
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-neural_prophet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neural Prophet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-numpy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Numpy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-openai.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Openai
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pandas.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pandas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pigeon.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pigeon
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pillow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pillow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-polars.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Polars
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-prodigy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prodigy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pycaret.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pycaret
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pytorch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytorch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pytorch_lightning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytorch Lightning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-registry.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-s3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    S3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-scipy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scipy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-seldon.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Seldon
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-sklearn.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sklearn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_aws.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Aws
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_azure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Azure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_gcp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Gcp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_kubernetes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_lambda.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Lambda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-slack.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-spark.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spark
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-tekton.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tekton
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-tensorboard.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tensorboard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-tensorflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tensorflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-vllm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vllm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-wandb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wandb
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-whylogs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Whylogs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-xgboost.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Xgboost
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.logging" class="md-nav__link">
    <span class="md-ellipsis">
      logging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.logging-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging" class="md-nav__link">
    <span class="md-ellipsis">
      step_logging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="step_logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.ArtifactStoreHandler" class="md-nav__link">
    <span class="md-ellipsis">
      ArtifactStoreHandler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.LogEntry" class="md-nav__link">
    <span class="md-ellipsis">
      LogEntry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.PipelineLogsStorage" class="md-nav__link">
    <span class="md-ellipsis">
      PipelineLogsStorage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.PipelineLogsStorageContext" class="md-nav__link">
    <span class="md-ellipsis">
      PipelineLogsStorageContext
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.fetch_log_records" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_log_records
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.parse_log_entry" class="md-nav__link">
    <span class="md-ellipsis">
      parse_log_entry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.prepare_logs_uri" class="md-nav__link">
    <span class="md-ellipsis">
      prepare_logs_uri
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.remove_ansi_escape_codes" class="md-nav__link">
    <span class="md-ellipsis">
      remove_ansi_escape_codes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.setup_orchestrator_logging" class="md-nav__link">
    <span class="md-ellipsis">
      setup_orchestrator_logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.logging.step_logging.setup_pipeline_logging" class="md-nav__link">
    <span class="md-ellipsis">
      setup_pipeline_logging
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="logging">Logging</h1>


<div class="doc doc-object doc-module">



<h2 id="zenml.logging" class="doc doc-heading">
            <code>zenml.logging</code>


</h2>

    <div class="doc doc-contents first">










<div class="doc doc-children">









<h3 id="zenml.logging-modules">Modules</h3>

<div class="doc doc-object doc-module">



<h4 id="zenml.logging.step_logging" class="doc doc-heading">
            <code>step_logging</code>


</h4>

    <div class="doc doc-contents ">

        <p>ZenML logging handler.</p>










<div class="doc doc-children">







<h5 id="zenml.logging.step_logging-classes">Classes</h5>

<div class="doc doc-object doc-class">



<h6 id="zenml.logging.step_logging.ArtifactStoreHandler" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">ArtifactStoreHandler</span><span class="p">(</span><span class="n">storage</span><span class="p">:</span> <span class="n">PipelineLogsStorage</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="logging.Handler">Handler</span></code></p>



        <p>Handler that writes log messages to artifact store storage.</p>

        <p>Initialize the handler with a storage instance.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>storage</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineLogsStorage(logs_uri: str, artifact_store: BaseArtifactStore, max_queue_size: int = LOGS_STORAGE_MAX_QUEUE_SIZE, queue_timeout: int = LOGS_STORAGE_QUEUE_TIMEOUT, write_interval: int = LOGS_WRITE_INTERVAL_SECONDS, merge_files_interval: int = LOGS_MERGE_INTERVAL_SECONDS) (zenml.logging.step_logging.PipelineLogsStorage)" href="#zenml.logging.step_logging.PipelineLogsStorage">PipelineLogsStorage</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The PipelineLogsStorage instance to write to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">storage</span><span class="p">:</span> <span class="s2">&quot;PipelineLogsStorage&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the handler with a storage instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        storage: The PipelineLogsStorage instance to write to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">storage</span> <span class="o">=</span> <span class="n">storage</span>

    <span class="c1"># Get storage log level from environment</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">get_storage_log_level</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">








<h7 id="zenml.logging.step_logging.ArtifactStoreHandler-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.logging.step_logging.ArtifactStoreHandler.emit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">emit</span><span class="p">(</span><span class="n">record</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">LogRecord</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Emit a log record to the storage.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>record</code>
            </td>
            <td>
                  <code><span title="logging.LogRecord">LogRecord</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The log record to emit.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">LogRecord</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Emit a log record to the storage.</span>

<span class="sd">    Args:</span>
<span class="sd">        record: The log record to emit.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Get level enum</span>
        <span class="n">level</span> <span class="o">=</span> <span class="n">LoggingLevels</span><span class="o">.</span><span class="n">__members__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">levelname</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>

        <span class="c1"># Get the message</span>
        <span class="n">message</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
        <span class="n">message</span> <span class="o">=</span> <span class="n">remove_ansi_escape_codes</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>

        <span class="c1"># Check if message needs to be chunked</span>
        <span class="n">message_bytes</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">message_bytes</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">DEFAULT_MESSAGE_SIZE</span><span class="p">:</span>
            <span class="c1"># Message is small enough, emit as-is</span>
            <span class="n">log_record</span> <span class="o">=</span> <span class="n">LogEntry</span><span class="o">.</span><span class="n">model_construct</span><span class="p">(</span>
                <span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">level</span><span class="o">=</span><span class="n">level</span><span class="p">,</span>
                <span class="n">timestamp</span><span class="o">=</span><span class="n">utc_now</span><span class="p">(</span><span class="n">tz_aware</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                <span class="n">module</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">module</span><span class="p">,</span>
                <span class="n">filename</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span>
                <span class="n">lineno</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">lineno</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">json_line</span> <span class="o">=</span> <span class="n">log_record</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json_line</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Message is too large, split into chunks and emit each one</span>
            <span class="n">chunks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_to_chunks</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
            <span class="n">entry_id</span> <span class="o">=</span> <span class="n">uuid4</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chunks</span><span class="p">):</span>
                <span class="n">log_record</span> <span class="o">=</span> <span class="n">LogEntry</span><span class="o">.</span><span class="n">model_construct</span><span class="p">(</span>
                    <span class="n">message</span><span class="o">=</span><span class="n">chunk</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">level</span><span class="o">=</span><span class="n">level</span><span class="p">,</span>
                    <span class="n">module</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">module</span><span class="p">,</span>
                    <span class="n">filename</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span>
                    <span class="n">lineno</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">lineno</span><span class="p">,</span>
                    <span class="n">timestamp</span><span class="o">=</span><span class="n">utc_now</span><span class="p">(</span><span class="n">tz_aware</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                    <span class="n">chunk_index</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
                    <span class="n">total_chunks</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">chunks</span><span class="p">),</span>
                    <span class="nb">id</span><span class="o">=</span><span class="n">entry_id</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="n">json_line</span> <span class="o">=</span> <span class="n">log_record</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json_line</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h6 id="zenml.logging.step_logging.LogEntry" class="doc doc-heading">
            <code>LogEntry</code>


</h6>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>A structured log entry with parsed information.</p>











<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h6 id="zenml.logging.step_logging.PipelineLogsStorage" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">PipelineLogsStorage</span><span class="p">(</span><span class="n">logs_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">artifact_store</span><span class="p">:</span> <span class="n">BaseArtifactStore</span><span class="p">,</span> <span class="n">max_queue_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">LOGS_STORAGE_MAX_QUEUE_SIZE</span><span class="p">,</span> <span class="n">queue_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">LOGS_STORAGE_QUEUE_TIMEOUT</span><span class="p">,</span> <span class="n">write_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">LOGS_WRITE_INTERVAL_SECONDS</span><span class="p">,</span> <span class="n">merge_files_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">LOGS_MERGE_INTERVAL_SECONDS</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">



        <p>Helper class which buffers and stores logs to a given URI using a background thread.</p>

        <p>Initialization.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>logs_uri</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the URI of the log file or folder.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_store</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseArtifactStore(*args: Any, **kwargs: Any) (zenml.artifact_stores.BaseArtifactStore)" href="core-artifact_stores.html#zenml.artifact_stores.BaseArtifactStore">BaseArtifactStore</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Artifact Store from the current step context</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_queue_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>maximum number of individual messages to queue.</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="LOGS_STORAGE_MAX_QUEUE_SIZE = handle_int_env_var(ENV_ZENML_LOGS_STORAGE_MAX_QUEUE_SIZE, default=100000)

  
      module-attribute
   (zenml.constants.LOGS_STORAGE_MAX_QUEUE_SIZE)" href="core-constants.html#zenml.constants.LOGS_STORAGE_MAX_QUEUE_SIZE">LOGS_STORAGE_MAX_QUEUE_SIZE</a></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>queue_timeout</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>timeout in seconds for putting items in queue when full.
- Positive value: Wait N seconds, then drop logs if queue still full
- Negative value: Block indefinitely until queue has space (never drop logs)</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="LOGS_STORAGE_QUEUE_TIMEOUT = handle_int_env_var(ENV_ZENML_LOGS_STORAGE_QUEUE_TIMEOUT, default=(-1))

  
      module-attribute
   (zenml.constants.LOGS_STORAGE_QUEUE_TIMEOUT)" href="core-constants.html#zenml.constants.LOGS_STORAGE_QUEUE_TIMEOUT">LOGS_STORAGE_QUEUE_TIMEOUT</a></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>write_interval</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the amount of seconds before the created files
get written to the artifact store.</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="LOGS_WRITE_INTERVAL_SECONDS = handle_int_env_var(ENV_ZENML_LOGS_WRITE_INTERVAL_SECONDS, default=1)

  
      module-attribute
   (zenml.constants.LOGS_WRITE_INTERVAL_SECONDS)" href="core-constants.html#zenml.constants.LOGS_WRITE_INTERVAL_SECONDS">LOGS_WRITE_INTERVAL_SECONDS</a></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>merge_files_interval</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the amount of seconds before the created files
get merged into a single file.</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="LOGS_MERGE_INTERVAL_SECONDS = handle_int_env_var(ENV_ZENML_LOGS_MERGE_INTERVAL_SECONDS, default=(10 * 60))

  
      module-attribute
   (zenml.constants.LOGS_MERGE_INTERVAL_SECONDS)" href="core-constants.html#zenml.constants.LOGS_MERGE_INTERVAL_SECONDS">LOGS_MERGE_INTERVAL_SECONDS</a></code>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">logs_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">artifact_store</span><span class="p">:</span> <span class="s2">&quot;BaseArtifactStore&quot;</span><span class="p">,</span>
    <span class="n">max_queue_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">LOGS_STORAGE_MAX_QUEUE_SIZE</span><span class="p">,</span>
    <span class="n">queue_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">LOGS_STORAGE_QUEUE_TIMEOUT</span><span class="p">,</span>
    <span class="n">write_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">LOGS_WRITE_INTERVAL_SECONDS</span><span class="p">,</span>
    <span class="n">merge_files_interval</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">LOGS_MERGE_INTERVAL_SECONDS</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialization.</span>

<span class="sd">    Args:</span>
<span class="sd">        logs_uri: the URI of the log file or folder.</span>
<span class="sd">        artifact_store: Artifact Store from the current step context</span>
<span class="sd">        max_queue_size: maximum number of individual messages to queue.</span>
<span class="sd">        queue_timeout: timeout in seconds for putting items in queue when full.</span>
<span class="sd">            - Positive value: Wait N seconds, then drop logs if queue still full</span>
<span class="sd">            - Negative value: Block indefinitely until queue has space (never drop logs)</span>
<span class="sd">        write_interval: the amount of seconds before the created files</span>
<span class="sd">            get written to the artifact store.</span>
<span class="sd">        merge_files_interval: the amount of seconds before the created files</span>
<span class="sd">            get merged into a single file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Parameters</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">logs_uri</span> <span class="o">=</span> <span class="n">logs_uri</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span> <span class="o">=</span> <span class="n">max_queue_size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">queue_timeout</span> <span class="o">=</span> <span class="n">queue_timeout</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write_interval</span> <span class="o">=</span> <span class="n">write_interval</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">merge_files_interval</span> <span class="o">=</span> <span class="n">merge_files_interval</span>

    <span class="c1"># State</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">artifact_store</span> <span class="o">=</span> <span class="n">artifact_store</span>

    <span class="c1"># Immutable filesystems state</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_merge_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="c1"># Queue and log storage thread for async processing</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log_queue</span><span class="p">:</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="n">max_queue_size</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log_storage_thread</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_event</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">merge_event</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>

    <span class="c1"># Start the log storage thread</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_start_log_storage_thread</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">








<h7 id="zenml.logging.step_logging.PipelineLogsStorage-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.logging.step_logging.PipelineLogsStorage.merge_log_files" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">merge_log_files</span><span class="p">(</span><span class="n">merge_all_files</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Merges all log files into one in the given URI.</p>
<p>Called on the logging context exit.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>merge_all_files</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to merge all files or only raw files</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">merge_log_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">merge_all_files</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Merges all log files into one in the given URI.</span>

<span class="sd">    Called on the logging context exit.</span>

<span class="sd">    Args:</span>
<span class="sd">        merge_all_files: whether to merge all files or only raw files</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">zenml.artifacts.utils</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
        <span class="n">_load_file_from_artifact_store</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># If the artifact store is immutable, merge the log files</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">IS_IMMUTABLE_FILESYSTEM</span><span class="p">:</span>
        <span class="n">merged_file_suffix</span> <span class="o">=</span> <span class="s2">&quot;_merged&quot;</span>
        <span class="n">files_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logs_uri</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">merge_all_files</span><span class="p">:</span>
            <span class="c1"># already merged files will not be merged again</span>
            <span class="n">files_</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files_</span> <span class="k">if</span> <span class="n">merged_file_suffix</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="p">]</span>
        <span class="n">file_name_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_timestamped_filename</span><span class="p">(</span>
            <span class="n">suffix</span><span class="o">=</span><span class="n">merged_file_suffix</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">files_</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">files_</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Log files count: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">files_</span><span class="p">))</span>

            <span class="n">missing_files</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="c1"># dump all logs to a local file first</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logs_uri</span><span class="p">,</span> <span class="n">file_name_</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span>
            <span class="p">)</span> <span class="k">as</span> <span class="n">merged_file</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files_</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">merged_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                            <span class="nb">str</span><span class="p">(</span>
                                <span class="n">_load_file_from_artifact_store</span><span class="p">(</span>
                                    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logs_uri</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">file</span><span class="p">)),</span>
                                    <span class="n">artifact_store</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact_store</span><span class="p">,</span>
                                    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">,</span>
                                <span class="p">)</span>
                            <span class="p">)</span>
                        <span class="p">)</span>
                    <span class="k">except</span> <span class="n">DoesNotExistException</span><span class="p">:</span>
                        <span class="n">missing_files</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

            <span class="c1"># clean up left over files</span>
            <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files_</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">file</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">missing_files</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logs_uri</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">file</span><span class="p">))</span>
                    <span class="p">)</span>

        <span class="c1"># Update the last merge time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_merge_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.logging.step_logging.PipelineLogsStorage.send_merge_event" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">send_merge_event</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Send a merge event to the log storage thread.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">send_merge_event</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send a merge event to the log storage thread.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">merge_event</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.logging.step_logging.PipelineLogsStorage.write" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Main write method that sends individual messages directly to queue.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the incoming string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Main write method that sends individual messages directly to queue.</span>

<span class="sd">    Args:</span>
<span class="sd">        text: the incoming string.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Skip empty lines</span>
    <span class="k">if</span> <span class="n">text</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="c1"># If the current thread is the log storage thread, do nothing</span>
    <span class="c1"># to prevent recursion when the storage thread itself generates logs</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_storage_thread</span>
        <span class="ow">and</span> <span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_storage_thread</span>
    <span class="p">):</span>
        <span class="k">return</span>

    <span class="c1"># If the current thread is the fsspec IO thread, do nothing</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_fsspec_io_thread</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Send individual message directly to queue</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_event</span><span class="o">.</span><span class="n">is_set</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue_timeout</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="c1"># Negative timeout = block indefinitely until queue has space</span>
                    <span class="c1"># Guarantees no log loss but may hang application</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log_queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Positive timeout = wait specified time then drop logs</span>
                    <span class="c1"># Prevents application hanging but may lose logs</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log_queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">queue_timeout</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">queue</span><span class="o">.</span><span class="n">Full</span><span class="p">:</span>
                <span class="c1"># This only happens with positive timeout</span>
                <span class="c1"># Queue is full - just skip this message to avoid blocking</span>
                <span class="c1"># Better to drop logs than hang the application</span>
                <span class="k">pass</span>

    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="c1"># Silently ignore errors to prevent recursion</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.logging.step_logging.PipelineLogsStorage.write_buffer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_buffer</span><span class="p">(</span><span class="n">buffer_to_write</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Write the given buffer to file. This runs in the log storage thread.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>buffer_to_write</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The buffer contents to write to file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer_to_write</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Write the given buffer to file. This runs in the log storage thread.</span>

<span class="sd">    Args:</span>
<span class="sd">        buffer_to_write: The buffer contents to write to file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">buffer_to_write</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># If the artifact store is immutable, write the buffer to a new file</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">IS_IMMUTABLE_FILESYSTEM</span><span class="p">:</span>
            <span class="n">_logs_uri</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_timestamped_filename</span><span class="p">()</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">logs_uri</span><span class="p">,</span>
                    <span class="n">_logs_uri</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="s2">&quot;w&quot;</span><span class="p">,</span>
            <span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">buffer_to_write</span><span class="p">:</span>
                    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># If the artifact store is mutable, append the buffer to the existing file</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logs_uri</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">buffer_to_write</span><span class="p">:</span>
                    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">_remove_previous_file_versions</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">logs_uri</span>
            <span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Error in log storage thread: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h6 id="zenml.logging.step_logging.PipelineLogsStorageContext" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">PipelineLogsStorageContext</span><span class="p">(</span><span class="n">logs_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">artifact_store</span><span class="p">:</span> <span class="n">BaseArtifactStore</span><span class="p">,</span> <span class="n">prepend_step_name</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span></code>

</h6>


    <div class="doc doc-contents ">



        <p>Context manager which collects logs during pipeline run execution.</p>

        <p>Initializes and prepares a storage object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>logs_uri</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the URI of the logs file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_store</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseArtifactStore(*args: Any, **kwargs: Any) (zenml.artifact_stores.BaseArtifactStore)" href="core-artifact_stores.html#zenml.artifact_stores.BaseArtifactStore">BaseArtifactStore</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Artifact Store from the current pipeline run context.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prepend_step_name</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to prepend the step name to the logs.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">logs_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">artifact_store</span><span class="p">:</span> <span class="s2">&quot;BaseArtifactStore&quot;</span><span class="p">,</span>
    <span class="n">prepend_step_name</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes and prepares a storage object.</span>

<span class="sd">    Args:</span>
<span class="sd">        logs_uri: the URI of the logs file.</span>
<span class="sd">        artifact_store: Artifact Store from the current pipeline run context.</span>
<span class="sd">        prepend_step_name: Whether to prepend the step name to the logs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Create the storage object</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">storage</span> <span class="o">=</span> <span class="n">PipelineLogsStorage</span><span class="p">(</span>
        <span class="n">logs_uri</span><span class="o">=</span><span class="n">logs_uri</span><span class="p">,</span> <span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span>
    <span class="p">)</span>

    <span class="c1"># Create the handler object</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">artifact_store_handler</span><span class="p">:</span> <span class="n">ArtifactStoreHandler</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">ArtifactStoreHandler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># Additional configuration</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prepend_step_name</span> <span class="o">=</span> <span class="n">prepend_step_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">original_step_names_in_console</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_original_root_level</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">








<h7 id="zenml.logging.step_logging.PipelineLogsStorageContext-functions">Functions</h7>



  </div>

    </div>

</div>
<h5 id="zenml.logging.step_logging-functions">Functions</h5>

<div class="doc doc-object doc-function">


<h6 id="zenml.logging.step_logging.fetch_log_records" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fetch_log_records</span><span class="p">(</span><span class="n">zen_store</span><span class="p">:</span> <span class="n">BaseZenStore</span><span class="p">,</span> <span class="n">artifact_store_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span> <span class="n">logs_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">LogEntry</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Fetches log entries.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>zen_store</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseZenStore(skip_default_registrations: bool = False, **kwargs: Any) (zenml.zen_stores.base_zen_store.BaseZenStore)" href="core-zen_stores.html#zenml.zen_stores.base_zen_store.BaseZenStore">BaseZenStore</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The store in which the artifact is stored.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>artifact_store_id</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the artifact store.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>logs_uri</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The URI of the artifact (file or directory).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="LogEntry (zenml.logging.step_logging.LogEntry)" href="#zenml.logging.step_logging.LogEntry">LogEntry</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of log entries.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fetch_log_records</span><span class="p">(</span>
    <span class="n">zen_store</span><span class="p">:</span> <span class="s2">&quot;BaseZenStore&quot;</span><span class="p">,</span>
    <span class="n">artifact_store_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">logs_uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">LogEntry</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fetches log entries.</span>

<span class="sd">    Args:</span>
<span class="sd">        zen_store: The store in which the artifact is stored.</span>
<span class="sd">        artifact_store_id: The ID of the artifact store.</span>
<span class="sd">        logs_uri: The URI of the artifact (file or directory).</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of log entries.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log_entries</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">_stream_logs_line_by_line</span><span class="p">(</span>
        <span class="n">zen_store</span><span class="p">,</span> <span class="n">artifact_store_id</span><span class="p">,</span> <span class="n">logs_uri</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">log_entry</span> <span class="o">:=</span> <span class="n">parse_log_entry</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
            <span class="n">log_entries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">log_entry</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">log_entries</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">MAX_ENTRIES_PER_REQUEST</span><span class="p">:</span>
            <span class="k">break</span>

    <span class="k">return</span> <span class="n">log_entries</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.logging.step_logging.parse_log_entry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_log_entry</span><span class="p">(</span><span class="n">log_line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LogEntry</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Parse a single log entry into a LogEntry object.</p>
<p>Handles two formats:
1. JSON format: {"timestamp": "...", "level": "...", "message": "...", "location": "..."}
   Uses Pydantic's model_validate_json for automatic parsing and validation.
2. Plain text: Any other text (defaults to INFO level)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>log_line</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A single log line to parse</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="LogEntry (zenml.logging.step_logging.LogEntry)" href="#zenml.logging.step_logging.LogEntry">LogEntry</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>LogEntry object. For JSON logs, all fields are validated and parsed automatically.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="LogEntry (zenml.logging.step_logging.LogEntry)" href="#zenml.logging.step_logging.LogEntry">LogEntry</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>For plain text logs, only message is populated with INFO level default.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="LogEntry (zenml.logging.step_logging.LogEntry)" href="#zenml.logging.step_logging.LogEntry">LogEntry</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns None only for empty lines.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">parse_log_entry</span><span class="p">(</span><span class="n">log_line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LogEntry</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse a single log entry into a LogEntry object.</span>

<span class="sd">    Handles two formats:</span>
<span class="sd">    1. JSON format: {&quot;timestamp&quot;: &quot;...&quot;, &quot;level&quot;: &quot;...&quot;, &quot;message&quot;: &quot;...&quot;, &quot;location&quot;: &quot;...&quot;}</span>
<span class="sd">       Uses Pydantic&#39;s model_validate_json for automatic parsing and validation.</span>
<span class="sd">    2. Plain text: Any other text (defaults to INFO level)</span>

<span class="sd">    Args:</span>
<span class="sd">        log_line: A single log line to parse</span>

<span class="sd">    Returns:</span>
<span class="sd">        LogEntry object. For JSON logs, all fields are validated and parsed automatically.</span>
<span class="sd">        For plain text logs, only message is populated with INFO level default.</span>
<span class="sd">        Returns None only for empty lines.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">log_line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">line</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">LogEntry</span><span class="o">.</span><span class="n">model_validate_json</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="n">old_format</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
        <span class="sa">r</span><span class="s2">&quot;^\[(\d</span><span class="si">{4}</span><span class="s2">-\d</span><span class="si">{2}</span><span class="s2">-\d</span><span class="si">{2}</span><span class="s2">\s+\d</span><span class="si">{2}</span><span class="s2">:\d</span><span class="si">{2}</span><span class="s2">:\d</span><span class="si">{2}</span><span class="s2">)\s+UTC\]&quot;</span><span class="p">,</span> <span class="n">line</span>
    <span class="p">)</span>

    <span class="n">timestamp</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">old_format</span><span class="p">:</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="n">old_format</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;Z&quot;</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">old_format</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">LogEntry</span><span class="p">(</span>
        <span class="n">message</span><span class="o">=</span><span class="n">line</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">level</span><span class="o">=</span><span class="n">LoggingLevels</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span>
        <span class="n">timestamp</span><span class="o">=</span><span class="n">timestamp</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.logging.step_logging.prepare_logs_uri" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">prepare_logs_uri</span><span class="p">(</span><span class="n">artifact_store</span><span class="p">:</span> <span class="n">BaseArtifactStore</span><span class="p">,</span> <span class="n">step_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">log_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Generates and prepares a URI for the log file or folder for a step.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>artifact_store</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseArtifactStore(*args: Any, **kwargs: Any) (zenml.artifact_stores.BaseArtifactStore)" href="core-artifact_stores.html#zenml.artifact_stores.BaseArtifactStore">BaseArtifactStore</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The artifact store on which the artifact will be stored.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>step_name</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the step. Skipped for global pipeline run logs.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>log_key</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unique identification key of the log file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The URI of the log storage (file or folder).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">prepare_logs_uri</span><span class="p">(</span>
    <span class="n">artifact_store</span><span class="p">:</span> <span class="s2">&quot;BaseArtifactStore&quot;</span><span class="p">,</span>
    <span class="n">step_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">log_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates and prepares a URI for the log file or folder for a step.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_store: The artifact store on which the artifact will be stored.</span>
<span class="sd">        step_name: Name of the step. Skipped for global pipeline run logs.</span>
<span class="sd">        log_key: The unique identification key of the log file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The URI of the log storage (file or folder).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">log_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">log_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid4</span><span class="p">())</span>

    <span class="n">subfolder</span> <span class="o">=</span> <span class="n">step_name</span> <span class="ow">or</span> <span class="n">PIPELINE_RUN_LOGS_FOLDER</span>
    <span class="n">logs_base_uri</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">subfolder</span><span class="p">,</span> <span class="s2">&quot;logs&quot;</span><span class="p">)</span>

    <span class="c1"># Create the dir</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">artifact_store</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">logs_base_uri</span><span class="p">):</span>
        <span class="n">artifact_store</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">logs_base_uri</span><span class="p">)</span>

    <span class="c1"># Delete the file if it already exists</span>
    <span class="k">if</span> <span class="n">artifact_store</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">IS_IMMUTABLE_FILESYSTEM</span><span class="p">:</span>
        <span class="n">logs_uri</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">logs_base_uri</span><span class="p">,</span> <span class="n">log_key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">artifact_store</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">logs_uri</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Logs directory </span><span class="si">{</span><span class="n">logs_uri</span><span class="si">}</span><span class="s2"> already exists! Removing old log directory...&quot;</span>
            <span class="p">)</span>
            <span class="n">artifact_store</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">logs_uri</span><span class="p">)</span>

        <span class="n">artifact_store</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">logs_uri</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logs_uri</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">logs_base_uri</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">log_key</span><span class="si">}{</span><span class="n">LOGS_EXTENSION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">artifact_store</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">logs_uri</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Logs file </span><span class="si">{</span><span class="n">logs_uri</span><span class="si">}</span><span class="s2"> already exists! Removing old log file...&quot;</span>
            <span class="p">)</span>
            <span class="n">artifact_store</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">logs_uri</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">sanitize_remote_path</span><span class="p">(</span><span class="n">logs_uri</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.logging.step_logging.remove_ansi_escape_codes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_ansi_escape_codes</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Auxiliary function to remove ANSI escape codes from a given string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the input string</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the version of the input string where the escape codes are removed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_ansi_escape_codes</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Auxiliary function to remove ANSI escape codes from a given string.</span>

<span class="sd">    Args:</span>
<span class="sd">        text: the input string</span>

<span class="sd">    Returns:</span>
<span class="sd">        the version of the input string where the escape codes are removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">ansi_escape</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.logging.step_logging.setup_orchestrator_logging" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_orchestrator_logging</span><span class="p">(</span><span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">:</span> <span class="n">PipelineSnapshotResponse</span><span class="p">,</span> <span class="n">logs_response</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LogsResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Set up logging for an orchestrator environment.</p>
<p>This function can be reused by different orchestrators to set up
consistent logging behavior.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>run_id</code>
            </td>
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pipeline run ID.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>snapshot</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineSnapshotResponse (zenml.models.PipelineSnapshotResponse)" href="core-models.html#zenml.models.PipelineSnapshotResponse">PipelineSnapshotResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The snapshot of the pipeline run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>logs_response</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="LogsResponse (zenml.models.LogsResponse)" href="core-models.html#zenml.models.LogsResponse">LogsResponse</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The logs response to continue from.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The logs context (PipelineLogsStorageContext)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">setup_orchestrator_logging</span><span class="p">(</span>
    <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="s2">&quot;PipelineSnapshotResponse&quot;</span><span class="p">,</span>
    <span class="n">logs_response</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LogsResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set up logging for an orchestrator environment.</span>

<span class="sd">    This function can be reused by different orchestrators to set up</span>
<span class="sd">    consistent logging behavior.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: The pipeline run ID.</span>
<span class="sd">        snapshot: The snapshot of the pipeline run.</span>
<span class="sd">        logs_response: The logs response to continue from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The logs context (PipelineLogsStorageContext)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">logging_enabled</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">handle_bool_env_var</span><span class="p">(</span><span class="n">ENV_ZENML_DISABLE_PIPELINE_LOGS_STORAGE</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="n">logging_enabled</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">snapshot</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">enable_pipeline_logs</span>
                <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">):</span>
                <span class="n">logging_enabled</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">snapshot</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">enable_pipeline_logs</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">logging_enabled</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">nullcontext</span><span class="p">()</span>

        <span class="c1"># Fetch the active stack</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">active_stack</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">active_stack</span>

        <span class="k">if</span> <span class="n">logs_response</span><span class="p">:</span>
            <span class="n">logs_uri</span> <span class="o">=</span> <span class="n">logs_response</span><span class="o">.</span><span class="n">uri</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logs_uri</span> <span class="o">=</span> <span class="n">prepare_logs_uri</span><span class="p">(</span>
                <span class="n">artifact_store</span><span class="o">=</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logs_model</span> <span class="o">=</span> <span class="n">LogsRequest</span><span class="p">(</span>
                <span class="n">uri</span><span class="o">=</span><span class="n">logs_uri</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="s2">&quot;orchestrator&quot;</span><span class="p">,</span>
                <span class="n">artifact_store_id</span><span class="o">=</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="c1"># Add orchestrator logs to the pipeline run</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">run_update</span> <span class="o">=</span> <span class="n">PipelineRunUpdate</span><span class="p">(</span><span class="n">add_logs</span><span class="o">=</span><span class="p">[</span><span class="n">logs_model</span><span class="p">])</span>
                <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">update_run</span><span class="p">(</span>
                    <span class="n">run_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span> <span class="n">run_update</span><span class="o">=</span><span class="n">run_update</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Failed to add orchestrator logs to the run </span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">e</span>

        <span class="k">return</span> <span class="n">PipelineLogsStorageContext</span><span class="p">(</span>
            <span class="n">logs_uri</span><span class="o">=</span><span class="n">logs_uri</span><span class="p">,</span>
            <span class="n">artifact_store</span><span class="o">=</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span><span class="p">,</span>
            <span class="n">prepend_step_name</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Failed to setup orchestrator logging for run </span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">nullcontext</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="zenml.logging.step_logging.setup_pipeline_logging" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_pipeline_logging</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">:</span> <span class="n">PipelineSnapshotResponse</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">logs_response</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LogsResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">LogsRequest</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

</h6>


    <div class="doc doc-contents ">

        <p>Set up logging for a pipeline run.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The log source.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>snapshot</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineSnapshotResponse (zenml.models.PipelineSnapshotResponse)" href="core-models.html#zenml.models.PipelineSnapshotResponse">PipelineSnapshotResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The snapshot of the pipeline run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>run_id</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="uuid.UUID">UUID</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the pipeline run.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>logs_response</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="LogsResponse (zenml.models.LogsResponse)" href="core-models.html#zenml.models.LogsResponse">LogsResponse</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The logs response to continue from.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If updating the run with the logs request fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="LogsRequest (zenml.models.LogsRequest)" href="core-models.html#zenml.models.LogsRequest">LogsRequest</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The logs request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/logging/step_logging.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@contextmanager</span>
<span class="k">def</span><span class="w"> </span><span class="nf">setup_pipeline_logging</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="s2">&quot;PipelineSnapshotResponse&quot;</span><span class="p">,</span>
    <span class="n">run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">logs_response</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LogsResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">LogsRequest</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set up logging for a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: The log source.</span>
<span class="sd">        snapshot: The snapshot of the pipeline run.</span>
<span class="sd">        run_id: The ID of the pipeline run.</span>
<span class="sd">        logs_response: The logs response to continue from.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If updating the run with the logs request fails.</span>

<span class="sd">    Yields:</span>
<span class="sd">        The logs request.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logging_enabled</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="n">handle_bool_env_var</span><span class="p">(</span><span class="n">ENV_ZENML_DISABLE_PIPELINE_LOGS_STORAGE</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
        <span class="n">logging_enabled</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">elif</span> <span class="n">snapshot</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">enable_pipeline_logs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logging_enabled</span> <span class="o">=</span> <span class="n">snapshot</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">enable_pipeline_logs</span>

    <span class="k">if</span> <span class="n">logging_enabled</span><span class="p">:</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">artifact_store</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">artifact_store</span>
        <span class="n">logs_model</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">logs_response</span><span class="p">:</span>
            <span class="n">logs_uri</span> <span class="o">=</span> <span class="n">logs_response</span><span class="o">.</span><span class="n">uri</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logs_uri</span> <span class="o">=</span> <span class="n">prepare_logs_uri</span><span class="p">(</span>
                <span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">logs_model</span> <span class="o">=</span> <span class="n">LogsRequest</span><span class="p">(</span>
                <span class="n">uri</span><span class="o">=</span><span class="n">logs_uri</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span>
                <span class="n">artifact_store_id</span><span class="o">=</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">run_id</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">run_update</span> <span class="o">=</span> <span class="n">PipelineRunUpdate</span><span class="p">(</span><span class="n">add_logs</span><span class="o">=</span><span class="p">[</span><span class="n">logs_model</span><span class="p">])</span>
                    <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">update_run</span><span class="p">(</span>
                        <span class="n">run_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span> <span class="n">run_update</span><span class="o">=</span><span class="n">run_update</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Failed to add logs to the run </span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                    <span class="k">raise</span> <span class="n">e</span>

        <span class="n">logging_context</span> <span class="o">=</span> <span class="n">PipelineLogsStorageContext</span><span class="p">(</span>
            <span class="n">logs_uri</span><span class="o">=</span><span class="n">logs_uri</span><span class="p">,</span>
            <span class="n">artifact_store</span><span class="o">=</span><span class="n">artifact_store</span><span class="p">,</span>
            <span class="n">prepend_step_name</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">with</span> <span class="n">logging_context</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">logs_model</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">yield</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 ZenML GmbH  <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>