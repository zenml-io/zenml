
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.67.0/integration_code_docs/integrations-huggingface/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.5.10">
    
    
      
        <title>Huggingface - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#huggingface" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Huggingface
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-actions/" class="md-nav__link">
        Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-analytics/" class="md-nav__link">
        Analytics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-api/" class="md-nav__link">
        Api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-client_lazy_loader/" class="md-nav__link">
        Client Lazy Loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-code_repositories/" class="md-nav__link">
        Code Repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-event_hub/" class="md-nav__link">
        Event Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-event_sources/" class="md-nav__link">
        Event Sources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-image_builders/" class="md-nav__link">
        Image Builders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-lineage_graph/" class="md-nav__link">
        Lineage Graph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-model/" class="md-nav__link">
        Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-model_registries/" class="md-nav__link">
        Model Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-new/" class="md-nav__link">
        New
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-service_connectors/" class="md-nav__link">
        Service Connectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-stack_deployments/" class="md-nav__link">
        Stack Deployments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-argilla/" class="md-nav__link">
        Argilla
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-azure/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-bentoml/" class="md-nav__link">
        Bentoml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-bitbucket/" class="md-nav__link">
        Bitbucket
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-comet/" class="md-nav__link">
        Comet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-databricks/" class="md-nav__link">
        Databricks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-discord/" class="md-nav__link">
        Discord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-gitlab/" class="md-nav__link">
        Gitlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Huggingface
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Huggingface
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface" class="md-nav__link">
    huggingface
  </a>
  
    <nav class="md-nav" aria-label="huggingface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.HuggingfaceIntegration" class="md-nav__link">
    HuggingfaceIntegration
  </a>
  
    <nav class="md-nav" aria-label="HuggingfaceIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.HuggingfaceIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.HuggingfaceIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.HuggingfaceIntegration.get_requirements" class="md-nav__link">
    get_requirements()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors" class="md-nav__link">
    flavors
  </a>
  
    <nav class="md-nav" aria-label="flavors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor" class="md-nav__link">
    huggingface_model_deployer_flavor
  </a>
  
    <nav class="md-nav" aria-label="huggingface_model_deployer_flavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceBaseConfig" class="md-nav__link">
    HuggingFaceBaseConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerConfig" class="md-nav__link">
    HuggingFaceModelDeployerConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor" class="md-nav__link">
    HuggingFaceModelDeployerFlavor
  </a>
  
    <nav class="md-nav" aria-label="HuggingFaceModelDeployerFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.docs_url" class="md-nav__link">
    docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.logo_url" class="md-nav__link">
    logo_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.sdk_docs_url" class="md-nav__link">
    sdk_docs_url
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer" class="md-nav__link">
    huggingface_datasets_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_datasets_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer" class="md-nav__link">
    HFDatasetMaterializer
  </a>
  
    <nav class="md-nav" aria-label="HFDatasetMaterializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.extract_metadata" class="md-nav__link">
    extract_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.save_visualizations" class="md-nav__link">
    save_visualizations()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.extract_repo_name" class="md-nav__link">
    extract_repo_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer" class="md-nav__link">
    huggingface_pt_model_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_pt_model_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer" class="md-nav__link">
    HFPTModelMaterializer
  </a>
  
    <nav class="md-nav" aria-label="HFPTModelMaterializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer.extract_metadata" class="md-nav__link">
    extract_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_t5_materializer" class="md-nav__link">
    huggingface_t5_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_t5_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_t5_materializer.HFT5Materializer" class="md-nav__link">
    HFT5Materializer
  </a>
  
    <nav class="md-nav" aria-label="HFT5Materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_t5_materializer.HFT5Materializer.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_t5_materializer.HFT5Materializer.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer" class="md-nav__link">
    huggingface_tf_model_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_tf_model_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer" class="md-nav__link">
    HFTFModelMaterializer
  </a>
  
    <nav class="md-nav" aria-label="HFTFModelMaterializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer.extract_metadata" class="md-nav__link">
    extract_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer" class="md-nav__link">
    huggingface_tokenizer_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_tokenizer_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer" class="md-nav__link">
    HFTokenizerMaterializer
  </a>
  
    <nav class="md-nav" aria-label="HFTokenizerMaterializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers" class="md-nav__link">
    model_deployers
  </a>
  
    <nav class="md-nav" aria-label="model_deployers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer" class="md-nav__link">
    huggingface_model_deployer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_model_deployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer" class="md-nav__link">
    HuggingFaceModelDeployer
  </a>
  
    <nav class="md-nav" aria-label="HuggingFaceModelDeployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.validator" class="md-nav__link">
    validator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.FLAVOR" class="md-nav__link">
    FLAVOR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.get_model_server_info" class="md-nav__link">
    get_model_server_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.perform_delete_model" class="md-nav__link">
    perform_delete_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.perform_deploy_model" class="md-nav__link">
    perform_deploy_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.perform_start_model" class="md-nav__link">
    perform_start_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.perform_stop_model" class="md-nav__link">
    perform_stop_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services" class="md-nav__link">
    services
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment" class="md-nav__link">
    huggingface_deployment
  </a>
  
    <nav class="md-nav" aria-label="huggingface_deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService" class="md-nav__link">
    HuggingFaceDeploymentService
  </a>
  
    <nav class="md-nav" aria-label="HuggingFaceDeploymentService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.hf_endpoint" class="md-nav__link">
    hf_endpoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.inference_client" class="md-nav__link">
    inference_client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.prediction_url" class="md-nav__link">
    prediction_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.check_status" class="md-nav__link">
    check_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.get_logs" class="md-nav__link">
    get_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.get_token" class="md-nav__link">
    get_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.predict" class="md-nav__link">
    predict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceServiceConfig" class="md-nav__link">
    HuggingFaceServiceConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceServiceStatus" class="md-nav__link">
    HuggingFaceServiceStatus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.steps.accelerate_runner" class="md-nav__link">
    accelerate_runner
  </a>
  
    <nav class="md-nav" aria-label="accelerate_runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.steps.accelerate_runner.run_with_accelerate" class="md-nav__link">
    run_with_accelerate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.steps.huggingface_deployer" class="md-nav__link">
    huggingface_deployer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-hyperai/" class="md-nav__link">
        Hyperai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-kaniko/" class="md-nav__link">
        Kaniko
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-langchain/" class="md-nav__link">
        Langchain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-lightning/" class="md-nav__link">
        Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-llama_index/" class="md-nav__link">
        Llama Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-neptune/" class="md-nav__link">
        Neptune
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-numpy/" class="md-nav__link">
        Numpy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-openai/" class="md-nav__link">
        Openai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pandas/" class="md-nav__link">
        Pandas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pigeon/" class="md-nav__link">
        Pigeon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-polars/" class="md-nav__link">
        Polars
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-prodigy/" class="md-nav__link">
        Prodigy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pycaret/" class="md-nav__link">
        Pycaret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot/" class="md-nav__link">
        Skypilot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_aws/" class="md-nav__link">
        Skypilot Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_azure/" class="md-nav__link">
        Skypilot Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_gcp/" class="md-nav__link">
        Skypilot Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_kubernetes/" class="md-nav__link">
        Skypilot Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_lambda/" class="md-nav__link">
        Skypilot Lambda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface" class="md-nav__link">
    huggingface
  </a>
  
    <nav class="md-nav" aria-label="huggingface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.HuggingfaceIntegration" class="md-nav__link">
    HuggingfaceIntegration
  </a>
  
    <nav class="md-nav" aria-label="HuggingfaceIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.HuggingfaceIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.HuggingfaceIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.HuggingfaceIntegration.get_requirements" class="md-nav__link">
    get_requirements()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors" class="md-nav__link">
    flavors
  </a>
  
    <nav class="md-nav" aria-label="flavors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor" class="md-nav__link">
    huggingface_model_deployer_flavor
  </a>
  
    <nav class="md-nav" aria-label="huggingface_model_deployer_flavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceBaseConfig" class="md-nav__link">
    HuggingFaceBaseConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerConfig" class="md-nav__link">
    HuggingFaceModelDeployerConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor" class="md-nav__link">
    HuggingFaceModelDeployerFlavor
  </a>
  
    <nav class="md-nav" aria-label="HuggingFaceModelDeployerFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.docs_url" class="md-nav__link">
    docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.logo_url" class="md-nav__link">
    logo_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.sdk_docs_url" class="md-nav__link">
    sdk_docs_url
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers" class="md-nav__link">
    materializers
  </a>
  
    <nav class="md-nav" aria-label="materializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer" class="md-nav__link">
    huggingface_datasets_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_datasets_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer" class="md-nav__link">
    HFDatasetMaterializer
  </a>
  
    <nav class="md-nav" aria-label="HFDatasetMaterializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.extract_metadata" class="md-nav__link">
    extract_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.save_visualizations" class="md-nav__link">
    save_visualizations()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.extract_repo_name" class="md-nav__link">
    extract_repo_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer" class="md-nav__link">
    huggingface_pt_model_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_pt_model_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer" class="md-nav__link">
    HFPTModelMaterializer
  </a>
  
    <nav class="md-nav" aria-label="HFPTModelMaterializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer.extract_metadata" class="md-nav__link">
    extract_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_t5_materializer" class="md-nav__link">
    huggingface_t5_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_t5_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_t5_materializer.HFT5Materializer" class="md-nav__link">
    HFT5Materializer
  </a>
  
    <nav class="md-nav" aria-label="HFT5Materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_t5_materializer.HFT5Materializer.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_t5_materializer.HFT5Materializer.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer" class="md-nav__link">
    huggingface_tf_model_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_tf_model_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer" class="md-nav__link">
    HFTFModelMaterializer
  </a>
  
    <nav class="md-nav" aria-label="HFTFModelMaterializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer.extract_metadata" class="md-nav__link">
    extract_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer" class="md-nav__link">
    huggingface_tokenizer_materializer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_tokenizer_materializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer" class="md-nav__link">
    HFTokenizerMaterializer
  </a>
  
    <nav class="md-nav" aria-label="HFTokenizerMaterializer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer.load" class="md-nav__link">
    load()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers" class="md-nav__link">
    model_deployers
  </a>
  
    <nav class="md-nav" aria-label="model_deployers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer" class="md-nav__link">
    huggingface_model_deployer
  </a>
  
    <nav class="md-nav" aria-label="huggingface_model_deployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer" class="md-nav__link">
    HuggingFaceModelDeployer
  </a>
  
    <nav class="md-nav" aria-label="HuggingFaceModelDeployer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.validator" class="md-nav__link">
    validator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.FLAVOR" class="md-nav__link">
    FLAVOR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.get_model_server_info" class="md-nav__link">
    get_model_server_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.perform_delete_model" class="md-nav__link">
    perform_delete_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.perform_deploy_model" class="md-nav__link">
    perform_deploy_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.perform_start_model" class="md-nav__link">
    perform_start_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.perform_stop_model" class="md-nav__link">
    perform_stop_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services" class="md-nav__link">
    services
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment" class="md-nav__link">
    huggingface_deployment
  </a>
  
    <nav class="md-nav" aria-label="huggingface_deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService" class="md-nav__link">
    HuggingFaceDeploymentService
  </a>
  
    <nav class="md-nav" aria-label="HuggingFaceDeploymentService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.hf_endpoint" class="md-nav__link">
    hf_endpoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.inference_client" class="md-nav__link">
    inference_client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.prediction_url" class="md-nav__link">
    prediction_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.check_status" class="md-nav__link">
    check_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.get_logs" class="md-nav__link">
    get_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.get_token" class="md-nav__link">
    get_token()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.predict" class="md-nav__link">
    predict()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceServiceConfig" class="md-nav__link">
    HuggingFaceServiceConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceServiceStatus" class="md-nav__link">
    HuggingFaceServiceStatus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.steps" class="md-nav__link">
    steps
  </a>
  
    <nav class="md-nav" aria-label="steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.steps.accelerate_runner" class="md-nav__link">
    accelerate_runner
  </a>
  
    <nav class="md-nav" aria-label="accelerate_runner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.steps.accelerate_runner.run_with_accelerate" class="md-nav__link">
    run_with_accelerate()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.huggingface.steps.huggingface_deployer" class="md-nav__link">
    huggingface_deployer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zenml-io/zenml/docs/integration_code_docs/integrations-huggingface.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="huggingface">Huggingface</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.integrations.huggingface" class="doc doc-heading">
        <code>zenml.integrations.huggingface</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>Initialization of the Huggingface integration.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h3 id="zenml.integrations.huggingface.HuggingfaceIntegration" class="doc doc-heading">
        <code>
HuggingfaceIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="../integrations-integration/#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h3>

    <div class="doc doc-contents ">

      <p>Definition of Huggingface integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HuggingfaceIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Definition of Huggingface integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">HUGGINGFACE</span>

    <span class="n">REQUIREMENTS_IGNORED_ON_UNINSTALL</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fsspec&quot;</span><span class="p">,</span> <span class="s2">&quot;pandas&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.huggingface</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.huggingface</span> <span class="kn">import</span> <span class="n">services</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_requirements</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target_os</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Defines platform specific requirements for the integration.</span>

<span class="sd">        Args:</span>
<span class="sd">            target_os: The target operating system.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of requirements.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requirements</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;datasets&quot;</span><span class="p">,</span>
            <span class="s2">&quot;huggingface_hub&gt;0.19.0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;accelerate&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bitsandbytes&gt;=0.41.3&quot;</span><span class="p">,</span>
            <span class="s2">&quot;peft&quot;</span><span class="p">,</span>
            <span class="c1"># temporary fix for CI issue similar to:</span>
            <span class="c1"># - https://github.com/huggingface/datasets/issues/6737</span>
            <span class="c1"># - https://github.com/huggingface/datasets/issues/6697</span>
            <span class="c1"># TODO try relaxing it back going forward</span>
            <span class="s2">&quot;fsspec&lt;=2023.12.0&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="c1"># In python 3.8 higher transformers version lead to other packages breaking</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">minor</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">:</span>
            <span class="n">requirements</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;transformers&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">requirements</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;transformers&lt;=4.31&quot;</span><span class="p">]</span>

        <span class="c1"># Add the pandas integration requirements</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.pandas</span> <span class="kn">import</span> <span class="n">PandasIntegration</span>

        <span class="k">return</span> <span class="n">requirements</span> <span class="o">+</span> \
            <span class="n">PandasIntegration</span><span class="o">.</span><span class="n">get_requirements</span><span class="p">(</span><span class="n">target_os</span><span class="o">=</span><span class="n">target_os</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Flavor</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Huggingface integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.huggingface.flavors</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">HuggingFaceModelDeployerFlavor</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">HuggingFaceModelDeployerFlavor</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h4 id="zenml.integrations.huggingface.HuggingfaceIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Activates the integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Activates the integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.huggingface</span> <span class="kn">import</span> <span class="n">materializers</span>  <span class="c1"># noqa</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.huggingface</span> <span class="kn">import</span> <span class="n">services</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="zenml.integrations.huggingface.HuggingfaceIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Declare the stack component flavors for the Huggingface integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Type[zenml.stack.flavor.Flavor]]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Flavor</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Declare the stack component flavors for the Huggingface integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.huggingface.flavors</span> <span class="kn">import</span> <span class="p">(</span>
        <span class="n">HuggingFaceModelDeployerFlavor</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">HuggingFaceModelDeployerFlavor</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="zenml.integrations.huggingface.HuggingfaceIntegration.get_requirements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_requirements</span><span class="p">(</span><span class="n">target_os</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Defines platform specific requirements for the integration.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>target_os</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The target operating system.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list of requirements.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_requirements</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target_os</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines platform specific requirements for the integration.</span>

<span class="sd">    Args:</span>
<span class="sd">        target_os: The target operating system.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of requirements.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">requirements</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;datasets&quot;</span><span class="p">,</span>
        <span class="s2">&quot;huggingface_hub&gt;0.19.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;accelerate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bitsandbytes&gt;=0.41.3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;peft&quot;</span><span class="p">,</span>
        <span class="c1"># temporary fix for CI issue similar to:</span>
        <span class="c1"># - https://github.com/huggingface/datasets/issues/6737</span>
        <span class="c1"># - https://github.com/huggingface/datasets/issues/6697</span>
        <span class="c1"># TODO try relaxing it back going forward</span>
        <span class="s2">&quot;fsspec&lt;=2023.12.0&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="c1"># In python 3.8 higher transformers version lead to other packages breaking</span>
    <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">minor</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">:</span>
        <span class="n">requirements</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;transformers&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">requirements</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;transformers&lt;=4.31&quot;</span><span class="p">]</span>

    <span class="c1"># Add the pandas integration requirements</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.pandas</span> <span class="kn">import</span> <span class="n">PandasIntegration</span>

    <span class="k">return</span> <span class="n">requirements</span> <span class="o">+</span> \
        <span class="n">PandasIntegration</span><span class="o">.</span><span class="n">get_requirements</span><span class="p">(</span><span class="n">target_os</span><span class="o">=</span><span class="n">target_os</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.huggingface.flavors" class="doc doc-heading">
        <code>flavors</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Hugging Face integration flavors.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor" class="doc doc-heading">
        <code>huggingface_model_deployer_flavor</code>



</h4>

    <div class="doc doc-contents ">

      <p>Hugging Face model deployer flavor.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceBaseConfig" class="doc doc-heading">
        <code>
HuggingFaceBaseConfig            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Hugging Face Inference Endpoint configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/flavors/huggingface_model_deployer_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HuggingFaceBaseConfig</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hugging Face Inference Endpoint configuration.&quot;&quot;&quot;</span>

    <span class="n">repository</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">framework</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">accelerator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">instance_size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">instance_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">region</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">vendor</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">account_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">min_replica</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">max_replica</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">revision</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">task</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">custom_image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">endpoint_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;public&quot;</span>
    <span class="n">secret_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerConfig" class="doc doc-heading">
        <code>
HuggingFaceModelDeployerConfig            (<a class="autorefs autorefs-internal" title="zenml.model_deployers.base_model_deployer.BaseModelDeployerConfig" href="../../core_code_docs/core-model_deployers/#zenml.model_deployers.base_model_deployer.BaseModelDeployerConfig">BaseModelDeployerConfig</a>, <a class="autorefs autorefs-internal" title="zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceBaseConfig" href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceBaseConfig">HuggingFaceBaseConfig</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Configuration for the Hugging Face model deployer.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>token</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Hugging Face token used for authentication</p></td>
      </tr>
      <tr>
        <td><code>namespace</code></td>
        <td><code>str</code></td>
        <td><p>Hugging Face namespace used to list endpoints</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/flavors/huggingface_model_deployer_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HuggingFaceModelDeployerConfig</span><span class="p">(</span>
    <span class="n">BaseModelDeployerConfig</span><span class="p">,</span> <span class="n">HuggingFaceBaseConfig</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configuration for the Hugging Face model deployer.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        token: Hugging Face token used for authentication</span>
<span class="sd">        namespace: Hugging Face namespace used to list endpoints</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">SecretField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="c1"># The namespace to list endpoints for. Set to `&quot;*&quot;` to list all endpoints</span>
    <span class="c1"># from all namespaces (i.e. personal namespace and all orgs the user belongs to).</span>
    <span class="n">namespace</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor" class="doc doc-heading">
        <code>
HuggingFaceModelDeployerFlavor            (<a class="autorefs autorefs-internal" title="zenml.model_deployers.base_model_deployer.BaseModelDeployerFlavor" href="../../core_code_docs/core-model_deployers/#zenml.model_deployers.base_model_deployer.BaseModelDeployerFlavor">BaseModelDeployerFlavor</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Hugging Face Endpoint model deployer flavor.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/flavors/huggingface_model_deployer_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HuggingFaceModelDeployerFlavor</span><span class="p">(</span><span class="n">BaseModelDeployerFlavor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hugging Face Endpoint model deployer flavor.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Name of the flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">HUGGINGFACE_MODEL_DEPLOYER_FLAVOR</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to point at docs explaining this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A flavor docs url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_default_docs_url</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sdk_docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to point at SDK docs explaining this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A flavor SDK docs url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_default_sdk_docs_url</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">logo_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to represent the flavor in the dashboard.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The flavor logo.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;https://public-flavor-logos.s3.eu-central-1.amazonaws.com/model_registry/huggingface.png&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">HuggingFaceModelDeployerConfig</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns `HuggingFaceModelDeployerConfig` config class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The config class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">HuggingFaceModelDeployerConfig</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;HuggingFaceModelDeployer&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation class for this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The implementation class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.huggingface.model_deployers.huggingface_model_deployer</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">HuggingFaceModelDeployer</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">HuggingFaceModelDeployer</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.config_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">integrations</span><span class="o">.</span><span class="n">huggingface</span><span class="o">.</span><span class="n">flavors</span><span class="o">.</span><span class="n">huggingface_model_deployer_flavor</span><span class="o">.</span><span class="n">HuggingFaceModelDeployerConfig</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns <code>HuggingFaceModelDeployerConfig</code> config class.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerConfig]</code></td>
      <td><p>The config class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.docs_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A url to point at docs explaining this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A flavor docs url.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.implementation_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">implementation_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">HuggingFaceModelDeployer</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Implementation class for this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[HuggingFaceModelDeployer]</code></td>
      <td><p>The implementation class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.logo_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logo_url</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A url to represent the flavor in the dashboard.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The flavor logo.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Name of the flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of the flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerFlavor.sdk_docs_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sdk_docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A url to point at SDK docs explaining this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A flavor SDK docs url.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.huggingface.materializers" class="doc doc-heading">
        <code>materializers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of Huggingface materializers.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.huggingface.materializers.huggingface_datasets_materializer" class="doc doc-heading">
        <code>huggingface_datasets_materializer</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the Huggingface datasets materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer" class="doc doc-heading">
        <code>
HFDatasetMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../../core_code_docs/core-materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Materializer to read data to and from huggingface datasets.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_datasets_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HFDatasetMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Materializer to read data to and from huggingface datasets.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">ArtifactType</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">ArtifactType</span><span class="o">.</span><span class="n">DATA_ANALYSIS</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Dataset</span><span class="p">],</span> <span class="n">Type</span><span class="p">[</span><span class="n">DatasetDict</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads Dataset.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the dataset to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The dataset read from the specified dir.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">mkdtemp</span><span class="p">()</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_DATASET_DIR</span><span class="p">),</span>
            <span class="n">temp_dir</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">load_from_disk</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Writes a Dataset to the specified dir.</span>

<span class="sd">        Args:</span>
<span class="sd">            ds: The Dataset to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">DEFAULT_DATASET_DIR</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ds</span><span class="o">.</span><span class="n">save_to_disk</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
            <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
                <span class="n">path</span><span class="p">,</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_DATASET_DIR</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">extract_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract metadata from the given `Dataset` object.</span>

<span class="sd">        Args:</span>
<span class="sd">            ds: The `Dataset` object to extract metadata from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The extracted metadata as a dictionary.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the given object is not a `Dataset` or `DatasetDict`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pandas_materializer</span> <span class="o">=</span> <span class="n">PandasMaterializer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">Dataset</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">pandas_materializer</span><span class="o">.</span><span class="n">extract_metadata</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">())</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">):</span>
            <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">dataset_name</span><span class="p">,</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">dataset_metadata</span> <span class="o">=</span> <span class="n">pandas_materializer</span><span class="o">.</span><span class="n">extract_metadata</span><span class="p">(</span>
                    <span class="n">dataset</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">dataset_metadata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">metadata</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">dataset_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">save_visualizations</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">VisualizationType</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Save visualizations for the dataset.</span>

<span class="sd">        Args:</span>
<span class="sd">            ds: The Dataset or DatasetDict to visualize.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary mapping visualization paths to their types.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the given object is not a `Dataset` or `DatasetDict`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">visualizations</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">Dataset</span><span class="p">):</span>
            <span class="n">datasets</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">ds</span><span class="p">}</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">):</span>
            <span class="n">datasets</span> <span class="o">=</span> <span class="n">ds</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">datasets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Generate a unique identifier for the dataset</span>
            <span class="k">if</span> <span class="n">dataset</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">download_checksums</span><span class="p">:</span>
                <span class="n">dataset_id</span> <span class="o">=</span> <span class="n">extract_repo_name</span><span class="p">(</span>
                    <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">download_checksums</span><span class="o">.</span><span class="n">keys</span><span class="p">()][</span><span class="mi">0</span><span class="p">]</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">dataset_id</span><span class="p">:</span>
                    <span class="c1"># Create the iframe HTML</span>
                    <span class="n">html</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                    &lt;iframe</span>
<span class="s2">                    src=&quot;https://huggingface.co/datasets/</span><span class="si">{</span><span class="n">dataset_id</span><span class="si">}</span><span class="s2">/embed/viewer&quot;</span>
<span class="s2">                    frameborder=&quot;0&quot;</span>
<span class="s2">                    width=&quot;100%&quot;</span>
<span class="s2">                    height=&quot;560px&quot;</span>
<span class="s2">                    &gt;&lt;/iframe&gt;</span>
<span class="s2">                    &quot;&quot;&quot;</span>

                    <span class="c1"># Save the HTML to a file</span>
                    <span class="n">visualization_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">_viewer.html&quot;</span>
                    <span class="p">)</span>
                    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">visualization_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>

                    <span class="n">visualizations</span><span class="p">[</span><span class="n">visualization_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">VisualizationType</span><span class="o">.</span><span class="n">HTML</span>

        <span class="k">return</span> <span class="n">visualizations</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.extract_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extract_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Extract metadata from the given <code>Dataset</code> object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ds</code></td>
        <td><code>Union[datasets.Dataset, datasets.dataset_dict.DatasetDict]</code></td>
        <td><p>The <code>Dataset</code> object to extract metadata from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, MetadataType]</code></td>
      <td><p>The extracted metadata as a dictionary.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the given object is not a <code>Dataset</code> or <code>DatasetDict</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_datasets_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract_metadata</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract metadata from the given `Dataset` object.</span>

<span class="sd">    Args:</span>
<span class="sd">        ds: The `Dataset` object to extract metadata from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The extracted metadata as a dictionary.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the given object is not a `Dataset` or `DatasetDict`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pandas_materializer</span> <span class="o">=</span> <span class="n">PandasMaterializer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">Dataset</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">pandas_materializer</span><span class="o">.</span><span class="n">extract_metadata</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">())</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">):</span>
        <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dataset_name</span><span class="p">,</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">dataset_metadata</span> <span class="o">=</span> <span class="n">pandas_materializer</span><span class="o">.</span><span class="n">extract_metadata</span><span class="p">(</span>
                <span class="n">dataset</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">dataset_metadata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">metadata</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">dataset_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Reads Dataset.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Union[Type[datasets.Dataset], Type[datasets.dataset_dict.DatasetDict]]</code></td>
        <td><p>The type of the dataset to read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[datasets.Dataset, datasets.dataset_dict.DatasetDict]</code></td>
      <td><p>The dataset read from the specified dir.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_datasets_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Dataset</span><span class="p">],</span> <span class="n">Type</span><span class="p">[</span><span class="n">DatasetDict</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads Dataset.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the dataset to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The dataset read from the specified dir.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">mkdtemp</span><span class="p">()</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_DATASET_DIR</span><span class="p">),</span>
        <span class="n">temp_dir</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">load_from_disk</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.save" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Writes a Dataset to the specified dir.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ds</code></td>
        <td><code>Union[datasets.Dataset, datasets.dataset_dict.DatasetDict]</code></td>
        <td><p>The Dataset to write.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_datasets_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Writes a Dataset to the specified dir.</span>

<span class="sd">    Args:</span>
<span class="sd">        ds: The Dataset to write.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">DEFAULT_DATASET_DIR</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">ds</span><span class="o">.</span><span class="n">save_to_disk</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
            <span class="n">path</span><span class="p">,</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_DATASET_DIR</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.HFDatasetMaterializer.save_visualizations" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save_visualizations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Save visualizations for the dataset.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ds</code></td>
        <td><code>Union[datasets.Dataset, datasets.dataset_dict.DatasetDict]</code></td>
        <td><p>The Dataset or DatasetDict to visualize.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, zenml.enums.VisualizationType]</code></td>
      <td><p>A dictionary mapping visualization paths to their types.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the given object is not a <code>Dataset</code> or <code>DatasetDict</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_datasets_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save_visualizations</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">ds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">VisualizationType</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Save visualizations for the dataset.</span>

<span class="sd">    Args:</span>
<span class="sd">        ds: The Dataset or DatasetDict to visualize.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary mapping visualization paths to their types.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the given object is not a `Dataset` or `DatasetDict`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">visualizations</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">Dataset</span><span class="p">):</span>
        <span class="n">datasets</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="n">ds</span><span class="p">}</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">DatasetDict</span><span class="p">):</span>
        <span class="n">datasets</span> <span class="o">=</span> <span class="n">ds</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">datasets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># Generate a unique identifier for the dataset</span>
        <span class="k">if</span> <span class="n">dataset</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">download_checksums</span><span class="p">:</span>
            <span class="n">dataset_id</span> <span class="o">=</span> <span class="n">extract_repo_name</span><span class="p">(</span>
                <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">download_checksums</span><span class="o">.</span><span class="n">keys</span><span class="p">()][</span><span class="mi">0</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">dataset_id</span><span class="p">:</span>
                <span class="c1"># Create the iframe HTML</span>
                <span class="n">html</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                &lt;iframe</span>
<span class="s2">                src=&quot;https://huggingface.co/datasets/</span><span class="si">{</span><span class="n">dataset_id</span><span class="si">}</span><span class="s2">/embed/viewer&quot;</span>
<span class="s2">                frameborder=&quot;0&quot;</span>
<span class="s2">                width=&quot;100%&quot;</span>
<span class="s2">                height=&quot;560px&quot;</span>
<span class="s2">                &gt;&lt;/iframe&gt;</span>
<span class="s2">                &quot;&quot;&quot;</span>

                <span class="c1"># Save the HTML to a file</span>
                <span class="n">visualization_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">_viewer.html&quot;</span>
                <span class="p">)</span>
                <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">visualization_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>

                <span class="n">visualizations</span><span class="p">[</span><span class="n">visualization_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">VisualizationType</span><span class="o">.</span><span class="n">HTML</span>

    <span class="k">return</span> <span class="n">visualizations</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h5 id="zenml.integrations.huggingface.materializers.huggingface_datasets_materializer.extract_repo_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extract_repo_name</span><span class="p">(</span><span class="n">checksum_str</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Extracts the repo name from the checksum string.</p>
<p>An example of a checksum_str is:
"hf://datasets/nyu-mll/glue@bcdcba79d07bc864c1c254ccfcedcce55bcc9a8c/mrpc/train-00000-of-00001.parquet"
and the expected output is "nyu-mll/glue".</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>checksum_str</code></td>
        <td><code>str</code></td>
        <td><p>The checksum_str to extract the repo name from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The extracted repo name.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_datasets_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract_repo_name</span><span class="p">(</span><span class="n">checksum_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extracts the repo name from the checksum string.</span>

<span class="sd">    An example of a checksum_str is:</span>
<span class="sd">    &quot;hf://datasets/nyu-mll/glue@bcdcba79d07bc864c1c254ccfcedcce55bcc9a8c/mrpc/train-00000-of-00001.parquet&quot;</span>
<span class="sd">    and the expected output is &quot;nyu-mll/glue&quot;.</span>

<span class="sd">    Args:</span>
<span class="sd">        checksum_str: The checksum_str to extract the repo name from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The extracted repo name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dataset</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">checksum_str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
            <span class="c1"># Case: nyu-mll/glue</span>
            <span class="n">dataset</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">parts</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">parts</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;@&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>  <span class="c1"># pylint: disable=broad-except</span>
        <span class="k">pass</span>

    <span class="k">return</span> <span class="n">dataset</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer" class="doc doc-heading">
        <code>huggingface_pt_model_materializer</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the Huggingface PyTorch model materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer" class="doc doc-heading">
        <code>
HFPTModelMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../../core_code_docs/core-materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Materializer to read torch model to and from huggingface pretrained model.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_pt_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HFPTModelMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Materializer to read torch model to and from huggingface pretrained model.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="n">PreTrainedModel</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">ArtifactType</span><span class="p">]</span> <span class="o">=</span> <span class="n">ArtifactType</span><span class="o">.</span><span class="n">MODEL</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">PreTrainedModel</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">PreTrainedModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads HFModel.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the model to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model read from the specified dir.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_PT_MODEL_DIR</span><span class="p">),</span> <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span>
        <span class="p">)</span>

        <span class="n">config</span> <span class="o">=</span> <span class="n">AutoConfig</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">architecture</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">architectures</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">model_cls</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
            <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;transformers&quot;</span><span class="p">),</span> <span class="n">architecture</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">model_cls</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">PreTrainedModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Writes a Model to the specified dir.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The Torch Model to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
        <span class="n">model</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
            <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_PT_MODEL_DIR</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">extract_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">PreTrainedModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract metadata from the given `PreTrainedModel` object.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The `PreTrainedModel` object to extract metadata from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The extracted metadata as a dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.pytorch.utils</span> <span class="kn">import</span> <span class="n">count_module_params</span>

        <span class="n">module_param_metadata</span> <span class="o">=</span> <span class="n">count_module_params</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="o">**</span><span class="n">module_param_metadata</span><span class="p">,</span>
            <span class="s2">&quot;dtype&quot;</span><span class="p">:</span> <span class="n">DType</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">dtype</span><span class="p">)),</span>
            <span class="s2">&quot;device&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">device</span><span class="p">),</span>
        <span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer.extract_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extract_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Extract metadata from the given <code>PreTrainedModel</code> object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>transformers.PreTrainedModel</code></td>
        <td><p>The <code>PreTrainedModel</code> object to extract metadata from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, MetadataType]</code></td>
      <td><p>The extracted metadata as a dictionary.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_pt_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract_metadata</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">PreTrainedModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract metadata from the given `PreTrainedModel` object.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The `PreTrainedModel` object to extract metadata from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The extracted metadata as a dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.pytorch.utils</span> <span class="kn">import</span> <span class="n">count_module_params</span>

    <span class="n">module_param_metadata</span> <span class="o">=</span> <span class="n">count_module_params</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="o">**</span><span class="n">module_param_metadata</span><span class="p">,</span>
        <span class="s2">&quot;dtype&quot;</span><span class="p">:</span> <span class="n">DType</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">dtype</span><span class="p">)),</span>
        <span class="s2">&quot;device&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">device</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Reads HFModel.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[transformers.PreTrainedModel]</code></td>
        <td><p>The type of the model to read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>transformers.PreTrainedModel</code></td>
      <td><p>The model read from the specified dir.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_pt_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">PreTrainedModel</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">PreTrainedModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads HFModel.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the model to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model read from the specified dir.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_PT_MODEL_DIR</span><span class="p">),</span> <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span>
    <span class="p">)</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">AutoConfig</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">architecture</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">architectures</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">model_cls</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
        <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;transformers&quot;</span><span class="p">),</span> <span class="n">architecture</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">model_cls</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_pt_model_materializer.HFPTModelMaterializer.save" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Writes a Model to the specified dir.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>transformers.PreTrainedModel</code></td>
        <td><p>The Torch Model to write.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_pt_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">PreTrainedModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Writes a Model to the specified dir.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The Torch Model to write.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
    <span class="n">model</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
        <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_PT_MODEL_DIR</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.huggingface.materializers.huggingface_t5_materializer" class="doc doc-heading">
        <code>huggingface_t5_materializer</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the Huggingface t5 materializer.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.huggingface.materializers.huggingface_t5_materializer.HFT5Materializer" class="doc doc-heading">
        <code>
HFT5Materializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../../core_code_docs/core-materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Base class for huggingface t5 models.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_t5_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HFT5Materializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for huggingface t5 models.&quot;&quot;&quot;</span>

    <span class="n">SKIP_REGISTRATION</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">ASSOCIATED_TYPES</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">T5ForConditionalGeneration</span><span class="p">,</span>
        <span class="n">T5Tokenizer</span><span class="p">,</span>
        <span class="n">T5TokenizerFast</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">T5ForConditionalGeneration</span><span class="p">,</span> <span class="n">T5Tokenizer</span><span class="p">,</span> <span class="n">T5TokenizerFast</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads a T5ForConditionalGeneration model or T5Tokenizer from a serialized zip file.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: A T5ForConditionalGeneration or T5Tokenizer type.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A T5ForConditionalGeneration or T5Tokenizer object.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: Unsupported data type used</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">uri</span>

        <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp_dir</span><span class="p">:</span>
            <span class="c1"># Copy files from artifact store to temporary directory</span>
            <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">fileio</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
                <span class="n">src</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
                <span class="n">dst</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">src</span><span class="p">):</span>
                    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">subfile</span> <span class="ow">in</span> <span class="n">fileio</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">src</span><span class="p">):</span>
                        <span class="n">subsrc</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">subfile</span><span class="p">)</span>
                        <span class="n">subdst</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dst</span><span class="p">,</span> <span class="n">subfile</span><span class="p">)</span>
                        <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">subsrc</span><span class="p">,</span> <span class="n">subdst</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">)</span>

            <span class="c1"># Load the model or tokenizer from the temporary directory</span>
            <span class="k">if</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="n">T5ForConditionalGeneration</span><span class="p">,</span>
                <span class="n">T5Tokenizer</span><span class="p">,</span>
                <span class="n">T5TokenizerFast</span><span class="p">,</span>
            <span class="p">]:</span>
                <span class="k">return</span> <span class="n">data_type</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported data type: </span><span class="si">{</span><span class="n">data_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">obj</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">T5ForConditionalGeneration</span><span class="p">,</span> <span class="n">T5Tokenizer</span><span class="p">,</span> <span class="n">T5TokenizerFast</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a serialization for a T5ForConditionalGeneration model or T5Tokenizer.</span>

<span class="sd">        Args:</span>
<span class="sd">            obj: A T5ForConditionalGeneration model or T5Tokenizer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Create a temporary directory</span>
        <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp_dir</span><span class="p">:</span>
            <span class="c1"># Save the model or tokenizer</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>

            <span class="c1"># Copy the directory to the artifact store</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">uri</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">):</span>
                <span class="n">src</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
                <span class="n">dst</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">src</span><span class="p">):</span>
                    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">subfile</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">src</span><span class="p">):</span>
                        <span class="n">subsrc</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">subfile</span><span class="p">)</span>
                        <span class="n">subdst</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dst</span><span class="p">,</span> <span class="n">subfile</span><span class="p">)</span>
                        <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">subsrc</span><span class="p">,</span> <span class="n">subdst</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_t5_materializer.HFT5Materializer.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Reads a T5ForConditionalGeneration model or T5Tokenizer from a serialized zip file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>A T5ForConditionalGeneration or T5Tokenizer type.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[transformers.T5ForConditionalGeneration, transformers.T5Tokenizer, transformers.T5TokenizerFast]</code></td>
      <td><p>A T5ForConditionalGeneration or T5Tokenizer object.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>Unsupported data type used</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_t5_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">T5ForConditionalGeneration</span><span class="p">,</span> <span class="n">T5Tokenizer</span><span class="p">,</span> <span class="n">T5TokenizerFast</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads a T5ForConditionalGeneration model or T5Tokenizer from a serialized zip file.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: A T5ForConditionalGeneration or T5Tokenizer type.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A T5ForConditionalGeneration or T5Tokenizer object.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: Unsupported data type used</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">uri</span>

    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp_dir</span><span class="p">:</span>
        <span class="c1"># Copy files from artifact store to temporary directory</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">fileio</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
            <span class="n">src</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
            <span class="n">dst</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">src</span><span class="p">):</span>
                <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">subfile</span> <span class="ow">in</span> <span class="n">fileio</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">src</span><span class="p">):</span>
                    <span class="n">subsrc</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">subfile</span><span class="p">)</span>
                    <span class="n">subdst</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dst</span><span class="p">,</span> <span class="n">subfile</span><span class="p">)</span>
                    <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">subsrc</span><span class="p">,</span> <span class="n">subdst</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">)</span>

        <span class="c1"># Load the model or tokenizer from the temporary directory</span>
        <span class="k">if</span> <span class="n">data_type</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">T5ForConditionalGeneration</span><span class="p">,</span>
            <span class="n">T5Tokenizer</span><span class="p">,</span>
            <span class="n">T5TokenizerFast</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">return</span> <span class="n">data_type</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported data type: </span><span class="si">{</span><span class="n">data_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_t5_materializer.HFT5Materializer.save" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Creates a serialization for a T5ForConditionalGeneration model or T5Tokenizer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>obj</code></td>
        <td><code>Union[transformers.T5ForConditionalGeneration, transformers.T5Tokenizer, transformers.T5TokenizerFast]</code></td>
        <td><p>A T5ForConditionalGeneration model or T5Tokenizer.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_t5_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">obj</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">T5ForConditionalGeneration</span><span class="p">,</span> <span class="n">T5Tokenizer</span><span class="p">,</span> <span class="n">T5TokenizerFast</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a serialization for a T5ForConditionalGeneration model or T5Tokenizer.</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: A T5ForConditionalGeneration model or T5Tokenizer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Create a temporary directory</span>
    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-temp-&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp_dir</span><span class="p">:</span>
        <span class="c1"># Save the model or tokenizer</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>

        <span class="c1"># Copy the directory to the artifact store</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">uri</span>
        <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">):</span>
            <span class="n">src</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
            <span class="n">dst</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">src</span><span class="p">):</span>
                <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">subfile</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">src</span><span class="p">):</span>
                    <span class="n">subsrc</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">subfile</span><span class="p">)</span>
                    <span class="n">subdst</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dst</span><span class="p">,</span> <span class="n">subfile</span><span class="p">)</span>
                    <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">subsrc</span><span class="p">,</span> <span class="n">subdst</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fileio</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer" class="doc doc-heading">
        <code>huggingface_tf_model_materializer</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the Huggingface TF model materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer" class="doc doc-heading">
        <code>
HFTFModelMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../../core_code_docs/core-materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Materializer to read Tensorflow model to and from huggingface pretrained model.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tf_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HFTFModelMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Materializer to read Tensorflow model to and from huggingface pretrained model.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="n">TFPreTrainedModel</span><span class="p">,)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">ArtifactType</span><span class="p">]</span> <span class="o">=</span> <span class="n">ArtifactType</span><span class="o">.</span><span class="n">MODEL</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">TFPreTrainedModel</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TFPreTrainedModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads HFModel.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the model to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model read from the specified dir.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TF_MODEL_DIR</span><span class="p">),</span> <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span>
        <span class="p">)</span>

        <span class="n">config</span> <span class="o">=</span> <span class="n">AutoConfig</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">architecture</span> <span class="o">=</span> <span class="s2">&quot;TF&quot;</span> <span class="o">+</span> <span class="n">config</span><span class="o">.</span><span class="n">architectures</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">model_cls</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
            <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;transformers&quot;</span><span class="p">),</span> <span class="n">architecture</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">model_cls</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">TFPreTrainedModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Writes a Model to the specified dir.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The TF Model to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
        <span class="n">model</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
            <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TF_MODEL_DIR</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">extract_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">TFPreTrainedModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract metadata from the given `PreTrainedModel` object.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The `PreTrainedModel` object to extract metadata from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The extracted metadata as a dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;num_layers&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">layers</span><span class="p">),</span>
            <span class="s2">&quot;num_params&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">num_parameters</span><span class="p">(</span><span class="n">only_trainable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
            <span class="s2">&quot;num_trainable_params&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">num_parameters</span><span class="p">(</span><span class="n">only_trainable</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer.extract_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">extract_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Extract metadata from the given <code>PreTrainedModel</code> object.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>transformers.TFPreTrainedModel</code></td>
        <td><p>The <code>PreTrainedModel</code> object to extract metadata from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, MetadataType]</code></td>
      <td><p>The extracted metadata as a dictionary.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tf_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract_metadata</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">TFPreTrainedModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract metadata from the given `PreTrainedModel` object.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The `PreTrainedModel` object to extract metadata from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The extracted metadata as a dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;num_layers&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">layers</span><span class="p">),</span>
        <span class="s2">&quot;num_params&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">num_parameters</span><span class="p">(</span><span class="n">only_trainable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
        <span class="s2">&quot;num_trainable_params&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">num_parameters</span><span class="p">(</span><span class="n">only_trainable</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Reads HFModel.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[transformers.TFPreTrainedModel]</code></td>
        <td><p>The type of the model to read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>transformers.TFPreTrainedModel</code></td>
      <td><p>The model read from the specified dir.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tf_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">TFPreTrainedModel</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TFPreTrainedModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads HFModel.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the model to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The model read from the specified dir.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TF_MODEL_DIR</span><span class="p">),</span> <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span>
    <span class="p">)</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">AutoConfig</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">architecture</span> <span class="o">=</span> <span class="s2">&quot;TF&quot;</span> <span class="o">+</span> <span class="n">config</span><span class="o">.</span><span class="n">architectures</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">model_cls</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
        <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;transformers&quot;</span><span class="p">),</span> <span class="n">architecture</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">model_cls</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_tf_model_materializer.HFTFModelMaterializer.save" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Writes a Model to the specified dir.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>transformers.TFPreTrainedModel</code></td>
        <td><p>The TF Model to write.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tf_model_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">TFPreTrainedModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Writes a Model to the specified dir.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The TF Model to write.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">TemporaryDirectory</span><span class="p">()</span>
    <span class="n">model</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
        <span class="n">temp_dir</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TF_MODEL_DIR</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer" class="doc doc-heading">
        <code>huggingface_tokenizer_materializer</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the Huggingface tokenizer materializer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer" class="doc doc-heading">
        <code>
HFTokenizerMaterializer            (<a class="autorefs autorefs-internal" title="zenml.materializers.base_materializer.BaseMaterializer" href="../../core_code_docs/core-materializers/#zenml.materializers.base_materializer.BaseMaterializer">BaseMaterializer</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Materializer to read tokenizer to and from huggingface tokenizer.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tokenizer_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HFTokenizerMaterializer</span><span class="p">(</span><span class="n">BaseMaterializer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Materializer to read tokenizer to and from huggingface tokenizer.&quot;&quot;&quot;</span>

    <span class="n">ASSOCIATED_TYPES</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">PreTrainedTokenizerBase</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ASSOCIATED_ARTIFACT_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">ArtifactType</span><span class="p">]</span> <span class="o">=</span> <span class="n">ArtifactType</span><span class="o">.</span><span class="n">MODEL</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">PreTrainedTokenizerBase</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reads Tokenizer.</span>

<span class="sd">        Args:</span>
<span class="sd">            data_type: The type of the tokenizer to read.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The tokenizer read from the specified dir.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">temp_dir</span><span class="p">:</span>
            <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TOKENIZER_DIR</span><span class="p">),</span> <span class="n">temp_dir</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tokenizer</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Writes a Tokenizer to the specified dir.</span>

<span class="sd">        Args:</span>
<span class="sd">            tokenizer: The HFTokenizer to write.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">temp_dir</span><span class="p">:</span>
            <span class="n">tokenizer</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
            <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
                <span class="n">temp_dir</span><span class="p">,</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TOKENIZER_DIR</span><span class="p">),</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer.load" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Reads Tokenizer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data_type</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The type of the tokenizer to read.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>transformers.tokenization_utils_base.PreTrainedTokenizerBase</code></td>
      <td><p>The tokenizer read from the specified dir.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tokenizer_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">PreTrainedTokenizerBase</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads Tokenizer.</span>

<span class="sd">    Args:</span>
<span class="sd">        data_type: The type of the tokenizer to read.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The tokenizer read from the specified dir.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">temp_dir</span><span class="p">:</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TOKENIZER_DIR</span><span class="p">),</span> <span class="n">temp_dir</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">AutoTokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.materializers.huggingface_tokenizer_materializer.HFTokenizerMaterializer.save" class="doc doc-heading">
<code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tokenizer</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Writes a Tokenizer to the specified dir.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tokenizer</code></td>
        <td><code>Type[Any]</code></td>
        <td><p>The HFTokenizer to write.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/materializers/huggingface_tokenizer_materializer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tokenizer</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Writes a Tokenizer to the specified dir.</span>

<span class="sd">    Args:</span>
<span class="sd">        tokenizer: The HFTokenizer to write.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">temp_dir</span><span class="p">:</span>
        <span class="n">tokenizer</span><span class="o">.</span><span class="n">save_pretrained</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">)</span>
        <span class="n">io_utils</span><span class="o">.</span><span class="n">copy_dir</span><span class="p">(</span>
            <span class="n">temp_dir</span><span class="p">,</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="n">DEFAULT_TOKENIZER_DIR</span><span class="p">),</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.huggingface.model_deployers" class="doc doc-heading">
        <code>model_deployers</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the Hugging Face model deployers.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer" class="doc doc-heading">
        <code>huggingface_model_deployer</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the Hugging Face Model Deployer.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer" class="doc doc-heading">
        <code>
HuggingFaceModelDeployer            (<a class="autorefs autorefs-internal" title="zenml.model_deployers.base_model_deployer.BaseModelDeployer" href="../../core_code_docs/core-model_deployers/#zenml.model_deployers.base_model_deployer.BaseModelDeployer">BaseModelDeployer</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Hugging Face endpoint model deployer.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/model_deployers/huggingface_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HuggingFaceModelDeployer</span><span class="p">(</span><span class="n">BaseModelDeployer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hugging Face endpoint model deployer.&quot;&quot;&quot;</span>

    <span class="n">NAME</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;HuggingFace&quot;</span>
    <span class="n">FLAVOR</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseModelDeployerFlavor</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">HuggingFaceModelDeployerFlavor</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HuggingFaceModelDeployerConfig</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Config class for the Hugging Face Model deployer settings class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">HuggingFaceModelDeployerConfig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates the stack.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A validator that checks that the stack contains a remote artifact</span>
<span class="sd">            store.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_validate_if_secret_or_token_is_present</span><span class="p">(</span>
            <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Check if secret or token is present in the stack.</span>

<span class="sd">            Args:</span>
<span class="sd">                stack: The stack to validate.</span>

<span class="sd">            Returns:</span>
<span class="sd">                A tuple with a boolean indicating whether the stack is valid</span>
<span class="sd">                and a message describing the validation result.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">token</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_name</span><span class="p">),</span> <span class="p">(</span>
                <span class="s2">&quot;The Hugging Face model deployer requires either a secret name&quot;</span>
                <span class="s2">&quot; or a token to be present in the stack.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">StackValidator</span><span class="p">(</span>
            <span class="n">custom_validation_function</span><span class="o">=</span><span class="n">_validate_if_secret_or_token_is_present</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_new_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">HuggingFaceServiceConfig</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HuggingFaceDeploymentService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new Hugging FaceDeploymentService.</span>

<span class="sd">        Args:</span>
<span class="sd">            id: the UUID of the model to be deployed with Hugging Face model deployer.</span>
<span class="sd">            timeout: the timeout in seconds to wait for the Hugging Face inference endpoint</span>
<span class="sd">                to be provisioned and successfully started or updated.</span>
<span class="sd">            config: the configuration of the model to be deployed with Hugging Face model deployer.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The HuggingFaceServiceConfig object that can be used to interact</span>
<span class="sd">            with the Hugging Face inference endpoint.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># create a new service for the new model</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">HuggingFaceDeploymentService</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Creating an artifact </span><span class="si">{</span><span class="n">HUGGINGFACE_SERVICE_ARTIFACT</span><span class="si">}</span><span class="s2"> with service instance attached as metadata.&quot;</span>
            <span class="s2">&quot; If there&#39;s an active pipeline and/or model this artifact will be associated with it.&quot;</span>
        <span class="p">)</span>
        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">_clean_up_existing_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">existing_service</span><span class="p">:</span> <span class="n">HuggingFaceDeploymentService</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop existing services.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout: the timeout in seconds to wait for the Hugging Face</span>
<span class="sd">                deployment to be stopped.</span>
<span class="sd">            force: if True, force the service to stop</span>
<span class="sd">            existing_service: Existing Hugging Face deployment service</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># stop the older service</span>
        <span class="n">existing_service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">perform_deploy_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ServiceConfig</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new Hugging Face deployment service or update an existing one.</span>

<span class="sd">        This should serve the supplied model and deployment configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            id: the UUID of the model to be deployed with Hugging Face.</span>
<span class="sd">            config: the configuration of the model to be deployed with Hugging Face.</span>
<span class="sd">            timeout: the timeout in seconds to wait for the Hugging Face endpoint</span>
<span class="sd">                to be provisioned and successfully started or updated. If set</span>
<span class="sd">                to 0, the method will return immediately after the Hugging Face</span>
<span class="sd">                server is provisioned, without waiting for it to fully start.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ZenML Hugging Face deployment service object that can be used to</span>
<span class="sd">            interact with the remote Hugging Face inference endpoint server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">track_handler</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">MODEL_DEPLOYED</span><span class="p">)</span> <span class="k">as</span> <span class="n">analytics_handler</span><span class="p">:</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">HuggingFaceServiceConfig</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
            <span class="c1"># create a new HuggingFaceDeploymentService instance</span>
            <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_new_service</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Creating a new Hugging Face inference endpoint service: </span><span class="si">{</span><span class="n">service</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="c1"># Add telemetry with metadata that gets the stack metadata and</span>
            <span class="c1"># differentiates between pure model and custom code deployments</span>
            <span class="n">stack</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span>
            <span class="n">stack_metadata</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">component_type</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="n">component</span><span class="o">.</span><span class="n">flavor</span>
                <span class="k">for</span> <span class="n">component_type</span><span class="p">,</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">}</span>
            <span class="n">analytics_handler</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;store_type&quot;</span><span class="p">:</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="o">**</span><span class="n">stack_metadata</span><span class="p">,</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">perform_stop_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Method to stop a model server.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service to stop.</span>
<span class="sd">            timeout: Timeout in seconds to wait for the service to stop.</span>
<span class="sd">            force: If True, force the service to stop.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The stopped service.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">perform_start_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Method to start a model server.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service to start.</span>
<span class="sd">            timeout: Timeout in seconds to wait for the service to start.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The started service.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">perform_delete_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Method to delete all configuration of a model server.</span>

<span class="sd">        Args:</span>
<span class="sd">            service: The service to delete.</span>
<span class="sd">            timeout: Timeout in seconds to wait for the service to stop.</span>
<span class="sd">            force: If True, force the service to stop.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">service</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">HuggingFaceDeploymentService</span><span class="p">,</span> <span class="n">service</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_clean_up_existing_service</span><span class="p">(</span>
            <span class="n">existing_service</span><span class="o">=</span><span class="n">service</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_model_server_info</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
        <span class="n">service_instance</span><span class="p">:</span> <span class="s2">&quot;HuggingFaceDeploymentService&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return implementation specific information that might be relevant to the user.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_instance: Instance of a HuggingFaceDeploymentService</span>

<span class="sd">        Returns:</span>
<span class="sd">            Model server information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;PREDICTION_URL&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">get_prediction_url</span><span class="p">(),</span>
            <span class="s2">&quot;HEALTH_CHECK_URL&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">get_healthcheck_url</span><span class="p">(),</span>
        <span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">HuggingFaceModelDeployerConfig</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Config class for the Hugging Face Model deployer settings class.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>HuggingFaceModelDeployerConfig</code></td>
      <td><p>The configuration.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_validator</span><span class="o">.</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Validates the stack.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.stack.stack_validator.StackValidator]</code></td>
      <td><p>A validator that checks that the stack contains a remote artifact
store.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-class">



<h6 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.FLAVOR" class="doc doc-heading">
        <code>
FLAVOR            (<a class="autorefs autorefs-internal" title="zenml.model_deployers.base_model_deployer.BaseModelDeployerFlavor" href="../../core_code_docs/core-model_deployers/#zenml.model_deployers.base_model_deployer.BaseModelDeployerFlavor">BaseModelDeployerFlavor</a>)
        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Hugging Face Endpoint model deployer flavor.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/model_deployers/huggingface_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HuggingFaceModelDeployerFlavor</span><span class="p">(</span><span class="n">BaseModelDeployerFlavor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hugging Face Endpoint model deployer flavor.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Name of the flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">HUGGINGFACE_MODEL_DEPLOYER_FLAVOR</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to point at docs explaining this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A flavor docs url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_default_docs_url</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sdk_docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to point at SDK docs explaining this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A flavor SDK docs url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_default_sdk_docs_url</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">logo_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to represent the flavor in the dashboard.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The flavor logo.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;https://public-flavor-logos.s3.eu-central-1.amazonaws.com/model_registry/huggingface.png&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">HuggingFaceModelDeployerConfig</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns `HuggingFaceModelDeployerConfig` config class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The config class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">HuggingFaceModelDeployerConfig</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;HuggingFaceModelDeployer&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation class for this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The implementation class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.huggingface.model_deployers.huggingface_model_deployer</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">HuggingFaceModelDeployer</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">HuggingFaceModelDeployer</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.FLAVOR.config_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">integrations</span><span class="o">.</span><span class="n">huggingface</span><span class="o">.</span><span class="n">flavors</span><span class="o">.</span><span class="n">huggingface_model_deployer_flavor</span><span class="o">.</span><span class="n">HuggingFaceModelDeployerConfig</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Returns <code>HuggingFaceModelDeployerConfig</code> config class.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceModelDeployerConfig]</code></td>
      <td><p>The config class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.FLAVOR.docs_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>A url to point at docs explaining this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A flavor docs url.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.FLAVOR.implementation_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">implementation_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">HuggingFaceModelDeployer</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Implementation class for this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[HuggingFaceModelDeployer]</code></td>
      <td><p>The implementation class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.FLAVOR.logo_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logo_url</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>A url to represent the flavor in the dashboard.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The flavor logo.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.FLAVOR.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>Name of the flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of the flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h7 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.FLAVOR.sdk_docs_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sdk_docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h7>

    <div class="doc doc-contents ">

      <p>A url to point at SDK docs explaining this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A flavor SDK docs url.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>





  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.get_model_server_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_model_server_info</span><span class="p">(</span><span class="n">service_instance</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Return implementation specific information that might be relevant to the user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_instance</code></td>
        <td><code>HuggingFaceDeploymentService</code></td>
        <td><p>Instance of a HuggingFaceDeploymentService</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Optional[str]]</code></td>
      <td><p>Model server information.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/model_deployers/huggingface_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_model_server_info</span><span class="p">(</span>  <span class="c1"># type: ignore[override]</span>
    <span class="n">service_instance</span><span class="p">:</span> <span class="s2">&quot;HuggingFaceDeploymentService&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return implementation specific information that might be relevant to the user.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_instance: Instance of a HuggingFaceDeploymentService</span>

<span class="sd">    Returns:</span>
<span class="sd">        Model server information.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;PREDICTION_URL&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">get_prediction_url</span><span class="p">(),</span>
        <span class="s2">&quot;HEALTH_CHECK_URL&quot;</span><span class="p">:</span> <span class="n">service_instance</span><span class="o">.</span><span class="n">get_healthcheck_url</span><span class="p">(),</span>
    <span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.perform_delete_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">perform_delete_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Method to delete all configuration of a model server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service</code></td>
        <td><code>BaseService</code></td>
        <td><p>The service to delete.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>Timeout in seconds to wait for the service to stop.</p></td>
        <td><code>300</code></td>
      </tr>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>If True, force the service to stop.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/model_deployers/huggingface_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">perform_delete_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method to delete all configuration of a model server.</span>

<span class="sd">    Args:</span>
<span class="sd">        service: The service to delete.</span>
<span class="sd">        timeout: Timeout in seconds to wait for the service to stop.</span>
<span class="sd">        force: If True, force the service to stop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">service</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">HuggingFaceDeploymentService</span><span class="p">,</span> <span class="n">service</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_clean_up_existing_service</span><span class="p">(</span>
        <span class="n">existing_service</span><span class="o">=</span><span class="n">service</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.perform_deploy_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">perform_deploy_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Create a new Hugging Face deployment service or update an existing one.</p>
<p>This should serve the supplied model and deployment configuration.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>id</code></td>
        <td><code>UUID</code></td>
        <td><p>the UUID of the model to be deployed with Hugging Face.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>ServiceConfig</code></td>
        <td><p>the configuration of the model to be deployed with Hugging Face.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>the timeout in seconds to wait for the Hugging Face endpoint
to be provisioned and successfully started or updated. If set
to 0, the method will return immediately after the Hugging Face
server is provisioned, without waiting for it to fully start.</p></td>
        <td><code>300</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseService</code></td>
      <td><p>The ZenML Hugging Face deployment service object that can be used to
interact with the remote Hugging Face inference endpoint server.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/model_deployers/huggingface_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">perform_deploy_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ServiceConfig</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new Hugging Face deployment service or update an existing one.</span>

<span class="sd">    This should serve the supplied model and deployment configuration.</span>

<span class="sd">    Args:</span>
<span class="sd">        id: the UUID of the model to be deployed with Hugging Face.</span>
<span class="sd">        config: the configuration of the model to be deployed with Hugging Face.</span>
<span class="sd">        timeout: the timeout in seconds to wait for the Hugging Face endpoint</span>
<span class="sd">            to be provisioned and successfully started or updated. If set</span>
<span class="sd">            to 0, the method will return immediately after the Hugging Face</span>
<span class="sd">            server is provisioned, without waiting for it to fully start.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ZenML Hugging Face deployment service object that can be used to</span>
<span class="sd">        interact with the remote Hugging Face inference endpoint server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">track_handler</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">MODEL_DEPLOYED</span><span class="p">)</span> <span class="k">as</span> <span class="n">analytics_handler</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">HuggingFaceServiceConfig</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
        <span class="c1"># create a new HuggingFaceDeploymentService instance</span>
        <span class="n">service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_new_service</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Creating a new Hugging Face inference endpoint service: </span><span class="si">{</span><span class="n">service</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="c1"># Add telemetry with metadata that gets the stack metadata and</span>
        <span class="c1"># differentiates between pure model and custom code deployments</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span>
        <span class="n">stack_metadata</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">component_type</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="n">component</span><span class="o">.</span><span class="n">flavor</span>
            <span class="k">for</span> <span class="n">component_type</span><span class="p">,</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="n">analytics_handler</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;store_type&quot;</span><span class="p">:</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="o">**</span><span class="n">stack_metadata</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">return</span> <span class="n">service</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.perform_start_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">perform_start_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Method to start a model server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service</code></td>
        <td><code>BaseService</code></td>
        <td><p>The service to start.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>Timeout in seconds to wait for the service to start.</p></td>
        <td><code>300</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseService</code></td>
      <td><p>The started service.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/model_deployers/huggingface_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">perform_start_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method to start a model server.</span>

<span class="sd">    Args:</span>
<span class="sd">        service: The service to start.</span>
<span class="sd">        timeout: Timeout in seconds to wait for the service to start.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The started service.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">service</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">service</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.model_deployers.huggingface_model_deployer.HuggingFaceModelDeployer.perform_stop_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">perform_stop_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Method to stop a model server.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service</code></td>
        <td><code>BaseService</code></td>
        <td><p>The service to stop.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>Timeout in seconds to wait for the service to stop.</p></td>
        <td><code>300</code></td>
      </tr>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>If True, force the service to stop.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseService</code></td>
      <td><p>The stopped service.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/model_deployers/huggingface_model_deployer.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">perform_stop_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service</span><span class="p">:</span> <span class="n">BaseService</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_DEPLOYMENT_START_STOP_TIMEOUT</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseService</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method to stop a model server.</span>

<span class="sd">    Args:</span>
<span class="sd">        service: The service to stop.</span>
<span class="sd">        timeout: Timeout in seconds to wait for the service to stop.</span>
<span class="sd">        force: If True, force the service to stop.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The stopped service.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">service</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">service</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.huggingface.services" class="doc doc-heading">
        <code>services</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the Hugging Face Service.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.huggingface.services.huggingface_deployment" class="doc doc-heading">
        <code>huggingface_deployment</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the Hugging Face Deployment service.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService" class="doc doc-heading">
        <code>
HuggingFaceDeploymentService            (<a class="autorefs autorefs-internal" title="zenml.services.service.BaseDeploymentService" href="../../core_code_docs/core-services/#zenml.services.service.BaseDeploymentService">BaseDeploymentService</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Hugging Face model deployment service.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SERVICE_TYPE</code></td>
        <td><code>ClassVar[zenml.services.service_type.ServiceType]</code></td>
        <td><p>a service type descriptor with information describing
the Hugging Face deployment service class</p></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>HuggingFaceServiceConfig</code></td>
        <td><p>service configuration</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/services/huggingface_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HuggingFaceDeploymentService</span><span class="p">(</span><span class="n">BaseDeploymentService</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hugging Face model deployment service.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        SERVICE_TYPE: a service type descriptor with information describing</span>
<span class="sd">            the Hugging Face deployment service class</span>
<span class="sd">        config: service configuration</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">SERVICE_TYPE</span> <span class="o">=</span> <span class="n">ServiceType</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;huggingface-deployment&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;model-serving&quot;</span><span class="p">,</span>
        <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;huggingface&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Hugging Face inference endpoint prediction service&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">HuggingFaceServiceConfig</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">HuggingFaceServiceStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">HuggingFaceServiceStatus</span><span class="p">()</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">HuggingFaceServiceConfig</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the Hugging Face deployment service.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: service configuration</span>
<span class="sd">            attrs: additional attributes to set on the service</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the Hugging Face token.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If token not found.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Hugging Face token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_name</span><span class="p">:</span>
            <span class="n">secret</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_name</span><span class="p">)</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">[</span><span class="s2">&quot;token&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.integrations.huggingface.model_deployers.huggingface_model_deployer</span> <span class="kn">import</span> <span class="p">(</span>
                <span class="n">HuggingFaceModelDeployer</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">model_deployer</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">model_deployer</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model_deployer</span><span class="p">,</span> <span class="n">HuggingFaceModelDeployer</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;HuggingFaceModelDeployer is not active in the stack.&quot;</span>
                <span class="p">)</span>
            <span class="n">token</span> <span class="o">=</span> <span class="n">model_deployer</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">token</span> <span class="ow">or</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Token not found.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">token</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hf_endpoint</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InferenceEndpoint</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the deployed Hugging Face inference endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Huggingface inference endpoint.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">get_inference_endpoint</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_generate_an_endpoint_name</span><span class="p">(),</span>
            <span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_token</span><span class="p">(),</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prediction_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The prediction URI exposed by the prediction service.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The prediction URI exposed by the prediction service, or None if</span>
<span class="sd">            the service is not yet ready.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hf_endpoint</span><span class="o">.</span><span class="n">url</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">inference_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InferenceClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the Hugging Face InferenceClient from Inference Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Hugging Face inference client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hf_endpoint</span><span class="o">.</span><span class="n">client</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provision or update remote Hugging Face deployment instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If any unexpected error while creating inference endpoint.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Attempt to create and wait for the inference endpoint</span>
            <span class="n">hf_endpoint</span> <span class="o">=</span> <span class="n">create_inference_endpoint</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_generate_an_endpoint_name</span><span class="p">(),</span>
                <span class="n">repository</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">repository</span><span class="p">,</span>
                <span class="n">framework</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">framework</span><span class="p">,</span>
                <span class="n">accelerator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">accelerator</span><span class="p">,</span>
                <span class="n">instance_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">instance_size</span><span class="p">,</span>
                <span class="n">instance_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">instance_type</span><span class="p">,</span>
                <span class="n">region</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                <span class="n">vendor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">vendor</span><span class="p">,</span>
                <span class="n">account_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">account_id</span><span class="p">,</span>
                <span class="n">min_replica</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">min_replica</span><span class="p">,</span>
                <span class="n">max_replica</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">max_replica</span><span class="p">,</span>
                <span class="n">revision</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">revision</span><span class="p">,</span>
                <span class="n">task</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">task</span><span class="p">,</span>
                <span class="n">custom_image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">custom_image</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">endpoint_type</span><span class="p">,</span>
                <span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_token</span><span class="p">(),</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
            <span class="p">)</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">POLLING_TIMEOUT</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">update_state</span><span class="p">(</span>
                <span class="n">new_state</span><span class="o">=</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="c1"># Catch-all for any other unexpected errors</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;An unexpected error occurred while provisioning the Hugging Face inference endpoint: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Check if the endpoint URL is available after provisioning</span>
        <span class="k">if</span> <span class="n">hf_endpoint</span><span class="o">.</span><span class="n">url</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Hugging Face inference endpoint successfully deployed and available. Endpoint URL: </span><span class="si">{</span><span class="n">hf_endpoint</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Failed to start Hugging Face inference endpoint service: No URL available, please check the Hugging Face console for more details.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the Hugging Face deployment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The operational state of the Hugging Face deployment and a message</span>
<span class="sd">            providing additional information about that state (e.g. a</span>
<span class="sd">            description of the error, if one is encountered).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hf_endpoint</span><span class="o">.</span><span class="n">status</span>
            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="n">InferenceEndpointStatus</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="n">InferenceEndpointStatus</span><span class="o">.</span><span class="n">SCALED_TO_ZERO</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="n">ServiceState</span><span class="o">.</span><span class="n">SCALED_TO_ZERO</span><span class="p">,</span>
                    <span class="s2">&quot;Hugging Face Inference Endpoint is scaled to zero, but still running. It will be started on demand.&quot;</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="n">InferenceEndpointStatus</span><span class="o">.</span><span class="n">FAILED</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
                    <span class="s2">&quot;Hugging Face Inference Endpoint deployment is inactive or not found&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="n">InferenceEndpointStatus</span><span class="o">.</span><span class="n">PENDING</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">PENDING_STARTUP</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">PENDING_STARTUP</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">InferenceEndpointError</span><span class="p">,</span> <span class="n">HfHubHTTPError</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span>
                <span class="s2">&quot;Hugging Face Inference Endpoint deployment is inactive or not found&quot;</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deprovision the remote Hugging Face deployment instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            force: if True, the remote deployment instance will be</span>
<span class="sd">                forcefully deprovisioned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hf_endpoint</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">HfHubHTTPError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Hugging Face Inference Endpoint is deleted or cannot be found.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="s2">&quot;Any&quot;</span><span class="p">,</span> <span class="n">max_new_tokens</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Any&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a prediction using the service.</span>

<span class="sd">        Args:</span>
<span class="sd">            data: input data</span>
<span class="sd">            max_new_tokens: Number of new tokens to generate</span>

<span class="sd">        Returns:</span>
<span class="sd">            The prediction result.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: if the service is not running</span>
<span class="sd">            NotImplementedError: if task is not supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;Hugging Face endpoint inference service is not running. &quot;</span>
                <span class="s2">&quot;Please start the service before making predictions.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prediction_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hf_endpoint</span><span class="o">.</span><span class="n">task</span> <span class="o">==</span> <span class="s2">&quot;text-generation&quot;</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inference_client</span><span class="o">.</span><span class="n">task_generation</span><span class="p">(</span>
                    <span class="n">data</span><span class="p">,</span> <span class="n">max_new_tokens</span><span class="o">=</span><span class="n">max_new_tokens</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># TODO: Add support for all different supported tasks</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="s2">&quot;Tasks other than text-generation is not implemented.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">get_logs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the service logs.</span>

<span class="sd">        Args:</span>
<span class="sd">            follow: if True, the logs will be streamed as they are written</span>
<span class="sd">            tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A generator that can be accessed to get the service logs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Hugging Face Endpoints provides access to the logs of &quot;</span>
            <span class="s2">&quot;your Endpoints through the UI in the Logs tab of your Endpoint&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">_generate_an_endpoint_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a unique name for the Hugging Face Inference Endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A unique name for the Hugging Face Inference Endpoint.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">service_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)[:</span><span class="n">UUID_SLICE_LENGTH</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



















  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.hf_endpoint" class="doc doc-heading">
<code class="highlight language-python"><span class="n">hf_endpoint</span><span class="p">:</span> <span class="n">huggingface_hub</span><span class="o">.</span><span class="n">InferenceEndpoint</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the deployed Hugging Face inference endpoint.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>huggingface_hub.InferenceEndpoint</code></td>
      <td><p>Huggingface inference endpoint.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.inference_client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">inference_client</span><span class="p">:</span> <span class="n">huggingface_hub</span><span class="o">.</span><span class="n">InferenceClient</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the Hugging Face InferenceClient from Inference Endpoint.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>huggingface_hub.InferenceClient</code></td>
      <td><p>Hugging Face inference client.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.prediction_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prediction_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>The prediction URI exposed by the prediction service.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The prediction URI exposed by the prediction service, or None if
the service is not yet ready.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Initialize the Hugging Face deployment service.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>HuggingFaceServiceConfig</code></td>
        <td><p>service configuration</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>attrs</code></td>
        <td><code>Any</code></td>
        <td><p>additional attributes to set on the service</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/services/huggingface_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">HuggingFaceServiceConfig</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the Hugging Face deployment service.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: service configuration</span>
<span class="sd">        attrs: additional attributes to set on the service</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.check_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Check the the current operational state of the Hugging Face deployment.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.services.service_status.ServiceState, str]</code></td>
      <td><p>The operational state of the Hugging Face deployment and a message
providing additional information about that state (e.g. a
description of the error, if one is encountered).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/services/huggingface_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the Hugging Face deployment.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The operational state of the Hugging Face deployment and a message</span>
<span class="sd">        providing additional information about that state (e.g. a</span>
<span class="sd">        description of the error, if one is encountered).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hf_endpoint</span><span class="o">.</span><span class="n">status</span>
        <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="n">InferenceEndpointStatus</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="n">InferenceEndpointStatus</span><span class="o">.</span><span class="n">SCALED_TO_ZERO</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">ServiceState</span><span class="o">.</span><span class="n">SCALED_TO_ZERO</span><span class="p">,</span>
                <span class="s2">&quot;Hugging Face Inference Endpoint is scaled to zero, but still running. It will be started on demand.&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="n">InferenceEndpointStatus</span><span class="o">.</span><span class="n">FAILED</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
                <span class="s2">&quot;Hugging Face Inference Endpoint deployment is inactive or not found&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="n">InferenceEndpointStatus</span><span class="o">.</span><span class="n">PENDING</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">PENDING_STARTUP</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">PENDING_STARTUP</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">InferenceEndpointError</span><span class="p">,</span> <span class="n">HfHubHTTPError</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span>
            <span class="s2">&quot;Hugging Face Inference Endpoint deployment is inactive or not found&quot;</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.deprovision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Deprovision the remote Hugging Face deployment instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the remote deployment instance will be
forcefully deprovisioned.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/services/huggingface_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deprovision the remote Hugging Face deployment instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        force: if True, the remote deployment instance will be</span>
<span class="sd">            forcefully deprovisioned.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hf_endpoint</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">HfHubHTTPError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Hugging Face Inference Endpoint is deleted or cannot be found.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.get_logs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Retrieve the service logs.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>follow</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the logs will be streamed as they are written</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>tail</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>only retrieve the last NUM lines of log output.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Generator[str, bool, NoneType]</code></td>
      <td><p>A generator that can be accessed to get the service logs.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/services/huggingface_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_logs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the service logs.</span>

<span class="sd">    Args:</span>
<span class="sd">        follow: if True, the logs will be streamed as they are written</span>
<span class="sd">        tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A generator that can be accessed to get the service logs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="s2">&quot;Hugging Face Endpoints provides access to the logs of &quot;</span>
        <span class="s2">&quot;your Endpoints through the UI in the Logs tab of your Endpoint&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.get_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get the Hugging Face token.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If token not found.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Hugging Face token.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/services/huggingface_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the Hugging Face token.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If token not found.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Hugging Face token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
    <span class="n">token</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_name</span><span class="p">:</span>
        <span class="n">secret</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_name</span><span class="p">)</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">[</span><span class="s2">&quot;token&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.huggingface.model_deployers.huggingface_model_deployer</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">HuggingFaceModelDeployer</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">model_deployer</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">model_deployer</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model_deployer</span><span class="p">,</span> <span class="n">HuggingFaceModelDeployer</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;HuggingFaceModelDeployer is not active in the stack.&quot;</span>
            <span class="p">)</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">model_deployer</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">token</span> <span class="ow">or</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Token not found.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">token</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.predict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">max_new_tokens</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Make a prediction using the service.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data</code></td>
        <td><code>Any</code></td>
        <td><p>input data</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>max_new_tokens</code></td>
        <td><code>int</code></td>
        <td><p>Number of new tokens to generate</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The prediction result.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>Exception</code></td>
        <td><p>if the service is not running</p></td>
      </tr>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>if task is not supported.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/services/huggingface_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="s2">&quot;Any&quot;</span><span class="p">,</span> <span class="n">max_new_tokens</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Any&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Make a prediction using the service.</span>

<span class="sd">    Args:</span>
<span class="sd">        data: input data</span>
<span class="sd">        max_new_tokens: Number of new tokens to generate</span>

<span class="sd">    Returns:</span>
<span class="sd">        The prediction result.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: if the service is not running</span>
<span class="sd">        NotImplementedError: if task is not supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;Hugging Face endpoint inference service is not running. &quot;</span>
            <span class="s2">&quot;Please start the service before making predictions.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prediction_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hf_endpoint</span><span class="o">.</span><span class="n">task</span> <span class="o">==</span> <span class="s2">&quot;text-generation&quot;</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">inference_client</span><span class="o">.</span><span class="n">task_generation</span><span class="p">(</span>
                <span class="n">data</span><span class="p">,</span> <span class="n">max_new_tokens</span><span class="o">=</span><span class="n">max_new_tokens</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># TODO: Add support for all different supported tasks</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="s2">&quot;Tasks other than text-generation is not implemented.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceDeploymentService.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Provision or update remote Hugging Face deployment instance.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>Exception</code></td>
        <td><p>If any unexpected error while creating inference endpoint.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/services/huggingface_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provision or update remote Hugging Face deployment instance.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If any unexpected error while creating inference endpoint.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Attempt to create and wait for the inference endpoint</span>
        <span class="n">hf_endpoint</span> <span class="o">=</span> <span class="n">create_inference_endpoint</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_generate_an_endpoint_name</span><span class="p">(),</span>
            <span class="n">repository</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">repository</span><span class="p">,</span>
            <span class="n">framework</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">framework</span><span class="p">,</span>
            <span class="n">accelerator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">accelerator</span><span class="p">,</span>
            <span class="n">instance_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">instance_size</span><span class="p">,</span>
            <span class="n">instance_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">instance_type</span><span class="p">,</span>
            <span class="n">region</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">vendor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">vendor</span><span class="p">,</span>
            <span class="n">account_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">account_id</span><span class="p">,</span>
            <span class="n">min_replica</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">min_replica</span><span class="p">,</span>
            <span class="n">max_replica</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">max_replica</span><span class="p">,</span>
            <span class="n">revision</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">revision</span><span class="p">,</span>
            <span class="n">task</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">task</span><span class="p">,</span>
            <span class="n">custom_image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">custom_image</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">endpoint_type</span><span class="p">,</span>
            <span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_token</span><span class="p">(),</span>
            <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">namespace</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">POLLING_TIMEOUT</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">update_state</span><span class="p">(</span>
            <span class="n">new_state</span><span class="o">=</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="c1"># Catch-all for any other unexpected errors</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;An unexpected error occurred while provisioning the Hugging Face inference endpoint: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Check if the endpoint URL is available after provisioning</span>
    <span class="k">if</span> <span class="n">hf_endpoint</span><span class="o">.</span><span class="n">url</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Hugging Face inference endpoint successfully deployed and available. Endpoint URL: </span><span class="si">{</span><span class="n">hf_endpoint</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;Failed to start Hugging Face inference endpoint service: No URL available, please check the Hugging Face console for more details.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceServiceConfig" class="doc doc-heading">
        <code>
HuggingFaceServiceConfig            (<a class="autorefs autorefs-internal" title="zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceBaseConfig" href="#zenml.integrations.huggingface.flavors.huggingface_model_deployer_flavor.HuggingFaceBaseConfig">HuggingFaceBaseConfig</a>, <a class="autorefs autorefs-internal" title="zenml.services.service.ServiceConfig" href="../../core_code_docs/core-services/#zenml.services.service.ServiceConfig">ServiceConfig</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Hugging Face service configurations.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/services/huggingface_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HuggingFaceServiceConfig</span><span class="p">(</span><span class="n">HuggingFaceBaseConfig</span><span class="p">,</span> <span class="n">ServiceConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hugging Face service configurations.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.huggingface.services.huggingface_deployment.HuggingFaceServiceStatus" class="doc doc-heading">
        <code>
HuggingFaceServiceStatus            (<a class="autorefs autorefs-internal" title="zenml.services.service_status.ServiceStatus" href="../../core_code_docs/core-services/#zenml.services.service_status.ServiceStatus">ServiceStatus</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Hugging Face service status.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/services/huggingface_deployment.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HuggingFaceServiceStatus</span><span class="p">(</span><span class="n">ServiceStatus</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hugging Face service status.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.huggingface.steps" class="doc doc-heading">
        <code>steps</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization for Hugging Face model deployer step.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.huggingface.steps.accelerate_runner" class="doc doc-heading">
        <code>accelerate_runner</code>



</h4>

    <div class="doc doc-contents ">

      <p>Step function to run any ZenML step using Accelerate.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-function">



<h5 id="zenml.integrations.huggingface.steps.accelerate_runner.run_with_accelerate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_with_accelerate</span><span class="p">(</span><span class="n">step_function_top_level</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">accelerate_launch_kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Run a function with accelerate.</p>
<p>Accelerate package: https://huggingface.co/docs/accelerate/en/index</p>

<p><strong>Examples:</strong></p>
    <pre><code class="language-python">from zenml import step, pipeline
from zenml.integrations.hugginface.steps import run_with_accelerate

@run_with_accelerate(num_processes=4, multi_gpu=True)
@step
def training_step(some_param: int, ...):
    # your training code is below
    ...

@pipeline
def training_pipeline(some_param: int, ...):
    training_step(some_param, ...)
</code></pre>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_function_top_level</code></td>
        <td><code>Optional[zenml.steps.base_step.BaseStep]</code></td>
        <td><p>The step function to run with accelerate [optional].
Used in functional calls like <code>run_with_accelerate(some_func,foo=bar)()</code>.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>accelerate_launch_kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>A dictionary of arguments to pass along to the
<code>accelerate launch</code> command, including hardware selection, resource
allocation, and training paradigm options. Visit
https://huggingface.co/docs/accelerate/en/package_reference/cli#accelerate-launch
for more details.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[Callable[[zenml.steps.base_step.BaseStep], zenml.steps.base_step.BaseStep], zenml.steps.base_step.BaseStep]</code></td>
      <td><p>The accelerate-enabled version of the step.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/huggingface/steps/accelerate_runner.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_with_accelerate</span><span class="p">(</span>
    <span class="n">step_function_top_level</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseStep</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">accelerate_launch_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">BaseStep</span><span class="p">],</span> <span class="n">BaseStep</span><span class="p">],</span> <span class="n">BaseStep</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run a function with accelerate.</span>

<span class="sd">    Accelerate package: https://huggingface.co/docs/accelerate/en/index</span>
<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        from zenml import step, pipeline</span>
<span class="sd">        from zenml.integrations.hugginface.steps import run_with_accelerate</span>

<span class="sd">        @run_with_accelerate(num_processes=4, multi_gpu=True)</span>
<span class="sd">        @step</span>
<span class="sd">        def training_step(some_param: int, ...):</span>
<span class="sd">            # your training code is below</span>
<span class="sd">            ...</span>

<span class="sd">        @pipeline</span>
<span class="sd">        def training_pipeline(some_param: int, ...):</span>
<span class="sd">            training_step(some_param, ...)</span>
<span class="sd">        ```</span>

<span class="sd">    Args:</span>
<span class="sd">        step_function_top_level: The step function to run with accelerate [optional].</span>
<span class="sd">            Used in functional calls like `run_with_accelerate(some_func,foo=bar)()`.</span>
<span class="sd">        accelerate_launch_kwargs: A dictionary of arguments to pass along to the</span>
<span class="sd">            `accelerate launch` command, including hardware selection, resource</span>
<span class="sd">            allocation, and training paradigm options. Visit</span>
<span class="sd">            https://huggingface.co/docs/accelerate/en/package_reference/cli#accelerate-launch</span>
<span class="sd">            for more details.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The accelerate-enabled version of the step.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_decorator</span><span class="p">(</span><span class="n">step_function</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseStep</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">_wrapper</span><span class="p">(</span>
            <span class="n">entrypoint</span><span class="p">:</span> <span class="n">F</span><span class="p">,</span> <span class="n">accelerate_launch_kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">F</span><span class="p">:</span>
            <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">entrypoint</span><span class="p">)</span>
            <span class="k">def</span> <span class="nf">inner</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="s2">&quot;Accelerated steps do not support positional arguments.&quot;</span>
                    <span class="p">)</span>

                <span class="k">with</span> <span class="n">create_cli_wrapped_script</span><span class="p">(</span>
                    <span class="n">entrypoint</span><span class="p">,</span> <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;accelerate&quot;</span>
                <span class="p">)</span> <span class="k">as</span> <span class="p">(</span>
                    <span class="n">script_path</span><span class="p">,</span>
                    <span class="n">output_path</span><span class="p">,</span>
                <span class="p">):</span>
                    <span class="n">commands</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">script_path</span><span class="o">.</span><span class="n">absolute</span><span class="p">())]</span>
                    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">k</span> <span class="o">=</span> <span class="n">_cli_arg_name</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
                            <span class="k">if</span> <span class="n">v</span><span class="p">:</span>
                                <span class="n">commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
                            <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
                                <span class="n">commands</span> <span class="o">+=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">each</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">commands</span> <span class="o">+=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">commands</span><span class="p">)</span>

                    <span class="n">parser</span> <span class="o">=</span> <span class="n">launch_command_parser</span><span class="p">()</span>
                    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">commands</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">accelerate_launch_kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
                            <span class="nb">setattr</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                                <span class="sa">f</span><span class="s2">&quot;You passed in `</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">` as an `accelerate launch` argument, but it was not accepted. &quot;</span>
                                <span class="s2">&quot;Please check https://huggingface.co/docs/accelerate/en/package_reference/cli#accelerate-launch &quot;</span>
                                <span class="s2">&quot;to find out more about supported arguments and retry.&quot;</span>
                            <span class="p">)</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">launch_command</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                            <span class="s2">&quot;Accelerate training job failed... See error message for details.&quot;</span>
                        <span class="p">)</span>
                        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                            <span class="s2">&quot;Accelerate training job failed.&quot;</span>
                        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                            <span class="s2">&quot;Accelerate training job finished successfully.&quot;</span>
                        <span class="p">)</span>
                        <span class="k">return</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">output_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">))</span>

            <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">inner</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">get_pipeline_context</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">run_with_accelerate</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` decorator cannot be used &quot;</span>
                <span class="s2">&quot;in a functional way with steps, please apply decoration &quot;</span>
                <span class="s2">&quot;directly to a step instead. This behavior will be also &quot;</span>
                <span class="s2">&quot;allowed in future, but now it faces technical limitations.</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Example (allowed):</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;@</span><span class="si">{</span><span class="n">run_with_accelerate</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(...)</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;def </span><span class="si">{</span><span class="n">step_function</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">(...):</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;    ...</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Example (not allowed):</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;def my_pipeline(...):</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;    run_with_accelerate(</span><span class="si">{</span><span class="n">step_function</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">,...)(...)</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="nb">setattr</span><span class="p">(</span>
            <span class="n">step_function</span><span class="p">,</span> <span class="s2">&quot;unwrapped_entrypoint&quot;</span><span class="p">,</span> <span class="n">step_function</span><span class="o">.</span><span class="n">entrypoint</span>
        <span class="p">)</span>
        <span class="nb">setattr</span><span class="p">(</span>
            <span class="n">step_function</span><span class="p">,</span>
            <span class="s2">&quot;entrypoint&quot;</span><span class="p">,</span>
            <span class="n">_wrapper</span><span class="p">(</span>
                <span class="n">step_function</span><span class="o">.</span><span class="n">entrypoint</span><span class="p">,</span>
                <span class="n">accelerate_launch_kwargs</span><span class="o">=</span><span class="n">accelerate_launch_kwargs</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">step_function</span>

    <span class="k">if</span> <span class="n">step_function_top_level</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_decorator</span><span class="p">(</span><span class="n">step_function_top_level</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_decorator</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.huggingface.steps.huggingface_deployer" class="doc doc-heading">
        <code>huggingface_deployer</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the Hugging Face Deployer step.</p>



  <div class="doc doc-children">












  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../integrations-great_expectations/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Great Expectations" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Great Expectations
            </div>
          </div>
        </a>
      
      
        
        <a href="../integrations-hyperai/" class="md-footer__link md-footer__link--next" aria-label="Next: Hyperai" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Hyperai
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH  <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>