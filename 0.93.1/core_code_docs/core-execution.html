
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.93.1/core_code_docs/core-execution.html">
      
      
        <link rel="prev" href="core-exceptions.html">
      
      
        <link rel="next" href="core-experiment_trackers.html">
      
      
      <link rel="icon" href="../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>Execution - ZenML SDK Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  // Load Segment analytics library first
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  // (Removed line) analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  
  // Bot detection function
  function isBotTraffic() {
    const userAgent = navigator.userAgent || '';
    const userAgentLower = userAgent.toLowerCase();

    function getChromeMajor(ua) {
      const match = /Chrome\/(\d+)\./.exec(ua);
      return match ? parseInt(match[1], 10) : null;
    }

    function guessOsFromUserAgent(uaLower) {
      if (uaLower.includes('windows nt')) return 'Windows';
      if (uaLower.includes('android')) return 'Android';
      if (uaLower.includes('iphone') || uaLower.includes('ipad') || uaLower.includes('ipod')) return 'iOS';
      if (uaLower.includes('macintosh') || uaLower.includes('mac os x')) return 'macOS';
      if (uaLower.includes('cros')) return 'Unknown';
      if (uaLower.includes('linux')) return 'Linux';
      return 'Unknown';
    }

    function normalizeUadPlatform(value) {
      const p = (value || '').toLowerCase();
      if (p === '') return 'Unknown';
      if (p.startsWith('win')) return 'Windows';
      if (p === 'macos' || p.startsWith('mac')) return 'macOS';
      if (p.startsWith('linux')) return 'Linux';
      if (p.startsWith('android')) return 'Android';
      if (p === 'ios') return 'iOS';
      if (p.includes('cros') || p.includes('chrome os')) return 'Unknown';
      return 'Unknown';
    }

    const botSignatures = [
      'claudebot',
      'headlesschrome',
      'phantomjs',
      'slimerjs',
      'crawler',
      'spider',
      'scraper',
      'googlebot',
      'bingbot',
      'semrushbot',
      'ahrefsbot',
      'bot',
    ];

    for (const signature of botSignatures) {
      if (userAgentLower.includes(signature)) {
        return true;
      }
    }

    if (navigator.webdriver === true) {
      return true;
    }

    const uad = navigator.userAgentData;
    if (!uad) {
      return false;
    }

    const platform = typeof uad.platform === 'string' ? uad.platform : '';
    const brands = Array.isArray(uad.brands) ? uad.brands : [];

    // Observed spoofed crawlers present a Chrome-like UA but return empty Client Hints fields.
    if (brands.length === 0 && platform === '') {
      return true;
    }

    const normalizedUaPlatform = guessOsFromUserAgent(userAgentLower);
    const normalizedUadPlatform = normalizeUadPlatform(platform);
    if (
      normalizedUaPlatform !== 'Unknown' &&
      normalizedUadPlatform !== 'Unknown' &&
      normalizedUaPlatform !== normalizedUadPlatform
    ) {
      return true;
    }

    const notABrandPattern = /^Not.{0,2}A.{0,2}Brand$/i;
    let hasChromiumBrand = false;
    let sawBrandBotSignal = false;
    let sawEmptyExpectedBrandVersion = false;
    let validBrandCount = 0;
    let greasedBrandCount = 0;

    for (const entry of brands) {
      if (!entry || typeof entry.brand !== 'string') {
        continue;
      }

      const brand = entry.brand;
      const brandLower = brand.toLowerCase();
      validBrandCount += 1;

      if (brand === 'HeadlessChrome' || brandLower.includes('bot')) {
        sawBrandBotSignal = true;
      }

      if (/chrom(e|ium)/i.test(brand)) {
        hasChromiumBrand = true;
        if (typeof entry.version === 'string' && entry.version.trim() === '') {
          sawEmptyExpectedBrandVersion = true;
        }
      }

      if (notABrandPattern.test(brand)) {
        greasedBrandCount += 1;
      }
    }

    if (sawBrandBotSignal) {
      return true;
    }

    // GREASE "Not A Brand" entries are expected in Chromium; it's only suspicious if it's the only brand signal present.
    if (validBrandCount > 0 && greasedBrandCount === validBrandCount && !hasChromiumBrand) {
      return true;
    }

    // Aggressive tier: if the UA claims Chrome but Client Hints omit versions for expected Chromium brands, treat as spoofed.
    if (getChromeMajor(userAgent) !== null && hasChromiumBrand && sawEmptyExpectedBrandVersion) {
      return true;
    }

    return false;
  }
  
  // Only send analytics data if this is NOT bot traffic
  if (!isBotTraffic()) {
    analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
    analytics.page();
  } else {
    // Optional: Log for debugging (only in non-production environments)
    if (window.location.hostname === 'localhost' || window.location.hostname.includes('dev')) {
      console.log('Bot traffic detected, skipping Segment analytics');
    }
  }
  }}();
</script>

<!-- Plausible and Reo continue unchanged -->
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>

<!-- Start of Reo Javascript -->
<script type="text/javascript">
  !function(){var e,t,n;e="d696528d7eed7f5",t=function(){Reo.init({clientID:"d696528d7eed7f5"})},(n=document.createElement("script")).src="https://static.reo.dev/"+e+"/reo.js",n.defer=!0,n.onload=t,document.head.appendChild(n)}();
</script>
<!-- End of Reo Javascript -->


  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#execution" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="ZenML SDK Docs" class="md-header__button md-logo" aria-label="ZenML SDK Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML SDK Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Execution
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="ZenML SDK Docs" class="md-nav__button md-logo" aria-label="ZenML SDK Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ZenML SDK Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ZenML
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI docs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core code docs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Core code docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-actions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-alerter.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alerter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-analytics.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Analytics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-annotators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-artifact_stores.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Artifact Stores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-artifacts.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Artifacts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-client.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-client_lazy_loader.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client Lazy Loader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-code_repositories.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Repositories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-config.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-console.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Console
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-constants.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-container_registries.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Container Registries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-data_validators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Validators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-deployers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-entrypoints.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entrypoints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-enums.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enums
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-environment.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-event_hub.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Hub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-event_sources.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Sources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-exceptions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Execution
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="core-execution.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Execution
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.execution" class="md-nav__link">
    <span class="md-ellipsis">
      execution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="execution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.execution-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.execution.pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      pipeline
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.execution.pipeline-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.execution.pipeline.dynamic" class="md-nav__link">
    <span class="md-ellipsis">
      dynamic
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-experiment_trackers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Trackers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-feature_stores.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Stores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-hooks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-image_builders.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image Builders
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-io.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Io
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-log_stores.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Log Stores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-logger.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-login.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Login
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-materializers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Materializers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-metadata.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-model.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-model_deployers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Deployers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-model_registries.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Registries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-models.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-orchestrators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Orchestrators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-pipelines.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-plugins.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-secret.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Secret
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-service_connectors.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Service Connectors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-services.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-stack.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-stack_deployments.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stack Deployments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-step_operators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step Operators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-steps.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Steps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-types.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-zen_server.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zen Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="core-zen_stores.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zen Stores
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Integration code docs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Integration code docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-airflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Airflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-argilla.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Argilla
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-aws.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aws
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-azure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-bentoml.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bentoml
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-bitbucket.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bitbucket
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-comet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-constants.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-databricks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Databricks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-deepchecks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deepchecks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-discord.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discord
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-evidently.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evidently
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-facets.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Facets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-feast.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feast
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-gcp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gcp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-github.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Github
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-gitlab.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gitlab
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-great_expectations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Great Expectations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-huggingface.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Huggingface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-hyperai.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hyperai
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-integration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-jax.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jax
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-kaniko.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kaniko
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-kubeflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubeflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-kubernetes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-label_studio.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Label Studio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-langchain.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Langchain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-lightgbm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lightgbm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-lightning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lightning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-llama_index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Llama Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-mlflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mlflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-mlx.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mlx
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-modal.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-neptune.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neptune
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-neural_prophet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neural Prophet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-numpy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Numpy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-openai.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Openai
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pandas.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pandas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pigeon.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pigeon
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pillow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pillow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-polars.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Polars
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-prodigy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prodigy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pycaret.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pycaret
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pytorch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytorch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-pytorch_lightning.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytorch Lightning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-registry.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-s3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    S3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-scipy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scipy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-seldon.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Seldon
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-sklearn.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sklearn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_aws.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Aws
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_azure.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Azure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_gcp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Gcp
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_kubernetes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-skypilot_lambda.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skypilot Lambda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-slack.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-spark.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spark
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-tekton.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tekton
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-tensorboard.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tensorboard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-tensorflow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tensorflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-vllm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vllm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-wandb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wandb
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-whylogs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Whylogs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integration_code_docs/integrations-xgboost.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Xgboost
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.execution" class="md-nav__link">
    <span class="md-ellipsis">
      execution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="execution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.execution-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.execution.pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      pipeline
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.execution.pipeline-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.execution.pipeline.dynamic" class="md-nav__link">
    <span class="md-ellipsis">
      dynamic
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="execution">Execution</h1>


<div class="doc doc-object doc-module">



<h2 id="zenml.execution" class="doc doc-heading">
            <code>zenml.execution</code>


</h2>

    <div class="doc doc-contents first">

        <p>Step and pipeline execution.</p>










<div class="doc doc-children">









<h3 id="zenml.execution-modules">Modules</h3>

<div class="doc doc-object doc-module">



<h4 id="zenml.execution.pipeline" class="doc doc-heading">
            <code>pipeline</code>


</h4>

    <div class="doc doc-contents ">

        <p>Pipeline execution.</p>










<div class="doc doc-children">









<h5 id="zenml.execution.pipeline-modules">Modules</h5>

<div class="doc doc-object doc-module">



<h6 id="zenml.execution.pipeline.dynamic" class="doc doc-heading">
            <code>dynamic</code>


</h6>

    <div class="doc doc-contents ">

        <p>Dynamic pipeline execution.</p>










<div class="doc doc-children">









<h7 id="zenml.execution.pipeline.dynamic-modules">Modules</h7>

<div class="doc doc-object doc-module">



<h8 id="zenml.execution.pipeline.dynamic.outputs" class="doc doc-heading">
            <code>outputs</code>


</h8>

    <div class="doc doc-contents ">

        <p>Dynamic pipeline execution outputs.</p>










<div class="doc doc-children">







<h9 id="zenml.execution.pipeline.dynamic.outputs-classes">Classes</h9>

<div class="doc doc-object doc-class">



<h10 id="zenml.execution.pipeline.dynamic.outputs.ArtifactFuture" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">ArtifactFuture</span><span class="p">(</span><span class="n">wrapped</span><span class="p">:</span> <span class="n">Future</span><span class="p">[</span><span class="n">StepRunOutputs</span><span class="p">],</span> <span class="n">invocation_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span></code>

</h10>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseStepRunFuture(wrapped: Future[StepRunOutputs], invocation_id: str, **kwargs: Any) (zenml.execution.pipeline.dynamic.outputs.BaseStepRunFuture)" href="#zenml.execution.pipeline.dynamic.outputs.BaseStepRunFuture">BaseStepRunFuture</a></code></p>



        <p>Future for a step run output artifact.</p>

        <p>Initialize the future.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>wrapped</code>
            </td>
            <td>
                  <code><span title="concurrent.futures.Future">Future</span>[<span title="zenml.execution.pipeline.dynamic.outputs.StepRunOutputs">StepRunOutputs</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The wrapped future object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>invocation_id</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The invocation ID of the step run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>index</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The index of the output artifact.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">wrapped</span><span class="p">:</span> <span class="n">Future</span><span class="p">[</span><span class="n">StepRunOutputs</span><span class="p">],</span> <span class="n">invocation_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the future.</span>

<span class="sd">    Args:</span>
<span class="sd">        wrapped: The wrapped future object.</span>
<span class="sd">        invocation_id: The invocation ID of the step run.</span>
<span class="sd">        index: The index of the output artifact.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">wrapped</span><span class="o">=</span><span class="n">wrapped</span><span class="p">,</span> <span class="n">invocation_id</span><span class="o">=</span><span class="n">invocation_id</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">=</span> <span class="n">index</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">








<h11 id="zenml.execution.pipeline.dynamic.outputs.ArtifactFuture-functions">Functions</h11>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.ArtifactFuture.chunk" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">chunk</span><span class="p">(</span><span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OutputArtifact</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Get a chunk of the output artifact.</p>
<p>This method will wait for the future to complete and then return the
artifact chunk.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>index</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The index of the chunk.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="OutputArtifact (zenml.execution.pipeline.dynamic.outputs.OutputArtifact)" href="#zenml.execution.pipeline.dynamic.outputs.OutputArtifact">OutputArtifact</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The artifact chunk.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">chunk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;OutputArtifact&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a chunk of the output artifact.</span>

<span class="sd">    This method will wait for the future to complete and then return the</span>
<span class="sd">    artifact chunk.</span>

<span class="sd">    Args:</span>
<span class="sd">        index: The index of the chunk.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The artifact chunk.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">()</span><span class="o">.</span><span class="n">chunk</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.ArtifactFuture.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="n">disable_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Load the step run output artifact data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>disable_cache</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to disable the artifact cache.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run output artifact data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">disable_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load the step run output artifact data.</span>

<span class="sd">    Args:</span>
<span class="sd">        disable_cache: Whether to disable the artifact cache.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run output artifact data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">result</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">disable_cache</span><span class="o">=</span><span class="n">disable_cache</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.ArtifactFuture.result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">result</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">OutputArtifact</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Get the output artifact this future represents.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the future returned an invalid output.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="OutputArtifact (zenml.execution.pipeline.dynamic.outputs.OutputArtifact)" href="#zenml.execution.pipeline.dynamic.outputs.OutputArtifact">OutputArtifact</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The output artifact.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OutputArtifact</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the output artifact this future represents.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the future returned an invalid output.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The output artifact.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">OutputArtifact</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_index</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Step </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_invocation_id</span><span class="si">}</span><span class="s2"> returned an invalid output: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h10 id="zenml.execution.pipeline.dynamic.outputs.BaseFuture" class="doc doc-heading">
            <code>BaseFuture</code>


</h10>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>



        <p>Base future.</p>











<div class="doc doc-children">








<h11 id="zenml.execution.pipeline.dynamic.outputs.BaseFuture-functions">Functions</h11>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.BaseFuture.result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">result</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h12>


    <div class="doc doc-contents ">

        <p>Get the result of the future.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result of the future.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the result of the future.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The result of the future.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.BaseFuture.running" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">running</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h12>


    <div class="doc doc-contents ">

        <p>Check if the future is running.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the future is running, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the future is running.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the future is running, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h10 id="zenml.execution.pipeline.dynamic.outputs.BaseStepRunFuture" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">BaseStepRunFuture</span><span class="p">(</span><span class="n">wrapped</span><span class="p">:</span> <span class="n">Future</span><span class="p">[</span><span class="n">StepRunOutputs</span><span class="p">],</span> <span class="n">invocation_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span></code>

</h10>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseFuture (zenml.execution.pipeline.dynamic.outputs.BaseFuture)" href="#zenml.execution.pipeline.dynamic.outputs.BaseFuture">BaseFuture</a></code></p>



        <p>Base step run future.</p>

        <p>Initialize the dynamic step run future.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>wrapped</code>
            </td>
            <td>
                  <code><span title="concurrent.futures.Future">Future</span>[<span title="zenml.execution.pipeline.dynamic.outputs.StepRunOutputs">StepRunOutputs</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The wrapped future object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>invocation_id</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The invocation ID of the step run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">wrapped</span><span class="p">:</span> <span class="n">Future</span><span class="p">[</span><span class="n">StepRunOutputs</span><span class="p">],</span>
    <span class="n">invocation_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the dynamic step run future.</span>

<span class="sd">    Args:</span>
<span class="sd">        wrapped: The wrapped future object.</span>
<span class="sd">        invocation_id: The invocation ID of the step run.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped</span> <span class="o">=</span> <span class="n">wrapped</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_invocation_id</span> <span class="o">=</span> <span class="n">invocation_id</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">





<h11 id="zenml.execution.pipeline.dynamic.outputs.BaseStepRunFuture-attributes">Attributes</h11>

<div class="doc doc-object doc-attribute">



<h12 id="zenml.execution.pipeline.dynamic.outputs.BaseStepRunFuture.invocation_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">invocation_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h12>


    <div class="doc doc-contents ">

        <p>The step run invocation ID.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run invocation ID.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>


<h11 id="zenml.execution.pipeline.dynamic.outputs.BaseStepRunFuture-functions">Functions</h11>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.BaseStepRunFuture.running" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">running</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Check if the step run future is running.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the step run future is running, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the step run future is running.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the step run future is running, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped</span><span class="o">.</span><span class="n">running</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h10 id="zenml.execution.pipeline.dynamic.outputs.MapResultsFuture" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">MapResultsFuture</span><span class="p">(</span><span class="n">futures</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">StepRunOutputsFuture</span><span class="p">])</span></code>

</h10>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseFuture (zenml.execution.pipeline.dynamic.outputs.BaseFuture)" href="#zenml.execution.pipeline.dynamic.outputs.BaseFuture">BaseFuture</a></code></p>



        <p>Future that represents the results of a <code>step.map/product(...)</code> call.</p>

        <p>Initialize the map results future.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>futures</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="StepRunOutputsFuture(wrapped: Future[StepRunOutputs], invocation_id: str, output_keys: List[str]) (zenml.execution.pipeline.dynamic.outputs.StepRunOutputsFuture)" href="#zenml.execution.pipeline.dynamic.outputs.StepRunOutputsFuture">StepRunOutputsFuture</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run futures.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">futures</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">StepRunOutputsFuture</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the map results future.</span>

<span class="sd">    Args:</span>
<span class="sd">        futures: The step run futures.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">futures</span> <span class="o">=</span> <span class="n">futures</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">








<h11 id="zenml.execution.pipeline.dynamic.outputs.MapResultsFuture-functions">Functions</h11>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.MapResultsFuture.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="n">disable_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Load the step run output artifacts.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>disable_cache</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to disable the artifact cache.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run output artifacts.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">disable_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load the step run output artifacts.</span>

<span class="sd">    Args:</span>
<span class="sd">        disable_cache: Whether to disable the artifact cache.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run output artifacts.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">future</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">disable_cache</span><span class="o">=</span><span class="n">disable_cache</span><span class="p">)</span> <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">futures</span>
    <span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.MapResultsFuture.result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">result</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">StepRunOutputs</span><span class="p">]</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Get the step run outputs this future represents.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="zenml.execution.pipeline.dynamic.outputs.StepRunOutputs">StepRunOutputs</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run outputs.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">StepRunOutputs</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the step run outputs this future represents.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run outputs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">future</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">futures</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.MapResultsFuture.running" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">running</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Check if the map results future is running.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the map results future is running, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the map results future is running.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the map results future is running, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">future</span><span class="o">.</span><span class="n">running</span><span class="p">()</span> <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">futures</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.MapResultsFuture.unpack" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">unpack</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ArtifactFuture</span><span class="p">],</span> <span class="o">...</span><span class="p">]</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Unpack the map results future.</p>
<p>This method can be used to get lists of artifact futures that represent
the outputs of all the step runs that are part of this map result.</p>
<p>Example:</p>
<pre><code class="language-python">from zenml import pipeline, step

@step
def create_int_list() -&gt; list[int]:
    return [1, 2]

@step
def do_something(a: int) -&gt; Tuple[int, int]:
    return a * 2, a * 3

@pipeline
def map_pipeline():
    int_list = create_int_list()
    results = do_something.map(a=int_list)
    double, triple = results.unpack()

    # [future.load() for future in double] will return [2, 4]
    # [future.load() for future in triple] will return [3, 6]
</code></pre>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="ArtifactFuture(wrapped: Future[StepRunOutputs], invocation_id: str, index: int) (zenml.execution.pipeline.dynamic.outputs.ArtifactFuture)" href="#zenml.execution.pipeline.dynamic.outputs.ArtifactFuture">ArtifactFuture</a>], ...]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unpacked map results.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">unpack</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ArtifactFuture</span><span class="p">],</span> <span class="o">...</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Unpack the map results future.</span>

<span class="sd">    This method can be used to get lists of artifact futures that represent</span>
<span class="sd">    the outputs of all the step runs that are part of this map result.</span>

<span class="sd">    Example:</span>
<span class="sd">    ```python</span>
<span class="sd">    from zenml import pipeline, step</span>

<span class="sd">    @step</span>
<span class="sd">    def create_int_list() -&gt; list[int]:</span>
<span class="sd">        return [1, 2]</span>

<span class="sd">    @step</span>
<span class="sd">    def do_something(a: int) -&gt; Tuple[int, int]:</span>
<span class="sd">        return a * 2, a * 3</span>

<span class="sd">    @pipeline</span>
<span class="sd">    def map_pipeline():</span>
<span class="sd">        int_list = create_int_list()</span>
<span class="sd">        results = do_something.map(a=int_list)</span>
<span class="sd">        double, triple = results.unpack()</span>

<span class="sd">        # [future.load() for future in double] will return [2, 4]</span>
<span class="sd">        # [future.load() for future in triple] will return [3, 6]</span>
<span class="sd">    ```</span>

<span class="sd">    Returns:</span>
<span class="sd">        The unpacked map results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">futures</span><span class="p">)))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h10 id="zenml.execution.pipeline.dynamic.outputs.OutputArtifact" class="doc doc-heading">
            <code>OutputArtifact</code>


</h10>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ArtifactVersionResponse (zenml.models.ArtifactVersionResponse)" href="core-models.html#zenml.models.ArtifactVersionResponse">ArtifactVersionResponse</a></code></p>



        <p>Dynamic step run output artifact.</p>











<div class="doc doc-children">








<h11 id="zenml.execution.pipeline.dynamic.outputs.OutputArtifact-functions">Functions</h11>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.OutputArtifact.chunk" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">chunk</span><span class="p">(</span><span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OutputArtifact</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Get a chunk of the output artifact.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>index</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The index of the chunk.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the output artifact can not be chunked or the index
is out of range.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="OutputArtifact (zenml.execution.pipeline.dynamic.outputs.OutputArtifact)" href="#zenml.execution.pipeline.dynamic.outputs.OutputArtifact">OutputArtifact</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The artifact chunk.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">chunk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;OutputArtifact&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a chunk of the output artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        index: The index of the chunk.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the output artifact can not be chunked or the index</span>
<span class="sd">            is out of range.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The artifact chunk.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_count</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Output artifact `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_name</span><span class="si">}</span><span class="s2">` of step &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_name</span><span class="si">}</span><span class="s2">` can not be chunked.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item_count</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Chunk index `</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">` out of range for output artifact &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_name</span><span class="si">}</span><span class="s2">` of step `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_name</span><span class="si">}</span><span class="s2">`.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunk_index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunk_index</span> <span class="o">!=</span> <span class="n">index</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Output artifact `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_name</span><span class="si">}</span><span class="s2">` of step &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">step_name</span><span class="si">}</span><span class="s2">` is already referring to a &quot;</span>
            <span class="s2">&quot;different chunk.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_copy</span><span class="p">(</span><span class="n">update</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;chunk_index&quot;</span><span class="p">:</span> <span class="n">index</span><span class="p">,</span> <span class="s2">&quot;chunk_size&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h10 id="zenml.execution.pipeline.dynamic.outputs.StepRunOutputsFuture" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">StepRunOutputsFuture</span><span class="p">(</span><span class="n">wrapped</span><span class="p">:</span> <span class="n">Future</span><span class="p">[</span><span class="n">StepRunOutputs</span><span class="p">],</span> <span class="n">invocation_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">output_keys</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span></code>

</h10>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseStepRunFuture(wrapped: Future[StepRunOutputs], invocation_id: str, **kwargs: Any) (zenml.execution.pipeline.dynamic.outputs.BaseStepRunFuture)" href="#zenml.execution.pipeline.dynamic.outputs.BaseStepRunFuture">BaseStepRunFuture</a></code></p>



        <p>Future for a step run output.</p>

        <p>Initialize the future.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>wrapped</code>
            </td>
            <td>
                  <code><span title="concurrent.futures.Future">Future</span>[<span title="zenml.execution.pipeline.dynamic.outputs.StepRunOutputs">StepRunOutputs</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The wrapped future object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>invocation_id</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The invocation ID of the step run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_keys</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The output keys of the step run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">wrapped</span><span class="p">:</span> <span class="n">Future</span><span class="p">[</span><span class="n">StepRunOutputs</span><span class="p">],</span>
    <span class="n">invocation_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">output_keys</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the future.</span>

<span class="sd">    Args:</span>
<span class="sd">        wrapped: The wrapped future object.</span>
<span class="sd">        invocation_id: The invocation ID of the step run.</span>
<span class="sd">        output_keys: The output keys of the step run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">wrapped</span><span class="o">=</span><span class="n">wrapped</span><span class="p">,</span> <span class="n">invocation_id</span><span class="o">=</span><span class="n">invocation_id</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_output_keys</span> <span class="o">=</span> <span class="n">output_keys</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">








<h11 id="zenml.execution.pipeline.dynamic.outputs.StepRunOutputsFuture-functions">Functions</h11>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.StepRunOutputsFuture.artifacts" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">artifacts</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">StepRunOutputs</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Get the step run output artifacts.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="zenml.execution.pipeline.dynamic.outputs.StepRunOutputs">StepRunOutputs</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run output artifacts.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">artifacts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunOutputs</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the step run output artifacts.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run output artifacts.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.StepRunOutputsFuture.get_artifact" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_artifact</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactFuture</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Get an artifact future by key.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The key of the artifact future.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="KeyError">KeyError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no artifact for the given name exists.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="ArtifactFuture(wrapped: Future[StepRunOutputs], invocation_id: str, index: int) (zenml.execution.pipeline.dynamic.outputs.ArtifactFuture)" href="#zenml.execution.pipeline.dynamic.outputs.ArtifactFuture">ArtifactFuture</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The artifact future.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactFuture</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get an artifact future by key.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: The key of the artifact future.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no artifact for the given name exists.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The artifact future.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output_keys</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Step run </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_invocation_id</span><span class="si">}</span><span class="s2"> does not have an output with &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;the name: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">ArtifactFuture</span><span class="p">(</span>
        <span class="n">wrapped</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_wrapped</span><span class="p">,</span>
        <span class="n">invocation_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_invocation_id</span><span class="p">,</span>
        <span class="n">index</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_output_keys</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">key</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.StepRunOutputsFuture.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="n">disable_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Get the step run output artifact data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>disable_cache</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to disable the artifact cache.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the step run output is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run output artifact data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">disable_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the step run output artifact data.</span>

<span class="sd">    Args:</span>
<span class="sd">        disable_cache: Whether to disable the artifact cache.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the step run output is invalid.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run output artifact data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">artifacts</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">ArtifactVersionResponse</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">disable_cache</span><span class="o">=</span><span class="n">disable_cache</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="n">item</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">disable_cache</span><span class="o">=</span><span class="n">disable_cache</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">result</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid step run output: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.outputs.StepRunOutputsFuture.result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">result</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">StepRunOutputs</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Get the step run outputs this future represents.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="zenml.execution.pipeline.dynamic.outputs.StepRunOutputs">StepRunOutputs</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run outputs.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/outputs.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunOutputs</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the step run outputs this future represents.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run outputs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wrapped</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h9 id="zenml.execution.pipeline.dynamic.outputs-functions">Functions</h9>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h8 id="zenml.execution.pipeline.dynamic.run_context" class="doc doc-heading">
            <code>run_context</code>


</h8>

    <div class="doc doc-contents ">

        <p>Dynamic pipeline run context.</p>










<div class="doc doc-children">







<h9 id="zenml.execution.pipeline.dynamic.run_context-classes">Classes</h9>

<div class="doc doc-object doc-class">



<h10 id="zenml.execution.pipeline.dynamic.run_context.DynamicPipelineRunContext" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">DynamicPipelineRunContext</span><span class="p">(</span><span class="n">pipeline</span><span class="p">:</span> <span class="n">DynamicPipeline</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">:</span> <span class="n">PipelineSnapshotResponse</span><span class="p">,</span> <span class="n">run</span><span class="p">:</span> <span class="n">PipelineRunResponse</span><span class="p">,</span> <span class="n">runner</span><span class="p">:</span> <span class="n">DynamicPipelineRunner</span><span class="p">)</span></code>

</h10>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="BaseContext() (zenml.utils.context_utils.BaseContext)" href="core-utils.html#zenml.utils.context_utils.BaseContext">BaseContext</a></code></p>



        <p>Dynamic pipeline run context.</p>

        <p>Initialize the dynamic pipeline run context.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pipeline</code>
            </td>
            <td>
                  <code><span title="zenml.pipelines.dynamic.pipeline_definition.DynamicPipeline">DynamicPipeline</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dynamic pipeline that is being executed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>snapshot</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineSnapshotResponse (zenml.models.PipelineSnapshotResponse)" href="core-models.html#zenml.models.PipelineSnapshotResponse">PipelineSnapshotResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The snapshot of the pipeline.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>run</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineRunResponse (zenml.models.PipelineRunResponse)" href="core-models.html#zenml.models.PipelineRunResponse">PipelineRunResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pipeline run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>runner</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DynamicPipelineRunner(snapshot: PipelineSnapshotResponse, run: Optional[PipelineRunResponse], orchestrator: Optional[BaseOrchestrator] = None) (zenml.execution.pipeline.dynamic.runner.DynamicPipelineRunner)" href="#zenml.execution.pipeline.dynamic.runner.DynamicPipelineRunner">DynamicPipelineRunner</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dynamic pipeline runner.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/run_context.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;DynamicPipeline&quot;</span><span class="p">,</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="s2">&quot;PipelineSnapshotResponse&quot;</span><span class="p">,</span>
    <span class="n">run</span><span class="p">:</span> <span class="s2">&quot;PipelineRunResponse&quot;</span><span class="p">,</span>
    <span class="n">runner</span><span class="p">:</span> <span class="s2">&quot;DynamicPipelineRunner&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the dynamic pipeline run context.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline: The dynamic pipeline that is being executed.</span>
<span class="sd">        snapshot: The snapshot of the pipeline.</span>
<span class="sd">        run: The pipeline run.</span>
<span class="sd">        runner: The dynamic pipeline runner.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span> <span class="o">=</span> <span class="n">pipeline</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span> <span class="o">=</span> <span class="n">snapshot</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_run</span> <span class="o">=</span> <span class="n">run</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_runner</span> <span class="o">=</span> <span class="n">runner</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">





<h11 id="zenml.execution.pipeline.dynamic.run_context.DynamicPipelineRunContext-attributes">Attributes</h11>

<div class="doc doc-object doc-attribute">



<h12 id="zenml.execution.pipeline.dynamic.run_context.DynamicPipelineRunContext.pipeline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline</span><span class="p">:</span> <span class="n">DynamicPipeline</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h12>


    <div class="doc doc-contents ">

        <p>The pipeline that is being executed.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="zenml.pipelines.dynamic.pipeline_definition.DynamicPipeline">DynamicPipeline</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pipeline that is being executed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h12 id="zenml.execution.pipeline.dynamic.run_context.DynamicPipelineRunContext.run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run</span><span class="p">:</span> <span class="n">PipelineRunResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h12>


    <div class="doc doc-contents ">

        <p>The pipeline run.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineRunResponse (zenml.models.PipelineRunResponse)" href="core-models.html#zenml.models.PipelineRunResponse">PipelineRunResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pipeline run.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h12 id="zenml.execution.pipeline.dynamic.run_context.DynamicPipelineRunContext.runner" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">runner</span><span class="p">:</span> <span class="n">DynamicPipelineRunner</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h12>


    <div class="doc doc-contents ">

        <p>The runner executing the pipeline.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="DynamicPipelineRunner(snapshot: PipelineSnapshotResponse, run: Optional[PipelineRunResponse], orchestrator: Optional[BaseOrchestrator] = None) (zenml.execution.pipeline.dynamic.runner.DynamicPipelineRunner)" href="#zenml.execution.pipeline.dynamic.runner.DynamicPipelineRunner">DynamicPipelineRunner</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The runner executing the pipeline.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h12 id="zenml.execution.pipeline.dynamic.run_context.DynamicPipelineRunContext.snapshot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">snapshot</span><span class="p">:</span> <span class="n">PipelineSnapshotResponse</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h12>


    <div class="doc doc-contents ">

        <p>The snapshot of the pipeline.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineSnapshotResponse (zenml.models.PipelineSnapshotResponse)" href="core-models.html#zenml.models.PipelineSnapshotResponse">PipelineSnapshotResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The snapshot of the pipeline.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>


<h11 id="zenml.execution.pipeline.dynamic.run_context.DynamicPipelineRunContext-functions">Functions</h11>



  </div>

    </div>

</div>

<h9 id="zenml.execution.pipeline.dynamic.run_context-modules">Modules</h9>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h8 id="zenml.execution.pipeline.dynamic.runner" class="doc doc-heading">
            <code>runner</code>


</h8>

    <div class="doc doc-contents ">

        <p>Dynamic pipeline runner.</p>










<div class="doc doc-children">







<h9 id="zenml.execution.pipeline.dynamic.runner-classes">Classes</h9>

<div class="doc doc-object doc-class">



<h10 id="zenml.execution.pipeline.dynamic.runner.DynamicPipelineRunner" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">DynamicPipelineRunner</span><span class="p">(</span><span class="n">snapshot</span><span class="p">:</span> <span class="n">PipelineSnapshotResponse</span><span class="p">,</span> <span class="n">run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PipelineRunResponse</span><span class="p">],</span> <span class="n">orchestrator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseOrchestrator</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

</h10>


    <div class="doc doc-contents ">



        <p>Dynamic pipeline runner.</p>

        <p>Initialize the dynamic pipeline runner.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>snapshot</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineSnapshotResponse (zenml.models.PipelineSnapshotResponse)" href="core-models.html#zenml.models.PipelineSnapshotResponse">PipelineSnapshotResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The snapshot of the pipeline.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>run</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="PipelineRunResponse (zenml.models.PipelineRunResponse)" href="core-models.html#zenml.models.PipelineRunResponse">PipelineRunResponse</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pipeline run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>orchestrator</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="BaseOrchestrator(name: str, id: UUID, config: StackComponentConfig, flavor: str, type: StackComponentType, user: Optional[UUID], created: datetime, updated: datetime, environment: Optional[Dict[str, str]] = None, secrets: Optional[List[UUID]] = None, labels: Optional[Dict[str, Any]] = None, connector_requirements: Optional[ServiceConnectorRequirements] = None, connector: Optional[UUID] = None, connector_resource_id: Optional[str] = None, *args: Any, **kwargs: Any) (zenml.orchestrators.BaseOrchestrator)" href="core-orchestrators.html#zenml.orchestrators.BaseOrchestrator">BaseOrchestrator</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The orchestrator to use. If not provided, the
orchestrator will be inferred from the snapshot stack.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the snapshot has no associated stack.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/runner.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="s2">&quot;PipelineSnapshotResponse&quot;</span><span class="p">,</span>
    <span class="n">run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineRunResponse&quot;</span><span class="p">],</span>
    <span class="n">orchestrator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseOrchestrator&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the dynamic pipeline runner.</span>

<span class="sd">    Args:</span>
<span class="sd">        snapshot: The snapshot of the pipeline.</span>
<span class="sd">        run: The pipeline run.</span>
<span class="sd">        orchestrator: The orchestrator to use. If not provided, the</span>
<span class="sd">            orchestrator will be inferred from the snapshot stack.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the snapshot has no associated stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">snapshot</span><span class="o">.</span><span class="n">stack</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Missing stack for snapshot.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="n">snapshot</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">execution_mode</span>
        <span class="o">!=</span> <span class="n">ExecutionMode</span><span class="o">.</span><span class="n">STOP_ON_FAILURE</span>
    <span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Only the `</span><span class="si">%s</span><span class="s2">` execution mode is supported for &quot;</span>
            <span class="s2">&quot;dynamic pipelines right now. &quot;</span>
            <span class="s2">&quot;The execution mode `</span><span class="si">%s</span><span class="s2">` will be ignored.&quot;</span><span class="p">,</span>
            <span class="n">ExecutionMode</span><span class="o">.</span><span class="n">STOP_ON_FAILURE</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">execution_mode</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span> <span class="o">=</span> <span class="n">snapshot</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_run</span> <span class="o">=</span> <span class="n">run</span>
    <span class="c1"># TODO: make this configurable</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_executor</span> <span class="o">=</span> <span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;DynamicPipeline&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">orchestrator</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span> <span class="o">=</span> <span class="n">orchestrator</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span> <span class="o">=</span> <span class="n">Stack</span><span class="o">.</span><span class="n">from_model</span><span class="p">(</span><span class="n">snapshot</span><span class="o">.</span><span class="n">stack</span><span class="p">)</span><span class="o">.</span><span class="n">orchestrator</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_futures</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">StepRunOutputsFuture</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_invocation_ids</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_existing_step_runs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;StepRunResponse&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">run</span> <span class="ow">and</span> <span class="n">run</span><span class="o">.</span><span class="n">orchestrator_run_id</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">orchestrator_run_id</span>

        <span class="k">if</span> <span class="n">run</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_existing_step_runs</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span><span class="o">.</span><span class="n">get_orchestrator_run_id</span><span class="p">()</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">





<h11 id="zenml.execution.pipeline.dynamic.runner.DynamicPipelineRunner-attributes">Attributes</h11>

<div class="doc doc-object doc-attribute">



<h12 id="zenml.execution.pipeline.dynamic.runner.DynamicPipelineRunner.pipeline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipeline</span><span class="p">:</span> <span class="n">DynamicPipeline</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h12>


    <div class="doc doc-contents ">

        <p>The pipeline that the runner is executing.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the pipeline can't be loaded.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="zenml.pipelines.dynamic.pipeline_definition.DynamicPipeline">DynamicPipeline</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pipeline that the runner is executing.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>


<h11 id="zenml.execution.pipeline.dynamic.runner.DynamicPipelineRunner-functions">Functions</h11>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.runner.DynamicPipelineRunner.await_all_step_run_futures" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">await_all_step_run_futures</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Await all step run output futures.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/runner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">await_all_step_run_futures</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Await all step run output futures.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_futures</span><span class="p">:</span>
        <span class="n">future</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_futures</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.runner.DynamicPipelineRunner.launch_step" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">launch_step</span><span class="p">(</span><span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">args</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">after</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AnyStepRunFuture</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AnyStepRunFuture</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">concurrent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">StepRunOutputs</span><span class="p">,</span> <span class="n">StepRunOutputsFuture</span><span class="p">]</span></code>

</h12>
          <div class="doc-overloads">
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">launch_step</span><span class="p">(</span>
    <span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">args</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">after</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="n">AnyStepRunFuture</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AnyStepRunFuture</span><span class="p">],</span> <span class="kc">None</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">concurrent</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunOutputs</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">launch_step</span><span class="p">(</span>
    <span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">args</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">after</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="n">AnyStepRunFuture</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AnyStepRunFuture</span><span class="p">],</span> <span class="kc">None</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">concurrent</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">True</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunOutputsFuture</span>
</code></pre></div>          </div>


    <div class="doc doc-contents ">

        <p>Launch a step.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>step</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseStep(name: Optional[str] = None, enable_cache: Optional[bool] = None, enable_artifact_metadata: Optional[bool] = None, enable_artifact_visualization: Optional[bool] = None, enable_step_logs: Optional[bool] = None, experiment_tracker: Optional[Union[bool, str]] = None, step_operator: Optional[Union[bool, str]] = None, parameters: Optional[Dict[str, Any]] = None, output_materializers: Optional[OutputMaterializersSpecification] = None, environment: Optional[Dict[str, Any]] = None, secrets: Optional[List[Union[str, UUID]]] = None, settings: Optional[Mapping[str, SettingsOrDict]] = None, extra: Optional[Dict[str, Any]] = None, on_failure: Optional[HookSpecification] = None, on_success: Optional[HookSpecification] = None, model: Optional[Model] = None, retry: Optional[StepRetryConfig] = None, substitutions: Optional[Dict[str, str]] = None, cache_policy: Optional[CachePolicyOrString] = None, runtime: Optional[StepRuntime] = None, heartbeat_healthy_threshold: Optional[int] = None) (zenml.steps.BaseStep)" href="core-steps.html#zenml.steps.BaseStep">BaseStep</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step to launch.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>id</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The invocation ID of the step.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>args</code>
            </td>
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="typing.Any">Any</span>, ...]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The arguments for the step function.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The keyword arguments for the step function.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>after</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="zenml.execution.pipeline.dynamic.outputs.AnyStepRunFuture">AnyStepRunFuture</span>, <span title="typing.Sequence">Sequence</span>[<span title="zenml.execution.pipeline.dynamic.outputs.AnyStepRunFuture">AnyStepRunFuture</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run output futures to wait for.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>concurrent</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to launch the step concurrently.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="zenml.execution.pipeline.dynamic.outputs.StepRunOutputs">StepRunOutputs</span>, <a class="autorefs autorefs-internal" title="StepRunOutputsFuture(wrapped: Future[StepRunOutputs], invocation_id: str, output_keys: List[str]) (zenml.execution.pipeline.dynamic.outputs.StepRunOutputsFuture)" href="#zenml.execution.pipeline.dynamic.outputs.StepRunOutputsFuture">StepRunOutputsFuture</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run outputs or a future for the step run outputs.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/runner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">launch_step</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">,</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">args</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">after</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="s2">&quot;AnyStepRunFuture&quot;</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;AnyStepRunFuture&quot;</span><span class="p">],</span> <span class="kc">None</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">concurrent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">StepRunOutputs</span><span class="p">,</span> <span class="s2">&quot;StepRunOutputsFuture&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Launch a step.</span>

<span class="sd">    Args:</span>
<span class="sd">        step: The step to launch.</span>
<span class="sd">        id: The invocation ID of the step.</span>
<span class="sd">        args: The arguments for the step function.</span>
<span class="sd">        kwargs: The keyword arguments for the step function.</span>
<span class="sd">        after: The step run output futures to wait for.</span>
<span class="sd">        concurrent: Whether to launch the step concurrently.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run outputs or a future for the step run outputs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">step</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">step_config</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run</span><span class="o">.</span><span class="n">triggered_by_deployment</span><span class="p">:</span>
        <span class="c1"># Deployment-specific step overrides</span>
        <span class="n">step_config</span> <span class="o">=</span> <span class="n">StepConfigurationUpdate</span><span class="p">(</span>
            <span class="n">enable_cache</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">step_operator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">parameters</span><span class="o">=</span><span class="p">{},</span>
            <span class="n">runtime</span><span class="o">=</span><span class="n">StepRuntime</span><span class="o">.</span><span class="n">INLINE</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">inputs</span> <span class="o">=</span> <span class="n">convert_to_keyword_arguments</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">entrypoint</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>

    <span class="n">invocation_id</span> <span class="o">=</span> <span class="n">compute_invocation_id</span><span class="p">(</span>
        <span class="n">existing_invocations</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_invocation_ids</span><span class="p">,</span>
        <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
        <span class="n">custom_id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span>
        <span class="n">allow_suffix</span><span class="o">=</span><span class="ow">not</span> <span class="nb">id</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_invocation_ids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">invocation_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">waiting_for_steps</span> <span class="o">:=</span> <span class="n">_get_running_upstream_steps</span><span class="p">(</span><span class="n">inputs</span><span class="p">,</span> <span class="n">after</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Waiting for step(s) `</span><span class="si">%s</span><span class="s2">` to finish before executing step `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">waiting_for_steps</span><span class="p">),</span>
            <span class="n">invocation_id</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">compiled_step</span> <span class="o">=</span> <span class="n">compile_dynamic_step_invocation</span><span class="p">(</span>
        <span class="n">snapshot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="p">,</span>
        <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
        <span class="n">invocation_id</span><span class="o">=</span><span class="n">invocation_id</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
        <span class="n">pipeline_docker_settings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">docker_settings</span><span class="p">,</span>
        <span class="n">after</span><span class="o">=</span><span class="n">after</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">step_config</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">should_retry</span> <span class="o">=</span> <span class="n">_should_retry_locally</span><span class="p">(</span>
        <span class="n">step</span><span class="o">=</span><span class="n">compiled_step</span><span class="p">,</span>
        <span class="n">pipeline_docker_settings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">docker_settings</span><span class="p">,</span>
        <span class="n">orchestrator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_launch_step_and_load_outputs</span><span class="p">(</span>
        <span class="n">remaining_retries</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunOutputs</span><span class="p">:</span>
        <span class="c1"># TODO: maybe pass run here to avoid extra server requests?</span>
        <span class="n">step_run</span> <span class="o">=</span> <span class="n">launch_step</span><span class="p">(</span>
            <span class="n">snapshot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span><span class="p">,</span>
            <span class="n">step</span><span class="o">=</span><span class="n">compiled_step</span><span class="p">,</span>
            <span class="n">orchestrator_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span><span class="p">,</span>
            <span class="n">retry</span><span class="o">=</span><span class="n">should_retry</span><span class="p">,</span>
            <span class="n">remaining_retries</span><span class="o">=</span><span class="n">remaining_retries</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">_load_step_run_outputs</span><span class="p">(</span><span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="n">step_run</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_existing_step_runs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">invocation_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">step_run</span> <span class="ow">and</span> <span class="n">step_run</span><span class="o">.</span><span class="n">config</span> <span class="o">!=</span> <span class="n">compiled_step</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Configuration for step `</span><span class="si">%s</span><span class="s2">` changed since the the &quot;</span>
            <span class="s2">&quot;orchestration environment was restarted. If the step &quot;</span>
            <span class="s2">&quot;needs to be retried, it will use the new configuration.&quot;</span><span class="p">,</span>
            <span class="n">step_run</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_run</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">StepRunOutputs</span><span class="p">:</span>
        <span class="k">nonlocal</span> <span class="n">step_run</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">step_run</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_launch_step_and_load_outputs</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">step_run</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">is_successful</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_load_step_run_outputs</span><span class="p">(</span><span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

        <span class="n">runtime</span> <span class="o">=</span> <span class="n">get_step_runtime</span><span class="p">(</span>
            <span class="n">step_config</span><span class="o">=</span><span class="n">compiled_step</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
            <span class="n">pipeline_docker_settings</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">docker_settings</span><span class="p">,</span>
            <span class="n">orchestrator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">runtime</span> <span class="o">==</span> <span class="n">StepRuntime</span><span class="o">.</span><span class="n">INLINE</span>
            <span class="ow">and</span> <span class="n">step_run</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">RUNNING</span>
        <span class="p">):</span>
            <span class="c1"># Inline steps that are in running state didn&#39;t have the</span>
            <span class="c1"># chance to report their failure back to ZenML before the</span>
            <span class="c1"># orchestration environment was shut down. But there is no</span>
            <span class="c1"># way that they&#39;re actually still running if we&#39;re in a new</span>
            <span class="c1"># orchestration environment, so we mark them as failed and</span>
            <span class="c1"># potentially restart them depending on the retry config.</span>
            <span class="n">step_run</span> <span class="o">=</span> <span class="n">publish_failed_step_run</span><span class="p">(</span><span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

        <span class="n">remaining_retries</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">should_retry</span><span class="p">:</span>
            <span class="n">max_retries</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">compiled_step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">retry</span><span class="o">.</span><span class="n">max_retries</span>
                <span class="k">if</span> <span class="n">compiled_step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">retry</span>
                <span class="k">else</span> <span class="mi">0</span>
            <span class="p">)</span>
            <span class="n">remaining_retries</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">max_retries</span> <span class="o">-</span> <span class="n">step_run</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">step_run</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Restarting the monitoring of existing step `</span><span class="si">%s</span><span class="s2">` &quot;</span>
                <span class="s2">&quot;(ID: </span><span class="si">%s</span><span class="s2">). Remaining retries: </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">step_run</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">remaining_retries</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">step_run</span> <span class="o">=</span> <span class="n">wait_for_step_run_to_finish</span><span class="p">(</span><span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">remaining_retries</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">step_run</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">is_successful</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Failed to run step `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="n">step_run</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">_launch_step_and_load_outputs</span><span class="p">(</span>
                    <span class="n">remaining_retries</span><span class="o">=</span><span class="n">remaining_retries</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_load_step_run_outputs</span><span class="p">(</span><span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">step_run</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">is_successful</span><span class="p">:</span>
                <span class="c1"># This is the last retry, in which case we have to raise</span>
                <span class="c1"># an error that the step failed.</span>
                <span class="c1"># TODO: Make this better by raising the actual exception</span>
                <span class="c1"># that caused the step to fail instead of just a generic</span>
                <span class="c1"># runtime error.</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Failed to run step `</span><span class="si">{</span><span class="n">step_run</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`.&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="n">_load_step_run_outputs</span><span class="p">(</span><span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">concurrent</span><span class="p">:</span>
        <span class="n">ctx</span> <span class="o">=</span> <span class="n">contextvars</span><span class="o">.</span><span class="n">copy_context</span><span class="p">()</span>
        <span class="n">future</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">run</span><span class="p">,</span> <span class="n">_run</span><span class="p">)</span>
        <span class="n">step_run_future</span> <span class="o">=</span> <span class="n">StepRunOutputsFuture</span><span class="p">(</span>
            <span class="n">wrapped</span><span class="o">=</span><span class="n">future</span><span class="p">,</span>
            <span class="n">invocation_id</span><span class="o">=</span><span class="n">invocation_id</span><span class="p">,</span>
            <span class="n">output_keys</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">compiled_step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">outputs</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_futures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">step_run_future</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">step_run_future</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_run</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.runner.DynamicPipelineRunner.map" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">map</span><span class="p">(</span><span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">after</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AnyStepRunFuture</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AnyStepRunFuture</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">product</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MapResultsFuture</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Map over step inputs.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>step</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseStep(name: Optional[str] = None, enable_cache: Optional[bool] = None, enable_artifact_metadata: Optional[bool] = None, enable_artifact_visualization: Optional[bool] = None, enable_step_logs: Optional[bool] = None, experiment_tracker: Optional[Union[bool, str]] = None, step_operator: Optional[Union[bool, str]] = None, parameters: Optional[Dict[str, Any]] = None, output_materializers: Optional[OutputMaterializersSpecification] = None, environment: Optional[Dict[str, Any]] = None, secrets: Optional[List[Union[str, UUID]]] = None, settings: Optional[Mapping[str, SettingsOrDict]] = None, extra: Optional[Dict[str, Any]] = None, on_failure: Optional[HookSpecification] = None, on_success: Optional[HookSpecification] = None, model: Optional[Model] = None, retry: Optional[StepRetryConfig] = None, substitutions: Optional[Dict[str, str]] = None, cache_policy: Optional[CachePolicyOrString] = None, runtime: Optional[StepRuntime] = None, heartbeat_healthy_threshold: Optional[int] = None) (zenml.steps.BaseStep)" href="core-steps.html#zenml.steps.BaseStep">BaseStep</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step to run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>args</code>
            </td>
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="typing.Any">Any</span>, ...]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The arguments for the step function.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The keyword arguments for the step function.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>after</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="zenml.execution.pipeline.dynamic.outputs.AnyStepRunFuture">AnyStepRunFuture</span>, <span title="typing.Sequence">Sequence</span>[<span title="zenml.execution.pipeline.dynamic.outputs.AnyStepRunFuture">AnyStepRunFuture</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run output futures to wait for before executing the
steps.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>product</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to produce a cartesian product of the mapped
inputs.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="MapResultsFuture(futures: List[StepRunOutputsFuture]) (zenml.execution.pipeline.dynamic.outputs.MapResultsFuture)" href="#zenml.execution.pipeline.dynamic.outputs.MapResultsFuture">MapResultsFuture</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A future that represents the map results.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/runner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">map</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">,</span>
    <span class="n">args</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">after</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="s2">&quot;AnyStepRunFuture&quot;</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;AnyStepRunFuture&quot;</span><span class="p">],</span> <span class="kc">None</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">product</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MapResultsFuture&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Map over step inputs.</span>

<span class="sd">    Args:</span>
<span class="sd">        step: The step to run.</span>
<span class="sd">        args: The arguments for the step function.</span>
<span class="sd">        kwargs: The keyword arguments for the step function.</span>
<span class="sd">        after: The step run output futures to wait for before executing the</span>
<span class="sd">            steps.</span>
<span class="sd">        product: Whether to produce a cartesian product of the mapped</span>
<span class="sd">            inputs.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A future that represents the map results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">convert_to_keyword_arguments</span><span class="p">(</span><span class="n">step</span><span class="o">.</span><span class="n">entrypoint</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">await_step_inputs</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">step_inputs</span> <span class="o">=</span> <span class="n">expand_mapped_inputs</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">product</span><span class="o">=</span><span class="n">product</span><span class="p">)</span>

    <span class="n">step_run_futures</span> <span class="o">=</span> <span class="p">[</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">launch_step</span><span class="p">(</span>
            <span class="n">step</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="p">(),</span>
            <span class="n">kwargs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
            <span class="n">after</span><span class="o">=</span><span class="n">after</span><span class="p">,</span>
            <span class="n">concurrent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">inputs</span> <span class="ow">in</span> <span class="n">step_inputs</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">MapResultsFuture</span><span class="p">(</span><span class="n">futures</span><span class="o">=</span><span class="n">step_run_futures</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h12 id="zenml.execution.pipeline.dynamic.runner.DynamicPipelineRunner.run_pipeline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_pipeline</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h12>


    <div class="doc doc-contents ">

        <p>Run the pipeline.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/runner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run the pipeline.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">is_finished</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Run `</span><span class="si">%s</span><span class="s2">` is already finished.&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_run</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run</span><span class="o">.</span><span class="n">orchestrator_run_id</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Continuing existing run `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_run</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
            <span class="n">run</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">run</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">update_run</span><span class="p">(</span>
                <span class="n">run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_run</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">run_update</span><span class="o">=</span><span class="n">PipelineRunUpdate</span><span class="p">(</span>
                    <span class="n">orchestrator_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">existing_runs</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">list_pipeline_runs</span><span class="p">(</span>
            <span class="n">snapshot_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">orchestrator_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">existing_runs</span><span class="o">.</span><span class="n">total</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">run</span> <span class="o">=</span> <span class="n">existing_runs</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">run</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">is_finished</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Run `</span><span class="si">%s</span><span class="s2">` is already finished.&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
                <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Continuing existing run `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">run</span> <span class="o">=</span> <span class="n">create_placeholder_run</span><span class="p">(</span>
                <span class="n">snapshot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span><span class="p">,</span>
                <span class="n">orchestrator_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator_run_id</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="n">logging_context</span> <span class="o">=</span> <span class="n">nullcontext</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">run</span><span class="o">.</span><span class="n">triggered_by_deployment</span> <span class="ow">and</span> <span class="n">is_pipeline_logging_enabled</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span><span class="o">.</span><span class="n">pipeline_configuration</span>
    <span class="p">):</span>
        <span class="n">logging_context</span> <span class="o">=</span> <span class="n">setup_run_logging</span><span class="p">(</span>
            <span class="n">pipeline_run</span><span class="o">=</span><span class="n">run</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&quot;orchestrator&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">with</span> <span class="n">logging_context</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">InMemoryArtifactCache</span><span class="p">():</span>
            <span class="k">with</span> <span class="n">DynamicPipelineRunContext</span><span class="p">(</span>
                <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="p">,</span>
                <span class="n">run</span><span class="o">=</span><span class="n">run</span><span class="p">,</span>
                <span class="n">snapshot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span><span class="p">,</span>
                <span class="n">runner</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">run</span><span class="o">.</span><span class="n">triggered_by_deployment</span><span class="p">:</span>
                    <span class="c1"># Only run the init hook if the run is not triggered by</span>
                    <span class="c1"># a deployment, as the deployment service will have</span>
                    <span class="c1"># already run the init hook.</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span><span class="o">.</span><span class="n">run_init_hook</span><span class="p">(</span>
                        <span class="n">snapshot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span>
                    <span class="p">)</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># TODO: what should be allowed as pipeline returns?</span>
                    <span class="c1">#  (artifacts, json serializable, anything?)</span>
                    <span class="c1">#  how do we show it in the UI?</span>
                    <span class="n">params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">parameters</span> <span class="ow">or</span> <span class="p">{}</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">_call_entrypoint</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
                    <span class="c1"># The pipeline function finished successfully, but some</span>
                    <span class="c1"># steps might still be running. We now wait for all of</span>
                    <span class="c1"># them and raise any exceptions that occurred.</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">await_all_step_run_futures</span><span class="p">()</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="c1"># TODO: this call already invalidates the token, so</span>
                    <span class="c1"># the steps will keep running but won&#39;t be able to</span>
                    <span class="c1"># report their status back to ZenML.</span>
                    <span class="n">publish_failed_pipeline_run</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="s2">&quot;Pipeline run failed. All in-progress step runs &quot;</span>
                        <span class="s2">&quot;will still finish executing.&quot;</span>
                    <span class="p">)</span>
                    <span class="k">raise</span>
                <span class="k">finally</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">run</span><span class="o">.</span><span class="n">triggered_by_deployment</span><span class="p">:</span>
                        <span class="c1"># Only run the cleanup hook if the run is not triggered by</span>
                        <span class="c1"># a deployment, as the deployment service will have</span>
                        <span class="c1"># already run the cleanup hook.</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_orchestrator</span><span class="o">.</span><span class="n">run_cleanup_hook</span><span class="p">(</span>
                            <span class="n">snapshot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_snapshot</span>
                        <span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_executor</span><span class="o">.</span><span class="n">shutdown</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cancel_futures</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

                <span class="n">publish_successful_pipeline_run</span><span class="p">(</span><span class="n">run</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Pipeline completed successfully.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h9 id="zenml.execution.pipeline.dynamic.runner-functions">Functions</h9>

<div class="doc doc-object doc-function">


<h10 id="zenml.execution.pipeline.dynamic.runner.await_step_inputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">await_step_inputs</span><span class="p">(</span><span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

</h10>


    <div class="doc doc-contents ">

        <p>Await the inputs of a step.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>inputs</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The inputs of the step.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If a step run future with multiple output artifacts is
passed as an input.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The awaited inputs.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/runner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span>
<span class="normal">993</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">await_step_inputs</span><span class="p">(</span><span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Await the inputs of a step.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputs: The inputs of the step.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If a step run future with multiple output artifacts is</span>
<span class="sd">            passed as an input.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The awaited inputs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">MapResultsFuture</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">futures</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">value</span>
            <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">StepRunOutputsFuture</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">_output_keys</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid step input `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">`: Passing a future that refers &quot;</span>
                    <span class="s2">&quot;to multiple output artifacts as an input to another step &quot;</span>
                    <span class="s2">&quot;is not allowed.&quot;</span>
                <span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">artifacts</span><span class="p">()</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">StepRunOutputsFuture</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">_output_keys</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid step input `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">`: Passing a future that refers &quot;</span>
                    <span class="s2">&quot;to multiple output artifacts as an input to another step &quot;</span>
                    <span class="s2">&quot;is not allowed.&quot;</span>
                <span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">artifacts</span><span class="p">()</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">value</span>
            <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">ArtifactFuture</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">ArtifactFuture</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>

        <span class="n">result</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h10 id="zenml.execution.pipeline.dynamic.runner.compile_dynamic_step_invocation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compile_dynamic_step_invocation</span><span class="p">(</span><span class="n">snapshot</span><span class="p">:</span> <span class="n">PipelineSnapshotResponse</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">:</span> <span class="n">DynamicPipeline</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="n">invocation_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">pipeline_docker_settings</span><span class="p">:</span> <span class="n">DockerSettings</span><span class="p">,</span> <span class="n">after</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">AnyStepRunFuture</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AnyStepRunFuture</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StepConfigurationUpdate</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Step</span></code>

</h10>


    <div class="doc doc-contents ">

        <p>Compile a dynamic step invocation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>snapshot</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineSnapshotResponse (zenml.models.PipelineSnapshotResponse)" href="core-models.html#zenml.models.PipelineSnapshotResponse">PipelineSnapshotResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The snapshot.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pipeline</code>
            </td>
            <td>
                  <code><span title="zenml.pipelines.dynamic.pipeline_definition.DynamicPipeline">DynamicPipeline</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dynamic pipeline.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>step</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseStep(name: Optional[str] = None, enable_cache: Optional[bool] = None, enable_artifact_metadata: Optional[bool] = None, enable_artifact_visualization: Optional[bool] = None, enable_step_logs: Optional[bool] = None, experiment_tracker: Optional[Union[bool, str]] = None, step_operator: Optional[Union[bool, str]] = None, parameters: Optional[Dict[str, Any]] = None, output_materializers: Optional[OutputMaterializersSpecification] = None, environment: Optional[Dict[str, Any]] = None, secrets: Optional[List[Union[str, UUID]]] = None, settings: Optional[Mapping[str, SettingsOrDict]] = None, extra: Optional[Dict[str, Any]] = None, on_failure: Optional[HookSpecification] = None, on_success: Optional[HookSpecification] = None, model: Optional[Model] = None, retry: Optional[StepRetryConfig] = None, substitutions: Optional[Dict[str, str]] = None, cache_policy: Optional[CachePolicyOrString] = None, runtime: Optional[StepRuntime] = None, heartbeat_healthy_threshold: Optional[int] = None) (zenml.steps.BaseStep)" href="core-steps.html#zenml.steps.BaseStep">BaseStep</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step to compile.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>invocation_id</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The invocation ID of the step.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inputs</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The inputs for the step function.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pipeline_docker_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DockerSettings(warn_about_plain_text_secrets: bool = False, **kwargs: Any) (zenml.config.DockerSettings)" href="core-config.html#zenml.config.DockerSettings">DockerSettings</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Docker settings of the parent pipeline.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>after</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="zenml.execution.pipeline.dynamic.outputs.AnyStepRunFuture">AnyStepRunFuture</span>, <span title="typing.Sequence">Sequence</span>[<span title="zenml.execution.pipeline.dynamic.outputs.AnyStepRunFuture">AnyStepRunFuture</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run output futures to wait for.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="StepConfigurationUpdate (zenml.config.step_configurations.StepConfigurationUpdate)" href="core-config.html#zenml.config.step_configurations.StepConfigurationUpdate">StepConfigurationUpdate</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configuration for the step.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Step (zenml.config.step_configurations.Step)" href="core-config.html#zenml.config.step_configurations.Step">Step</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The compiled step.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/runner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">compile_dynamic_step_invocation</span><span class="p">(</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="s2">&quot;PipelineSnapshotResponse&quot;</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;DynamicPipeline&quot;</span><span class="p">,</span>
    <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">,</span>
    <span class="n">invocation_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">pipeline_docker_settings</span><span class="p">:</span> <span class="s2">&quot;DockerSettings&quot;</span><span class="p">,</span>
    <span class="n">after</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="s2">&quot;AnyStepRunFuture&quot;</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;AnyStepRunFuture&quot;</span><span class="p">],</span> <span class="kc">None</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StepConfigurationUpdate</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Step&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compile a dynamic step invocation.</span>

<span class="sd">    Args:</span>
<span class="sd">        snapshot: The snapshot.</span>
<span class="sd">        pipeline: The dynamic pipeline.</span>
<span class="sd">        step: The step to compile.</span>
<span class="sd">        invocation_id: The invocation ID of the step.</span>
<span class="sd">        inputs: The inputs for the step function.</span>
<span class="sd">        pipeline_docker_settings: The Docker settings of the parent pipeline.</span>
<span class="sd">        after: The step run output futures to wait for.</span>
<span class="sd">        config: The configuration for the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The compiled step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">upstream_steps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">after</span><span class="p">,</span> <span class="n">BaseStepRunFuture</span><span class="p">):</span>
        <span class="n">after</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
        <span class="n">upstream_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">after</span><span class="o">.</span><span class="n">invocation_id</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">after</span><span class="p">,</span> <span class="n">MapResultsFuture</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">after</span><span class="p">:</span>
            <span class="n">future</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
            <span class="n">upstream_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">future</span><span class="o">.</span><span class="n">invocation_id</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">after</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">after</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">BaseStepRunFuture</span><span class="p">):</span>
                <span class="n">item</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
                <span class="n">upstream_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">invocation_id</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">MapResultsFuture</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">item</span><span class="p">:</span>
                    <span class="n">future</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
                    <span class="n">upstream_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">future</span><span class="o">.</span><span class="n">invocation_id</span><span class="p">)</span>

    <span class="n">inputs</span> <span class="o">=</span> <span class="n">await_step_inputs</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">OutputArtifact</span><span class="p">):</span>
            <span class="n">upstream_steps</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">step_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">value</span>
            <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">OutputArtifact</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">upstream_steps</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">step_name</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">)</span>

    <span class="n">default_parameters</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">key</span><span class="p">:</span> <span class="n">value</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">convert_to_keyword_arguments</span><span class="p">(</span>
            <span class="n">step</span><span class="o">.</span><span class="n">entrypoint</span><span class="p">,</span> <span class="p">(),</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">apply_defaults</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">inputs</span>
    <span class="p">}</span>

    <span class="n">input_artifacts</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">external_artifacts</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">OutputArtifact</span><span class="p">):</span>
            <span class="n">input_artifacts</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">StepArtifact</span><span class="p">(</span>
                    <span class="n">invocation_id</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">step_name</span><span class="p">,</span>
                    <span class="n">output_name</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">output_name</span><span class="p">,</span>
                    <span class="n">annotation</span><span class="o">=</span><span class="n">OutputSignature</span><span class="p">(</span><span class="n">resolved_annotation</span><span class="o">=</span><span class="n">Any</span><span class="p">),</span>
                    <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span>
                    <span class="n">chunk_index</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">chunk_index</span><span class="p">,</span>
                    <span class="n">chunk_size</span><span class="o">=</span><span class="n">value</span><span class="o">.</span><span class="n">chunk_size</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">]</span>
        <span class="k">elif</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">value</span>
            <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">OutputArtifact</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">input_artifacts</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">StepArtifact</span><span class="p">(</span>
                    <span class="n">invocation_id</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">step_name</span><span class="p">,</span>
                    <span class="n">output_name</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">output_name</span><span class="p">,</span>
                    <span class="n">annotation</span><span class="o">=</span><span class="n">OutputSignature</span><span class="p">(</span><span class="n">resolved_annotation</span><span class="o">=</span><span class="n">Any</span><span class="p">),</span>
                    <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span>
                    <span class="n">chunk_index</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">chunk_index</span><span class="p">,</span>
                    <span class="n">chunk_size</span><span class="o">=</span><span class="n">item</span><span class="o">.</span><span class="n">chunk_size</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span>
            <span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="n">ArtifactVersionResponse</span><span class="p">,</span> <span class="n">ExternalArtifact</span><span class="p">)):</span>
            <span class="n">external_artifacts</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># TODO: should some of these be parameters?</span>
            <span class="n">external_artifacts</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ExternalArtifact</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">template</span> <span class="o">:=</span> <span class="n">get_config_template</span><span class="p">(</span><span class="n">snapshot</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">):</span>
        <span class="n">step</span><span class="o">.</span><span class="n">_configuration</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_copy</span><span class="p">(</span>
            <span class="n">update</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="n">template</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">invocation_id</span><span class="p">}</span>
        <span class="p">)</span>

    <span class="n">step_invocation</span> <span class="o">=</span> <span class="n">StepInvocation</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">invocation_id</span><span class="p">,</span>
        <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
        <span class="n">input_artifacts</span><span class="o">=</span><span class="n">input_artifacts</span><span class="p">,</span>
        <span class="n">external_artifacts</span><span class="o">=</span><span class="n">external_artifacts</span><span class="p">,</span>
        <span class="n">default_parameters</span><span class="o">=</span><span class="n">default_parameters</span><span class="p">,</span>
        <span class="n">upstream_steps</span><span class="o">=</span><span class="n">upstream_steps</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span>
        <span class="n">model_artifacts_or_metadata</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">client_lazy_loaders</span><span class="o">=</span><span class="p">{},</span>
        <span class="n">parameters</span><span class="o">=</span><span class="p">{},</span>
    <span class="p">)</span>

    <span class="n">compiled_step</span> <span class="o">=</span> <span class="n">Compiler</span><span class="p">()</span><span class="o">.</span><span class="n">_compile_step_invocation</span><span class="p">(</span>
        <span class="n">invocation</span><span class="o">=</span><span class="n">step_invocation</span><span class="p">,</span>
        <span class="n">stack</span><span class="o">=</span><span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="p">,</span>
        <span class="n">step_config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">compiled_step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">docker_settings</span><span class="o">.</span><span class="n">skip_build</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">template</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">template</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">docker_settings</span>
                <span class="o">!=</span> <span class="n">compiled_step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">docker_settings</span>
            <span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;Custom Docker settings specified for step </span><span class="si">%s</span><span class="s2"> will be &quot;</span>
                    <span class="s2">&quot;ignored. The image built for template </span><span class="si">%s</span><span class="s2"> will be used &quot;</span>
                    <span class="s2">&quot;instead.&quot;</span><span class="p">,</span>
                    <span class="n">invocation_id</span><span class="p">,</span>
                    <span class="n">template</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">invocation_id</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="n">compiled_step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">docker_settings</span> <span class="o">!=</span> <span class="n">pipeline_docker_settings</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Custom Docker settings specified for step </span><span class="si">%s</span><span class="s2"> will be &quot;</span>
                <span class="s2">&quot;ignored. The image built for the pipeline will be used &quot;</span>
                <span class="s2">&quot;instead.&quot;</span><span class="p">,</span>
                <span class="n">invocation_id</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">compiled_step</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h10 id="zenml.execution.pipeline.dynamic.runner.convert_to_keyword_arguments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convert_to_keyword_arguments</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">args</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">apply_defaults</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

</h10>


    <div class="doc doc-contents ">

        <p>Convert function arguments to keyword arguments.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>func</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[..., <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The function to convert the arguments to keyword arguments for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>args</code>
            </td>
            <td>
                  <code><span title="typing.Tuple">Tuple</span>[<span title="typing.Any">Any</span>, ...]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The arguments to convert to keyword arguments.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>kwargs</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The keyword arguments to convert to keyword arguments.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>apply_defaults</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to apply the function default values.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The keyword arguments.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/runner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">convert_to_keyword_arguments</span><span class="p">(</span>
    <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">args</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
    <span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">apply_defaults</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert function arguments to keyword arguments.</span>

<span class="sd">    Args:</span>
<span class="sd">        func: The function to convert the arguments to keyword arguments for.</span>
<span class="sd">        args: The arguments to convert to keyword arguments.</span>
<span class="sd">        kwargs: The keyword arguments to convert to keyword arguments.</span>
<span class="sd">        apply_defaults: Whether to apply the function default values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">follow_wrapped</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">bound_args</span> <span class="o">=</span> <span class="n">signature</span><span class="o">.</span><span class="n">bind_partial</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">apply_defaults</span><span class="p">:</span>
        <span class="n">bound_args</span><span class="o">.</span><span class="n">apply_defaults</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">bound_args</span><span class="o">.</span><span class="n">arguments</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h10 id="zenml.execution.pipeline.dynamic.runner.expand_mapped_inputs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">expand_mapped_inputs</span><span class="p">(</span><span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">product</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span></code>

</h10>


    <div class="doc doc-contents ">

        <p>Find the mapped and unmapped inputs of a step.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>inputs</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step function inputs.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>product</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to produce a cartesian product of the mapped inputs.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no mapped inputs are found or the input combinations
are not valid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step inputs.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/runner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">expand_mapped_inputs</span><span class="p">(</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">product</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find the mapped and unmapped inputs of a step.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputs: The step function inputs.</span>
<span class="sd">        product: Whether to produce a cartesian product of the mapped inputs.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If no mapped inputs are found or the input combinations</span>
<span class="sd">            are not valid.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step inputs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">static_inputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">mapped_input_names</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">mapped_inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">OutputArtifact</span><span class="p">,</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">_Unmapped</span><span class="p">):</span>
            <span class="n">static_inputs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">OutputArtifact</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">item_count</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">static_inputs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">elif</span> <span class="n">value</span><span class="o">.</span><span class="n">item_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Artifact `</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">` has 0 items and cannot be mapped &quot;</span>
                    <span class="s2">&quot;over. Wrap it with the `unmapped(...)` function to pass &quot;</span>
                    <span class="s2">&quot;the artifact without mapping over it.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">mapped_input_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                <span class="n">mapped_inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="nb">tuple</span><span class="p">(</span>
                        <span class="n">value</span><span class="o">.</span><span class="n">chunk</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">item_count</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">ArtifactVersionResponse</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">item_count</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">):</span>
            <span class="n">static_inputs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Received sequence-like artifact for step input `</span><span class="si">%s</span><span class="s2">`. Mapping &quot;</span>
                <span class="s2">&quot;over artifacts that are not step output artifacts is &quot;</span>
                <span class="s2">&quot;currently not supported, and the complete artifact will be &quot;</span>
                <span class="s2">&quot;passed to all steps. If you want to silence this warning, &quot;</span>
                <span class="s2">&quot;wrap your input with the `unmapped(...)` function.&quot;</span><span class="p">,</span>
                <span class="n">key</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">)</span>
            <span class="ow">and</span> <span class="n">value</span>
            <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">OutputArtifact</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">value</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="c1"># List of step output artifacts, in this case the mapping is over</span>
            <span class="c1"># the items of the list</span>
            <span class="n">mapped_input_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="n">mapped_inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Received sequence-like data for step input `</span><span class="si">%s</span><span class="s2">`. Mapping over &quot;</span>
                <span class="s2">&quot;data that is not a step output artifact is currently not &quot;</span>
                <span class="s2">&quot;supported, and the complete data will be passed to all steps. &quot;</span>
                <span class="s2">&quot;If you want to silence this warning, wrap your input with the &quot;</span>
                <span class="s2">&quot;`unmapped(...)` function.&quot;</span><span class="p">,</span>
                <span class="n">key</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">static_inputs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">static_inputs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">mapped_inputs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;No inputs to map over found. When calling `.map(...)` or &quot;</span>
            <span class="s2">&quot;`.product(...)` on a step, you need to pass at least one &quot;</span>
            <span class="s2">&quot;sequence-like step output of a previous step as input.&quot;</span>
        <span class="p">)</span>

    <span class="n">step_inputs</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="n">product</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">input_combination</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="o">*</span><span class="n">mapped_inputs</span><span class="p">):</span>
            <span class="n">all_inputs</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">static_inputs</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">mapped_input_names</span><span class="p">,</span> <span class="n">input_combination</span><span class="p">):</span>
                <span class="n">all_inputs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="n">step_inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">all_inputs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">item_counts</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span> <span class="k">for</span> <span class="n">inputs</span> <span class="ow">in</span> <span class="n">mapped_inputs</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">count</span> <span class="o">==</span> <span class="n">item_counts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">item_counts</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;All mapped input artifacts must have the same &quot;</span>
                <span class="s2">&quot;item counts, but you passed artifacts with item counts &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">item_counts</span><span class="si">}</span><span class="s2">. If you want &quot;</span>
                <span class="s2">&quot;to pass sequence-like artifacts without mapping over &quot;</span>
                <span class="s2">&quot;them, wrap them with the `unmapped(...)` function.&quot;</span>
            <span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">item_counts</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">all_inputs</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">static_inputs</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
                <span class="n">mapped_input_names</span><span class="p">,</span>
                <span class="p">[</span><span class="n">artifact_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">artifact_list</span> <span class="ow">in</span> <span class="n">mapped_inputs</span><span class="p">],</span>
            <span class="p">):</span>
                <span class="n">all_inputs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">artifact</span>
            <span class="n">step_inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">all_inputs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">step_inputs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h10 id="zenml.execution.pipeline.dynamic.runner.get_config_template" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_config_template</span><span class="p">(</span><span class="n">snapshot</span><span class="p">:</span> <span class="n">PipelineSnapshotResponse</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">:</span> <span class="n">DynamicPipeline</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Step</span><span class="p">]</span></code>

</h10>


    <div class="doc doc-contents ">

        <p>Get the config template for a step executed in a dynamic pipeline.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>snapshot</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineSnapshotResponse (zenml.models.PipelineSnapshotResponse)" href="core-models.html#zenml.models.PipelineSnapshotResponse">PipelineSnapshotResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The snapshot of the pipeline.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>step</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseStep(name: Optional[str] = None, enable_cache: Optional[bool] = None, enable_artifact_metadata: Optional[bool] = None, enable_artifact_visualization: Optional[bool] = None, enable_step_logs: Optional[bool] = None, experiment_tracker: Optional[Union[bool, str]] = None, step_operator: Optional[Union[bool, str]] = None, parameters: Optional[Dict[str, Any]] = None, output_materializers: Optional[OutputMaterializersSpecification] = None, environment: Optional[Dict[str, Any]] = None, secrets: Optional[List[Union[str, UUID]]] = None, settings: Optional[Mapping[str, SettingsOrDict]] = None, extra: Optional[Dict[str, Any]] = None, on_failure: Optional[HookSpecification] = None, on_success: Optional[HookSpecification] = None, model: Optional[Model] = None, retry: Optional[StepRetryConfig] = None, substitutions: Optional[Dict[str, str]] = None, cache_policy: Optional[CachePolicyOrString] = None, runtime: Optional[StepRuntime] = None, heartbeat_healthy_threshold: Optional[int] = None) (zenml.steps.BaseStep)" href="core-steps.html#zenml.steps.BaseStep">BaseStep</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step to get the config template for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pipeline</code>
            </td>
            <td>
                  <code><span title="zenml.pipelines.dynamic.pipeline_definition.DynamicPipeline">DynamicPipeline</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dynamic pipeline that the step is being executed in.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="Step (zenml.config.step_configurations.Step)" href="core-config.html#zenml.config.step_configurations.Step">Step</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The config template for the step.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/runner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_config_template</span><span class="p">(</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="s2">&quot;PipelineSnapshotResponse&quot;</span><span class="p">,</span>
    <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;DynamicPipeline&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Step&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the config template for a step executed in a dynamic pipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        snapshot: The snapshot of the pipeline.</span>
<span class="sd">        step: The step to get the config template for.</span>
<span class="sd">        pipeline: The dynamic pipeline that the step is being executed in.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The config template for the step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">step_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">depends_on</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">step_</span><span class="o">.</span><span class="n">_static_id</span> <span class="o">==</span> <span class="n">step</span><span class="o">.</span><span class="n">_static_id</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">snapshot</span><span class="o">.</span><span class="n">step_configurations</span><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="n">index</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h10 id="zenml.execution.pipeline.dynamic.runner.get_step_runtime" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_step_runtime</span><span class="p">(</span><span class="n">step_config</span><span class="p">:</span> <span class="n">StepConfiguration</span><span class="p">,</span> <span class="n">pipeline_docker_settings</span><span class="p">:</span> <span class="n">DockerSettings</span><span class="p">,</span> <span class="n">orchestrator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseOrchestrator</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRuntime</span></code>

</h10>


    <div class="doc doc-contents ">

        <p>Determine if a step should be run in process.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>step_config</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="StepConfiguration (zenml.config.step_configurations.StepConfiguration)" href="core-config.html#zenml.config.step_configurations.StepConfiguration">StepConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pipeline_docker_settings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DockerSettings(warn_about_plain_text_secrets: bool = False, **kwargs: Any) (zenml.config.DockerSettings)" href="core-config.html#zenml.config.DockerSettings">DockerSettings</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Docker settings of the parent pipeline.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>orchestrator</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="BaseOrchestrator(name: str, id: UUID, config: StackComponentConfig, flavor: str, type: StackComponentType, user: Optional[UUID], created: datetime, updated: datetime, environment: Optional[Dict[str, str]] = None, secrets: Optional[List[UUID]] = None, labels: Optional[Dict[str, Any]] = None, connector_requirements: Optional[ServiceConnectorRequirements] = None, connector: Optional[UUID] = None, connector_resource_id: Optional[str] = None, *args: Any, **kwargs: Any) (zenml.orchestrators.BaseOrchestrator)" href="core-orchestrators.html#zenml.orchestrators.BaseOrchestrator">BaseOrchestrator</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The orchestrator to use. If not provided, the
orchestrator will be inferred from the active stack.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="StepRuntime (zenml.enums.StepRuntime)" href="core-enums.html#zenml.enums.StepRuntime">StepRuntime</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The runtime for the step.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/runner.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_step_runtime</span><span class="p">(</span>
    <span class="n">step_config</span><span class="p">:</span> <span class="s2">&quot;StepConfiguration&quot;</span><span class="p">,</span>
    <span class="n">pipeline_docker_settings</span><span class="p">:</span> <span class="s2">&quot;DockerSettings&quot;</span><span class="p">,</span>
    <span class="n">orchestrator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseOrchestrator&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRuntime</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Determine if a step should be run in process.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_config: The step configuration.</span>
<span class="sd">        pipeline_docker_settings: The Docker settings of the parent pipeline.</span>
<span class="sd">        orchestrator: The orchestrator to use. If not provided, the</span>
<span class="sd">            orchestrator will be inferred from the active stack.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The runtime for the step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">step_config</span><span class="o">.</span><span class="n">step_operator</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">StepRuntime</span><span class="o">.</span><span class="n">ISOLATED</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">orchestrator</span><span class="p">:</span>
        <span class="n">orchestrator</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">active_stack</span><span class="o">.</span><span class="n">orchestrator</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">orchestrator</span><span class="o">.</span><span class="n">can_run_isolated_steps</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">StepRuntime</span><span class="o">.</span><span class="n">INLINE</span>

    <span class="n">runtime</span> <span class="o">=</span> <span class="n">step_config</span><span class="o">.</span><span class="n">runtime</span>

    <span class="k">if</span> <span class="n">runtime</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">step_config</span><span class="o">.</span><span class="n">resource_settings</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">runtime</span> <span class="o">=</span> <span class="n">StepRuntime</span><span class="o">.</span><span class="n">ISOLATED</span>
        <span class="k">elif</span> <span class="n">step_config</span><span class="o">.</span><span class="n">docker_settings</span> <span class="o">!=</span> <span class="n">pipeline_docker_settings</span><span class="p">:</span>
            <span class="n">runtime</span> <span class="o">=</span> <span class="n">StepRuntime</span><span class="o">.</span><span class="n">ISOLATED</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">runtime</span> <span class="o">=</span> <span class="n">StepRuntime</span><span class="o">.</span><span class="n">INLINE</span>

    <span class="k">return</span> <span class="n">runtime</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>
<h9 id="zenml.execution.pipeline.dynamic.runner-modules">Modules</h9>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h8 id="zenml.execution.pipeline.dynamic.utils" class="doc doc-heading">
            <code>utils</code>


</h8>

    <div class="doc doc-contents ">

        <p>Dynamic pipeline execution utilities.</p>










<div class="doc doc-children">







<h9 id="zenml.execution.pipeline.dynamic.utils-classes">Classes</h9>
<h9 id="zenml.execution.pipeline.dynamic.utils-functions">Functions</h9>

<div class="doc doc-object doc-function">


<h10 id="zenml.execution.pipeline.dynamic.utils.unmapped" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">unmapped</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_Unmapped</span><span class="p">[</span><span class="n">T</span><span class="p">]</span></code>

</h10>


    <div class="doc doc-contents ">

        <p>Helper function to pass an input without mapping over it.</p>
<p>Wrap any step input with this function and then pass it to <code>step.map(...)</code>
to pass the full value to all steps.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="zenml.execution.pipeline.dynamic.utils.T">T</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value to wrap.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="zenml.execution.pipeline.dynamic.utils._Unmapped">_Unmapped</span>[<span title="zenml.execution.pipeline.dynamic.utils.T">T</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The wrapped value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">unmapped</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_Unmapped</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Helper function to pass an input without mapping over it.</span>

<span class="sd">    Wrap any step input with this function and then pass it to `step.map(...)`</span>
<span class="sd">    to pass the full value to all steps.</span>

<span class="sd">    Args:</span>
<span class="sd">        value: The value to wrap.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The wrapped value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_Unmapped</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h10 id="zenml.execution.pipeline.dynamic.utils.wait_for_step_run_to_finish" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">wait_for_step_run_to_finish</span><span class="p">(</span><span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponse</span></code>

</h10>


    <div class="doc doc-contents ">

        <p>Wait until a step run is finished.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>step_run_id</code>
            </td>
            <td>
                  <code><span title="uuid.UUID">UUID</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the step run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="StepRunResponse (zenml.models.StepRunResponse)" href="core-models.html#zenml.models.StepRunResponse">StepRunResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The finished step run.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/dynamic/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">wait_for_step_run_to_finish</span><span class="p">(</span><span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StepRunResponse&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wait until a step run is finished.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run_id: The ID of the step run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The finished step run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sleep_interval</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">max_sleep_interval</span> <span class="o">=</span> <span class="mi">64</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">step_run</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_run_step</span><span class="p">(</span><span class="n">step_run_id</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">step_run</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">step_run</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Waiting for step run with ID </span><span class="si">%s</span><span class="s2"> to finish (current status: </span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span>
            <span class="n">step_run_id</span><span class="p">,</span>
            <span class="n">step_run</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">sleep_interval</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sleep_interval</span> <span class="o">&lt;</span> <span class="n">max_sleep_interval</span><span class="p">:</span>
            <span class="n">sleep_interval</span> <span class="o">*=</span> <span class="mi">2</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h6 id="zenml.execution.pipeline.utils" class="doc doc-heading">
            <code>utils</code>


</h6>

    <div class="doc doc-contents ">

        <p>Pipeline execution utilities.</p>










<div class="doc doc-children">







<h7 id="zenml.execution.pipeline.utils-classes">Classes</h7>
<h7 id="zenml.execution.pipeline.utils-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.execution.pipeline.utils.compute_invocation_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_invocation_id</span><span class="p">(</span><span class="n">existing_invocations</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">step</span><span class="p">:</span> <span class="n">BaseStep</span><span class="p">,</span> <span class="n">custom_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">allow_suffix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Compute the invocation ID.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>existing_invocations</code>
            </td>
            <td>
                  <code><span title="typing.Set">Set</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The existing invocation IDs.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>step</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="BaseStep(name: Optional[str] = None, enable_cache: Optional[bool] = None, enable_artifact_metadata: Optional[bool] = None, enable_artifact_visualization: Optional[bool] = None, enable_step_logs: Optional[bool] = None, experiment_tracker: Optional[Union[bool, str]] = None, step_operator: Optional[Union[bool, str]] = None, parameters: Optional[Dict[str, Any]] = None, output_materializers: Optional[OutputMaterializersSpecification] = None, environment: Optional[Dict[str, Any]] = None, secrets: Optional[List[Union[str, UUID]]] = None, settings: Optional[Mapping[str, SettingsOrDict]] = None, extra: Optional[Dict[str, Any]] = None, on_failure: Optional[HookSpecification] = None, on_success: Optional[HookSpecification] = None, model: Optional[Model] = None, retry: Optional[StepRetryConfig] = None, substitutions: Optional[Dict[str, str]] = None, cache_policy: Optional[CachePolicyOrString] = None, runtime: Optional[StepRuntime] = None, heartbeat_healthy_threshold: Optional[int] = None) (zenml.steps.BaseStep)" href="core-steps.html#zenml.steps.BaseStep">BaseStep</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step for which to compute the ID.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>custom_id</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom ID to use for the invocation.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>allow_suffix</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether a suffix can be appended to the invocation
ID.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no ID suffix is allowed and an invocation for the
same ID already exists.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no unique invocation ID can be found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The invocation ID.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">compute_invocation_id</span><span class="p">(</span>
    <span class="n">existing_invocations</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;BaseStep&quot;</span><span class="p">,</span>
    <span class="n">custom_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">allow_suffix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute the invocation ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        existing_invocations: The existing invocation IDs.</span>
<span class="sd">        step: The step for which to compute the ID.</span>
<span class="sd">        custom_id: Custom ID to use for the invocation.</span>
<span class="sd">        allow_suffix: Whether a suffix can be appended to the invocation</span>
<span class="sd">            ID.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If no ID suffix is allowed and an invocation for the</span>
<span class="sd">            same ID already exists.</span>
<span class="sd">        RuntimeError: If no unique invocation ID can be found.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The invocation ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">base_id</span> <span class="o">=</span> <span class="n">id_</span> <span class="o">=</span> <span class="n">custom_id</span> <span class="ow">or</span> <span class="n">step</span><span class="o">.</span><span class="n">name</span>

    <span class="k">if</span> <span class="n">id_</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">existing_invocations</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">id_</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">allow_suffix</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate step ID `</span><span class="si">{</span><span class="n">id_</span><span class="si">}</span><span class="s2">`&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10000</span><span class="p">):</span>
        <span class="n">id_</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_id</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">id_</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">existing_invocations</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">id_</span>

    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unable to find step ID&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.execution.pipeline.utils.prevent_pipeline_execution" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">prevent_pipeline_execution</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Context manager to prevent pipeline execution.</p>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@contextmanager</span>
<span class="k">def</span><span class="w"> </span><span class="nf">prevent_pipeline_execution</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Context manager to prevent pipeline execution.</span>

<span class="sd">    Yields:</span>
<span class="sd">        None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">_prevent_pipeline_execution</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">yield</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">_prevent_pipeline_execution</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.execution.pipeline.utils.should_prevent_pipeline_execution" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">should_prevent_pipeline_execution</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Whether to prevent pipeline execution.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to prevent pipeline execution.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">should_prevent_pipeline_execution</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Whether to prevent pipeline execution.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether to prevent pipeline execution.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_prevent_pipeline_execution</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h8 id="zenml.execution.pipeline.utils.submit_pipeline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">submit_pipeline</span><span class="p">(</span><span class="n">snapshot</span><span class="p">:</span> <span class="n">PipelineSnapshotResponse</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">Stack</span><span class="p">,</span> <span class="n">placeholder_run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PipelineRunResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Submit a snapshot for execution.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>snapshot</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineSnapshotResponse (zenml.models.PipelineSnapshotResponse)" href="core-models.html#zenml.models.PipelineSnapshotResponse">PipelineSnapshotResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The snapshot to submit.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stack</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stack(id: UUID, name: str, *, environment: Optional[Dict[str, str]] = None, secrets: Optional[List[UUID]] = None, orchestrator: BaseOrchestrator, artifact_store: BaseArtifactStore, container_registry: Optional[BaseContainerRegistry] = None, step_operator: Optional[BaseStepOperator] = None, feature_store: Optional[BaseFeatureStore] = None, model_deployer: Optional[BaseModelDeployer] = None, experiment_tracker: Optional[BaseExperimentTracker] = None, alerter: Optional[BaseAlerter] = None, annotator: Optional[BaseAnnotator] = None, data_validator: Optional[BaseDataValidator] = None, image_builder: Optional[BaseImageBuilder] = None, model_registry: Optional[BaseModelRegistry] = None, deployer: Optional[BaseDeployer] = None, log_store: Optional[BaseLogStore] = None) (zenml.stack.Stack)" href="core-stack.html#zenml.stack.Stack">Stack</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stack on which to submit the snapshot.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>placeholder_run</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="PipelineRunResponse (zenml.models.PipelineRunResponse)" href="core-models.html#zenml.models.PipelineRunResponse">PipelineRunResponse</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An optional placeholder run for the snapshot.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <h6 id="zenml.execution.pipeline.utils.submit_pipeline--noqa-dar401">noqa: DAR401</h6>
<p>Raises:
    BaseException: Any exception that happened while submitting or running
        (in case it happens synchronously) the pipeline.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/pipeline/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">submit_pipeline</span><span class="p">(</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="s2">&quot;PipelineSnapshotResponse&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">placeholder_run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineRunResponse&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Submit a snapshot for execution.</span>

<span class="sd">    Args:</span>
<span class="sd">        snapshot: The snapshot to submit.</span>
<span class="sd">        stack: The stack on which to submit the snapshot.</span>
<span class="sd">        placeholder_run: An optional placeholder run for the snapshot.</span>

<span class="sd">    # noqa: DAR401</span>
<span class="sd">    Raises:</span>
<span class="sd">        BaseException: Any exception that happened while submitting or running</span>
<span class="sd">            (in case it happens synchronously) the pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Prevent execution of nested pipelines which might lead to</span>
    <span class="c1"># unexpected behavior</span>
    <span class="k">with</span> <span class="n">prevent_pipeline_execution</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">stack</span><span class="o">.</span><span class="n">prepare_pipeline_submission</span><span class="p">(</span><span class="n">snapshot</span><span class="o">=</span><span class="n">snapshot</span><span class="p">)</span>
            <span class="n">stack</span><span class="o">.</span><span class="n">submit_pipeline</span><span class="p">(</span>
                <span class="n">snapshot</span><span class="o">=</span><span class="n">snapshot</span><span class="p">,</span>
                <span class="n">placeholder_run</span><span class="o">=</span><span class="n">placeholder_run</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">RunMonitoringError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># Don&#39;t mark the run as failed if the error happened during</span>
            <span class="c1"># monitoring of the run.</span>
            <span class="k">raise</span> <span class="n">e</span><span class="o">.</span><span class="n">original_exception</span> <span class="kn">from</span><span class="w"> </span><span class="kc">None</span>
        <span class="k">except</span> <span class="ne">BaseException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">placeholder_run</span>
                <span class="ow">and</span> <span class="ow">not</span> <span class="n">Client</span><span class="p">()</span>
                <span class="o">.</span><span class="n">get_pipeline_run</span><span class="p">(</span><span class="n">placeholder_run</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">hydrate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">is_finished</span>
            <span class="p">):</span>
                <span class="c1"># We failed during/before the submission of the run, so we mark</span>
                <span class="c1"># the run as failed if it&#39;s still in an unfinished state.</span>
                <span class="n">publish_failed_pipeline_run</span><span class="p">(</span><span class="n">placeholder_run</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

            <span class="k">raise</span> <span class="n">e</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h4 id="zenml.execution.step" class="doc doc-heading">
            <code>step</code>


</h4>

    <div class="doc doc-contents ">

        <p>Step execution.</p>










<div class="doc doc-children">









<h5 id="zenml.execution.step-modules">Modules</h5>

<div class="doc doc-object doc-module">



<h6 id="zenml.execution.step.utils" class="doc doc-heading">
            <code>utils</code>


</h6>

    <div class="doc doc-contents ">

        <p>Step execution utilities.</p>










<div class="doc doc-children">







<h7 id="zenml.execution.step.utils-classes">Classes</h7>
<h7 id="zenml.execution.step.utils-functions">Functions</h7>

<div class="doc doc-object doc-function">


<h8 id="zenml.execution.step.utils.launch_step" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">launch_step</span><span class="p">(</span><span class="n">snapshot</span><span class="p">:</span> <span class="n">PipelineSnapshotResponse</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span> <span class="n">orchestrator_run_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">retry</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">remaining_retries</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponse</span></code>

</h8>


    <div class="doc doc-contents ">

        <p>Launch a step.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>snapshot</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="PipelineSnapshotResponse (zenml.models.PipelineSnapshotResponse)" href="core-models.html#zenml.models.PipelineSnapshotResponse">PipelineSnapshotResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The snapshot.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>step</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Step (zenml.config.step_configurations.Step)" href="core-config.html#zenml.config.step_configurations.Step">Step</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step to run.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>orchestrator_run_id</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The orchestrator run ID.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>retry</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to retry the step if it fails.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remaining_retries</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of remaining retries. If not passed, this
will be read from the step configuration.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="RunStoppedException(message: Optional[str] = None, url: Optional[str] = None) (zenml.exceptions.RunStoppedException)" href="core-exceptions.html#zenml.exceptions.RunStoppedException">RunStoppedException</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the run was stopped.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="BaseException">BaseException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the step failed all retries.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="StepRunResponse (zenml.models.v2.core.step_run.StepRunResponse)" href="core-models.html#zenml.models.v2.core.step_run.StepRunResponse">StepRunResponse</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The step run response.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/zenml/execution/step/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">launch_step</span><span class="p">(</span>
    <span class="n">snapshot</span><span class="p">:</span> <span class="s2">&quot;PipelineSnapshotResponse&quot;</span><span class="p">,</span>
    <span class="n">step</span><span class="p">:</span> <span class="s2">&quot;Step&quot;</span><span class="p">,</span>
    <span class="n">orchestrator_run_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">retry</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">remaining_retries</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Launch a step.</span>

<span class="sd">    Args:</span>
<span class="sd">        snapshot: The snapshot.</span>
<span class="sd">        step: The step to run.</span>
<span class="sd">        orchestrator_run_id: The orchestrator run ID.</span>
<span class="sd">        retry: Whether to retry the step if it fails.</span>
<span class="sd">        remaining_retries: The number of remaining retries. If not passed, this</span>
<span class="sd">            will be read from the step configuration.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RunStoppedException: If the run was stopped.</span>
<span class="sd">        BaseException: If the step failed all retries.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run response.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_launch_without_retry</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">StepRunResponse</span><span class="p">:</span>
        <span class="n">launcher</span> <span class="o">=</span> <span class="n">StepLauncher</span><span class="p">(</span>
            <span class="n">snapshot</span><span class="o">=</span><span class="n">snapshot</span><span class="p">,</span>
            <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
            <span class="n">orchestrator_run_id</span><span class="o">=</span><span class="n">orchestrator_run_id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">launcher</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">retry</span><span class="p">:</span>
        <span class="n">step_run</span> <span class="o">=</span> <span class="n">_launch_without_retry</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">retries</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">retry_config</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">retry</span>
        <span class="k">if</span> <span class="n">remaining_retries</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">max_retries</span> <span class="o">=</span> <span class="n">retry_config</span><span class="o">.</span><span class="n">max_retries</span> <span class="k">if</span> <span class="n">retry_config</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">max_retries</span> <span class="o">=</span> <span class="n">remaining_retries</span>
        <span class="n">delay</span> <span class="o">=</span> <span class="n">retry_config</span><span class="o">.</span><span class="n">delay</span> <span class="k">if</span> <span class="n">retry_config</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="n">backoff</span> <span class="o">=</span> <span class="n">retry_config</span><span class="o">.</span><span class="n">backoff</span> <span class="k">if</span> <span class="n">retry_config</span> <span class="k">else</span> <span class="mi">1</span>

        <span class="k">while</span> <span class="n">retries</span> <span class="o">&lt;=</span> <span class="n">max_retries</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">step_run</span> <span class="o">=</span> <span class="n">_launch_without_retry</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">RunStoppedException</span><span class="p">:</span>
                <span class="c1"># Don&#39;t retry if the run was stopped</span>
                <span class="k">raise</span>
            <span class="k">except</span> <span class="ne">BaseException</span><span class="p">:</span>
                <span class="n">retries</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">retries</span> <span class="o">&lt;=</span> <span class="n">max_retries</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                        <span class="s2">&quot;Sleeping for </span><span class="si">%d</span><span class="s2"> seconds before retrying step `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span>
                        <span class="n">delay</span><span class="p">,</span>
                        <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>
                    <span class="n">delay</span> <span class="o">*=</span> <span class="n">backoff</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">max_retries</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                            <span class="s2">&quot;Failed to run step `</span><span class="si">%s</span><span class="s2">` after </span><span class="si">%d</span><span class="s2"> retries.&quot;</span><span class="p">,</span>
                            <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                            <span class="n">max_retries</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="k">raise</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>

    <span class="k">return</span> <span class="n">step_run</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


  </div>

    </div>

</div>


  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 ZenML GmbH  <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>