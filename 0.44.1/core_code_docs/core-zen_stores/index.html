
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.44.1/core_code_docs/core-zen_stores/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-8.5.10">
    
    
      
        <title>Zen Stores - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#zen-stores" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Zen Stores
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-_hub/" class="md-nav__link">
        Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-analytics/" class="md-nav__link">
        Analytics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-api/" class="md-nav__link">
        Api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-code_repositories/" class="md-nav__link">
        Code Repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-image_builders/" class="md-nav__link">
        Image Builders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-lineage_graph/" class="md-nav__link">
        Lineage Graph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_registries/" class="md-nav__link">
        Model Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-new/" class="md-nav__link">
        New
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-recipes/" class="md-nav__link">
        Recipes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secrets_managers/" class="md-nav__link">
        Secrets Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-service_connectors/" class="md-nav__link">
        Service Connectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Zen Stores
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Zen Stores
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.zen_stores" class="md-nav__link">
    zen_stores
  </a>
  
    <nav class="md-nav" aria-label="zen_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store" class="md-nav__link">
    base_zen_store
  </a>
  
    <nav class="md-nav" aria-label="base_zen_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore" class="md-nav__link">
    BaseZenStore
  </a>
  
    <nav class="md-nav" aria-label="BaseZenStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.roles" class="md-nav__link">
    roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.secrets_store" class="md-nav__link">
    secrets_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.type" class="md-nav__link">
    type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.url" class="md-nav__link">
    url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.create_store" class="md-nav__link">
    create_store()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.get_default_store_config" class="md-nav__link">
    get_default_store_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.get_store_class" class="md-nav__link">
    get_store_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.get_store_config_class" class="md-nav__link">
    get_store_config_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.get_store_info" class="md-nav__link">
    get_store_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.get_store_type" class="md-nav__link">
    get_store_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.is_local_store" class="md-nav__link">
    is_local_store()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.register_event_handler" class="md-nav__link">
    register_event_handler()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.validate_active_config" class="md-nav__link">
    validate_active_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.enums" class="md-nav__link">
    enums
  </a>
  
    <nav class="md-nav" aria-label="enums">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.enums.StoreEvent" class="md-nav__link">
    StoreEvent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations" class="md-nav__link">
    migrations
  </a>
  
    <nav class="md-nav" aria-label="migrations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic" class="md-nav__link">
    alembic
  </a>
  
    <nav class="md-nav" aria-label="alembic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic" class="md-nav__link">
    Alembic
  </a>
  
    <nav class="md-nav" aria-label="Alembic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.current_revisions" class="md-nav__link">
    current_revisions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.db_is_empty" class="md-nav__link">
    db_is_empty()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.downgrade" class="md-nav__link">
    downgrade()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.run_migrations" class="md-nav__link">
    run_migrations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.stamp" class="md-nav__link">
    stamp()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.upgrade" class="md-nav__link">
    upgrade()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.AlembicVersion" class="md-nav__link">
    AlembicVersion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.include_object" class="md-nav__link">
    include_object()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store" class="md-nav__link">
    rest_zen_store
  </a>
  
    <nav class="md-nav" aria-label="rest_zen_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore" class="md-nav__link">
    RestZenStore
  </a>
  
    <nav class="md-nav" aria-label="RestZenStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.session" class="md-nav__link">
    session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
    <nav class="md-nav" aria-label="CONFIG_TYPE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.copy_configuration" class="md-nav__link">
    copy_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.expand_certificates" class="md-nav__link">
    expand_certificates()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.supports_url_scheme" class="md-nav__link">
    supports_url_scheme()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.validate_credentials" class="md-nav__link">
    validate_credentials()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.validate_secrets_store" class="md-nav__link">
    validate_secrets_store()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.validate_url" class="md-nav__link">
    validate_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.validate_verify_ssl" class="md-nav__link">
    validate_verify_ssl()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_artifact" class="md-nav__link">
    create_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_build" class="md-nav__link">
    create_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_code_repository" class="md-nav__link">
    create_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_deployment" class="md-nav__link">
    create_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_flavor" class="md-nav__link">
    create_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_pipeline" class="md-nav__link">
    create_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_role" class="md-nav__link">
    create_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_run" class="md-nav__link">
    create_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_run_metadata" class="md-nav__link">
    create_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_run_step" class="md-nav__link">
    create_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_schedule" class="md-nav__link">
    create_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_service_connector" class="md-nav__link">
    create_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_stack" class="md-nav__link">
    create_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_stack_component" class="md-nav__link">
    create_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_team" class="md-nav__link">
    create_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_team_role_assignment" class="md-nav__link">
    create_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_user" class="md-nav__link">
    create_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_user_role_assignment" class="md-nav__link">
    create_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_workspace" class="md-nav__link">
    create_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete" class="md-nav__link">
    delete()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_artifact" class="md-nav__link">
    delete_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_build" class="md-nav__link">
    delete_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_code_repository" class="md-nav__link">
    delete_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_deployment" class="md-nav__link">
    delete_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_flavor" class="md-nav__link">
    delete_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_pipeline" class="md-nav__link">
    delete_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_role" class="md-nav__link">
    delete_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_run" class="md-nav__link">
    delete_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_schedule" class="md-nav__link">
    delete_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_service_connector" class="md-nav__link">
    delete_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_stack" class="md-nav__link">
    delete_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_stack_component" class="md-nav__link">
    delete_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_team" class="md-nav__link">
    delete_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_team_role_assignment" class="md-nav__link">
    delete_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_user" class="md-nav__link">
    delete_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_user_role_assignment" class="md-nav__link">
    delete_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_workspace" class="md-nav__link">
    delete_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_artifact" class="md-nav__link">
    get_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_build" class="md-nav__link">
    get_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_code_repository" class="md-nav__link">
    get_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_deployment" class="md-nav__link">
    get_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_flavor" class="md-nav__link">
    get_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_or_create_run" class="md-nav__link">
    get_or_create_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_pipeline" class="md-nav__link">
    get_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_role" class="md-nav__link">
    get_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_run" class="md-nav__link">
    get_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_run_step" class="md-nav__link">
    get_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_schedule" class="md-nav__link">
    get_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_service_connector" class="md-nav__link">
    get_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_service_connector_client" class="md-nav__link">
    get_service_connector_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_service_connector_type" class="md-nav__link">
    get_service_connector_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_stack" class="md-nav__link">
    get_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_stack_component" class="md-nav__link">
    get_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_store_info" class="md-nav__link">
    get_store_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_team" class="md-nav__link">
    get_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_team_role_assignment" class="md-nav__link">
    get_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_user" class="md-nav__link">
    get_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_user_role_assignment" class="md-nav__link">
    get_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_workspace" class="md-nav__link">
    get_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_artifacts" class="md-nav__link">
    list_artifacts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_builds" class="md-nav__link">
    list_builds()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_code_repositories" class="md-nav__link">
    list_code_repositories()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_deployments" class="md-nav__link">
    list_deployments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_flavors" class="md-nav__link">
    list_flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_pipelines" class="md-nav__link">
    list_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_roles" class="md-nav__link">
    list_roles()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_run_metadata" class="md-nav__link">
    list_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_run_steps" class="md-nav__link">
    list_run_steps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_schedules" class="md-nav__link">
    list_schedules()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_service_connector_resources" class="md-nav__link">
    list_service_connector_resources()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_service_connector_types" class="md-nav__link">
    list_service_connector_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_service_connectors" class="md-nav__link">
    list_service_connectors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_stack_components" class="md-nav__link">
    list_stack_components()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_stacks" class="md-nav__link">
    list_stacks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_team_role_assignments" class="md-nav__link">
    list_team_role_assignments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_teams" class="md-nav__link">
    list_teams()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_user_role_assignments" class="md-nav__link">
    list_user_role_assignments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_users" class="md-nav__link">
    list_users()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_workspaces" class="md-nav__link">
    list_workspaces()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.post" class="md-nav__link">
    post()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.put" class="md-nav__link">
    put()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_code_repository" class="md-nav__link">
    update_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_flavor" class="md-nav__link">
    update_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_pipeline" class="md-nav__link">
    update_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_role" class="md-nav__link">
    update_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_run" class="md-nav__link">
    update_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_run_step" class="md-nav__link">
    update_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_schedule" class="md-nav__link">
    update_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_service_connector" class="md-nav__link">
    update_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_stack" class="md-nav__link">
    update_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_stack_component" class="md-nav__link">
    update_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_team" class="md-nav__link">
    update_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_user" class="md-nav__link">
    update_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_workspace" class="md-nav__link">
    update_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.verify_service_connector" class="md-nav__link">
    verify_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.verify_service_connector_config" class="md-nav__link">
    verify_service_connector_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration" class="md-nav__link">
    RestZenStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="RestZenStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.copy_configuration" class="md-nav__link">
    copy_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.expand_certificates" class="md-nav__link">
    expand_certificates()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.supports_url_scheme" class="md-nav__link">
    supports_url_scheme()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.validate_credentials" class="md-nav__link">
    validate_credentials()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.validate_secrets_store" class="md-nav__link">
    validate_secrets_store()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.validate_url" class="md-nav__link">
    validate_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.validate_verify_ssl" class="md-nav__link">
    validate_verify_ssl()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas" class="md-nav__link">
    schemas
  </a>
  
    <nav class="md-nav" aria-label="schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas" class="md-nav__link">
    artifact_schemas
  </a>
  
    <nav class="md-nav" aria-label="artifact_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas.ArtifactSchema" class="md-nav__link">
    ArtifactSchema
  </a>
  
    <nav class="md-nav" aria-label="ArtifactSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas.ArtifactSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas.ArtifactSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas.ArtifactVisualizationSchema" class="md-nav__link">
    ArtifactVisualizationSchema
  </a>
  
    <nav class="md-nav" aria-label="ArtifactVisualizationSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas.ArtifactVisualizationSchema.from_model" class="md-nav__link">
    from_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas.ArtifactVisualizationSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.base_schemas" class="md-nav__link">
    base_schemas
  </a>
  
    <nav class="md-nav" aria-label="base_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.base_schemas.BaseSchema" class="md-nav__link">
    BaseSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.base_schemas.NamedSchema" class="md-nav__link">
    NamedSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.base_schemas.ShareableSchema" class="md-nav__link">
    ShareableSchema
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas" class="md-nav__link">
    code_repository_schemas
  </a>
  
    <nav class="md-nav" aria-label="code_repository_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeReferenceSchema" class="md-nav__link">
    CodeReferenceSchema
  </a>
  
    <nav class="md-nav" aria-label="CodeReferenceSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeReferenceSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeReferenceSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeRepositorySchema" class="md-nav__link">
    CodeRepositorySchema
  </a>
  
    <nav class="md-nav" aria-label="CodeRepositorySchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeRepositorySchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeRepositorySchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeRepositorySchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.component_schemas" class="md-nav__link">
    component_schemas
  </a>
  
    <nav class="md-nav" aria-label="component_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.component_schemas.StackComponentSchema" class="md-nav__link">
    StackComponentSchema
  </a>
  
    <nav class="md-nav" aria-label="StackComponentSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.component_schemas.StackComponentSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.component_schemas.StackComponentSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.flavor_schemas" class="md-nav__link">
    flavor_schemas
  </a>
  
    <nav class="md-nav" aria-label="flavor_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.flavor_schemas.FlavorSchema" class="md-nav__link">
    FlavorSchema
  </a>
  
    <nav class="md-nav" aria-label="FlavorSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.flavor_schemas.FlavorSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.flavor_schemas.FlavorSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.identity_schemas" class="md-nav__link">
    identity_schemas
  </a>
  
    <nav class="md-nav" aria-label="identity_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.identity_schemas.IdentitySchema" class="md-nav__link">
    IdentitySchema
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.logs_schemas" class="md-nav__link">
    logs_schemas
  </a>
  
    <nav class="md-nav" aria-label="logs_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.logs_schemas.LogsSchema" class="md-nav__link">
    LogsSchema
  </a>
  
    <nav class="md-nav" aria-label="LogsSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.logs_schemas.LogsSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_build_schemas" class="md-nav__link">
    pipeline_build_schemas
  </a>
  
    <nav class="md-nav" aria-label="pipeline_build_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_build_schemas.PipelineBuildSchema" class="md-nav__link">
    PipelineBuildSchema
  </a>
  
    <nav class="md-nav" aria-label="PipelineBuildSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_build_schemas.PipelineBuildSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_build_schemas.PipelineBuildSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_deployment_schemas" class="md-nav__link">
    pipeline_deployment_schemas
  </a>
  
    <nav class="md-nav" aria-label="pipeline_deployment_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_deployment_schemas.PipelineDeploymentSchema" class="md-nav__link">
    PipelineDeploymentSchema
  </a>
  
    <nav class="md-nav" aria-label="PipelineDeploymentSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_deployment_schemas.PipelineDeploymentSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_deployment_schemas.PipelineDeploymentSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_run_schemas" class="md-nav__link">
    pipeline_run_schemas
  </a>
  
    <nav class="md-nav" aria-label="pipeline_run_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_run_schemas.PipelineRunSchema" class="md-nav__link">
    PipelineRunSchema
  </a>
  
    <nav class="md-nav" aria-label="PipelineRunSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_run_schemas.PipelineRunSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_run_schemas.PipelineRunSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_run_schemas.PipelineRunSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_schemas" class="md-nav__link">
    pipeline_schemas
  </a>
  
    <nav class="md-nav" aria-label="pipeline_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_schemas.PipelineSchema" class="md-nav__link">
    PipelineSchema
  </a>
  
    <nav class="md-nav" aria-label="PipelineSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_schemas.PipelineSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_schemas.PipelineSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_schemas.PipelineSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas" class="md-nav__link">
    role_schemas
  </a>
  
    <nav class="md-nav" aria-label="role_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.RolePermissionSchema" class="md-nav__link">
    RolePermissionSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.RoleSchema" class="md-nav__link">
    RoleSchema
  </a>
  
    <nav class="md-nav" aria-label="RoleSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.RoleSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.RoleSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.RoleSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.TeamRoleAssignmentSchema" class="md-nav__link">
    TeamRoleAssignmentSchema
  </a>
  
    <nav class="md-nav" aria-label="TeamRoleAssignmentSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.TeamRoleAssignmentSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.TeamRoleAssignmentSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.UserRoleAssignmentSchema" class="md-nav__link">
    UserRoleAssignmentSchema
  </a>
  
    <nav class="md-nav" aria-label="UserRoleAssignmentSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.UserRoleAssignmentSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.UserRoleAssignmentSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.run_metadata_schemas" class="md-nav__link">
    run_metadata_schemas
  </a>
  
    <nav class="md-nav" aria-label="run_metadata_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.run_metadata_schemas.RunMetadataSchema" class="md-nav__link">
    RunMetadataSchema
  </a>
  
    <nav class="md-nav" aria-label="RunMetadataSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.run_metadata_schemas.RunMetadataSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.run_metadata_schemas.RunMetadataSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schedule_schema" class="md-nav__link">
    schedule_schema
  </a>
  
    <nav class="md-nav" aria-label="schedule_schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schedule_schema.ScheduleSchema" class="md-nav__link">
    ScheduleSchema
  </a>
  
    <nav class="md-nav" aria-label="ScheduleSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schedule_schema.ScheduleSchema.from_create_model" class="md-nav__link">
    from_create_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schedule_schema.ScheduleSchema.from_update_model" class="md-nav__link">
    from_update_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schedule_schema.ScheduleSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schema_utils" class="md-nav__link">
    schema_utils
  </a>
  
    <nav class="md-nav" aria-label="schema_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schema_utils.build_foreign_key_field" class="md-nav__link">
    build_foreign_key_field()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schema_utils.foreign_key_constraint_name" class="md-nav__link">
    foreign_key_constraint_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.secret_schemas" class="md-nav__link">
    secret_schemas
  </a>
  
    <nav class="md-nav" aria-label="secret_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.secret_schemas.SecretSchema" class="md-nav__link">
    SecretSchema
  </a>
  
    <nav class="md-nav" aria-label="SecretSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.secret_schemas.SecretSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.secret_schemas.SecretSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.secret_schemas.SecretSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas" class="md-nav__link">
    service_connector_schemas
  </a>
  
    <nav class="md-nav" aria-label="service_connector_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema" class="md-nav__link">
    ServiceConnectorSchema
  </a>
  
    <nav class="md-nav" aria-label="ServiceConnectorSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.labels_dict" class="md-nav__link">
    labels_dict
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.resource_types_list" class="md-nav__link">
    resource_types_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.has_labels" class="md-nav__link">
    has_labels()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.stack_schemas" class="md-nav__link">
    stack_schemas
  </a>
  
    <nav class="md-nav" aria-label="stack_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.stack_schemas.StackCompositionSchema" class="md-nav__link">
    StackCompositionSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.stack_schemas.StackSchema" class="md-nav__link">
    StackSchema
  </a>
  
    <nav class="md-nav" aria-label="StackSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.stack_schemas.StackSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.stack_schemas.StackSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas" class="md-nav__link">
    step_run_schemas
  </a>
  
    <nav class="md-nav" aria-label="step_run_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunInputArtifactSchema" class="md-nav__link">
    StepRunInputArtifactSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunOutputArtifactSchema" class="md-nav__link">
    StepRunOutputArtifactSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunParentsSchema" class="md-nav__link">
    StepRunParentsSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunSchema" class="md-nav__link">
    StepRunSchema
  </a>
  
    <nav class="md-nav" aria-label="StepRunSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.team_schemas" class="md-nav__link">
    team_schemas
  </a>
  
    <nav class="md-nav" aria-label="team_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.team_schemas.TeamAssignmentSchema" class="md-nav__link">
    TeamAssignmentSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.team_schemas.TeamSchema" class="md-nav__link">
    TeamSchema
  </a>
  
    <nav class="md-nav" aria-label="TeamSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.team_schemas.TeamSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.team_schemas.TeamSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.user_schemas" class="md-nav__link">
    user_schemas
  </a>
  
    <nav class="md-nav" aria-label="user_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.user_schemas.UserSchema" class="md-nav__link">
    UserSchema
  </a>
  
    <nav class="md-nav" aria-label="UserSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.user_schemas.UserSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.user_schemas.UserSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.user_schemas.UserSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.workspace_schemas" class="md-nav__link">
    workspace_schemas
  </a>
  
    <nav class="md-nav" aria-label="workspace_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.workspace_schemas.WorkspaceSchema" class="md-nav__link">
    WorkspaceSchema
  </a>
  
    <nav class="md-nav" aria-label="WorkspaceSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.workspace_schemas.WorkspaceSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.workspace_schemas.WorkspaceSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.workspace_schemas.WorkspaceSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores" class="md-nav__link">
    secrets_stores
  </a>
  
    <nav class="md-nav" aria-label="secrets_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store" class="md-nav__link">
    aws_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="aws_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore" class="md-nav__link">
    AWSSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="AWSSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.client" class="md-nav__link">
    client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStoreConfiguration" class="md-nav__link">
    AWSSecretsStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="AWSSecretsStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store" class="md-nav__link">
    azure_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="azure_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore" class="md-nav__link">
    AzureSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="AzureSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.client" class="md-nav__link">
    client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStoreConfiguration" class="md-nav__link">
    AzureSecretsStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="AzureSecretsStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store" class="md-nav__link">
    base_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="base_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore" class="md-nav__link">
    BaseSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="BaseSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.type" class="md-nav__link">
    type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.zen_store" class="md-nav__link">
    zen_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.create_store" class="md-nav__link">
    create_store()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.get_store_class" class="md-nav__link">
    get_store_class()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store" class="md-nav__link">
    gcp_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="gcp_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore" class="md-nav__link">
    GCPSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="GCPSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.client" class="md-nav__link">
    client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.parent_name" class="md-nav__link">
    parent_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStoreConfiguration" class="md-nav__link">
    GCPSecretsStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="GCPSecretsStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store" class="md-nav__link">
    hashicorp_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="hashicorp_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore" class="md-nav__link">
    HashiCorpVaultSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="HashiCorpVaultSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.client" class="md-nav__link">
    client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStoreConfiguration" class="md-nav__link">
    HashiCorpVaultSecretsStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="HashiCorpVaultSecretsStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store" class="md-nav__link">
    rest_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="rest_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore" class="md-nav__link">
    RestSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="RestSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.zen_store" class="md-nav__link">
    zen_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStoreConfiguration" class="md-nav__link">
    RestSecretsStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="RestSecretsStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface" class="md-nav__link">
    secrets_store_interface
  </a>
  
    <nav class="md-nav" aria-label="secrets_store_interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface" class="md-nav__link">
    SecretsStoreInterface
  </a>
  
    <nav class="md-nav" aria-label="SecretsStoreInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store" class="md-nav__link">
    sql_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="sql_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore" class="md-nav__link">
    SqlSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="SqlSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.engine" class="md-nav__link">
    engine
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.zen_store" class="md-nav__link">
    zen_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStoreConfiguration" class="md-nav__link">
    SqlSecretsStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="SqlSecretsStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store" class="md-nav__link">
    sql_zen_store
  </a>
  
    <nav class="md-nav" aria-label="sql_zen_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SQLDatabaseDriver" class="md-nav__link">
    SQLDatabaseDriver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore" class="md-nav__link">
    SqlZenStore
  </a>
  
    <nav class="md-nav" aria-label="SqlZenStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.alembic" class="md-nav__link">
    alembic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.engine" class="md-nav__link">
    engine
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.runs_inside_server" class="md-nav__link">
    runs_inside_server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
    <nav class="md-nav" aria-label="CONFIG_TYPE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.copy_configuration" class="md-nav__link">
    copy_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.expand_certificates" class="md-nav__link">
    expand_certificates()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.get_local_url" class="md-nav__link">
    get_local_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.get_sqlmodel_config" class="md-nav__link">
    get_sqlmodel_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.supports_url_scheme" class="md-nav__link">
    supports_url_scheme()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.validate_secrets_store" class="md-nav__link">
    validate_secrets_store()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.count_pipelines" class="md-nav__link">
    count_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.count_runs" class="md-nav__link">
    count_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.count_stack_components" class="md-nav__link">
    count_stack_components()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.count_stacks" class="md-nav__link">
    count_stacks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_artifact" class="md-nav__link">
    create_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_build" class="md-nav__link">
    create_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_code_repository" class="md-nav__link">
    create_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_deployment" class="md-nav__link">
    create_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_flavor" class="md-nav__link">
    create_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_pipeline" class="md-nav__link">
    create_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_role" class="md-nav__link">
    create_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_run" class="md-nav__link">
    create_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_run_metadata" class="md-nav__link">
    create_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_run_step" class="md-nav__link">
    create_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_schedule" class="md-nav__link">
    create_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_service_connector" class="md-nav__link">
    create_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_stack" class="md-nav__link">
    create_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_stack_component" class="md-nav__link">
    create_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_team" class="md-nav__link">
    create_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_team_role_assignment" class="md-nav__link">
    create_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_user" class="md-nav__link">
    create_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_user_role_assignment" class="md-nav__link">
    create_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_workspace" class="md-nav__link">
    create_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_artifact" class="md-nav__link">
    delete_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_build" class="md-nav__link">
    delete_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_code_repository" class="md-nav__link">
    delete_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_deployment" class="md-nav__link">
    delete_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_flavor" class="md-nav__link">
    delete_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_pipeline" class="md-nav__link">
    delete_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_role" class="md-nav__link">
    delete_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_run" class="md-nav__link">
    delete_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_schedule" class="md-nav__link">
    delete_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_service_connector" class="md-nav__link">
    delete_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_stack" class="md-nav__link">
    delete_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_stack_component" class="md-nav__link">
    delete_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_team" class="md-nav__link">
    delete_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_team_role_assignment" class="md-nav__link">
    delete_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_user" class="md-nav__link">
    delete_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_user_role_assignment" class="md-nav__link">
    delete_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_workspace" class="md-nav__link">
    delete_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.filter_and_paginate" class="md-nav__link">
    filter_and_paginate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_artifact" class="md-nav__link">
    get_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_auth_user" class="md-nav__link">
    get_auth_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_build" class="md-nav__link">
    get_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_code_repository" class="md-nav__link">
    get_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_deployment" class="md-nav__link">
    get_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_flavor" class="md-nav__link">
    get_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_or_create_run" class="md-nav__link">
    get_or_create_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_pipeline" class="md-nav__link">
    get_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_role" class="md-nav__link">
    get_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_run" class="md-nav__link">
    get_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_run_step" class="md-nav__link">
    get_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_schedule" class="md-nav__link">
    get_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_service_connector" class="md-nav__link">
    get_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_service_connector_client" class="md-nav__link">
    get_service_connector_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_service_connector_type" class="md-nav__link">
    get_service_connector_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_stack" class="md-nav__link">
    get_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_stack_component" class="md-nav__link">
    get_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_store_info" class="md-nav__link">
    get_store_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_team" class="md-nav__link">
    get_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_team_role_assignment" class="md-nav__link">
    get_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_user" class="md-nav__link">
    get_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_user_role_assignment" class="md-nav__link">
    get_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_workspace" class="md-nav__link">
    get_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_artifacts" class="md-nav__link">
    list_artifacts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_builds" class="md-nav__link">
    list_builds()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_code_repositories" class="md-nav__link">
    list_code_repositories()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_deployments" class="md-nav__link">
    list_deployments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_flavors" class="md-nav__link">
    list_flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_pipelines" class="md-nav__link">
    list_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_roles" class="md-nav__link">
    list_roles()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_run_metadata" class="md-nav__link">
    list_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_run_steps" class="md-nav__link">
    list_run_steps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_schedules" class="md-nav__link">
    list_schedules()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_service_connector_resources" class="md-nav__link">
    list_service_connector_resources()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_service_connector_types" class="md-nav__link">
    list_service_connector_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_service_connectors" class="md-nav__link">
    list_service_connectors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_stack_components" class="md-nav__link">
    list_stack_components()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_stacks" class="md-nav__link">
    list_stacks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_team_role_assignments" class="md-nav__link">
    list_team_role_assignments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_teams" class="md-nav__link">
    list_teams()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_user_role_assignments" class="md-nav__link">
    list_user_role_assignments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_users" class="md-nav__link">
    list_users()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_workspaces" class="md-nav__link">
    list_workspaces()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.migrate_database" class="md-nav__link">
    migrate_database()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_code_repository" class="md-nav__link">
    update_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_flavor" class="md-nav__link">
    update_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_pipeline" class="md-nav__link">
    update_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_role" class="md-nav__link">
    update_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_run" class="md-nav__link">
    update_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_run_step" class="md-nav__link">
    update_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_schedule" class="md-nav__link">
    update_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_service_connector" class="md-nav__link">
    update_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_stack" class="md-nav__link">
    update_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_stack_component" class="md-nav__link">
    update_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_team" class="md-nav__link">
    update_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_user" class="md-nav__link">
    update_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_workspace" class="md-nav__link">
    update_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.verify_service_connector" class="md-nav__link">
    verify_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.verify_service_connector_config" class="md-nav__link">
    verify_service_connector_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration" class="md-nav__link">
    SqlZenStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="SqlZenStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.copy_configuration" class="md-nav__link">
    copy_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.expand_certificates" class="md-nav__link">
    expand_certificates()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.get_local_url" class="md-nav__link">
    get_local_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.get_sqlmodel_config" class="md-nav__link">
    get_sqlmodel_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.supports_url_scheme" class="md-nav__link">
    supports_url_scheme()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.validate_secrets_store" class="md-nav__link">
    validate_secrets_store()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface" class="md-nav__link">
    zen_store_interface
  </a>
  
    <nav class="md-nav" aria-label="zen_store_interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface" class="md-nav__link">
    ZenStoreInterface
  </a>
  
    <nav class="md-nav" aria-label="ZenStoreInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_artifact" class="md-nav__link">
    create_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_build" class="md-nav__link">
    create_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_code_repository" class="md-nav__link">
    create_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_deployment" class="md-nav__link">
    create_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_flavor" class="md-nav__link">
    create_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_pipeline" class="md-nav__link">
    create_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_role" class="md-nav__link">
    create_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_run" class="md-nav__link">
    create_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_run_metadata" class="md-nav__link">
    create_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_run_step" class="md-nav__link">
    create_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_schedule" class="md-nav__link">
    create_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_service_connector" class="md-nav__link">
    create_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_stack" class="md-nav__link">
    create_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_stack_component" class="md-nav__link">
    create_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_team" class="md-nav__link">
    create_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_team_role_assignment" class="md-nav__link">
    create_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_user" class="md-nav__link">
    create_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_user_role_assignment" class="md-nav__link">
    create_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_workspace" class="md-nav__link">
    create_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_artifact" class="md-nav__link">
    delete_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_build" class="md-nav__link">
    delete_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_code_repository" class="md-nav__link">
    delete_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_deployment" class="md-nav__link">
    delete_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_flavor" class="md-nav__link">
    delete_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_pipeline" class="md-nav__link">
    delete_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_role" class="md-nav__link">
    delete_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_run" class="md-nav__link">
    delete_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_schedule" class="md-nav__link">
    delete_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_service_connector" class="md-nav__link">
    delete_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_stack" class="md-nav__link">
    delete_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_stack_component" class="md-nav__link">
    delete_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_team" class="md-nav__link">
    delete_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_team_role_assignment" class="md-nav__link">
    delete_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_user" class="md-nav__link">
    delete_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_user_role_assignment" class="md-nav__link">
    delete_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_workspace" class="md-nav__link">
    delete_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_artifact" class="md-nav__link">
    get_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_build" class="md-nav__link">
    get_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_code_repository" class="md-nav__link">
    get_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_deployment" class="md-nav__link">
    get_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_flavor" class="md-nav__link">
    get_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_or_create_run" class="md-nav__link">
    get_or_create_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_pipeline" class="md-nav__link">
    get_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_role" class="md-nav__link">
    get_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_run" class="md-nav__link">
    get_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_run_step" class="md-nav__link">
    get_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_schedule" class="md-nav__link">
    get_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_service_connector" class="md-nav__link">
    get_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_service_connector_client" class="md-nav__link">
    get_service_connector_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_service_connector_type" class="md-nav__link">
    get_service_connector_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_stack" class="md-nav__link">
    get_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_stack_component" class="md-nav__link">
    get_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_store_info" class="md-nav__link">
    get_store_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_team" class="md-nav__link">
    get_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_team_role_assignment" class="md-nav__link">
    get_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_user" class="md-nav__link">
    get_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_user_role_assignment" class="md-nav__link">
    get_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_workspace" class="md-nav__link">
    get_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_artifacts" class="md-nav__link">
    list_artifacts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_builds" class="md-nav__link">
    list_builds()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_code_repositories" class="md-nav__link">
    list_code_repositories()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_deployments" class="md-nav__link">
    list_deployments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_flavors" class="md-nav__link">
    list_flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_pipelines" class="md-nav__link">
    list_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_roles" class="md-nav__link">
    list_roles()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_run_metadata" class="md-nav__link">
    list_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_run_steps" class="md-nav__link">
    list_run_steps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_schedules" class="md-nav__link">
    list_schedules()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_service_connector_resources" class="md-nav__link">
    list_service_connector_resources()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_service_connector_types" class="md-nav__link">
    list_service_connector_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_service_connectors" class="md-nav__link">
    list_service_connectors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_stack_components" class="md-nav__link">
    list_stack_components()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_stacks" class="md-nav__link">
    list_stacks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_team_role_assignments" class="md-nav__link">
    list_team_role_assignments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_teams" class="md-nav__link">
    list_teams()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_user_role_assignments" class="md-nav__link">
    list_user_role_assignments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_users" class="md-nav__link">
    list_users()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_workspaces" class="md-nav__link">
    list_workspaces()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_code_repository" class="md-nav__link">
    update_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_flavor" class="md-nav__link">
    update_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_pipeline" class="md-nav__link">
    update_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_role" class="md-nav__link">
    update_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_run" class="md-nav__link">
    update_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_run_step" class="md-nav__link">
    update_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_schedule" class="md-nav__link">
    update_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_service_connector" class="md-nav__link">
    update_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_stack" class="md-nav__link">
    update_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_stack_component" class="md-nav__link">
    update_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_team" class="md-nav__link">
    update_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_user" class="md-nav__link">
    update_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_workspace" class="md-nav__link">
    update_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.verify_service_connector" class="md-nav__link">
    verify_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.verify_service_connector_config" class="md-nav__link">
    verify_service_connector_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-azure/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bentoml/" class="md-nav__link">
        Bentoml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gitlab/" class="md-nav__link">
        Gitlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-huggingface/" class="md-nav__link">
        Huggingface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kaniko/" class="md-nav__link">
        Kaniko
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kserve/" class="md-nav__link">
        Kserve
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-langchain/" class="md-nav__link">
        Langchain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-llama_index/" class="md-nav__link">
        Llama Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neptune/" class="md-nav__link">
        Neptune
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-openai/" class="md-nav__link">
        Openai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pycaret/" class="md-nav__link">
        Pycaret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-vault/" class="md-nav__link">
        Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.zen_stores" class="md-nav__link">
    zen_stores
  </a>
  
    <nav class="md-nav" aria-label="zen_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store" class="md-nav__link">
    base_zen_store
  </a>
  
    <nav class="md-nav" aria-label="base_zen_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore" class="md-nav__link">
    BaseZenStore
  </a>
  
    <nav class="md-nav" aria-label="BaseZenStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.roles" class="md-nav__link">
    roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.secrets_store" class="md-nav__link">
    secrets_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.type" class="md-nav__link">
    type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.url" class="md-nav__link">
    url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.create_store" class="md-nav__link">
    create_store()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.get_default_store_config" class="md-nav__link">
    get_default_store_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.get_store_class" class="md-nav__link">
    get_store_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.get_store_config_class" class="md-nav__link">
    get_store_config_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.get_store_info" class="md-nav__link">
    get_store_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.get_store_type" class="md-nav__link">
    get_store_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.is_local_store" class="md-nav__link">
    is_local_store()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.register_event_handler" class="md-nav__link">
    register_event_handler()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.base_zen_store.BaseZenStore.validate_active_config" class="md-nav__link">
    validate_active_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.enums" class="md-nav__link">
    enums
  </a>
  
    <nav class="md-nav" aria-label="enums">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.enums.StoreEvent" class="md-nav__link">
    StoreEvent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations" class="md-nav__link">
    migrations
  </a>
  
    <nav class="md-nav" aria-label="migrations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic" class="md-nav__link">
    alembic
  </a>
  
    <nav class="md-nav" aria-label="alembic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic" class="md-nav__link">
    Alembic
  </a>
  
    <nav class="md-nav" aria-label="Alembic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.current_revisions" class="md-nav__link">
    current_revisions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.db_is_empty" class="md-nav__link">
    db_is_empty()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.downgrade" class="md-nav__link">
    downgrade()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.run_migrations" class="md-nav__link">
    run_migrations()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.stamp" class="md-nav__link">
    stamp()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.Alembic.upgrade" class="md-nav__link">
    upgrade()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.AlembicVersion" class="md-nav__link">
    AlembicVersion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.migrations.alembic.include_object" class="md-nav__link">
    include_object()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store" class="md-nav__link">
    rest_zen_store
  </a>
  
    <nav class="md-nav" aria-label="rest_zen_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore" class="md-nav__link">
    RestZenStore
  </a>
  
    <nav class="md-nav" aria-label="RestZenStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.session" class="md-nav__link">
    session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
    <nav class="md-nav" aria-label="CONFIG_TYPE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.copy_configuration" class="md-nav__link">
    copy_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.expand_certificates" class="md-nav__link">
    expand_certificates()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.supports_url_scheme" class="md-nav__link">
    supports_url_scheme()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.validate_credentials" class="md-nav__link">
    validate_credentials()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.validate_secrets_store" class="md-nav__link">
    validate_secrets_store()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.validate_url" class="md-nav__link">
    validate_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.validate_verify_ssl" class="md-nav__link">
    validate_verify_ssl()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_artifact" class="md-nav__link">
    create_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_build" class="md-nav__link">
    create_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_code_repository" class="md-nav__link">
    create_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_deployment" class="md-nav__link">
    create_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_flavor" class="md-nav__link">
    create_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_pipeline" class="md-nav__link">
    create_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_role" class="md-nav__link">
    create_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_run" class="md-nav__link">
    create_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_run_metadata" class="md-nav__link">
    create_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_run_step" class="md-nav__link">
    create_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_schedule" class="md-nav__link">
    create_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_service_connector" class="md-nav__link">
    create_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_stack" class="md-nav__link">
    create_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_stack_component" class="md-nav__link">
    create_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_team" class="md-nav__link">
    create_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_team_role_assignment" class="md-nav__link">
    create_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_user" class="md-nav__link">
    create_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_user_role_assignment" class="md-nav__link">
    create_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.create_workspace" class="md-nav__link">
    create_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete" class="md-nav__link">
    delete()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_artifact" class="md-nav__link">
    delete_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_build" class="md-nav__link">
    delete_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_code_repository" class="md-nav__link">
    delete_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_deployment" class="md-nav__link">
    delete_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_flavor" class="md-nav__link">
    delete_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_pipeline" class="md-nav__link">
    delete_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_role" class="md-nav__link">
    delete_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_run" class="md-nav__link">
    delete_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_schedule" class="md-nav__link">
    delete_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_service_connector" class="md-nav__link">
    delete_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_stack" class="md-nav__link">
    delete_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_stack_component" class="md-nav__link">
    delete_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_team" class="md-nav__link">
    delete_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_team_role_assignment" class="md-nav__link">
    delete_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_user" class="md-nav__link">
    delete_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_user_role_assignment" class="md-nav__link">
    delete_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.delete_workspace" class="md-nav__link">
    delete_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_artifact" class="md-nav__link">
    get_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_build" class="md-nav__link">
    get_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_code_repository" class="md-nav__link">
    get_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_deployment" class="md-nav__link">
    get_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_flavor" class="md-nav__link">
    get_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_or_create_run" class="md-nav__link">
    get_or_create_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_pipeline" class="md-nav__link">
    get_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_role" class="md-nav__link">
    get_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_run" class="md-nav__link">
    get_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_run_step" class="md-nav__link">
    get_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_schedule" class="md-nav__link">
    get_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_service_connector" class="md-nav__link">
    get_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_service_connector_client" class="md-nav__link">
    get_service_connector_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_service_connector_type" class="md-nav__link">
    get_service_connector_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_stack" class="md-nav__link">
    get_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_stack_component" class="md-nav__link">
    get_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_store_info" class="md-nav__link">
    get_store_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_team" class="md-nav__link">
    get_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_team_role_assignment" class="md-nav__link">
    get_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_user" class="md-nav__link">
    get_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_user_role_assignment" class="md-nav__link">
    get_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.get_workspace" class="md-nav__link">
    get_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_artifacts" class="md-nav__link">
    list_artifacts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_builds" class="md-nav__link">
    list_builds()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_code_repositories" class="md-nav__link">
    list_code_repositories()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_deployments" class="md-nav__link">
    list_deployments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_flavors" class="md-nav__link">
    list_flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_pipelines" class="md-nav__link">
    list_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_roles" class="md-nav__link">
    list_roles()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_run_metadata" class="md-nav__link">
    list_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_run_steps" class="md-nav__link">
    list_run_steps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_schedules" class="md-nav__link">
    list_schedules()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_service_connector_resources" class="md-nav__link">
    list_service_connector_resources()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_service_connector_types" class="md-nav__link">
    list_service_connector_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_service_connectors" class="md-nav__link">
    list_service_connectors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_stack_components" class="md-nav__link">
    list_stack_components()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_stacks" class="md-nav__link">
    list_stacks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_team_role_assignments" class="md-nav__link">
    list_team_role_assignments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_teams" class="md-nav__link">
    list_teams()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_user_role_assignments" class="md-nav__link">
    list_user_role_assignments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_users" class="md-nav__link">
    list_users()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.list_workspaces" class="md-nav__link">
    list_workspaces()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.post" class="md-nav__link">
    post()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.put" class="md-nav__link">
    put()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_code_repository" class="md-nav__link">
    update_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_flavor" class="md-nav__link">
    update_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_pipeline" class="md-nav__link">
    update_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_role" class="md-nav__link">
    update_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_run" class="md-nav__link">
    update_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_run_step" class="md-nav__link">
    update_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_schedule" class="md-nav__link">
    update_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_service_connector" class="md-nav__link">
    update_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_stack" class="md-nav__link">
    update_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_stack_component" class="md-nav__link">
    update_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_team" class="md-nav__link">
    update_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_user" class="md-nav__link">
    update_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.update_workspace" class="md-nav__link">
    update_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.verify_service_connector" class="md-nav__link">
    verify_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStore.verify_service_connector_config" class="md-nav__link">
    verify_service_connector_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration" class="md-nav__link">
    RestZenStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="RestZenStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.copy_configuration" class="md-nav__link">
    copy_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.expand_certificates" class="md-nav__link">
    expand_certificates()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.supports_url_scheme" class="md-nav__link">
    supports_url_scheme()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.validate_credentials" class="md-nav__link">
    validate_credentials()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.validate_secrets_store" class="md-nav__link">
    validate_secrets_store()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.validate_url" class="md-nav__link">
    validate_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.validate_verify_ssl" class="md-nav__link">
    validate_verify_ssl()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas" class="md-nav__link">
    schemas
  </a>
  
    <nav class="md-nav" aria-label="schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas" class="md-nav__link">
    artifact_schemas
  </a>
  
    <nav class="md-nav" aria-label="artifact_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas.ArtifactSchema" class="md-nav__link">
    ArtifactSchema
  </a>
  
    <nav class="md-nav" aria-label="ArtifactSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas.ArtifactSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas.ArtifactSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas.ArtifactVisualizationSchema" class="md-nav__link">
    ArtifactVisualizationSchema
  </a>
  
    <nav class="md-nav" aria-label="ArtifactVisualizationSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas.ArtifactVisualizationSchema.from_model" class="md-nav__link">
    from_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.artifact_schemas.ArtifactVisualizationSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.base_schemas" class="md-nav__link">
    base_schemas
  </a>
  
    <nav class="md-nav" aria-label="base_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.base_schemas.BaseSchema" class="md-nav__link">
    BaseSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.base_schemas.NamedSchema" class="md-nav__link">
    NamedSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.base_schemas.ShareableSchema" class="md-nav__link">
    ShareableSchema
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas" class="md-nav__link">
    code_repository_schemas
  </a>
  
    <nav class="md-nav" aria-label="code_repository_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeReferenceSchema" class="md-nav__link">
    CodeReferenceSchema
  </a>
  
    <nav class="md-nav" aria-label="CodeReferenceSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeReferenceSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeReferenceSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeRepositorySchema" class="md-nav__link">
    CodeRepositorySchema
  </a>
  
    <nav class="md-nav" aria-label="CodeRepositorySchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeRepositorySchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeRepositorySchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.code_repository_schemas.CodeRepositorySchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.component_schemas" class="md-nav__link">
    component_schemas
  </a>
  
    <nav class="md-nav" aria-label="component_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.component_schemas.StackComponentSchema" class="md-nav__link">
    StackComponentSchema
  </a>
  
    <nav class="md-nav" aria-label="StackComponentSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.component_schemas.StackComponentSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.component_schemas.StackComponentSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.flavor_schemas" class="md-nav__link">
    flavor_schemas
  </a>
  
    <nav class="md-nav" aria-label="flavor_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.flavor_schemas.FlavorSchema" class="md-nav__link">
    FlavorSchema
  </a>
  
    <nav class="md-nav" aria-label="FlavorSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.flavor_schemas.FlavorSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.flavor_schemas.FlavorSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.identity_schemas" class="md-nav__link">
    identity_schemas
  </a>
  
    <nav class="md-nav" aria-label="identity_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.identity_schemas.IdentitySchema" class="md-nav__link">
    IdentitySchema
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.logs_schemas" class="md-nav__link">
    logs_schemas
  </a>
  
    <nav class="md-nav" aria-label="logs_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.logs_schemas.LogsSchema" class="md-nav__link">
    LogsSchema
  </a>
  
    <nav class="md-nav" aria-label="LogsSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.logs_schemas.LogsSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_build_schemas" class="md-nav__link">
    pipeline_build_schemas
  </a>
  
    <nav class="md-nav" aria-label="pipeline_build_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_build_schemas.PipelineBuildSchema" class="md-nav__link">
    PipelineBuildSchema
  </a>
  
    <nav class="md-nav" aria-label="PipelineBuildSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_build_schemas.PipelineBuildSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_build_schemas.PipelineBuildSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_deployment_schemas" class="md-nav__link">
    pipeline_deployment_schemas
  </a>
  
    <nav class="md-nav" aria-label="pipeline_deployment_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_deployment_schemas.PipelineDeploymentSchema" class="md-nav__link">
    PipelineDeploymentSchema
  </a>
  
    <nav class="md-nav" aria-label="PipelineDeploymentSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_deployment_schemas.PipelineDeploymentSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_deployment_schemas.PipelineDeploymentSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_run_schemas" class="md-nav__link">
    pipeline_run_schemas
  </a>
  
    <nav class="md-nav" aria-label="pipeline_run_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_run_schemas.PipelineRunSchema" class="md-nav__link">
    PipelineRunSchema
  </a>
  
    <nav class="md-nav" aria-label="PipelineRunSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_run_schemas.PipelineRunSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_run_schemas.PipelineRunSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_run_schemas.PipelineRunSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_schemas" class="md-nav__link">
    pipeline_schemas
  </a>
  
    <nav class="md-nav" aria-label="pipeline_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_schemas.PipelineSchema" class="md-nav__link">
    PipelineSchema
  </a>
  
    <nav class="md-nav" aria-label="PipelineSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_schemas.PipelineSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_schemas.PipelineSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.pipeline_schemas.PipelineSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas" class="md-nav__link">
    role_schemas
  </a>
  
    <nav class="md-nav" aria-label="role_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.RolePermissionSchema" class="md-nav__link">
    RolePermissionSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.RoleSchema" class="md-nav__link">
    RoleSchema
  </a>
  
    <nav class="md-nav" aria-label="RoleSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.RoleSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.RoleSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.RoleSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.TeamRoleAssignmentSchema" class="md-nav__link">
    TeamRoleAssignmentSchema
  </a>
  
    <nav class="md-nav" aria-label="TeamRoleAssignmentSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.TeamRoleAssignmentSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.TeamRoleAssignmentSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.UserRoleAssignmentSchema" class="md-nav__link">
    UserRoleAssignmentSchema
  </a>
  
    <nav class="md-nav" aria-label="UserRoleAssignmentSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.UserRoleAssignmentSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.role_schemas.UserRoleAssignmentSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.run_metadata_schemas" class="md-nav__link">
    run_metadata_schemas
  </a>
  
    <nav class="md-nav" aria-label="run_metadata_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.run_metadata_schemas.RunMetadataSchema" class="md-nav__link">
    RunMetadataSchema
  </a>
  
    <nav class="md-nav" aria-label="RunMetadataSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.run_metadata_schemas.RunMetadataSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.run_metadata_schemas.RunMetadataSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schedule_schema" class="md-nav__link">
    schedule_schema
  </a>
  
    <nav class="md-nav" aria-label="schedule_schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schedule_schema.ScheduleSchema" class="md-nav__link">
    ScheduleSchema
  </a>
  
    <nav class="md-nav" aria-label="ScheduleSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schedule_schema.ScheduleSchema.from_create_model" class="md-nav__link">
    from_create_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schedule_schema.ScheduleSchema.from_update_model" class="md-nav__link">
    from_update_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schedule_schema.ScheduleSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schema_utils" class="md-nav__link">
    schema_utils
  </a>
  
    <nav class="md-nav" aria-label="schema_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schema_utils.build_foreign_key_field" class="md-nav__link">
    build_foreign_key_field()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.schema_utils.foreign_key_constraint_name" class="md-nav__link">
    foreign_key_constraint_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.secret_schemas" class="md-nav__link">
    secret_schemas
  </a>
  
    <nav class="md-nav" aria-label="secret_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.secret_schemas.SecretSchema" class="md-nav__link">
    SecretSchema
  </a>
  
    <nav class="md-nav" aria-label="SecretSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.secret_schemas.SecretSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.secret_schemas.SecretSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.secret_schemas.SecretSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas" class="md-nav__link">
    service_connector_schemas
  </a>
  
    <nav class="md-nav" aria-label="service_connector_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema" class="md-nav__link">
    ServiceConnectorSchema
  </a>
  
    <nav class="md-nav" aria-label="ServiceConnectorSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.labels_dict" class="md-nav__link">
    labels_dict
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.resource_types_list" class="md-nav__link">
    resource_types_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.has_labels" class="md-nav__link">
    has_labels()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.stack_schemas" class="md-nav__link">
    stack_schemas
  </a>
  
    <nav class="md-nav" aria-label="stack_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.stack_schemas.StackCompositionSchema" class="md-nav__link">
    StackCompositionSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.stack_schemas.StackSchema" class="md-nav__link">
    StackSchema
  </a>
  
    <nav class="md-nav" aria-label="StackSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.stack_schemas.StackSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.stack_schemas.StackSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas" class="md-nav__link">
    step_run_schemas
  </a>
  
    <nav class="md-nav" aria-label="step_run_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunInputArtifactSchema" class="md-nav__link">
    StepRunInputArtifactSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunOutputArtifactSchema" class="md-nav__link">
    StepRunOutputArtifactSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunParentsSchema" class="md-nav__link">
    StepRunParentsSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunSchema" class="md-nav__link">
    StepRunSchema
  </a>
  
    <nav class="md-nav" aria-label="StepRunSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.step_run_schemas.StepRunSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.team_schemas" class="md-nav__link">
    team_schemas
  </a>
  
    <nav class="md-nav" aria-label="team_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.team_schemas.TeamAssignmentSchema" class="md-nav__link">
    TeamAssignmentSchema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.team_schemas.TeamSchema" class="md-nav__link">
    TeamSchema
  </a>
  
    <nav class="md-nav" aria-label="TeamSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.team_schemas.TeamSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.team_schemas.TeamSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.user_schemas" class="md-nav__link">
    user_schemas
  </a>
  
    <nav class="md-nav" aria-label="user_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.user_schemas.UserSchema" class="md-nav__link">
    UserSchema
  </a>
  
    <nav class="md-nav" aria-label="UserSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.user_schemas.UserSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.user_schemas.UserSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.user_schemas.UserSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.workspace_schemas" class="md-nav__link">
    workspace_schemas
  </a>
  
    <nav class="md-nav" aria-label="workspace_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.workspace_schemas.WorkspaceSchema" class="md-nav__link">
    WorkspaceSchema
  </a>
  
    <nav class="md-nav" aria-label="WorkspaceSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.workspace_schemas.WorkspaceSchema.from_request" class="md-nav__link">
    from_request()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.workspace_schemas.WorkspaceSchema.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.schemas.workspace_schemas.WorkspaceSchema.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores" class="md-nav__link">
    secrets_stores
  </a>
  
    <nav class="md-nav" aria-label="secrets_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store" class="md-nav__link">
    aws_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="aws_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore" class="md-nav__link">
    AWSSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="AWSSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.client" class="md-nav__link">
    client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStoreConfiguration" class="md-nav__link">
    AWSSecretsStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="AWSSecretsStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store" class="md-nav__link">
    azure_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="azure_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore" class="md-nav__link">
    AzureSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="AzureSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.client" class="md-nav__link">
    client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStoreConfiguration" class="md-nav__link">
    AzureSecretsStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="AzureSecretsStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store" class="md-nav__link">
    base_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="base_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore" class="md-nav__link">
    BaseSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="BaseSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.type" class="md-nav__link">
    type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.zen_store" class="md-nav__link">
    zen_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.create_store" class="md-nav__link">
    create_store()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.get_store_class" class="md-nav__link">
    get_store_class()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store" class="md-nav__link">
    gcp_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="gcp_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore" class="md-nav__link">
    GCPSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="GCPSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.client" class="md-nav__link">
    client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.parent_name" class="md-nav__link">
    parent_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStoreConfiguration" class="md-nav__link">
    GCPSecretsStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="GCPSecretsStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store" class="md-nav__link">
    hashicorp_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="hashicorp_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore" class="md-nav__link">
    HashiCorpVaultSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="HashiCorpVaultSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.client" class="md-nav__link">
    client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStoreConfiguration" class="md-nav__link">
    HashiCorpVaultSecretsStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="HashiCorpVaultSecretsStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store" class="md-nav__link">
    rest_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="rest_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore" class="md-nav__link">
    RestSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="RestSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.zen_store" class="md-nav__link">
    zen_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStoreConfiguration" class="md-nav__link">
    RestSecretsStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="RestSecretsStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface" class="md-nav__link">
    secrets_store_interface
  </a>
  
    <nav class="md-nav" aria-label="secrets_store_interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface" class="md-nav__link">
    SecretsStoreInterface
  </a>
  
    <nav class="md-nav" aria-label="SecretsStoreInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store" class="md-nav__link">
    sql_secrets_store
  </a>
  
    <nav class="md-nav" aria-label="sql_secrets_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore" class="md-nav__link">
    SqlSecretsStore
  </a>
  
    <nav class="md-nav" aria-label="SqlSecretsStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.engine" class="md-nav__link">
    engine
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.zen_store" class="md-nav__link">
    zen_store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.create_secret" class="md-nav__link">
    create_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.delete_secret" class="md-nav__link">
    delete_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.get_secret" class="md-nav__link">
    get_secret()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.list_secrets" class="md-nav__link">
    list_secrets()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.update_secret" class="md-nav__link">
    update_secret()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStoreConfiguration" class="md-nav__link">
    SqlSecretsStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="SqlSecretsStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store" class="md-nav__link">
    sql_zen_store
  </a>
  
    <nav class="md-nav" aria-label="sql_zen_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SQLDatabaseDriver" class="md-nav__link">
    SQLDatabaseDriver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore" class="md-nav__link">
    SqlZenStore
  </a>
  
    <nav class="md-nav" aria-label="SqlZenStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.alembic" class="md-nav__link">
    alembic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.engine" class="md-nav__link">
    engine
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.runs_inside_server" class="md-nav__link">
    runs_inside_server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE" class="md-nav__link">
    CONFIG_TYPE
  </a>
  
    <nav class="md-nav" aria-label="CONFIG_TYPE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.copy_configuration" class="md-nav__link">
    copy_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.expand_certificates" class="md-nav__link">
    expand_certificates()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.get_local_url" class="md-nav__link">
    get_local_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.get_sqlmodel_config" class="md-nav__link">
    get_sqlmodel_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.supports_url_scheme" class="md-nav__link">
    supports_url_scheme()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.validate_secrets_store" class="md-nav__link">
    validate_secrets_store()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.count_pipelines" class="md-nav__link">
    count_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.count_runs" class="md-nav__link">
    count_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.count_stack_components" class="md-nav__link">
    count_stack_components()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.count_stacks" class="md-nav__link">
    count_stacks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_artifact" class="md-nav__link">
    create_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_build" class="md-nav__link">
    create_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_code_repository" class="md-nav__link">
    create_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_deployment" class="md-nav__link">
    create_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_flavor" class="md-nav__link">
    create_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_pipeline" class="md-nav__link">
    create_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_role" class="md-nav__link">
    create_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_run" class="md-nav__link">
    create_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_run_metadata" class="md-nav__link">
    create_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_run_step" class="md-nav__link">
    create_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_schedule" class="md-nav__link">
    create_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_service_connector" class="md-nav__link">
    create_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_stack" class="md-nav__link">
    create_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_stack_component" class="md-nav__link">
    create_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_team" class="md-nav__link">
    create_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_team_role_assignment" class="md-nav__link">
    create_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_user" class="md-nav__link">
    create_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_user_role_assignment" class="md-nav__link">
    create_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.create_workspace" class="md-nav__link">
    create_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_artifact" class="md-nav__link">
    delete_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_build" class="md-nav__link">
    delete_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_code_repository" class="md-nav__link">
    delete_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_deployment" class="md-nav__link">
    delete_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_flavor" class="md-nav__link">
    delete_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_pipeline" class="md-nav__link">
    delete_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_role" class="md-nav__link">
    delete_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_run" class="md-nav__link">
    delete_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_schedule" class="md-nav__link">
    delete_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_service_connector" class="md-nav__link">
    delete_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_stack" class="md-nav__link">
    delete_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_stack_component" class="md-nav__link">
    delete_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_team" class="md-nav__link">
    delete_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_team_role_assignment" class="md-nav__link">
    delete_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_user" class="md-nav__link">
    delete_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_user_role_assignment" class="md-nav__link">
    delete_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.delete_workspace" class="md-nav__link">
    delete_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.filter_and_paginate" class="md-nav__link">
    filter_and_paginate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_artifact" class="md-nav__link">
    get_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_auth_user" class="md-nav__link">
    get_auth_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_build" class="md-nav__link">
    get_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_code_repository" class="md-nav__link">
    get_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_deployment" class="md-nav__link">
    get_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_flavor" class="md-nav__link">
    get_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_or_create_run" class="md-nav__link">
    get_or_create_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_pipeline" class="md-nav__link">
    get_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_role" class="md-nav__link">
    get_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_run" class="md-nav__link">
    get_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_run_step" class="md-nav__link">
    get_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_schedule" class="md-nav__link">
    get_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_service_connector" class="md-nav__link">
    get_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_service_connector_client" class="md-nav__link">
    get_service_connector_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_service_connector_type" class="md-nav__link">
    get_service_connector_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_stack" class="md-nav__link">
    get_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_stack_component" class="md-nav__link">
    get_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_store_info" class="md-nav__link">
    get_store_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_team" class="md-nav__link">
    get_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_team_role_assignment" class="md-nav__link">
    get_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_user" class="md-nav__link">
    get_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_user_role_assignment" class="md-nav__link">
    get_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.get_workspace" class="md-nav__link">
    get_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_artifacts" class="md-nav__link">
    list_artifacts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_builds" class="md-nav__link">
    list_builds()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_code_repositories" class="md-nav__link">
    list_code_repositories()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_deployments" class="md-nav__link">
    list_deployments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_flavors" class="md-nav__link">
    list_flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_pipelines" class="md-nav__link">
    list_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_roles" class="md-nav__link">
    list_roles()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_run_metadata" class="md-nav__link">
    list_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_run_steps" class="md-nav__link">
    list_run_steps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_schedules" class="md-nav__link">
    list_schedules()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_service_connector_resources" class="md-nav__link">
    list_service_connector_resources()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_service_connector_types" class="md-nav__link">
    list_service_connector_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_service_connectors" class="md-nav__link">
    list_service_connectors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_stack_components" class="md-nav__link">
    list_stack_components()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_stacks" class="md-nav__link">
    list_stacks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_team_role_assignments" class="md-nav__link">
    list_team_role_assignments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_teams" class="md-nav__link">
    list_teams()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_user_role_assignments" class="md-nav__link">
    list_user_role_assignments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_users" class="md-nav__link">
    list_users()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.list_workspaces" class="md-nav__link">
    list_workspaces()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.migrate_database" class="md-nav__link">
    migrate_database()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_code_repository" class="md-nav__link">
    update_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_flavor" class="md-nav__link">
    update_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_pipeline" class="md-nav__link">
    update_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_role" class="md-nav__link">
    update_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_run" class="md-nav__link">
    update_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_run_step" class="md-nav__link">
    update_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_schedule" class="md-nav__link">
    update_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_service_connector" class="md-nav__link">
    update_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_stack" class="md-nav__link">
    update_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_stack_component" class="md-nav__link">
    update_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_team" class="md-nav__link">
    update_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_user" class="md-nav__link">
    update_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.update_workspace" class="md-nav__link">
    update_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.verify_service_connector" class="md-nav__link">
    verify_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStore.verify_service_connector_config" class="md-nav__link">
    verify_service_connector_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration" class="md-nav__link">
    SqlZenStoreConfiguration
  </a>
  
    <nav class="md-nav" aria-label="SqlZenStoreConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.copy_configuration" class="md-nav__link">
    copy_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.expand_certificates" class="md-nav__link">
    expand_certificates()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.get_local_url" class="md-nav__link">
    get_local_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.get_sqlmodel_config" class="md-nav__link">
    get_sqlmodel_config()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.supports_url_scheme" class="md-nav__link">
    supports_url_scheme()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.validate_secrets_store" class="md-nav__link">
    validate_secrets_store()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface" class="md-nav__link">
    zen_store_interface
  </a>
  
    <nav class="md-nav" aria-label="zen_store_interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface" class="md-nav__link">
    ZenStoreInterface
  </a>
  
    <nav class="md-nav" aria-label="ZenStoreInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_artifact" class="md-nav__link">
    create_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_build" class="md-nav__link">
    create_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_code_repository" class="md-nav__link">
    create_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_deployment" class="md-nav__link">
    create_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_flavor" class="md-nav__link">
    create_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_pipeline" class="md-nav__link">
    create_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_role" class="md-nav__link">
    create_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_run" class="md-nav__link">
    create_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_run_metadata" class="md-nav__link">
    create_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_run_step" class="md-nav__link">
    create_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_schedule" class="md-nav__link">
    create_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_service_connector" class="md-nav__link">
    create_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_stack" class="md-nav__link">
    create_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_stack_component" class="md-nav__link">
    create_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_team" class="md-nav__link">
    create_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_team_role_assignment" class="md-nav__link">
    create_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_user" class="md-nav__link">
    create_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_user_role_assignment" class="md-nav__link">
    create_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_workspace" class="md-nav__link">
    create_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_artifact" class="md-nav__link">
    delete_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_build" class="md-nav__link">
    delete_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_code_repository" class="md-nav__link">
    delete_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_deployment" class="md-nav__link">
    delete_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_flavor" class="md-nav__link">
    delete_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_pipeline" class="md-nav__link">
    delete_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_role" class="md-nav__link">
    delete_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_run" class="md-nav__link">
    delete_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_schedule" class="md-nav__link">
    delete_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_service_connector" class="md-nav__link">
    delete_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_stack" class="md-nav__link">
    delete_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_stack_component" class="md-nav__link">
    delete_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_team" class="md-nav__link">
    delete_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_team_role_assignment" class="md-nav__link">
    delete_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_user" class="md-nav__link">
    delete_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_user_role_assignment" class="md-nav__link">
    delete_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_workspace" class="md-nav__link">
    delete_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_artifact" class="md-nav__link">
    get_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_build" class="md-nav__link">
    get_build()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_code_repository" class="md-nav__link">
    get_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_deployment" class="md-nav__link">
    get_deployment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_flavor" class="md-nav__link">
    get_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_or_create_run" class="md-nav__link">
    get_or_create_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_pipeline" class="md-nav__link">
    get_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_role" class="md-nav__link">
    get_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_run" class="md-nav__link">
    get_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_run_step" class="md-nav__link">
    get_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_schedule" class="md-nav__link">
    get_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_service_connector" class="md-nav__link">
    get_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_service_connector_client" class="md-nav__link">
    get_service_connector_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_service_connector_type" class="md-nav__link">
    get_service_connector_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_stack" class="md-nav__link">
    get_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_stack_component" class="md-nav__link">
    get_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_store_info" class="md-nav__link">
    get_store_info()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_team" class="md-nav__link">
    get_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_team_role_assignment" class="md-nav__link">
    get_team_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_user" class="md-nav__link">
    get_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_user_role_assignment" class="md-nav__link">
    get_user_role_assignment()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_workspace" class="md-nav__link">
    get_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_artifacts" class="md-nav__link">
    list_artifacts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_builds" class="md-nav__link">
    list_builds()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_code_repositories" class="md-nav__link">
    list_code_repositories()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_deployments" class="md-nav__link">
    list_deployments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_flavors" class="md-nav__link">
    list_flavors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_pipelines" class="md-nav__link">
    list_pipelines()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_roles" class="md-nav__link">
    list_roles()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_run_metadata" class="md-nav__link">
    list_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_run_steps" class="md-nav__link">
    list_run_steps()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_runs" class="md-nav__link">
    list_runs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_schedules" class="md-nav__link">
    list_schedules()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_service_connector_resources" class="md-nav__link">
    list_service_connector_resources()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_service_connector_types" class="md-nav__link">
    list_service_connector_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_service_connectors" class="md-nav__link">
    list_service_connectors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_stack_components" class="md-nav__link">
    list_stack_components()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_stacks" class="md-nav__link">
    list_stacks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_team_role_assignments" class="md-nav__link">
    list_team_role_assignments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_teams" class="md-nav__link">
    list_teams()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_user_role_assignments" class="md-nav__link">
    list_user_role_assignments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_users" class="md-nav__link">
    list_users()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_workspaces" class="md-nav__link">
    list_workspaces()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_code_repository" class="md-nav__link">
    update_code_repository()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_flavor" class="md-nav__link">
    update_flavor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_pipeline" class="md-nav__link">
    update_pipeline()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_role" class="md-nav__link">
    update_role()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_run" class="md-nav__link">
    update_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_run_step" class="md-nav__link">
    update_run_step()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_schedule" class="md-nav__link">
    update_schedule()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_service_connector" class="md-nav__link">
    update_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_stack" class="md-nav__link">
    update_stack()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_stack_component" class="md-nav__link">
    update_stack_component()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_team" class="md-nav__link">
    update_team()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_user" class="md-nav__link">
    update_user()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_workspace" class="md-nav__link">
    update_workspace()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.verify_service_connector" class="md-nav__link">
    verify_service_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface.verify_service_connector_config" class="md-nav__link">
    verify_service_connector_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zenml-io/zenml/docs/core_code_docs/core-zen_stores.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="zen-stores">Zen Stores</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.zen_stores" class="doc doc-heading">
        <code>zenml.zen_stores</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>ZenStores define ways to store ZenML relevant data locally or remotely.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_stores.base_zen_store" class="doc doc-heading">
        <code>base_zen_store</code>



</h3>

    <div class="doc doc-contents ">

      <p>Base Zen Store implementation.</p>



  <div class="doc doc-children">















  <div class="doc doc-object doc-class">



<h4 id="zenml.zen_stores.base_zen_store.BaseZenStore" class="doc doc-heading">
        <code>
BaseZenStore            (<span title="pydantic.main.BaseModel">BaseModel</span>, <a class="autorefs autorefs-internal" title="zenml.zen_stores.zen_store_interface.ZenStoreInterface" href="#zenml.zen_stores.zen_store_interface.ZenStoreInterface">ZenStoreInterface</a>, <a class="autorefs autorefs-internal" title="zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface" href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface">SecretsStoreInterface</a>, <span title="abc.ABC">ABC</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Base class for accessing and persisting ZenML core objects.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>StoreConfiguration</code></td>
        <td><p>The configuration of the store.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseZenStore</span><span class="p">(</span>
    <span class="n">BaseModel</span><span class="p">,</span>
    <span class="n">ZenStoreInterface</span><span class="p">,</span>
    <span class="n">SecretsStoreInterface</span><span class="p">,</span>
    <span class="n">ABC</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for accessing and persisting ZenML core objects.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: The configuration of the store.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">StoreConfiguration</span>
    <span class="n">_secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseSecretsStore</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_event_handlers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">StoreEvent</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">StoreType</span><span class="p">]</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">StoreConfiguration</span><span class="p">]]</span>

    <span class="c1"># ---------------------------------</span>
    <span class="c1"># Initialization and configuration</span>
    <span class="c1"># ---------------------------------</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">skip_default_registrations</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create and initialize a store.</span>

<span class="sd">        Args:</span>
<span class="sd">            skip_default_registrations: If `True`, the creation of the default</span>
<span class="sd">                stack and user in the store will be skipped.</span>
<span class="sd">            **kwargs: Additional keyword arguments to pass to the Pydantic</span>
<span class="sd">                constructor.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the store cannot be initialized.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_initialize</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error initializing </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> store with URL &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">skip_default_registrations</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Initializing database&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_database</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Skipping database initialization&quot;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_store_class</span><span class="p">(</span><span class="n">store_type</span><span class="p">:</span> <span class="n">StoreType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseZenStore&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the class of the given store type.</span>

<span class="sd">        Args:</span>
<span class="sd">            store_type: The type of the store to get the class for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The class of the given store type or None if the type is unknown.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the store type is unsupported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">store_type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">SQL</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.zen_stores.sql_zen_store</span> <span class="kn">import</span> <span class="n">SqlZenStore</span>

            <span class="k">return</span> <span class="n">SqlZenStore</span>
        <span class="k">elif</span> <span class="n">store_type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.zen_stores.rest_zen_store</span> <span class="kn">import</span> <span class="n">RestZenStore</span>

            <span class="k">return</span> <span class="n">RestZenStore</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No store implementation found for store type &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">store_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">`.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_store_config_class</span><span class="p">(</span>
        <span class="n">store_type</span><span class="p">:</span> <span class="n">StoreType</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the store config class of the given store type.</span>

<span class="sd">        Args:</span>
<span class="sd">            store_type: The type of the store to get the class for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The config class of the given store type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">store_class</span> <span class="o">=</span> <span class="n">BaseZenStore</span><span class="o">.</span><span class="n">get_store_class</span><span class="p">(</span><span class="n">store_type</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">store_class</span><span class="o">.</span><span class="n">CONFIG_TYPE</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_store_type</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreType</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the store type associated with a URL schema.</span>

<span class="sd">        Args:</span>
<span class="sd">            url: The store URL.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The store type associated with the supplied URL schema.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If no store type was found to support the supplied URL.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.rest_zen_store</span> <span class="kn">import</span> <span class="n">RestZenStoreConfiguration</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.sql_zen_store</span> <span class="kn">import</span> <span class="n">SqlZenStoreConfiguration</span>

        <span class="k">if</span> <span class="n">SqlZenStoreConfiguration</span><span class="o">.</span><span class="n">supports_url_scheme</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">SQL</span>
        <span class="k">elif</span> <span class="n">RestZenStoreConfiguration</span><span class="o">.</span><span class="n">supports_url_scheme</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No store implementation found for URL: </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">create_store</span><span class="p">(</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">StoreConfiguration</span><span class="p">,</span>
        <span class="n">skip_default_registrations</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseZenStore&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create and initialize a store from a store configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The store configuration to use.</span>
<span class="sd">            skip_default_registrations: If `True`, the creation of the default</span>
<span class="sd">                stack and user in the store will be skipped.</span>
<span class="sd">            **kwargs: Additional keyword arguments to pass to the store class</span>

<span class="sd">        Returns:</span>
<span class="sd">            The initialized store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating store with config &#39;</span><span class="si">{</span><span class="n">config</span><span class="si">}</span><span class="s2">&#39;...&quot;</span><span class="p">)</span>
        <span class="n">store_class</span> <span class="o">=</span> <span class="n">BaseZenStore</span><span class="o">.</span><span class="n">get_store_class</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="n">store</span> <span class="o">=</span> <span class="n">store_class</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
            <span class="n">skip_default_registrations</span><span class="o">=</span><span class="n">skip_default_registrations</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">secrets_store_config</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secrets_store</span>

        <span class="c1"># Initialize the secrets store</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">secrets_store_config</span>
            <span class="ow">and</span> <span class="n">secrets_store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">NONE</span>
        <span class="p">):</span>
            <span class="n">secrets_store_class</span> <span class="o">=</span> <span class="n">BaseSecretsStore</span><span class="o">.</span><span class="n">get_store_class</span><span class="p">(</span>
                <span class="n">secrets_store_config</span>
            <span class="p">)</span>
            <span class="n">store</span><span class="o">.</span><span class="n">_secrets_store</span> <span class="o">=</span> <span class="n">secrets_store_class</span><span class="p">(</span>
                <span class="n">zen_store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
                <span class="n">config</span><span class="o">=</span><span class="n">secrets_store_config</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># Update the config with the actual secrets store config</span>
            <span class="c1"># to reflect the default values in the saved configuration</span>
            <span class="n">store</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secrets_store</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">_secrets_store</span><span class="o">.</span><span class="n">config</span>
        <span class="k">return</span> <span class="n">store</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_default_store_config</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreConfiguration</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the default store configuration.</span>

<span class="sd">        The default store is a SQLite store that saves the DB contents on the</span>
<span class="sd">        local filesystem.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The local path where the store DB will be stored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The default store configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.sql_zen_store</span> <span class="kn">import</span> <span class="n">SqlZenStoreConfiguration</span>

        <span class="n">config</span> <span class="o">=</span> <span class="n">SqlZenStoreConfiguration</span><span class="p">(</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">StoreType</span><span class="o">.</span><span class="n">SQL</span><span class="p">,</span>
            <span class="n">url</span><span class="o">=</span><span class="n">SqlZenStoreConfiguration</span><span class="o">.</span><span class="n">get_local_url</span><span class="p">(</span><span class="n">path</span><span class="p">),</span>
            <span class="n">secrets_store</span><span class="o">=</span><span class="n">SqlSecretsStoreConfiguration</span><span class="p">(</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">SQL</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">config</span>

    <span class="k">def</span> <span class="nf">_initialize_database</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the database on first use.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">default_workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_workspace</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">default_workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_default_workspace</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_admin_role</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_admin_role</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guest_role</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_guest_role</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">default_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_user</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">default_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_default_user</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_default_stack</span><span class="p">(</span>
                <span class="n">workspace_name_or_id</span><span class="o">=</span><span class="n">default_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user_name_or_id</span><span class="o">=</span><span class="n">default_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_create_default_stack</span><span class="p">(</span>
                <span class="n">workspace_name_or_id</span><span class="o">=</span><span class="n">default_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user_name_or_id</span><span class="o">=</span><span class="n">default_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The URL of the store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The URL of the store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">url</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreType</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The type of the store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The type of the store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">TYPE</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">secrets_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseSecretsStore&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The secrets store associated with this store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secrets store associated with this store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_secrets_store</span>

    <span class="k">def</span> <span class="nf">validate_active_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">active_workspace_name_or_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">active_stack_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">config_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">WorkspaceResponseModel</span><span class="p">,</span> <span class="n">StackResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate the active configuration.</span>

<span class="sd">        Call this method to validate the supplied active workspace and active</span>
<span class="sd">        stack values.</span>

<span class="sd">        This method is guaranteed to return valid workspace ID and stack ID</span>
<span class="sd">        values. If the supplied workspace and stack are not set or are not valid</span>
<span class="sd">        (e.g. they do not exist or are not accessible), the default workspace and</span>
<span class="sd">        default workspace stack will be returned in their stead.</span>

<span class="sd">        Args:</span>
<span class="sd">            active_workspace_name_or_id: The name or ID of the active workspace.</span>
<span class="sd">            active_stack_id: The ID of the active stack.</span>
<span class="sd">            config_name: The name of the configuration to validate (used in the</span>
<span class="sd">                displayed logs/messages).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple containing the active workspace and active stack.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">active_workspace</span><span class="p">:</span> <span class="n">WorkspaceResponseModel</span>

        <span class="k">if</span> <span class="n">active_workspace_name_or_id</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">active_workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span>
                    <span class="n">active_workspace_name_or_id</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">active_workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_default_workspace</span><span class="p">()</span>

                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The current </span><span class="si">{</span><span class="n">config_name</span><span class="si">}</span><span class="s2"> active workspace is no longer &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;available. Resetting the active workspace to &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">active_workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_default_workspace</span><span class="p">()</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Setting the </span><span class="si">{</span><span class="n">config_name</span><span class="si">}</span><span class="s2"> active workspace &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;to &#39;</span><span class="si">{</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="n">active_stack</span><span class="p">:</span> <span class="n">StackResponseModel</span>

        <span class="c1"># Sanitize the active stack</span>
        <span class="k">if</span> <span class="n">active_stack_id</span><span class="p">:</span>
            <span class="c1"># Ensure that the active stack is still valid</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">active_stack</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_stack</span><span class="p">(</span><span class="n">stack_id</span><span class="o">=</span><span class="n">active_stack_id</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;The current </span><span class="si">%s</span><span class="s2"> active stack is no longer available. &quot;</span>
                    <span class="s2">&quot;Resetting the active stack to default.&quot;</span><span class="p">,</span>
                    <span class="n">config_name</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">active_stack</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_default_stack</span><span class="p">(</span>
                    <span class="n">active_workspace</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">active_stack</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="s2">&quot;The current </span><span class="si">%s</span><span class="s2"> active stack is not part of the active &quot;</span>
                        <span class="s2">&quot;workspace. Resetting the active stack to default.&quot;</span><span class="p">,</span>
                        <span class="n">config_name</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">active_stack</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_default_stack</span><span class="p">(</span>
                        <span class="n">active_workspace</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="ow">not</span> <span class="n">active_stack</span><span class="o">.</span><span class="n">is_shared</span> <span class="ow">and</span> <span class="p">(</span>
                    <span class="ow">not</span> <span class="n">active_stack</span><span class="o">.</span><span class="n">user</span>
                    <span class="ow">or</span> <span class="p">(</span><span class="n">active_stack</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_user</span><span class="p">()</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                <span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="s2">&quot;The current </span><span class="si">%s</span><span class="s2"> active stack is not shared and not &quot;</span>
                        <span class="s2">&quot;owned by the active user. &quot;</span>
                        <span class="s2">&quot;Resetting the active stack to default.&quot;</span><span class="p">,</span>
                        <span class="n">config_name</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">active_stack</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_default_stack</span><span class="p">(</span>
                        <span class="n">active_workspace</span>
                    <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Setting the </span><span class="si">%s</span><span class="s2"> active stack to default.&quot;</span><span class="p">,</span>
                <span class="n">config_name</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">active_stack</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_default_stack</span><span class="p">(</span><span class="n">active_workspace</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">active_workspace</span><span class="p">,</span> <span class="n">active_stack</span>

    <span class="k">def</span> <span class="nf">get_store_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get information about the store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Information about the store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ServerModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">zenml</span><span class="o">.</span><span class="n">__version__</span><span class="p">,</span>
            <span class="n">deployment_type</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">ENV_ZENML_SERVER_DEPLOYMENT_TYPE</span><span class="p">,</span> <span class="n">ServerDeploymentType</span><span class="o">.</span><span class="n">OTHER</span>
            <span class="p">),</span>
            <span class="n">database_type</span><span class="o">=</span><span class="n">ServerDatabaseType</span><span class="o">.</span><span class="n">OTHER</span><span class="p">,</span>
            <span class="n">debug</span><span class="o">=</span><span class="n">IS_DEBUG_ENV</span><span class="p">,</span>
            <span class="n">secrets_store_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">type</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span>
            <span class="k">else</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_local_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the store is local or connected to a local ZenML server.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the store is local, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span><span class="o">.</span><span class="n">is_local</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_or_create_default_stack</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceResponseModel&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StackResponseModel&quot;</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_default_stack</span><span class="p">(</span>
                <span class="n">workspace_name_or_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user_name_or_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_user</span><span class="p">()</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_default_stack</span><span class="p">(</span>
                <span class="n">workspace_name_or_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user_name_or_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_user</span><span class="p">()</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_or_create_default_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WorkspaceResponseModel&quot;</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_workspace</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_default_workspace</span><span class="p">()</span>

    <span class="c1"># --------------</span>
    <span class="c1"># Event Handlers</span>
    <span class="c1"># --------------</span>

    <span class="k">def</span> <span class="nf">register_event_handler</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">event</span><span class="p">:</span> <span class="n">StoreEvent</span><span class="p">,</span>
        <span class="n">handler</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register an external event handler.</span>

<span class="sd">        The handler will be called when the store event is triggered.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: The event to register the handler for.</span>
<span class="sd">            handler: The handler function to register.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_event_handlers</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_trigger_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">StoreEvent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Trigger an event and call all registered handlers.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: The event to trigger.</span>
<span class="sd">            **kwargs: The event arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">handler</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_handlers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="p">[]):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">handler</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Silently ignoring error caught while triggering event &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;store handler for event </span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span>

    <span class="c1"># ------</span>
    <span class="c1"># Stacks</span>
    <span class="c1"># ------</span>

    <span class="k">def</span> <span class="nf">_create_default_stack</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create the default stack components and stack.</span>

<span class="sd">        The default stack contains a local orchestrator and a local artifact</span>
<span class="sd">        store.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_name_or_id: Name or ID of the workspace to which the stack</span>
<span class="sd">                belongs.</span>
<span class="sd">            user_name_or_id: The name or ID of the user that owns the stack.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model of the created default stack.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">analytics_disabler</span><span class="p">():</span>
            <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span>
                <span class="n">workspace_name_or_id</span><span class="o">=</span><span class="n">workspace_name_or_id</span>
            <span class="p">)</span>
            <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="o">=</span><span class="n">user_name_or_id</span><span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Creating default stack for user &#39;</span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; in workspace &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">...&quot;</span>
            <span class="p">)</span>

            <span class="c1"># Register the default orchestrator</span>
            <span class="n">orchestrator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_stack_component</span><span class="p">(</span>
                <span class="n">component</span><span class="o">=</span><span class="n">ComponentRequestModel</span><span class="p">(</span>
                    <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">DEFAULT_STACK_COMPONENT_NAME</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                    <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;local&quot;</span><span class="p">,</span>
                    <span class="n">configuration</span><span class="o">=</span><span class="p">{},</span>
                <span class="p">),</span>
            <span class="p">)</span>

            <span class="c1"># Register the default artifact store</span>
            <span class="n">artifact_store</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_stack_component</span><span class="p">(</span>
                <span class="n">component</span><span class="o">=</span><span class="n">ComponentRequestModel</span><span class="p">(</span>
                    <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">DEFAULT_STACK_COMPONENT_NAME</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
                    <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;local&quot;</span><span class="p">,</span>
                    <span class="n">configuration</span><span class="o">=</span><span class="p">{},</span>
                <span class="p">),</span>
            <span class="p">)</span>

            <span class="n">components</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">c</span><span class="o">.</span><span class="n">type</span><span class="p">:</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="n">orchestrator</span><span class="p">,</span> <span class="n">artifact_store</span><span class="p">]</span>
            <span class="p">}</span>
            <span class="c1"># Register the default stack</span>
            <span class="n">stack</span> <span class="o">=</span> <span class="n">StackRequestModel</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">DEFAULT_STACK_NAME</span><span class="p">,</span>
                <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">,</span>
                <span class="n">is_shared</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_stack</span><span class="p">(</span><span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_default_stack</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the default stack for a user in a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_name_or_id: Name or ID of the workspace.</span>
<span class="sd">            user_name_or_id: Name or ID of the user.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The default stack in the workspace owned by the supplied user.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the workspace or default stack doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">default_stacks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_stacks</span><span class="p">(</span>
            <span class="n">StackFilterModel</span><span class="p">(</span>
                <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_name_or_id</span><span class="p">,</span>
                <span class="n">user_id</span><span class="o">=</span><span class="n">user_name_or_id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">DEFAULT_STACK_NAME</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">default_stacks</span><span class="o">.</span><span class="n">total</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No default stack found for user </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">)</span><span class="si">}</span><span class="s2"> in &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;workspace </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">default_stacks</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># -----</span>
    <span class="c1"># Roles</span>
    <span class="c1"># -----</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_admin_role</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the admin role.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The default admin role.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_role</span><span class="p">(</span><span class="n">DEFAULT_ADMIN_ROLE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_admin_role</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates the admin role.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The admin role</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating &#39;</span><span class="si">{</span><span class="n">DEFAULT_ADMIN_ROLE</span><span class="si">}</span><span class="s2">&#39; role ...&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_role</span><span class="p">(</span>
            <span class="n">RoleRequestModel</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">DEFAULT_ADMIN_ROLE</span><span class="p">,</span>
                <span class="n">permissions</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">PermissionType</span><span class="o">.</span><span class="n">READ</span><span class="p">,</span>
                    <span class="n">PermissionType</span><span class="o">.</span><span class="n">WRITE</span><span class="p">,</span>
                    <span class="n">PermissionType</span><span class="o">.</span><span class="n">ME</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_guest_role</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the guest role.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The guest role.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_role</span><span class="p">(</span><span class="n">DEFAULT_GUEST_ROLE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_guest_role</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates the guest role.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The guest role</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating &#39;</span><span class="si">{</span><span class="n">DEFAULT_GUEST_ROLE</span><span class="si">}</span><span class="s2">&#39; role ...&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_role</span><span class="p">(</span>
            <span class="n">RoleRequestModel</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">DEFAULT_GUEST_ROLE</span><span class="p">,</span>
                <span class="n">permissions</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">PermissionType</span><span class="o">.</span><span class="n">READ</span><span class="p">,</span>
                    <span class="n">PermissionType</span><span class="o">.</span><span class="n">ME</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># -----</span>
    <span class="c1"># Users</span>
    <span class="c1"># -----</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_default_user_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the default user name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The default user name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">ENV_ZENML_DEFAULT_USER_NAME</span><span class="p">,</span> <span class="n">DEFAULT_USERNAME</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_default_user</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the default user.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The default user.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the default user doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">user_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_user_name</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">user_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The default user &#39;</span><span class="si">{</span><span class="n">user_name</span><span class="si">}</span><span class="s2">&#39; is not configured&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_default_user</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a default user with the admin role.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The default user.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">user_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">ENV_ZENML_DEFAULT_USER_NAME</span><span class="p">,</span> <span class="n">DEFAULT_USERNAME</span><span class="p">)</span>
        <span class="n">user_password</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span>
            <span class="n">ENV_ZENML_DEFAULT_USER_PASSWORD</span><span class="p">,</span> <span class="n">DEFAULT_PASSWORD</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating default user &#39;</span><span class="si">{</span><span class="n">user_name</span><span class="si">}</span><span class="s2">&#39; ...&quot;</span><span class="p">)</span>
        <span class="n">new_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span>
            <span class="n">UserRequestModel</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">user_name</span><span class="p">,</span>
                <span class="n">active</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">password</span><span class="o">=</span><span class="n">user_password</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_user_role_assignment</span><span class="p">(</span>
            <span class="n">UserRoleAssignmentRequestModel</span><span class="p">(</span>
                <span class="n">role</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_admin_role</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">new_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">new_user</span>

    <span class="c1"># -----</span>
    <span class="c1"># Roles</span>
    <span class="c1"># -----</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">roles</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RoleResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;All existing roles.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all existing roles.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_roles</span><span class="p">(</span><span class="n">RoleFilterModel</span><span class="p">())</span>

    <span class="c1"># --------</span>
    <span class="c1"># Workspaces</span>
    <span class="c1"># --------</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_default_workspace_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the default workspace name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The default workspace name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span>
            <span class="n">ENV_ZENML_DEFAULT_WORKSPACE_NAME</span><span class="p">,</span> <span class="n">DEFAULT_WORKSPACE_NAME</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_default_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the default workspace.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The default workspace.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the default workspace doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">workspace_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_workspace_name</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The default workspace &#39;</span><span class="si">{</span><span class="n">workspace_name</span><span class="si">}</span><span class="s2">&#39; is not configured&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_default_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a default workspace.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The default workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">workspace_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_workspace_name</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating default workspace &#39;</span><span class="si">{</span><span class="n">workspace_name</span><span class="si">}</span><span class="s2">&#39; ...&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_workspace</span><span class="p">(</span>
            <span class="n">WorkspaceRequestModel</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">workspace_name</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Validate attributes when assigning them. We need to set this in order</span>
        <span class="c1"># to have a mix of mutable and immutable attributes</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># Ignore extra attributes from configs of previous ZenML versions</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
        <span class="c1"># all attributes with leading underscore are private and therefore</span>
        <span class="c1"># are mutable and not included in serialization</span>
        <span class="n">underscore_attrs_are_private</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.roles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">roles</span><span class="p">:</span> <span class="n">Page</span><span class="p">[</span><span class="n">RoleResponseModel</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>All existing roles.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[RoleResponseModel]</code></td>
      <td><p>A list of all existing roles.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.secrets_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseSecretsStore</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The secrets store associated with this store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[BaseSecretsStore]</code></td>
      <td><p>The secrets store associated with this store.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.type" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">type</span><span class="p">:</span> <span class="n">StoreType</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The type of the store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StoreType</code></td>
      <td><p>The type of the store.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">url</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The URL of the store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The URL of the store.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.Config" class="doc doc-heading">
        <code>
Config        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Validate attributes when assigning them. We need to set this in order</span>
    <span class="c1"># to have a mix of mutable and immutable attributes</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Ignore extra attributes from configs of previous ZenML versions</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
    <span class="c1"># all attributes with leading underscore are private and therefore</span>
    <span class="c1"># are mutable and not included in serialization</span>
    <span class="n">underscore_attrs_are_private</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">skip_default_registrations</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Create and initialize a store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>skip_default_registrations</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, the creation of the default
stack and user in the store will be skipped.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the Pydantic
constructor.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the store cannot be initialized.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">skip_default_registrations</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create and initialize a store.</span>

<span class="sd">    Args:</span>
<span class="sd">        skip_default_registrations: If `True`, the creation of the default</span>
<span class="sd">            stack and user in the store will be skipped.</span>
<span class="sd">        **kwargs: Additional keyword arguments to pass to the Pydantic</span>
<span class="sd">            constructor.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the store cannot be initialized.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initialize</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error initializing </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> store with URL &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">skip_default_registrations</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Initializing database&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_database</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Skipping database initialization&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.create_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new secret.</p>
<p>The new secret is also validated against the scoping rules enforced in
the secrets store:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>SecretRequestModel</code></td>
        <td><p>The secret to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The newly created secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the user or workspace does not exist.</p></td>
      </tr>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a secret with the same name already exists in
the same scope.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the secret is invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">    The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">    the secrets store:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the user or workspace does not exist.</span>
<span class="sd">        EntityExistsError: If a secret with the same name already exists in</span>
<span class="sd">            the same scope.</span>
<span class="sd">        ValueError: if the secret is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.create_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_store</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">skip_default_registrations</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Create and initialize a store from a store configuration.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>StoreConfiguration</code></td>
        <td><p>The store configuration to use.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>skip_default_registrations</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, the creation of the default
stack and user in the store will be skipped.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the store class</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseZenStore</code></td>
      <td><p>The initialized store.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">create_store</span><span class="p">(</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">StoreConfiguration</span><span class="p">,</span>
    <span class="n">skip_default_registrations</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseZenStore&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create and initialize a store from a store configuration.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The store configuration to use.</span>
<span class="sd">        skip_default_registrations: If `True`, the creation of the default</span>
<span class="sd">            stack and user in the store will be skipped.</span>
<span class="sd">        **kwargs: Additional keyword arguments to pass to the store class</span>

<span class="sd">    Returns:</span>
<span class="sd">        The initialized store.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating store with config &#39;</span><span class="si">{</span><span class="n">config</span><span class="si">}</span><span class="s2">&#39;...&quot;</span><span class="p">)</span>
    <span class="n">store_class</span> <span class="o">=</span> <span class="n">BaseZenStore</span><span class="o">.</span><span class="n">get_store_class</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
    <span class="n">store</span> <span class="o">=</span> <span class="n">store_class</span><span class="p">(</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="n">skip_default_registrations</span><span class="o">=</span><span class="n">skip_default_registrations</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">secrets_store_config</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secrets_store</span>

    <span class="c1"># Initialize the secrets store</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">secrets_store_config</span>
        <span class="ow">and</span> <span class="n">secrets_store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">NONE</span>
    <span class="p">):</span>
        <span class="n">secrets_store_class</span> <span class="o">=</span> <span class="n">BaseSecretsStore</span><span class="o">.</span><span class="n">get_store_class</span><span class="p">(</span>
            <span class="n">secrets_store_config</span>
        <span class="p">)</span>
        <span class="n">store</span><span class="o">.</span><span class="n">_secrets_store</span> <span class="o">=</span> <span class="n">secrets_store_class</span><span class="p">(</span>
            <span class="n">zen_store</span><span class="o">=</span><span class="n">store</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">secrets_store_config</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Update the config with the actual secrets store config</span>
        <span class="c1"># to reflect the default values in the saved configuration</span>
        <span class="n">store</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secrets_store</span> <span class="o">=</span> <span class="n">store</span><span class="o">.</span><span class="n">_secrets_store</span><span class="o">.</span><span class="n">config</span>
    <span class="k">return</span> <span class="n">store</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the secret doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the secret doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.get_default_store_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_default_store_config</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get the default store configuration.</p>
<p>The default store is a SQLite store that saves the DB contents on the
local filesystem.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>The local path where the store DB will be stored.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StoreConfiguration</code></td>
      <td><p>The default store configuration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_default_store_config</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreConfiguration</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the default store configuration.</span>

<span class="sd">    The default store is a SQLite store that saves the DB contents on the</span>
<span class="sd">    local filesystem.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The local path where the store DB will be stored.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The default store configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.zen_stores.sql_zen_store</span> <span class="kn">import</span> <span class="n">SqlZenStoreConfiguration</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">SqlZenStoreConfiguration</span><span class="p">(</span>
        <span class="nb">type</span><span class="o">=</span><span class="n">StoreType</span><span class="o">.</span><span class="n">SQL</span><span class="p">,</span>
        <span class="n">url</span><span class="o">=</span><span class="n">SqlZenStoreConfiguration</span><span class="o">.</span><span class="n">get_local_url</span><span class="p">(</span><span class="n">path</span><span class="p">),</span>
        <span class="n">secrets_store</span><span class="o">=</span><span class="n">SqlSecretsStoreConfiguration</span><span class="p">(</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">SQL</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a secret with a given name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the secret.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the secret does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a secret with a given name.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: ID of the secret.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the secret does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.get_store_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_store_class</span><span class="p">(</span><span class="n">store_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Returns the class of the given store type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>store_type</code></td>
        <td><code>StoreType</code></td>
        <td><p>The type of the store to get the class for.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[BaseZenStore]</code></td>
      <td><p>The class of the given store type or None if the type is unknown.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If the store type is unsupported.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_store_class</span><span class="p">(</span><span class="n">store_type</span><span class="p">:</span> <span class="n">StoreType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseZenStore&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the class of the given store type.</span>

<span class="sd">    Args:</span>
<span class="sd">        store_type: The type of the store to get the class for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The class of the given store type or None if the type is unknown.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If the store type is unsupported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">store_type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">SQL</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.sql_zen_store</span> <span class="kn">import</span> <span class="n">SqlZenStore</span>

        <span class="k">return</span> <span class="n">SqlZenStore</span>
    <span class="k">elif</span> <span class="n">store_type</span> <span class="o">==</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.rest_zen_store</span> <span class="kn">import</span> <span class="n">RestZenStore</span>

        <span class="k">return</span> <span class="n">RestZenStore</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;No store implementation found for store type &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">store_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">`.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.get_store_config_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_store_config_class</span><span class="p">(</span><span class="n">store_type</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Returns the store config class of the given store type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>store_type</code></td>
        <td><code>StoreType</code></td>
        <td><p>The type of the store to get the class for.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[StoreConfiguration]</code></td>
      <td><p>The config class of the given store type.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_store_config_class</span><span class="p">(</span>
    <span class="n">store_type</span><span class="p">:</span> <span class="n">StoreType</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the store config class of the given store type.</span>

<span class="sd">    Args:</span>
<span class="sd">        store_type: The type of the store to get the class for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The config class of the given store type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">store_class</span> <span class="o">=</span> <span class="n">BaseZenStore</span><span class="o">.</span><span class="n">get_store_class</span><span class="p">(</span><span class="n">store_type</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">store_class</span><span class="o">.</span><span class="n">CONFIG_TYPE</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.get_store_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_store_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get information about the store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServerModel</code></td>
      <td><p>Information about the store.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_store_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get information about the store.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Information about the store.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">ServerModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">zenml</span><span class="o">.</span><span class="n">__version__</span><span class="p">,</span>
        <span class="n">deployment_type</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">ENV_ZENML_SERVER_DEPLOYMENT_TYPE</span><span class="p">,</span> <span class="n">ServerDeploymentType</span><span class="o">.</span><span class="n">OTHER</span>
        <span class="p">),</span>
        <span class="n">database_type</span><span class="o">=</span><span class="n">ServerDatabaseType</span><span class="o">.</span><span class="n">OTHER</span><span class="p">,</span>
        <span class="n">debug</span><span class="o">=</span><span class="n">IS_DEBUG_ENV</span><span class="p">,</span>
        <span class="n">secrets_store_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">type</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span>
        <span class="k">else</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">NONE</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.get_store_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_store_type</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Returns the store type associated with a URL schema.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>url</code></td>
        <td><code>str</code></td>
        <td><p>The store URL.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StoreType</code></td>
      <td><p>The store type associated with the supplied URL schema.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If no store type was found to support the supplied URL.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_store_type</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StoreType</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the store type associated with a URL schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        url: The store URL.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The store type associated with the supplied URL schema.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If no store type was found to support the supplied URL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.zen_stores.rest_zen_store</span> <span class="kn">import</span> <span class="n">RestZenStoreConfiguration</span>
    <span class="kn">from</span> <span class="nn">zenml.zen_stores.sql_zen_store</span> <span class="kn">import</span> <span class="n">SqlZenStoreConfiguration</span>

    <span class="k">if</span> <span class="n">SqlZenStoreConfiguration</span><span class="o">.</span><span class="n">supports_url_scheme</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">SQL</span>
    <span class="k">elif</span> <span class="n">RestZenStoreConfiguration</span><span class="o">.</span><span class="n">supports_url_scheme</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No store implementation found for URL: </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.is_local_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_local_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Check if the store is local or connected to a local ZenML server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the store is local, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_local_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the store is local or connected to a local ZenML server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the store is local, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span><span class="o">.</span><span class="n">is_local</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.list_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all secrets matching the given filter criteria.</p>
<p>Note that returned secrets do not include any secret values. To fetch
the secret values, use <code>get_secret</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_filter_model</code></td>
        <td><code>SecretFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[SecretResponseModel]</code></td>
      <td><p>A list of all secrets matching the filter criteria, with pagination
information and sorted according to the filter criteria. The
returned secrets do not include any secret values, only metadata. To
fetch the secret values, use <code>get_secret</code> individually with each
secret.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">    Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">    the secret values, use `get_secret`.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">        information and sorted according to the filter criteria. The</span>
<span class="sd">        returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">        fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">        secret.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.register_event_handler" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_event_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">handler</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Register an external event handler.</p>
<p>The handler will be called when the store event is triggered.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>event</code></td>
        <td><code>StoreEvent</code></td>
        <td><p>The event to register the handler for.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>handler</code></td>
        <td><code>Callable[..., Any]</code></td>
        <td><p>The handler function to register.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_event_handler</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">event</span><span class="p">:</span> <span class="n">StoreEvent</span><span class="p">,</span>
    <span class="n">handler</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register an external event handler.</span>

<span class="sd">    The handler will be called when the store event is triggered.</span>

<span class="sd">    Args:</span>
<span class="sd">        event: The event to register the handler for.</span>
<span class="sd">        handler: The handler function to register.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_event_handlers</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a secret.</p>
<p>Secret values that are specified as <code>None</code> in the update that are
present in the existing secret are removed from the existing secret.
Values that are present in both secrets are overwritten. All other
values in both the existing secret and the update are kept (merged).</p>
<p>If the update includes a change of name or scope, the scoping rules
enforced in the secrets store are used to validate the update:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_update</code></td>
        <td><code>SecretUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The updated secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the secret doesn't exist.</p></td>
      </tr>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a secret with the same name already exists in
the same scope.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the secret is invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">    Secret values that are specified as `None` in the update that are</span>
<span class="sd">    present in the existing secret are removed from the existing secret.</span>
<span class="sd">    Values that are present in both secrets are overwritten. All other</span>
<span class="sd">    values in both the existing secret and the update are kept (merged).</span>

<span class="sd">    If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">    enforced in the secrets store are used to validate the update:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to be updated.</span>
<span class="sd">        secret_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the secret doesn&#39;t exist.</span>
<span class="sd">        EntityExistsError: If a secret with the same name already exists in</span>
<span class="sd">            the same scope.</span>
<span class="sd">        ValueError: if the secret is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.base_zen_store.BaseZenStore.validate_active_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_active_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">active_workspace_name_or_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">active_stack_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">config_name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Validate the active configuration.</p>
<p>Call this method to validate the supplied active workspace and active
stack values.</p>
<p>This method is guaranteed to return valid workspace ID and stack ID
values. If the supplied workspace and stack are not set or are not valid
(e.g. they do not exist or are not accessible), the default workspace and
default workspace stack will be returned in their stead.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>active_workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the active workspace.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>active_stack_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The ID of the active stack.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>config_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the configuration to validate (used in the
displayed logs/messages).</p></td>
        <td><code>&#39;&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.models.workspace_models.WorkspaceResponseModel, zenml.models.stack_models.StackResponseModel]</code></td>
      <td><p>A tuple containing the active workspace and active stack.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/base_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate_active_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">active_workspace_name_or_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">active_stack_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">config_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">WorkspaceResponseModel</span><span class="p">,</span> <span class="n">StackResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate the active configuration.</span>

<span class="sd">    Call this method to validate the supplied active workspace and active</span>
<span class="sd">    stack values.</span>

<span class="sd">    This method is guaranteed to return valid workspace ID and stack ID</span>
<span class="sd">    values. If the supplied workspace and stack are not set or are not valid</span>
<span class="sd">    (e.g. they do not exist or are not accessible), the default workspace and</span>
<span class="sd">    default workspace stack will be returned in their stead.</span>

<span class="sd">    Args:</span>
<span class="sd">        active_workspace_name_or_id: The name or ID of the active workspace.</span>
<span class="sd">        active_stack_id: The ID of the active stack.</span>
<span class="sd">        config_name: The name of the configuration to validate (used in the</span>
<span class="sd">            displayed logs/messages).</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tuple containing the active workspace and active stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">active_workspace</span><span class="p">:</span> <span class="n">WorkspaceResponseModel</span>

    <span class="k">if</span> <span class="n">active_workspace_name_or_id</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">active_workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span>
                <span class="n">active_workspace_name_or_id</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">active_workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_default_workspace</span><span class="p">()</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The current </span><span class="si">{</span><span class="n">config_name</span><span class="si">}</span><span class="s2"> active workspace is no longer &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;available. Resetting the active workspace to &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">active_workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_default_workspace</span><span class="p">()</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Setting the </span><span class="si">{</span><span class="n">config_name</span><span class="si">}</span><span class="s2"> active workspace &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;to &#39;</span><span class="si">{</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
        <span class="p">)</span>

    <span class="n">active_stack</span><span class="p">:</span> <span class="n">StackResponseModel</span>

    <span class="c1"># Sanitize the active stack</span>
    <span class="k">if</span> <span class="n">active_stack_id</span><span class="p">:</span>
        <span class="c1"># Ensure that the active stack is still valid</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">active_stack</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_stack</span><span class="p">(</span><span class="n">stack_id</span><span class="o">=</span><span class="n">active_stack_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The current </span><span class="si">%s</span><span class="s2"> active stack is no longer available. &quot;</span>
                <span class="s2">&quot;Resetting the active stack to default.&quot;</span><span class="p">,</span>
                <span class="n">config_name</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">active_stack</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_default_stack</span><span class="p">(</span>
                <span class="n">active_workspace</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">active_stack</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;The current </span><span class="si">%s</span><span class="s2"> active stack is not part of the active &quot;</span>
                    <span class="s2">&quot;workspace. Resetting the active stack to default.&quot;</span><span class="p">,</span>
                    <span class="n">config_name</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">active_stack</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_default_stack</span><span class="p">(</span>
                    <span class="n">active_workspace</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">active_stack</span><span class="o">.</span><span class="n">is_shared</span> <span class="ow">and</span> <span class="p">(</span>
                <span class="ow">not</span> <span class="n">active_stack</span><span class="o">.</span><span class="n">user</span>
                <span class="ow">or</span> <span class="p">(</span><span class="n">active_stack</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_user</span><span class="p">()</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;The current </span><span class="si">%s</span><span class="s2"> active stack is not shared and not &quot;</span>
                    <span class="s2">&quot;owned by the active user. &quot;</span>
                    <span class="s2">&quot;Resetting the active stack to default.&quot;</span><span class="p">,</span>
                    <span class="n">config_name</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">active_stack</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_default_stack</span><span class="p">(</span>
                    <span class="n">active_workspace</span>
                <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Setting the </span><span class="si">%s</span><span class="s2"> active stack to default.&quot;</span><span class="p">,</span>
            <span class="n">config_name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">active_stack</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_default_stack</span><span class="p">(</span><span class="n">active_workspace</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">active_workspace</span><span class="p">,</span> <span class="n">active_stack</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_stores.enums" class="doc doc-heading">
        <code>enums</code>



</h3>

    <div class="doc doc-contents ">

      <p>Zen Store enums.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.zen_stores.enums.StoreEvent" class="doc doc-heading">
        <code>
StoreEvent            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../core-utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Events that can be triggered by the store.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/enums.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StoreEvent</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Events that can be triggered by the store.&quot;&quot;&quot;</span>

    <span class="c1"># Triggered just before deleting a workspace. The workspace ID is passed as</span>
    <span class="c1"># a `workspace_id` UUID argument.</span>
    <span class="n">WORKSPACE_DELETED</span> <span class="o">=</span> <span class="s2">&quot;workspace_deleted&quot;</span>
    <span class="c1"># Triggered just before deleting a user. The user ID is passed as</span>
    <span class="c1"># a `user_id` UUID argument.</span>
    <span class="n">USER_DELETED</span> <span class="o">=</span> <span class="s2">&quot;user_deleted&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_stores.migrations" class="doc doc-heading">
        <code>migrations</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Alembic database migration utilities.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.migrations.alembic" class="doc doc-heading">
        <code>alembic</code>



</h4>

    <div class="doc doc-contents ">

      <p>Alembic utilities wrapper.</p>
<p>The Alembic class defined here acts as a wrapper around the Alembic
library that automatically configures Alembic to use the ZenML SQL store
database connection.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.migrations.alembic.Alembic" class="doc doc-heading">
        <code>
Alembic        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Alembic environment and migration API.</p>
<p>This class provides a wrapper around the Alembic library that automatically
configures Alembic to use the ZenML SQL store database connection.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/migrations/alembic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Alembic</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Alembic environment and migration API.</span>

<span class="sd">    This class provides a wrapper around the Alembic library that automatically</span>
<span class="sd">    configures Alembic to use the ZenML SQL store database connection.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">engine</span><span class="p">:</span> <span class="n">Engine</span><span class="p">,</span>
        <span class="n">metadata</span><span class="p">:</span> <span class="n">MetaData</span> <span class="o">=</span> <span class="n">SQLModel</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span>
        <span class="n">context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">EnvironmentContext</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the Alembic wrapper.</span>

<span class="sd">        Args:</span>
<span class="sd">            engine: The SQLAlchemy engine to use.</span>
<span class="sd">            metadata: The SQLAlchemy metadata to use.</span>
<span class="sd">            context: The Alembic environment context to use. If not set, a new</span>
<span class="sd">                context is created pointing to the ZenML migrations directory.</span>
<span class="sd">            **kwargs: Additional keyword arguments to pass to the Alembic</span>
<span class="sd">                environment context.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">engine</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context_kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_main_option</span><span class="p">(</span>
            <span class="s2">&quot;script_location&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_main_option</span><span class="p">(</span>
            <span class="s2">&quot;version_locations&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;versions&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">script_directory</span> <span class="o">=</span> <span class="n">ScriptDirectory</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">context</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">environment_context</span> <span class="o">=</span> <span class="n">EnvironmentContext</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">script_directory</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">environment_context</span> <span class="o">=</span> <span class="n">context</span>

    <span class="k">def</span> <span class="nf">db_is_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the database is empty.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the database is empty, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Check the existence of any of the SQLModel tables</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">dialect</span><span class="o">.</span><span class="n">has_table</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">(),</span> <span class="n">schemas</span><span class="o">.</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">__tablename__</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_migrations</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">fn</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_RevIdType</span><span class="p">,</span> <span class="n">MigrationContext</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run an online migration function in the current migration context.</span>

<span class="sd">        Args:</span>
<span class="sd">            fn: Migration function to run. If not set, the function configured</span>
<span class="sd">                externally by the Alembic CLI command is used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fn_context_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">fn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fn_context_args</span><span class="p">[</span><span class="s2">&quot;fn&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fn</span>

        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">environment_context</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
                <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
                <span class="n">target_metadata</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span>
                <span class="n">include_object</span><span class="o">=</span><span class="n">include_object</span><span class="p">,</span>
                <span class="n">compare_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">render_as_batch</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="o">**</span><span class="n">fn_context_args</span><span class="p">,</span>
                <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">context_kwargs</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">environment_context</span><span class="o">.</span><span class="n">begin_transaction</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">environment_context</span><span class="o">.</span><span class="n">run_migrations</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">current_revisions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the current database revisions.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of head revisions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">current_revisions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">def</span> <span class="nf">do_get_current_rev</span><span class="p">(</span><span class="n">rev</span><span class="p">:</span> <span class="n">_RevIdType</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
            <span class="k">nonlocal</span> <span class="n">current_revisions</span>

            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">script_directory</span><span class="o">.</span><span class="n">get_all_current</span><span class="p">(</span>
                <span class="n">rev</span>  <span class="c1"># type:ignore [arg-type]</span>
            <span class="p">):</span>
                <span class="k">if</span> <span class="n">r</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="n">current_revisions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">revision</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">run_migrations</span><span class="p">(</span><span class="n">do_get_current_rev</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">current_revisions</span>

    <span class="k">def</span> <span class="nf">stamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">revision</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stamp the revision table with the given revision without running any migrations.</span>

<span class="sd">        Args:</span>
<span class="sd">            revision: String revision target.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">do_stamp</span><span class="p">(</span><span class="n">rev</span><span class="p">:</span> <span class="n">_RevIdType</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">script_directory</span><span class="o">.</span><span class="n">_stamp_revs</span><span class="p">(</span><span class="n">revision</span><span class="p">,</span> <span class="n">rev</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">run_migrations</span><span class="p">(</span><span class="n">do_stamp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">upgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">revision</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;heads&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Upgrade the database to a later version.</span>

<span class="sd">        Args:</span>
<span class="sd">            revision: String revision target.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">do_upgrade</span><span class="p">(</span><span class="n">rev</span><span class="p">:</span> <span class="n">_RevIdType</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">script_directory</span><span class="o">.</span><span class="n">_upgrade_revs</span><span class="p">(</span>
                <span class="n">revision</span><span class="p">,</span> <span class="n">rev</span>  <span class="c1"># type:ignore [arg-type]</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">run_migrations</span><span class="p">(</span><span class="n">do_upgrade</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">downgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">revision</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Revert the database to a previous version.</span>

<span class="sd">        Args:</span>
<span class="sd">            revision: String revision target.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">do_downgrade</span><span class="p">(</span><span class="n">rev</span><span class="p">:</span> <span class="n">_RevIdType</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">script_directory</span><span class="o">.</span><span class="n">_downgrade_revs</span><span class="p">(</span>
                <span class="n">revision</span><span class="p">,</span> <span class="n">rev</span>  <span class="c1"># type:ignore [arg-type]</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">run_migrations</span><span class="p">(</span><span class="n">do_downgrade</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.migrations.alembic.Alembic.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engine</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">MetaData</span><span class="p">(),</span> <span class="n">context</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Initialize the Alembic wrapper.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>engine</code></td>
        <td><code>Engine</code></td>
        <td><p>The SQLAlchemy engine to use.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>metadata</code></td>
        <td><code>MetaData</code></td>
        <td><p>The SQLAlchemy metadata to use.</p></td>
        <td><code>MetaData()</code></td>
      </tr>
      <tr>
        <td><code>context</code></td>
        <td><code>Optional[alembic.runtime.environment.EnvironmentContext]</code></td>
        <td><p>The Alembic environment context to use. If not set, a new
context is created pointing to the ZenML migrations directory.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the Alembic
environment context.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/migrations/alembic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">engine</span><span class="p">:</span> <span class="n">Engine</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">MetaData</span> <span class="o">=</span> <span class="n">SQLModel</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">EnvironmentContext</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the Alembic wrapper.</span>

<span class="sd">    Args:</span>
<span class="sd">        engine: The SQLAlchemy engine to use.</span>
<span class="sd">        metadata: The SQLAlchemy metadata to use.</span>
<span class="sd">        context: The Alembic environment context to use. If not set, a new</span>
<span class="sd">            context is created pointing to the ZenML migrations directory.</span>
<span class="sd">        **kwargs: Additional keyword arguments to pass to the Alembic</span>
<span class="sd">            environment context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">engine</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">context_kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_main_option</span><span class="p">(</span>
        <span class="s2">&quot;script_location&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_main_option</span><span class="p">(</span>
        <span class="s2">&quot;version_locations&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;versions&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">script_directory</span> <span class="o">=</span> <span class="n">ScriptDirectory</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">context</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">environment_context</span> <span class="o">=</span> <span class="n">EnvironmentContext</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">script_directory</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">environment_context</span> <span class="o">=</span> <span class="n">context</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.migrations.alembic.Alembic.current_revisions" class="doc doc-heading">
<code class="highlight language-python"><span class="n">current_revisions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get the current database revisions.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>List of head revisions.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/migrations/alembic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">current_revisions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the current database revisions.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of head revisions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">current_revisions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">do_get_current_rev</span><span class="p">(</span><span class="n">rev</span><span class="p">:</span> <span class="n">_RevIdType</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
        <span class="k">nonlocal</span> <span class="n">current_revisions</span>

        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">script_directory</span><span class="o">.</span><span class="n">get_all_current</span><span class="p">(</span>
            <span class="n">rev</span>  <span class="c1"># type:ignore [arg-type]</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="n">r</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">current_revisions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">revision</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">run_migrations</span><span class="p">(</span><span class="n">do_get_current_rev</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">current_revisions</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.migrations.alembic.Alembic.db_is_empty" class="doc doc-heading">
<code class="highlight language-python"><span class="n">db_is_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Check if the database is empty.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the database is empty, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/migrations/alembic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">db_is_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the database is empty.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the database is empty, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check the existence of any of the SQLModel tables</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">dialect</span><span class="o">.</span><span class="n">has_table</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">(),</span> <span class="n">schemas</span><span class="o">.</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">__tablename__</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.migrations.alembic.Alembic.downgrade" class="doc doc-heading">
<code class="highlight language-python"><span class="n">downgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">revision</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Revert the database to a previous version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>revision</code></td>
        <td><code>str</code></td>
        <td><p>String revision target.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/migrations/alembic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">downgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">revision</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Revert the database to a previous version.</span>

<span class="sd">    Args:</span>
<span class="sd">        revision: String revision target.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">do_downgrade</span><span class="p">(</span><span class="n">rev</span><span class="p">:</span> <span class="n">_RevIdType</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">script_directory</span><span class="o">.</span><span class="n">_downgrade_revs</span><span class="p">(</span>
            <span class="n">revision</span><span class="p">,</span> <span class="n">rev</span>  <span class="c1"># type:ignore [arg-type]</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">run_migrations</span><span class="p">(</span><span class="n">do_downgrade</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.migrations.alembic.Alembic.run_migrations" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_migrations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Run an online migration function in the current migration context.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>fn</code></td>
        <td><code>Optional[Callable[[Union[str, Sequence[str]], alembic.runtime.migration.MigrationContext], List[Any]]]</code></td>
        <td><p>Migration function to run. If not set, the function configured
externally by the Alembic CLI command is used.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/migrations/alembic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run_migrations</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">fn</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">_RevIdType</span><span class="p">,</span> <span class="n">MigrationContext</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]]],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run an online migration function in the current migration context.</span>

<span class="sd">    Args:</span>
<span class="sd">        fn: Migration function to run. If not set, the function configured</span>
<span class="sd">            externally by the Alembic CLI command is used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fn_context_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">fn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">fn_context_args</span><span class="p">[</span><span class="s2">&quot;fn&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fn</span>

    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">environment_context</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
            <span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span>
            <span class="n">target_metadata</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">include_object</span><span class="o">=</span><span class="n">include_object</span><span class="p">,</span>
            <span class="n">compare_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">render_as_batch</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="o">**</span><span class="n">fn_context_args</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">context_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">environment_context</span><span class="o">.</span><span class="n">begin_transaction</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">environment_context</span><span class="o">.</span><span class="n">run_migrations</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.migrations.alembic.Alembic.stamp" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">revision</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Stamp the revision table with the given revision without running any migrations.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>revision</code></td>
        <td><code>str</code></td>
        <td><p>String revision target.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/migrations/alembic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stamp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">revision</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stamp the revision table with the given revision without running any migrations.</span>

<span class="sd">    Args:</span>
<span class="sd">        revision: String revision target.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">do_stamp</span><span class="p">(</span><span class="n">rev</span><span class="p">:</span> <span class="n">_RevIdType</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">script_directory</span><span class="o">.</span><span class="n">_stamp_revs</span><span class="p">(</span><span class="n">revision</span><span class="p">,</span> <span class="n">rev</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">run_migrations</span><span class="p">(</span><span class="n">do_stamp</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.migrations.alembic.Alembic.upgrade" class="doc doc-heading">
<code class="highlight language-python"><span class="n">upgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">revision</span><span class="o">=</span><span class="s1">&#39;heads&#39;</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Upgrade the database to a later version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>revision</code></td>
        <td><code>str</code></td>
        <td><p>String revision target.</p></td>
        <td><code>&#39;heads&#39;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/migrations/alembic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">upgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">revision</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;heads&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upgrade the database to a later version.</span>

<span class="sd">    Args:</span>
<span class="sd">        revision: String revision target.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">do_upgrade</span><span class="p">(</span><span class="n">rev</span><span class="p">:</span> <span class="n">_RevIdType</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">script_directory</span><span class="o">.</span><span class="n">_upgrade_revs</span><span class="p">(</span>
            <span class="n">revision</span><span class="p">,</span> <span class="n">rev</span>  <span class="c1"># type:ignore [arg-type]</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">run_migrations</span><span class="p">(</span><span class="n">do_upgrade</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.migrations.alembic.AlembicVersion" class="doc doc-heading">
        <code>
AlembicVersion            (<span title="sqlalchemy.orm.decl_api.Base">Base</span>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Alembic version table.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/migrations/alembic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AlembicVersion</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>  <span class="c1"># type: ignore[valid-type,misc]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Alembic version table.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;alembic_version&quot;</span>
    <span class="n">version_num</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_stores.migrations.alembic.include_object" class="doc doc-heading">
<code class="highlight language-python"><span class="n">include_object</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">type_</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Function used to exclude tables from the migration scripts.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>object</code></td>
        <td><code>Any</code></td>
        <td><p>The schema item object to check.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the object to check.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>type_</code></td>
        <td><code>str</code></td>
        <td><p>The type of the object to check.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the object should be included, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/migrations/alembic.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">include_object</span><span class="p">(</span>
    <span class="nb">object</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">type_</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function used to exclude tables from the migration scripts.</span>

<span class="sd">    Args:</span>
<span class="sd">        object: The schema item object to check.</span>
<span class="sd">        name: The name of the object to check.</span>
<span class="sd">        type_: The type of the object to check.</span>
<span class="sd">        *args: Additional arguments.</span>
<span class="sd">        **kwargs: Additional keyword arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the object should be included, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="p">(</span><span class="n">type_</span> <span class="o">==</span> <span class="s2">&quot;table&quot;</span> <span class="ow">and</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">exclude_tables</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_stores.rest_zen_store" class="doc doc-heading">
        <code>rest_zen_store</code>



</h3>

    <div class="doc doc-contents ">

      <p>REST Zen Store implementation.</p>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h4 id="zenml.zen_stores.rest_zen_store.RestZenStore" class="doc doc-heading">
        <code>
RestZenStore            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.base_zen_store.BaseZenStore" href="#zenml.zen_stores.base_zen_store.BaseZenStore">BaseZenStore</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Store implementation for accessing data from a REST API.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RestZenStore</span><span class="p">(</span><span class="n">BaseZenStore</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Store implementation for accessing data from a REST API.&quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">RestZenStoreConfiguration</span>
    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">StoreType</span><span class="p">]</span> <span class="o">=</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">StoreConfiguration</span><span class="p">]]</span> <span class="o">=</span> <span class="n">RestZenStoreConfiguration</span>
    <span class="n">_api_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_session</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_initialize_database</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the database.&quot;&quot;&quot;</span>
        <span class="c1"># don&#39;t do anything for a REST store</span>

    <span class="c1"># ====================================</span>
    <span class="c1"># ZenML Store interface implementation</span>
    <span class="c1"># ====================================</span>

    <span class="c1"># --------------------------------</span>
    <span class="c1"># Initialization and configuration</span>
    <span class="c1"># --------------------------------</span>

    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the REST store.&quot;&quot;&quot;</span>
        <span class="n">client_version</span> <span class="o">=</span> <span class="n">zenml</span><span class="o">.</span><span class="n">__version__</span>
        <span class="n">server_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span><span class="o">.</span><span class="n">version</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">DISABLE_CLIENT_SERVER_MISMATCH_WARNING</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="n">server_version</span> <span class="o">!=</span> <span class="n">client_version</span>
        <span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Your ZenML client version (</span><span class="si">%s</span><span class="s2">) does not match the server &quot;</span>
                <span class="s2">&quot;version (</span><span class="si">%s</span><span class="s2">). This version mismatch might lead to errors or &quot;</span>
                <span class="s2">&quot;unexpected behavior. </span><span class="se">\n</span><span class="s2">To disable this warning message, set &quot;</span>
                <span class="s2">&quot;the environment variable `</span><span class="si">%s</span><span class="s2">=True`&quot;</span><span class="p">,</span>
                <span class="n">client_version</span><span class="p">,</span>
                <span class="n">server_version</span><span class="p">,</span>
                <span class="n">ENV_ZENML_DISABLE_CLIENT_SERVER_MISMATCH_WARNING</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_store_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get information about the server.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Information about the server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">INFO</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ServerModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>

    <span class="c1"># ------</span>
    <span class="c1"># Stacks</span>
    <span class="c1"># ------</span>

    <span class="k">def</span> <span class="nf">create_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">StackRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register a new stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack: The stack to register.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The registered stack.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STACKS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">StackResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a stack by its unique ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_id: The ID of the stack to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The stack with the given ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">stack_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STACKS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">StackResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_stacks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">stack_filter_model</span><span class="p">:</span> <span class="n">StackFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StackResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all stacks matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all stacks matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STACKS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">StackResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">stack_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_stack</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">stack_update</span><span class="p">:</span> <span class="n">StackUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_id: The ID of the stack update.</span>
<span class="sd">            stack_update: The update request on the stack.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated stack.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">stack_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">stack_update</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STACKS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">StackResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_id: The ID of the stack to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">stack_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STACKS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># ----------------</span>
    <span class="c1"># Stack components</span>
    <span class="c1"># ----------------</span>

    <span class="k">def</span> <span class="nf">create_stack_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">component</span><span class="p">:</span> <span class="n">ComponentRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a stack component.</span>

<span class="sd">        Args:</span>
<span class="sd">            component: The stack component to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created stack component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">component</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STACK_COMPONENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ComponentResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_stack_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a stack component by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_id: The ID of the stack component to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The stack component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">component_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STACK_COMPONENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ComponentResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_stack_components</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">component_filter_model</span><span class="p">:</span> <span class="n">ComponentFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ComponentResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all stack components matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all stack components matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STACK_COMPONENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ComponentResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">component_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_stack_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">component_update</span><span class="p">:</span> <span class="n">ComponentUpdateModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing stack component.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_id: The ID of the stack component to update.</span>
<span class="sd">            component_update: The update to be applied to the stack component.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated stack component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">component_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">component_update</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STACK_COMPONENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ComponentResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a stack component.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_id: The ID of the stack component to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">component_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STACK_COMPONENTS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># -----------------------</span>
    <span class="c1"># Stack component flavors</span>
    <span class="c1"># -----------------------</span>

    <span class="k">def</span> <span class="nf">create_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor</span><span class="p">:</span> <span class="n">FlavorRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new stack component flavor.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor: The stack component flavor to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">flavor</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">FLAVORS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">FlavorResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_flavor</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">:</span> <span class="n">FlavorUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates an existing user.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_id: The id of the flavor to update.</span>
<span class="sd">            flavor_update: The update to be applied to the flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">flavor_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">flavor_update</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">FLAVORS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">FlavorResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a stack component flavor by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_id: The ID of the stack component flavor to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The stack component flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">flavor_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">FLAVORS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">FlavorResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_flavors</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">flavor_filter_model</span><span class="p">:</span> <span class="n">FlavorFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">FlavorResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all stack component flavors matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_filter_model: All filter parameters including pagination</span>
<span class="sd">                params</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of all the stack component flavors matching the given criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">FLAVORS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">FlavorResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">flavor_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a stack component flavor.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_id: The ID of the stack component flavor to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">flavor_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">FLAVORS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># -----</span>
    <span class="c1"># Users</span>
    <span class="c1"># -----</span>

    <span class="k">def</span> <span class="nf">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">UserRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new user.</span>

<span class="sd">        Args:</span>
<span class="sd">            user: User to be created.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created user.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">USERS</span> <span class="o">+</span> <span class="s2">&quot;?assign_default_role=False&quot;</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_private</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific user, when no id is specified the active user is returned.</span>

<span class="sd">        The `include_private` parameter is ignored here as it is handled</span>
<span class="sd">        implicitly by the /current-user endpoint that is queried when no</span>
<span class="sd">        user_name_or_id is set. Raises a KeyError in case a user with that id</span>
<span class="sd">        does not exist.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_name_or_id: The name or ID of the user to get.</span>
<span class="sd">            include_private: Whether to include private user information</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested user, if it was found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">user_name_or_id</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
                <span class="n">resource_id</span><span class="o">=</span><span class="n">user_name_or_id</span><span class="p">,</span>
                <span class="n">route</span><span class="o">=</span><span class="n">USERS</span><span class="p">,</span>
                <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponseModel</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">CURRENT_USER</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">UserResponseModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_users</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_filter_model</span><span class="p">:</span> <span class="n">UserFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all users.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all users.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">USERS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">user_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">user_update</span><span class="p">:</span> <span class="n">UserUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates an existing user.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_id: The id of the user to update.</span>
<span class="sd">            user_update: The update to be applied to the user.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated user.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">user_update</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">USERS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a user.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_name_or_id: The name or ID of the user to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">user_name_or_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">USERS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># -----</span>
    <span class="c1"># Teams</span>
    <span class="c1"># -----</span>

    <span class="k">def</span> <span class="nf">create_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team</span><span class="p">:</span> <span class="n">TeamRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new team.</span>

<span class="sd">        Args:</span>
<span class="sd">            team: The team model to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created team.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">team</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">TEAMS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">TeamResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific team.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_name_or_id: Name or ID of the team to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested team.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">team_name_or_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">TEAMS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">TeamResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_teams</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_filter_model</span><span class="p">:</span> <span class="n">TeamFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TeamResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all teams matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all teams matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">TEAMS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">TeamResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">team_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_team</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">team_update</span><span class="p">:</span> <span class="n">TeamUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing team.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id: The ID of the team to be updated.</span>
<span class="sd">            team_update: The update to be applied to the team.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated team.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">team_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">team_update</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">TEAMS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">TeamResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a team.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_name_or_id: Name or ID of the team to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">team_name_or_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">TEAMS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># -----</span>
    <span class="c1"># Roles</span>
    <span class="c1"># -----</span>

    <span class="k">def</span> <span class="nf">create_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role</span><span class="p">:</span> <span class="n">RoleRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new role.</span>

<span class="sd">        Args:</span>
<span class="sd">            role: The role model to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created role.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">role</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">ROLES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">RoleResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific role.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_name_or_id: Name or ID of the role to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested role.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">role_name_or_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">ROLES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">RoleResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_roles</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">role_filter_model</span><span class="p">:</span> <span class="n">RoleFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RoleResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all roles matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all roles matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">ROLES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">RoleResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">role_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_role</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">role_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">role_update</span><span class="p">:</span> <span class="n">RoleUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing role.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_id: The ID of the role to be updated.</span>
<span class="sd">            role_update: The update to be applied to the role.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated role.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">role_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">role_update</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">ROLES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">RoleResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a role.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_name_or_id: Name or ID of the role to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">role_name_or_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">ROLES</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># ----------------</span>
    <span class="c1"># Role assignments</span>
    <span class="c1"># ----------------</span>

    <span class="k">def</span> <span class="nf">list_user_role_assignments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_filter_model</span><span class="p">:</span> <span class="n">UserRoleAssignmentFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserRoleAssignmentResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all roles assignments matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_role_assignment_filter_model: All filter parameters including</span>
<span class="sd">                pagination params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all roles assignments matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">USER_ROLE_ASSIGNMENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">UserRoleAssignmentResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">user_role_assignment_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_user_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get an existing role assignment by name or ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_role_assignment_id: Name or ID of the role assignment to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">user_role_assignment_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">USER_ROLE_ASSIGNMENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">UserRoleAssignmentResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_user_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a specific role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_role_assignment_id: The ID of the specific role assignment</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">user_role_assignment_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">USER_ROLE_ASSIGNMENTS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_user_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment</span><span class="p">:</span> <span class="n">UserRoleAssignmentRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_role_assignment: The role assignment to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">user_role_assignment</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">USER_ROLE_ASSIGNMENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">UserRoleAssignmentResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># ---------------------</span>
    <span class="c1"># Team Role assignments</span>
    <span class="c1"># ---------------------</span>

    <span class="k">def</span> <span class="nf">create_team_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment</span><span class="p">:</span> <span class="n">TeamRoleAssignmentRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new team role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_role_assignment: The role assignment model to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created role assignment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">team_role_assignment</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">TEAM_ROLE_ASSIGNMENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">TeamRoleAssignmentResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_team_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_role_assignment_id: ID of the role assignment to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested role assignment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">team_role_assignment_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">TEAM_ROLE_ASSIGNMENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">TeamRoleAssignmentResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_team_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a specific role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_role_assignment_id: The ID of the specific role assignment</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">team_role_assignment_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">TEAM_ROLE_ASSIGNMENTS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_team_role_assignments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_filter_model</span><span class="p">:</span> <span class="n">TeamRoleAssignmentFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TeamRoleAssignmentResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all roles assignments matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_role_assignment_filter_model: All filter parameters including</span>
<span class="sd">                pagination params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all roles assignments matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">TEAM_ROLE_ASSIGNMENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">TeamRoleAssignmentResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">team_role_assignment_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># --------</span>
    <span class="c1"># Workspaces</span>
    <span class="c1"># --------</span>

    <span class="k">def</span> <span class="nf">create_workspace</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace</span><span class="p">:</span> <span class="n">WorkspaceRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace: The workspace to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">WORKSPACES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">WorkspaceResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_workspace</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get an existing workspace by name or ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_name_or_id: Name or ID of the workspace to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">workspace_name_or_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">WORKSPACES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">WorkspaceResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_workspaces</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_filter_model</span><span class="p">:</span> <span class="n">WorkspaceFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">WorkspaceResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all workspace matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all workspace matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">WORKSPACES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">WorkspaceResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">workspace_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_workspace</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">:</span> <span class="n">WorkspaceUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_id: The ID of the workspace to be updated.</span>
<span class="sd">            workspace_update: The update to be applied to the workspace.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">workspace_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">workspace_update</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">WORKSPACES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">WorkspaceResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_name_or_id: Name or ID of the workspace to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">workspace_name_or_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">WORKSPACES</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Pipelines</span>
    <span class="c1"># ---------</span>

    <span class="k">def</span> <span class="nf">create_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">:</span> <span class="n">PipelineRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new pipeline in a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline: The pipeline to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a pipeline with a given ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_id: ID of the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_pipelines</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_filter_model</span><span class="p">:</span> <span class="n">PipelineFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all pipelines matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all pipelines matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">pipeline_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">pipeline_update</span><span class="p">:</span> <span class="n">PipelineUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a pipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_id: The ID of the pipeline to be updated.</span>
<span class="sd">            pipeline_update: The update to be applied.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">pipeline_update</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a pipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_id: The ID of the pipeline to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINES</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Builds</span>
    <span class="c1"># ---------</span>

    <span class="k">def</span> <span class="nf">create_build</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">build</span><span class="p">:</span> <span class="n">PipelineBuildRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new build in a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            build: The build to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created build.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">build</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_BUILDS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineBuildResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a build with a given ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            build_id: ID of the build.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The build.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">build_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_BUILDS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineBuildResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_builds</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">build_filter_model</span><span class="p">:</span> <span class="n">PipelineBuildFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineBuildResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all builds matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            build_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A page of all builds matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_BUILDS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineBuildResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">build_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a build.</span>

<span class="sd">        Args:</span>
<span class="sd">            build_id: The ID of the build to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">build_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_BUILDS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># ----------------------</span>
    <span class="c1"># Pipeline Deployments</span>
    <span class="c1"># ----------------------</span>

    <span class="k">def</span> <span class="nf">create_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="n">PipelineDeploymentRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new deployment in a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The deployment to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_DEPLOYMENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineDeploymentResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a deployment with a given ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment_id: ID of the deployment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">deployment_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_DEPLOYMENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineDeploymentResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_deployments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">deployment_filter_model</span><span class="p">:</span> <span class="n">PipelineDeploymentFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineDeploymentResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all deployments matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A page of all deployments matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_DEPLOYMENTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineDeploymentResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">deployment_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment_id: The ID of the deployment to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">deployment_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_DEPLOYMENTS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Schedules</span>
    <span class="c1"># ---------</span>

    <span class="k">def</span> <span class="nf">create_schedule</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">ScheduleRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new schedule.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule: The schedule to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created schedule.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SCHEDULES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ScheduleResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a schedule with a given ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_id: ID of the schedule.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The schedule.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SCHEDULES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ScheduleResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_schedules</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">schedule_filter_model</span><span class="p">:</span> <span class="n">ScheduleFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ScheduleResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all schedules in the workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_filter_model: All filter parameters including pagination</span>
<span class="sd">                params</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of schedules.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SCHEDULES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ScheduleResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">schedule_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_schedule</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">schedule_update</span><span class="p">:</span> <span class="n">ScheduleUpdateModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a schedule.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_id: The ID of the schedule to be updated.</span>
<span class="sd">            schedule_update: The update to be applied.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated schedule.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">schedule_update</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SCHEDULES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ScheduleResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a schedule.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_id: The ID of the schedule to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SCHEDULES</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># --------------</span>
    <span class="c1"># Pipeline runs</span>
    <span class="c1"># --------------</span>

    <span class="k">def</span> <span class="nf">create_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_run: The pipeline run to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created pipeline run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">pipeline_run</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">RUNS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_name_or_id: The name or ID of the pipeline run to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The pipeline run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">run_name_or_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">RUNS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_or_create_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets or creates a pipeline run.</span>

<span class="sd">        If a run with the same ID or name already exists, it is returned.</span>
<span class="sd">        Otherwise, a new run is created.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_run: The pipeline run to get or create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The pipeline run, and a boolean indicating whether the run was</span>
<span class="sd">            created or not.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_workspace_scoped_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">pipeline_run</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">RUNS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_runs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">runs_filter_model</span><span class="p">:</span> <span class="n">PipelineRunFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineRunResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all pipeline runs matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            runs_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all pipeline runs matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">RUNS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">runs_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">run_update</span><span class="p">:</span> <span class="n">PipelineRunUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_id: The ID of the pipeline run to update.</span>
<span class="sd">            run_update: The update to be applied to the pipeline run.</span>


<span class="sd">        Returns:</span>
<span class="sd">            The updated pipeline run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">run_update</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">RUNS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_id: The ID of the pipeline run to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">RUNS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># ------------------</span>
    <span class="c1"># Pipeline run steps</span>
    <span class="c1"># ------------------</span>

    <span class="k">def</span> <span class="nf">create_run_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">step_run</span><span class="p">:</span> <span class="n">StepRunRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a step run.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run: The step run to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created step run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">step_run</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">StepRunResponseModel</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STEPS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a step run by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run_id: The ID of the step run to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The step run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">step_run_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STEPS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">StepRunResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_run_steps</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">step_run_filter_model</span><span class="p">:</span> <span class="n">StepRunFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StepRunResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all step runs matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all step runs matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STEPS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">StepRunResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">step_run_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_run_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">step_run_update</span><span class="p">:</span> <span class="n">StepRunUpdateModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a step run.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run_id: The ID of the step to update.</span>
<span class="sd">            step_run_update: The update to be applied to the step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated step run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">step_run_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">step_run_update</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">StepRunResponseModel</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">STEPS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Artifacts</span>
    <span class="c1"># ---------</span>

    <span class="k">def</span> <span class="nf">create_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">artifact</span><span class="p">:</span> <span class="n">ArtifactRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates an artifact.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact: The artifact to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created artifact.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">artifact</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ArtifactResponseModel</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">ARTIFACTS</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets an artifact.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact_id: The ID of the artifact to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The artifact.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">ARTIFACTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ArtifactResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_artifacts</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">artifact_filter_model</span><span class="p">:</span> <span class="n">ArtifactFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ArtifactResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all artifacts matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all artifacts matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">ARTIFACTS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ArtifactResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">artifact_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes an artifact.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact_id: The ID of the artifact to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span><span class="n">resource_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span> <span class="n">route</span><span class="o">=</span><span class="n">ARTIFACTS</span><span class="p">)</span>

    <span class="c1"># ------------</span>
    <span class="c1"># Run Metadata</span>
    <span class="c1"># ------------</span>

    <span class="k">def</span> <span class="nf">create_run_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_metadata</span><span class="p">:</span> <span class="n">RunMetadataRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunMetadataResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates run metadata.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_metadata: The run metadata to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created run metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">run_metadata</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">RunMetadataResponseModel</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">RUN_METADATA</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_run_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">run_metadata_filter_model</span><span class="p">:</span> <span class="n">RunMetadataFilterModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RunMetadataResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List run metadata.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_metadata_filter_model: All filter parameters including</span>
<span class="sd">                pagination params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The run metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">RUN_METADATA</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">RunMetadataResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">run_metadata_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># -----------------</span>
    <span class="c1"># Code Repositories</span>
    <span class="c1"># -----------------</span>

    <span class="k">def</span> <span class="nf">create_code_repository</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository</span><span class="p">:</span> <span class="n">CodeRepositoryRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new code repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            code_repository: Code repository to be created.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created code repository.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">code_repository</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">CodeRepositoryResponseModel</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">CODE_REPOSITORIES</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_code_repository</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific code repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            code_repository_id: The ID of the code repository to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested code repository, if it was found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">code_repository_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">CODE_REPOSITORIES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">CodeRepositoryResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_code_repositories</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">:</span> <span class="n">CodeRepositoryFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">CodeRepositoryResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all code repositories.</span>

<span class="sd">        Args:</span>
<span class="sd">            filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A page of all code repositories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">CODE_REPOSITORIES</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">CodeRepositoryResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_code_repository</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">CodeRepositoryUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates an existing code repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            code_repository_id: The ID of the code repository to update.</span>
<span class="sd">            update: The update to be applied to the code repository.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated code repository.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">code_repository_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">update</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">CodeRepositoryResponseModel</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">CODE_REPOSITORIES</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a code repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            code_repository_id: The ID of the code repository to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">code_repository_id</span><span class="p">,</span> <span class="n">route</span><span class="o">=</span><span class="n">CODE_REPOSITORIES</span>
        <span class="p">)</span>

    <span class="c1"># ------------------</span>
    <span class="c1"># Service Connectors</span>
    <span class="c1"># ------------------</span>

    <span class="k">def</span> <span class="nf">_populate_connector_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="n">connector_models</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="n">ServiceConnectorResponseModel</span><span class="p">,</span> <span class="n">ServiceConnectorResourcesModel</span>
        <span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Populates or updates the connector type of the given connector or resource models.</span>

<span class="sd">        If the connector type is not locally available, the connector type</span>
<span class="sd">        field is left as is. The local and remote flags of the connector type</span>
<span class="sd">        are updated accordingly.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_models: The service connector or resource models to</span>
<span class="sd">                populate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">service_connector</span> <span class="ow">in</span> <span class="n">connector_models</span><span class="p">:</span>
            <span class="c1"># Mark the remote connector type as being only remotely available</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">service_connector</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">service_connector</span><span class="o">.</span><span class="n">connector_type</span><span class="o">.</span><span class="n">local</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">service_connector</span><span class="o">.</span><span class="n">connector_type</span><span class="o">.</span><span class="n">remote</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">is_registered</span><span class="p">(</span>
                <span class="n">service_connector</span><span class="o">.</span><span class="n">type</span>
            <span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">connector_type</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
                    <span class="n">service_connector</span><span class="o">.</span><span class="n">type</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">connector_type</span><span class="o">.</span><span class="n">local</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">service_connector</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">connector_type</span><span class="o">.</span><span class="n">remote</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">service_connector</span><span class="o">.</span><span class="n">connector_type</span> <span class="o">=</span> <span class="n">connector_type</span>

    <span class="k">def</span> <span class="nf">create_service_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new service connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector: Service connector to be created.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created service connector.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connector_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">service_connector</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SERVICE_CONNECTORS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResponseModel</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector_model</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">connector_model</span>

    <span class="k">def</span> <span class="nf">get_service_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific service connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the service connector to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested service connector, if it was found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connector_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">service_connector_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SERVICE_CONNECTORS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResponseModel</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;expand_secrets&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector_model</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">connector_model</span>

    <span class="k">def</span> <span class="nf">list_service_connectors</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">:</span> <span class="n">ServiceConnectorFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ServiceConnectorResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all service connectors.</span>

<span class="sd">        Args:</span>
<span class="sd">            filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A page of all service connectors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connector_models</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SERVICE_CONNECTORS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;expand_secrets&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="o">*</span><span class="n">connector_models</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">connector_models</span>

    <span class="k">def</span> <span class="nf">update_service_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">ServiceConnectorUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates an existing service connector.</span>

<span class="sd">        The update model contains the fields to be updated. If a field value is</span>
<span class="sd">        set to None in the model, the field is not updated, but there are</span>
<span class="sd">        special rules concerning some fields:</span>

<span class="sd">        * the `configuration` and `secrets` fields together represent a full</span>
<span class="sd">        valid configuration update, not just a partial update. If either is</span>
<span class="sd">        set (i.e. not None) in the update, their values are merged together and</span>
<span class="sd">        will replace the existing configuration and secrets values.</span>
<span class="sd">        * the `resource_id` field value is also a full replacement value: if set</span>
<span class="sd">        to `None`, the resource ID is removed from the service connector.</span>
<span class="sd">        * the `expiration_seconds` field value is also a full replacement value:</span>
<span class="sd">        if set to `None`, the expiration is removed from the service connector.</span>
<span class="sd">        * the `secret_id` field value in the update is ignored, given that</span>
<span class="sd">        secrets are managed internally by the ZenML store.</span>
<span class="sd">        * the `labels` field is also a full labels update: if set (i.e. not</span>
<span class="sd">        `None`), all existing labels are removed and replaced by the new labels</span>
<span class="sd">        in the update.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the service connector to update.</span>
<span class="sd">            update: The update to be applied to the service connector.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service connector.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connector_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">service_connector_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">update</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResponseModel</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SERVICE_CONNECTORS</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector_model</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">connector_model</span>

    <span class="k">def</span> <span class="nf">delete_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a service connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the service connector to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">service_connector_id</span><span class="p">,</span> <span class="n">route</span><span class="o">=</span><span class="n">SERVICE_CONNECTORS</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">verify_service_connector_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service_connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span><span class="p">,</span>
        <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector configuration has access to resources.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector: The service connector configuration to verify.</span>
<span class="sd">            list_resources: If True, the list of all resources accessible</span>
<span class="sd">                through the service connector and matching the supplied resource</span>
<span class="sd">                type and ID are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of resources that the service connector configuration has</span>
<span class="sd">            access to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">SERVICE_CONNECTORS</span><span class="si">}{</span><span class="n">SERVICE_CONNECTOR_VERIFY</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">body</span><span class="o">=</span><span class="n">service_connector</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;list_resources&quot;</span><span class="p">:</span> <span class="n">list_resources</span><span class="p">},</span>
        <span class="p">)</span>

        <span class="n">resources</span> <span class="o">=</span> <span class="n">ServiceConnectorResourcesModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response_body</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">resources</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">resources</span>

    <span class="k">def</span> <span class="nf">verify_service_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector instance has access to one or more resources.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the service connector to verify.</span>
<span class="sd">            resource_type: The type of resource to verify access to.</span>
<span class="sd">            resource_id: The ID of the resource to verify access to.</span>
<span class="sd">            list_resources: If True, the list of all resources accessible</span>
<span class="sd">                through the service connector and matching the supplied resource</span>
<span class="sd">                type and ID are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of resources that the service connector has access to,</span>
<span class="sd">            scoped to the supplied resource type and ID, if provided.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;list_resources&quot;</span><span class="p">:</span> <span class="n">list_resources</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_type</span>
        <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_id</span>
        <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">SERVICE_CONNECTORS</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">service_connector_id</span><span class="p">)</span><span class="si">}{</span><span class="n">SERVICE_CONNECTOR_VERIFY</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">resources</span> <span class="o">=</span> <span class="n">ServiceConnectorResourcesModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response_body</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">resources</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">resources</span>

    <span class="k">def</span> <span class="nf">get_service_connector_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a service connector client for a service connector and given resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the base service connector to use.</span>
<span class="sd">            resource_type: The type of resource to get a client for.</span>
<span class="sd">            resource_id: The ID of the resource to get a client for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A service connector client that can be used to access the given</span>
<span class="sd">            resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_type</span>
        <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_id</span>
        <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">SERVICE_CONNECTORS</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">service_connector_id</span><span class="p">)</span><span class="si">}{</span><span class="n">SERVICE_CONNECTOR_CLIENT</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">connector</span> <span class="o">=</span> <span class="n">ServiceConnectorResponseModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response_body</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">connector</span>

    <span class="k">def</span> <span class="nf">list_service_connector_resources</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorResourcesModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List resources that can be accessed by service connectors.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_name_or_id: The name or ID of the user to scope to.</span>
<span class="sd">            workspace_name_or_id: The name or ID of the workspace to scope to.</span>
<span class="sd">            connector_type: The type of service connector to scope to.</span>
<span class="sd">            resource_type: The type of resource to scope to.</span>
<span class="sd">            resource_id: The ID of the resource to scope to.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching list of resources that available service</span>
<span class="sd">            connectors have access to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">connector_type</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;connector_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">connector_type</span>
        <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_type</span>
        <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_id</span>
        <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">WORKSPACES</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}{</span><span class="n">SERVICE_CONNECTORS</span><span class="si">}{</span><span class="n">SERVICE_CONNECTOR_RESOURCES</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_body</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
        <span class="n">resource_list</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ServiceConnectorResourcesModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">response_body</span>
        <span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="o">*</span><span class="n">resource_list</span><span class="p">)</span>

        <span class="c1"># For service connectors with types that are only locally available,</span>
        <span class="c1"># we need to retrieve the resource list locally</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">resources</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">resource_list</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resources</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="c1"># Skip connector types that are neither locally nor remotely</span>
                <span class="c1"># available</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">resources</span><span class="o">.</span><span class="n">connector_type</span><span class="o">.</span><span class="n">remote</span><span class="p">:</span>
                <span class="c1"># Skip connector types that are remotely available</span>
                <span class="k">continue</span>

            <span class="c1"># Retrieve the resource list locally</span>
            <span class="k">assert</span> <span class="n">resources</span><span class="o">.</span><span class="n">id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">connector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">(</span><span class="n">resources</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="n">connector_instance</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">instantiate_connector</span><span class="p">(</span>
                    <span class="n">model</span><span class="o">=</span><span class="n">connector</span>
                <span class="p">)</span>
            <span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">local_resources</span> <span class="o">=</span> <span class="n">connector_instance</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span>
                    <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                    <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">AuthorizationException</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;Failed to fetch </span><span class="si">{</span><span class="n">resource_type</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;available&quot;</span><span class="si">}</span><span class="s1"> &#39;</span>
                    <span class="sa">f</span><span class="s2">&quot;resources from service connector </span><span class="si">{</span><span class="n">connector</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">connector</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="k">continue</span>

            <span class="n">resource_list</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">local_resources</span>

        <span class="k">return</span> <span class="n">resource_list</span>

    <span class="k">def</span> <span class="nf">list_service_connector_types</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of service connector types.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_type: Filter by connector type.</span>
<span class="sd">            resource_type: Filter by resource type.</span>
<span class="sd">            auth_method: Filter by authentication method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of service connector types.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">connector_type</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;connector_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">connector_type</span>
        <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_type</span>
        <span class="k">if</span> <span class="n">auth_method</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s2">&quot;auth_method&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">auth_method</span>
        <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">SERVICE_CONNECTOR_TYPES</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_body</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
        <span class="n">remote_connector_types</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ServiceConnectorTypeModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">response_body</span>
        <span class="p">]</span>

        <span class="c1"># Mark the remote connector types as being only remotely available</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">remote_connector_types</span><span class="p">:</span>
            <span class="n">c</span><span class="o">.</span><span class="n">local</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">c</span><span class="o">.</span><span class="n">remote</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">local_connector_types</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">list_service_connector_types</span><span class="p">(</span>
                <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
                <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                <span class="n">auth_method</span><span class="o">=</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Add the connector types in the local registry to the list of</span>
        <span class="c1"># connector types available remotely. Overwrite those that have</span>
        <span class="c1"># the same connector type but mark them as being remotely available.</span>
        <span class="n">connector_types_map</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">connector_type</span><span class="o">.</span><span class="n">connector_type</span><span class="p">:</span> <span class="n">connector_type</span>
            <span class="k">for</span> <span class="n">connector_type</span> <span class="ow">in</span> <span class="n">remote_connector_types</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="n">connector</span> <span class="ow">in</span> <span class="n">local_connector_types</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">connector</span><span class="o">.</span><span class="n">connector_type</span> <span class="ow">in</span> <span class="n">connector_types_map</span><span class="p">:</span>
                <span class="n">connector</span><span class="o">.</span><span class="n">remote</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">connector_types_map</span><span class="p">[</span><span class="n">connector</span><span class="o">.</span><span class="n">connector_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">connector</span>

        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">connector_types_map</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">get_service_connector_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">connector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the requested service connector type.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_type: the service connector type identifier.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested service connector type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Use the local registry to get the service connector type, if it</span>
        <span class="c1"># exists.</span>
        <span class="n">local_connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">is_registered</span><span class="p">(</span><span class="n">connector_type</span><span class="p">):</span>
            <span class="n">local_connector_type</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
                    <span class="n">connector_type</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">SERVICE_CONNECTOR_TYPES</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">connector_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">remote_connector_type</span> <span class="o">=</span> <span class="n">ServiceConnectorTypeModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span>
                <span class="n">response_body</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">local_connector_type</span><span class="p">:</span>
                <span class="c1"># If locally available, return the local connector type but</span>
                <span class="c1"># mark it as being remotely available.</span>
                <span class="n">local_connector_type</span><span class="o">.</span><span class="n">remote</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">return</span> <span class="n">local_connector_type</span>

            <span class="c1"># Mark the remote connector type as being only remotely available</span>
            <span class="n">remote_connector_type</span><span class="o">.</span><span class="n">local</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">remote_connector_type</span><span class="o">.</span><span class="n">remote</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="k">return</span> <span class="n">remote_connector_type</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="c1"># If the service connector type is not found, check the local</span>
            <span class="c1"># registry.</span>
            <span class="k">return</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
                <span class="n">connector_type</span>
            <span class="p">)</span>

    <span class="c1"># =======================</span>
    <span class="c1"># Internal helper methods</span>
    <span class="c1"># =======================</span>

    <span class="k">def</span> <span class="nf">_get_auth_token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the authentication token for the REST store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The authentication token.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the response from the server isn&#39;t in the right</span>
<span class="sd">                format.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Check if the API token is already stored in the config</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">api_token</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_api_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">api_token</span>
            <span class="c1"># Check if the username and password are provided in the config</span>
            <span class="k">elif</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">password</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">):</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_response</span><span class="p">(</span>
                    <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">+</span> <span class="n">API</span> <span class="o">+</span> <span class="n">VERSION_1</span> <span class="o">+</span> <span class="n">LOGIN</span><span class="p">,</span>
                        <span class="n">data</span><span class="o">=</span><span class="p">{</span>
                            <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
                            <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
                        <span class="p">},</span>
                        <span class="n">verify</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">verify_ssl</span><span class="p">,</span>
                        <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">http_timeout</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
                    <span class="ow">or</span> <span class="s2">&quot;access_token&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">response</span>
                <span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Bad API Response. Expected access token dict, got &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_api_token</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">api_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_token</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;No API token or username/password provided. Please &quot;</span>
                    <span class="s2">&quot;provide either a token or a username and password in &quot;</span>
                    <span class="s2">&quot;the ZenStore config.&quot;</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api_token</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">session</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Authenticate to the ZenML server.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A requests session with the authentication token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">verify_ssl</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="n">urllib3</span><span class="o">.</span><span class="n">disable_warnings</span><span class="p">(</span>
                    <span class="n">urllib3</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">InsecureRequestWarning</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">verify</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">verify_ssl</span>
            <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_auth_token</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer &quot;</span> <span class="o">+</span> <span class="n">token</span><span class="p">})</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Authenticated to ZenML server.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_handle_response</span><span class="p">(</span><span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Json</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Handle API response, translating http status codes to Exception.</span>

<span class="sd">        Args:</span>
<span class="sd">            response: The response to handle.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The parsed response.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the response is not in the right format.</span>
<span class="sd">            RuntimeError: if an error response is received from the server</span>
<span class="sd">                and a more specific exception cannot be determined.</span>
<span class="sd">            exc: the exception converted from an error response, if one</span>
<span class="sd">                is returned from the server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="mi">200</span> <span class="o">&lt;=</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">payload</span><span class="p">:</span> <span class="n">Json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
                <span class="k">return</span> <span class="n">payload</span>
            <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Bad response from API. Expected json, got</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">&gt;=</span> <span class="mi">400</span><span class="p">:</span>
            <span class="n">exc</span> <span class="o">=</span> <span class="n">exception_from_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">exc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">exc</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2"> HTTP Error received from server: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Error retrieving from API. Got response &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2"> with body:</span><span class="se">\n</span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_request</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Json</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a request to the REST API.</span>

<span class="sd">        Args:</span>
<span class="sd">            method: The HTTP method to use.</span>
<span class="sd">            url: The URL to request.</span>
<span class="sd">            params: The query parameters to pass to the endpoint.</span>
<span class="sd">            kwargs: Additional keyword arguments to pass to the request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The parsed response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span> <span class="k">if</span> <span class="n">params</span> <span class="k">else</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">source_context</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">source_context</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">}</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_response</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span>
                    <span class="n">method</span><span class="p">,</span>
                    <span class="n">url</span><span class="p">,</span>
                    <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
                    <span class="n">verify</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">verify_ssl</span><span class="p">,</span>
                    <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">http_timeout</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">AuthorizationException</span><span class="p">:</span>
            <span class="c1"># The authentication token could have expired; refresh it and try</span>
            <span class="c1"># again</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_response</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span>
                    <span class="n">method</span><span class="p">,</span>
                    <span class="n">url</span><span class="p">,</span>
                    <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
                    <span class="n">verify</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">verify_ssl</span><span class="p">,</span>
                    <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">http_timeout</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Json</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a GET request to the given endpoint path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to the endpoint.</span>
<span class="sd">            params: The query parameters to pass to the endpoint.</span>
<span class="sd">            kwargs: Additional keyword arguments to pass to the request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The response body.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending GET request to </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">+</span> <span class="n">API</span> <span class="o">+</span> <span class="n">VERSION_1</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Json</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a DELETE request to the given endpoint path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to the endpoint.</span>
<span class="sd">            params: The query parameters to pass to the endpoint.</span>
<span class="sd">            kwargs: Additional keyword arguments to pass to the request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The response body.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending DELETE request to </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;DELETE&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">+</span> <span class="n">API</span> <span class="o">+</span> <span class="n">VERSION_1</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">body</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Json</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a POST request to the given endpoint path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to the endpoint.</span>
<span class="sd">            body: The body to send.</span>
<span class="sd">            params: The query parameters to pass to the endpoint.</span>
<span class="sd">            kwargs: Additional keyword arguments to pass to the request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The response body.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending POST request to </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;POST&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">+</span> <span class="n">API</span> <span class="o">+</span> <span class="n">VERSION_1</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">body</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">body</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Json</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a PUT request to the given endpoint path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to the endpoint.</span>
<span class="sd">            body: The body to send.</span>
<span class="sd">            params: The query parameters to pass to the endpoint.</span>
<span class="sd">            kwargs: Additional keyword arguments to pass to the request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The response body.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending PUT request to </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
            <span class="s2">&quot;PUT&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">+</span> <span class="n">API</span> <span class="o">+</span> <span class="n">VERSION_1</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_resource</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource</span><span class="p">:</span> <span class="n">BaseRequestModel</span><span class="p">,</span>
        <span class="n">response_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">],</span>
        <span class="n">route</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource: The resource to create.</span>
<span class="sd">            route: The resource REST API route to use.</span>
<span class="sd">            response_model: Optional model to use to deserialize the response</span>
<span class="sd">                body. If not provided, the resource class itself will be used.</span>
<span class="sd">            params: Optional query parameters to pass to the endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">route</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="n">resource</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response_model</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response_body</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource</span><span class="p">:</span> <span class="n">WorkspaceScopedRequestModel</span><span class="p">,</span>
        <span class="n">response_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">],</span>
        <span class="n">route</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new workspace scoped resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource: The resource to create.</span>
<span class="sd">            route: The resource REST API route to use.</span>
<span class="sd">            response_model: Optional model to use to deserialize the response</span>
<span class="sd">                body. If not provided, the resource class itself will be used.</span>
<span class="sd">            params: Optional query parameters to pass to the endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">resource</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">response_model</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">WORKSPACES</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">resource</span><span class="o">.</span><span class="n">workspace</span><span class="p">)</span><span class="si">}{</span><span class="n">route</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_or_create_resource</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource</span><span class="p">:</span> <span class="n">BaseRequestModel</span><span class="p">,</span>
        <span class="n">response_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">],</span>
        <span class="n">route</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get or create a resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource: The resource to get or create.</span>
<span class="sd">            route: The resource REST API route to use.</span>
<span class="sd">            response_model: Optional model to use to deserialize the response</span>
<span class="sd">                body. If not provided, the resource class itself will be used.</span>
<span class="sd">            params: Optional query parameters to pass to the endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created resource, and a boolean indicating whether the resource</span>
<span class="sd">            was created or not.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the response body is not a list with 2 elements</span>
<span class="sd">                where the first element is the resource and the second element</span>
<span class="sd">                a boolean indicating whether the resource was created or not.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">route</span><span class="si">}{</span><span class="n">GET_OR_CREATE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">body</span><span class="o">=</span><span class="n">resource</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_body</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Expected a list response from the </span><span class="si">{</span><span class="n">route</span><span class="si">}{</span><span class="n">GET_OR_CREATE</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;endpoint but got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">response_body</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">response_body</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Expected a list response with 2 elements from the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">route</span><span class="si">}{</span><span class="n">GET_OR_CREATE</span><span class="si">}</span><span class="s2"> endpoint but got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">response_body</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;elements instead.&quot;</span>
            <span class="p">)</span>
        <span class="n">model_json</span><span class="p">,</span> <span class="n">was_created</span> <span class="o">=</span> <span class="n">response_body</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">was_created</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Expected a boolean as the second element of the list &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;response from the </span><span class="si">{</span><span class="n">route</span><span class="si">}{</span><span class="n">GET_OR_CREATE</span><span class="si">}</span><span class="s2"> endpoint but got &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">was_created</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">response_model</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">model_json</span><span class="p">),</span> <span class="n">was_created</span>

    <span class="k">def</span> <span class="nf">_get_or_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource</span><span class="p">:</span> <span class="n">WorkspaceScopedRequestModel</span><span class="p">,</span>
        <span class="n">response_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">],</span>
        <span class="n">route</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get or create a workspace scoped resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource: The resource to get or create.</span>
<span class="sd">            route: The resource REST API route to use.</span>
<span class="sd">            response_model: Optional model to use to deserialize the response</span>
<span class="sd">                body. If not provided, the resource class itself will be used.</span>
<span class="sd">            params: Optional query parameters to pass to the endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created resource, and a boolean indicating whether the resource</span>
<span class="sd">            was created or not.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">resource</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">response_model</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">WORKSPACES</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">resource</span><span class="o">.</span><span class="n">workspace</span><span class="p">)</span><span class="si">}{</span><span class="n">route</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_resource</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">route</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">response_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">],</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve a single resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_id: The ID of the resource to retrieve.</span>
<span class="sd">            route: The resource REST API route to use.</span>
<span class="sd">            response_model: Model to use to serialize the response body.</span>
<span class="sd">            params: Optional query parameters to pass to the endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The retrieved resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">route</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">resource_id</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response_model</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_list_paginated_resources</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">route</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">response_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">],</span>
        <span class="n">filter_model</span><span class="p">:</span> <span class="n">BaseFilterModel</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve a list of resources filtered by some criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            route: The resource REST API route to use.</span>
<span class="sd">            response_model: Model to use to serialize the response body.</span>
<span class="sd">            filter_model: The filter model to use for the list query.</span>
<span class="sd">            params: Optional query parameters to pass to the endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of retrieved resources matching the filter criteria.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the value returned by the server is not a list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># leave out filter params that are not supplied</span>
        <span class="n">params</span> <span class="o">=</span> <span class="n">params</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">filter_model</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
        <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">route</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Bad API Response. Expected list, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">body</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="c1"># The initial page of items will be of type BaseResponseModel</span>
        <span class="n">page_of_items</span><span class="p">:</span> <span class="n">Page</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">]</span> <span class="o">=</span> <span class="n">Page</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
        <span class="c1"># So these items will be parsed into their correct types like here</span>
        <span class="n">page_of_items</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">response_model</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">generic_item</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">generic_item</span> <span class="ow">in</span> <span class="n">page_of_items</span><span class="o">.</span><span class="n">items</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">page_of_items</span>

    <span class="k">def</span> <span class="nf">_list_resources</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">route</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">response_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">],</span>
        <span class="o">**</span><span class="n">filters</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve a list of resources filtered by some criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            route: The resource REST API route to use.</span>
<span class="sd">            response_model: Model to use to serialize the response body.</span>
<span class="sd">            filters: Filter parameters to use in the query.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of retrieved resources matching the filter criteria.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the value returned by the server is not a list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># leave out filter params that are not supplied</span>
        <span class="n">params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="n">filters</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
        <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">route</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Bad API Response. Expected list, got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">body</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">response_model</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">body</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_update_resource</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span>
        <span class="n">response_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AnyResponseModel</span><span class="p">],</span>
        <span class="n">route</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_id: The id of the resource to update.</span>
<span class="sd">            resource_update: The resource update.</span>
<span class="sd">            response_model: Optional model to use to deserialize the response</span>
<span class="sd">                body. If not provided, the resource class itself will be used.</span>
<span class="sd">            route: The resource REST API route to use.</span>
<span class="sd">            params: Optional query parameters to pass to the endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">route</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">resource_id</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="n">resource_update</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">response_model</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response_body</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_delete_resource</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span> <span class="n">route</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_id: The ID of the resource to delete.</span>
<span class="sd">            route: The resource REST API route to use.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">route</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">resource_id</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.session" class="doc doc-heading">
<code class="highlight language-python"><span class="n">session</span><span class="p">:</span> <span class="n">Session</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Authenticate to the ZenML server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Session</code></td>
      <td><p>A requests session with the authentication token.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.config.store_config.StoreConfiguration" href="../core-config/#zenml.config.store_config.StoreConfiguration">StoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>REST ZenML store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>StoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>secrets_store</code></td>
        <td><code>Optional[zenml.config.secrets_store_config.SecretsStoreConfiguration]</code></td>
        <td><p>The configuration of the secrets store to use.
This defaults to a REST secrets store that extends the REST ZenML
store.</p></td>
      </tr>
      <tr>
        <td><code>username</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The username to use to connect to the Zen server.</p></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The password to use to connect to the Zen server.</p></td>
      </tr>
      <tr>
        <td><code>verify_ssl</code></td>
        <td><code>Union[bool, str]</code></td>
        <td><p>Either a boolean, in which case it controls whether we
verify the server's TLS certificate, or a string, in which case it
must be a path to a CA bundle to use or the CA bundle value itself.</p></td>
      </tr>
      <tr>
        <td><code>http_timeout</code></td>
        <td><code>int</code></td>
        <td><p>The timeout to use for all requests.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RestZenStoreConfiguration</span><span class="p">(</span><span class="n">StoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;REST ZenML store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        secrets_store: The configuration of the secrets store to use.</span>
<span class="sd">            This defaults to a REST secrets store that extends the REST ZenML</span>
<span class="sd">            store.</span>
<span class="sd">        username: The username to use to connect to the Zen server.</span>
<span class="sd">        password: The password to use to connect to the Zen server.</span>
<span class="sd">        verify_ssl: Either a boolean, in which case it controls whether we</span>
<span class="sd">            verify the server&#39;s TLS certificate, or a string, in which case it</span>
<span class="sd">            must be a path to a CA bundle to use or the CA bundle value itself.</span>
<span class="sd">        http_timeout: The timeout to use for all requests.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">StoreType</span> <span class="o">=</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span>

    <span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">api_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">verify_ssl</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">http_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_HTTP_TIMEOUT</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;secrets_store&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_secrets_store</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretsStoreConfiguration</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ensures that the secrets store uses an associated REST secrets store.</span>

<span class="sd">        Args:</span>
<span class="sd">            secrets_store: The secrets store config to be validated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated secrets store config.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the secrets store is not of type REST.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">secrets_store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">secrets_store</span> <span class="o">=</span> <span class="n">RestSecretsStoreConfiguration</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">secrets_store</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The secrets store associated with a REST zen store must be &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;of type REST, but is of type </span><span class="si">{</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">secrets_store</span>

    <span class="nd">@root_validator</span>
    <span class="k">def</span> <span class="nf">validate_credentials</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates the credentials provided in the values dictionary.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: A dictionary containing the values to be validated.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If neither api_token nor username is set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The values dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Check if the values dictionary contains either an api_token or a</span>
        <span class="c1"># username as non-empty strings.</span>
        <span class="k">if</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;api_token&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">values</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Neither api_token nor username is set in the store config.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_url</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates that the URL is a well-formed REST store URL.</span>

<span class="sd">        Args:</span>
<span class="sd">            url: The URL to be validated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated URL without trailing slashes.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the URL is not a well-formed REST store URL.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="n">scheme</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;^([a-z0-9]+://)&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">scheme</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">scheme</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">,</span> <span class="s2">&quot;http://&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid URL for REST store: </span><span class="si">{url}</span><span class="s2">. Should be in the form &quot;</span>
                <span class="s2">&quot;https://hostname[:port] or http://hostname[:port].&quot;</span>
            <span class="p">)</span>

        <span class="c1"># When running inside a container, if the URL uses localhost, the</span>
        <span class="c1"># target service will not be available. We try to replace localhost</span>
        <span class="c1"># with one of the special Docker or K3D internal hostnames.</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">replace_localhost_with_internal_hostname</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">url</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;verify_ssl&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_verify_ssl</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">verify_ssl</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates that the verify_ssl either points to a file or is a bool.</span>

<span class="sd">        Args:</span>
<span class="sd">            verify_ssl: The verify_ssl value to be validated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated verify_ssl value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">secret_folder</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span>
            <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">local_stores_path</span><span class="p">,</span>
            <span class="s2">&quot;certificates&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span> <span class="ow">or</span> <span class="n">verify_ssl</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">verify_ssl</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">verify_ssl</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

        <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">))</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">,</span> <span class="s2">&quot;ca_bundle.pem&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">)</span>
        <span class="n">file_path</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="mo">0o600</span><span class="p">)</span>
        <span class="n">verify_ssl</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">verify_ssl</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">supports_url_scheme</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a URL scheme is supported by this store.</span>

<span class="sd">        Args:</span>
<span class="sd">            url: The URL to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the URL scheme is supported, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">scheme</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">,</span> <span class="s2">&quot;https&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">expand_certificates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Expands the certificates in the verify_ssl field.&quot;&quot;&quot;</span>
        <span class="c1"># Load the certificate values back into the configuration</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span>
        <span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">copy_configuration</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">,</span>
        <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">load_config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PurePath</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a copy of the store config using a different path.</span>

<span class="sd">        This method is used to create a copy of the store configuration that can</span>
<span class="sd">        be loaded using a different configuration path or in the context of a</span>
<span class="sd">        new environment, such as a container image.</span>

<span class="sd">        The configuration files accompanying the store configuration are also</span>
<span class="sd">        copied to the new configuration path (e.g. certificates etc.).</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The store configuration to copy.</span>
<span class="sd">            config_path: new path where the configuration copy will be loaded</span>
<span class="sd">                from.</span>
<span class="sd">            load_config_path: absolute path that will be used to load the copied</span>
<span class="sd">                configuration. This can be set to a value different from</span>
<span class="sd">                `config_path` if the configuration copy will be loaded from</span>
<span class="sd">                a different environment, e.g. when the configuration is copied</span>
<span class="sd">                to a container image and loaded using a different absolute path.</span>
<span class="sd">                This will be reflected in the paths and URLs encoded in the</span>
<span class="sd">                copied configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new store configuration object that reflects the new configuration</span>
<span class="sd">            path.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">RestZenStoreConfiguration</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">config</span><span class="o">.</span><span class="n">api_token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;username&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">},</span> <span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1"># Load the certificate values back into the configuration</span>
        <span class="n">config</span><span class="o">.</span><span class="n">expand_certificates</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">config</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
        <span class="c1"># because the `verify_ssl` attribute can be expanded to the contents</span>
        <span class="c1"># of the certificate file.</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
    <span class="c1"># because the `verify_ssl` attribute can be expanded to the contents</span>
    <span class="c1"># of the certificate file.</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.copy_configuration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">copy_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">config_path</span><span class="p">,</span> <span class="n">load_config_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a copy of the store config using a different path.</p>
<p>This method is used to create a copy of the store configuration that can
be loaded using a different configuration path or in the context of a
new environment, such as a container image.</p>
<p>The configuration files accompanying the store configuration are also
copied to the new configuration path (e.g. certificates etc.).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>StoreConfiguration</code></td>
        <td><p>The store configuration to copy.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config_path</code></td>
        <td><code>str</code></td>
        <td><p>new path where the configuration copy will be loaded
from.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>load_config_path</code></td>
        <td><code>Optional[pathlib.PurePath]</code></td>
        <td><p>absolute path that will be used to load the copied
configuration. This can be set to a value different from
<code>config_path</code> if the configuration copy will be loaded from
a different environment, e.g. when the configuration is copied
to a container image and loaded using a different absolute path.
This will be reflected in the paths and URLs encoded in the
copied configuration.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StoreConfiguration</code></td>
      <td><p>A new store configuration object that reflects the new configuration
path.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">copy_configuration</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">,</span>
    <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">load_config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PurePath</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a copy of the store config using a different path.</span>

<span class="sd">    This method is used to create a copy of the store configuration that can</span>
<span class="sd">    be loaded using a different configuration path or in the context of a</span>
<span class="sd">    new environment, such as a container image.</span>

<span class="sd">    The configuration files accompanying the store configuration are also</span>
<span class="sd">    copied to the new configuration path (e.g. certificates etc.).</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The store configuration to copy.</span>
<span class="sd">        config_path: new path where the configuration copy will be loaded</span>
<span class="sd">            from.</span>
<span class="sd">        load_config_path: absolute path that will be used to load the copied</span>
<span class="sd">            configuration. This can be set to a value different from</span>
<span class="sd">            `config_path` if the configuration copy will be loaded from</span>
<span class="sd">            a different environment, e.g. when the configuration is copied</span>
<span class="sd">            to a container image and loaded using a different absolute path.</span>
<span class="sd">            This will be reflected in the paths and URLs encoded in the</span>
<span class="sd">            copied configuration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new store configuration object that reflects the new configuration</span>
<span class="sd">        path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">RestZenStoreConfiguration</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">config</span><span class="o">.</span><span class="n">api_token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;username&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">},</span> <span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># Load the certificate values back into the configuration</span>
    <span class="n">config</span><span class="o">.</span><span class="n">expand_certificates</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.expand_certificates" class="doc doc-heading">
<code class="highlight language-python"><span class="n">expand_certificates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Expands the certificates in the verify_ssl field.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">expand_certificates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Expands the certificates in the verify_ssl field.&quot;&quot;&quot;</span>
    <span class="c1"># Load the certificate values back into the configuration</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span>
    <span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.supports_url_scheme" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports_url_scheme</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Check if a URL scheme is supported by this store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>url</code></td>
        <td><code>str</code></td>
        <td><p>The URL to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the URL scheme is supported, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">supports_url_scheme</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if a URL scheme is supported by this store.</span>

<span class="sd">    Args:</span>
<span class="sd">        url: The URL to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the URL scheme is supported, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">scheme</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">,</span> <span class="s2">&quot;https&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.validate_credentials" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_credentials</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Validates the credentials provided in the values dictionary.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>values</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>A dictionary containing the values to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If neither api_token nor username is set.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>The values dictionary.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@root_validator</span>
<span class="k">def</span> <span class="nf">validate_credentials</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validates the credentials provided in the values dictionary.</span>

<span class="sd">    Args:</span>
<span class="sd">        values: A dictionary containing the values to be validated.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If neither api_token nor username is set.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The values dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check if the values dictionary contains either an api_token or a</span>
    <span class="c1"># username as non-empty strings.</span>
    <span class="k">if</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;api_token&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">values</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Neither api_token nor username is set in the store config.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.validate_secrets_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_secrets_store</span><span class="p">(</span><span class="n">secrets_store</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Ensures that the secrets store uses an associated REST secrets store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secrets_store</code></td>
        <td><code>Optional[zenml.config.secrets_store_config.SecretsStoreConfiguration]</code></td>
        <td><p>The secrets store config to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretsStoreConfiguration</code></td>
      <td><p>The validated secrets store config.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the secrets store is not of type REST.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;secrets_store&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_secrets_store</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretsStoreConfiguration</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ensures that the secrets store uses an associated REST secrets store.</span>

<span class="sd">    Args:</span>
<span class="sd">        secrets_store: The secrets store config to be validated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The validated secrets store config.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the secrets store is not of type REST.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">secrets_store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">secrets_store</span> <span class="o">=</span> <span class="n">RestSecretsStoreConfiguration</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">secrets_store</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The secrets store associated with a REST zen store must be &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of type REST, but is of type </span><span class="si">{</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">secrets_store</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.validate_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Validates that the URL is a well-formed REST store URL.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>url</code></td>
        <td><code>str</code></td>
        <td><p>The URL to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The validated URL without trailing slashes.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the URL is not a well-formed REST store URL.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_url</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validates that the URL is a well-formed REST store URL.</span>

<span class="sd">    Args:</span>
<span class="sd">        url: The URL to be validated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The validated URL without trailing slashes.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the URL is not a well-formed REST store URL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="n">scheme</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;^([a-z0-9]+://)&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">scheme</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">scheme</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">,</span> <span class="s2">&quot;http://&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Invalid URL for REST store: </span><span class="si">{url}</span><span class="s2">. Should be in the form &quot;</span>
            <span class="s2">&quot;https://hostname[:port] or http://hostname[:port].&quot;</span>
        <span class="p">)</span>

    <span class="c1"># When running inside a container, if the URL uses localhost, the</span>
    <span class="c1"># target service will not be available. We try to replace localhost</span>
    <span class="c1"># with one of the special Docker or K3D internal hostnames.</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">replace_localhost_with_internal_hostname</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">url</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.rest_zen_store.RestZenStore.CONFIG_TYPE.validate_verify_ssl" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_verify_ssl</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Validates that the verify_ssl either points to a file or is a bool.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>verify_ssl</code></td>
        <td><code>Union[bool, str]</code></td>
        <td><p>The verify_ssl value to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[bool, str]</code></td>
      <td><p>The validated verify_ssl value.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;verify_ssl&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_verify_ssl</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">verify_ssl</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validates that the verify_ssl either points to a file or is a bool.</span>

<span class="sd">    Args:</span>
<span class="sd">        verify_ssl: The verify_ssl value to be validated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The validated verify_ssl value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">secret_folder</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span>
        <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">local_stores_path</span><span class="p">,</span>
        <span class="s2">&quot;certificates&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span> <span class="ow">or</span> <span class="n">verify_ssl</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="n">verify_ssl</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">verify_ssl</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">))</span>
    <span class="n">file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">,</span> <span class="s2">&quot;ca_bundle.pem&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">)</span>
    <span class="n">file_path</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="mo">0o600</span><span class="p">)</span>
    <span class="n">verify_ssl</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_ssl</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact</code></td>
        <td><code>ArtifactRequestModel</code></td>
        <td><p>The artifact to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactResponseModel</code></td>
      <td><p>The created artifact.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_artifact</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">artifact</span><span class="p">:</span> <span class="n">ArtifactRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact: The artifact to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created artifact.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">artifact</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ArtifactResponseModel</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">ARTIFACTS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new build in a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build</code></td>
        <td><code>PipelineBuildRequestModel</code></td>
        <td><p>The build to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineBuildResponseModel</code></td>
      <td><p>The newly created build.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_build</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">build</span><span class="p">:</span> <span class="n">PipelineBuildRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new build in a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        build: The build to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created build.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">build</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_BUILDS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineBuildResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository</code></td>
        <td><code>CodeRepositoryRequestModel</code></td>
        <td><p>Code repository to be created.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponseModel</code></td>
      <td><p>The newly created code repository.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_code_repository</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository</span><span class="p">:</span> <span class="n">CodeRepositoryRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository: Code repository to be created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created code repository.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">code_repository</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">CodeRepositoryResponseModel</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">CODE_REPOSITORIES</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new deployment in a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeploymentRequestModel</code></td>
        <td><p>The deployment to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineDeploymentResponseModel</code></td>
      <td><p>The newly created deployment.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="n">PipelineDeploymentRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new deployment in a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The deployment to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_DEPLOYMENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineDeploymentResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new stack component flavor.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor</code></td>
        <td><code>FlavorRequestModel</code></td>
        <td><p>The stack component flavor to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponseModel</code></td>
      <td><p>The newly created flavor.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor</span><span class="p">:</span> <span class="n">FlavorRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new stack component flavor.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor: The stack component flavor to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created flavor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">flavor</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">FLAVORS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">FlavorResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new pipeline in a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>PipelineRequestModel</code></td>
        <td><p>The pipeline to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponseModel</code></td>
      <td><p>The newly created pipeline.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">:</span> <span class="n">PipelineRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new pipeline in a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline: The pipeline to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_role" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new role.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role</code></td>
        <td><code>RoleRequestModel</code></td>
        <td><p>The role model to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RoleResponseModel</code></td>
      <td><p>The newly created role.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role</span><span class="p">:</span> <span class="n">RoleRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new role.</span>

<span class="sd">    Args:</span>
<span class="sd">        role: The role model to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created role.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">role</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">ROLES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">RoleResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_run</code></td>
        <td><code>PipelineRunRequestModel</code></td>
        <td><p>The pipeline run to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponseModel</code></td>
      <td><p>The created pipeline run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_run: The pipeline run to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">pipeline_run</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">RUNS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_run_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_run_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_metadata</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates run metadata.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_metadata</code></td>
        <td><code>RunMetadataRequestModel</code></td>
        <td><p>The run metadata to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RunMetadataResponseModel</code></td>
      <td><p>The created run metadata.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_run_metadata</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">run_metadata</span><span class="p">:</span> <span class="n">RunMetadataRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunMetadataResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates run metadata.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_metadata: The run metadata to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created run metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">run_metadata</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">RunMetadataResponseModel</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">RUN_METADATA</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_run_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a step run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run</code></td>
        <td><code>StepRunRequestModel</code></td>
        <td><p>The step run to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponseModel</code></td>
      <td><p>The created step run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_run_step</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">step_run</span><span class="p">:</span> <span class="n">StepRunRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a step run.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run: The step run to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created step run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">step_run</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">StepRunResponseModel</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STEPS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new schedule.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule</code></td>
        <td><code>ScheduleRequestModel</code></td>
        <td><p>The schedule to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponseModel</code></td>
      <td><p>The newly created schedule.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_schedule</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">ScheduleRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new schedule.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule: The schedule to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created schedule.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SCHEDULES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ScheduleResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector</code></td>
        <td><code>ServiceConnectorRequestModel</code></td>
        <td><p>Service connector to be created.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>The newly created service connector.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_service_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector: Service connector to be created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created service connector.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connector_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">service_connector</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SERVICE_CONNECTORS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector_model</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">connector_model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Register a new stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack</code></td>
        <td><code>StackRequestModel</code></td>
        <td><p>The stack to register.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponseModel</code></td>
      <td><p>The registered stack.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">StackRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a new stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack: The stack to register.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The registered stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STACKS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">StackResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Create a stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component</code></td>
        <td><code>ComponentRequestModel</code></td>
        <td><p>The stack component to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponseModel</code></td>
      <td><p>The created stack component.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_stack_component</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">component</span><span class="p">:</span> <span class="n">ComponentRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        component: The stack component to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">component</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STACK_COMPONENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ComponentResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_team" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new team.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team</code></td>
        <td><code>TeamRequestModel</code></td>
        <td><p>The team model to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamResponseModel</code></td>
      <td><p>The newly created team.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team</span><span class="p">:</span> <span class="n">TeamRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new team.</span>

<span class="sd">    Args:</span>
<span class="sd">        team: The team model to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created team.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">team</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">TEAMS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">TeamResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_team_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_team_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new team role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_role_assignment</code></td>
        <td><code>TeamRoleAssignmentRequestModel</code></td>
        <td><p>The role assignment model to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamRoleAssignmentResponseModel</code></td>
      <td><p>The newly created role assignment.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_team_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment</span><span class="p">:</span> <span class="n">TeamRoleAssignmentRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new team role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_role_assignment: The role assignment model to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created role assignment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">team_role_assignment</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">TEAM_ROLE_ASSIGNMENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">TeamRoleAssignmentResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>UserRequestModel</code></td>
        <td><p>User to be created.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponseModel</code></td>
      <td><p>The newly created user.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">UserRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: User to be created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">USERS</span> <span class="o">+</span> <span class="s2">&quot;?assign_default_role=False&quot;</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_user_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_user_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_role_assignment</code></td>
        <td><code>UserRoleAssignmentRequestModel</code></td>
        <td><p>The role assignment to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserRoleAssignmentResponseModel</code></td>
      <td><p>The newly created workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_user_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment</span><span class="p">:</span> <span class="n">UserRoleAssignmentRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_role_assignment: The role assignment to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">user_role_assignment</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">USER_ROLE_ASSIGNMENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">UserRoleAssignmentResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.create_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace</code></td>
        <td><code>WorkspaceRequestModel</code></td>
        <td><p>The workspace to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponseModel</code></td>
      <td><p>The newly created workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_workspace</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace</span><span class="p">:</span> <span class="n">WorkspaceRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace: The workspace to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">WORKSPACES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">WorkspaceResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Make a DELETE request to the given endpoint path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>The path to the endpoint.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>params</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>The query parameters to pass to the endpoint.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the request.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[Dict[str, Any], List[Any], str, int, float, bool]</code></td>
      <td><p>The response body.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Json</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Make a DELETE request to the given endpoint path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to the endpoint.</span>
<span class="sd">        params: The query parameters to pass to the endpoint.</span>
<span class="sd">        kwargs: Additional keyword arguments to pass to the request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The response body.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending DELETE request to </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;DELETE&quot;</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">+</span> <span class="n">API</span> <span class="o">+</span> <span class="n">VERSION_1</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_id: The ID of the artifact to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span><span class="n">resource_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span> <span class="n">route</span><span class="o">=</span><span class="n">ARTIFACTS</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a build.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the build to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a build.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_id: The ID of the build to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">build_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_BUILDS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the code repository to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository_id: The ID of the code repository to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">code_repository_id</span><span class="p">,</span> <span class="n">route</span><span class="o">=</span><span class="n">CODE_REPOSITORIES</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the deployment to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment_id: The ID of the deployment to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">deployment_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_DEPLOYMENTS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a stack component flavor.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack component flavor to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a stack component flavor.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_id: The ID of the stack component flavor to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">flavor_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">FLAVORS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a pipeline.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a pipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: The ID of the pipeline to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINES</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_role" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a role.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the role to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a role.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_name_or_id: Name or ID of the role to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">role_name_or_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">ROLES</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline run to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: The ID of the pipeline run to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">RUNS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a schedule.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the schedule to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a schedule.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_id: The ID of the schedule to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SCHEDULES</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the service connector to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">service_connector_id</span><span class="p">,</span> <span class="n">route</span><span class="o">=</span><span class="n">SERVICE_CONNECTORS</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_id: The ID of the stack to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">stack_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STACKS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack component to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_id: The ID of the stack component to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">component_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STACK_COMPONENTS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_team" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a team.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the team to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a team.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_name_or_id: Name or ID of the team to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">team_name_or_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">TEAMS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_team_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_team_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a specific role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_role_assignment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the specific role assignment</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_team_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a specific role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_role_assignment_id: The ID of the specific role assignment</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">team_role_assignment_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">TEAM_ROLE_ASSIGNMENTS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the user to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: The name or ID of the user to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">user_name_or_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">USERS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_user_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_user_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a specific role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_role_assignment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the specific role assignment</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_user_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a specific role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_role_assignment_id: The ID of the specific role assignment</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">user_role_assignment_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">USER_ROLE_ASSIGNMENTS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.delete_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">workspace_name_or_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">WORKSPACES</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Make a GET request to the given endpoint path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>The path to the endpoint.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>params</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>The query parameters to pass to the endpoint.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the request.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[Dict[str, Any], List[Any], str, int, float, bool]</code></td>
      <td><p>The response body.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Json</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Make a GET request to the given endpoint path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to the endpoint.</span>
<span class="sd">        params: The query parameters to pass to the endpoint.</span>
<span class="sd">        kwargs: Additional keyword arguments to pass to the request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The response body.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending GET request to </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">+</span> <span class="n">API</span> <span class="o">+</span> <span class="n">VERSION_1</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactResponseModel</code></td>
      <td><p>The artifact.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_id: The ID of the artifact to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The artifact.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">ARTIFACTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ArtifactResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a build with a given ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the build.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineBuildResponseModel</code></td>
      <td><p>The build.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a build with a given ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_id: ID of the build.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The build.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">build_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_BUILDS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineBuildResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the code repository to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponseModel</code></td>
      <td><p>The requested code repository, if it was found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_code_repository</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository_id: The ID of the code repository to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested code repository, if it was found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">code_repository_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">CODE_REPOSITORIES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">CodeRepositoryResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a deployment with a given ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the deployment.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineDeploymentResponseModel</code></td>
      <td><p>The deployment.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a deployment with a given ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment_id: ID of the deployment.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">deployment_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_DEPLOYMENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineDeploymentResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a stack component flavor by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack component flavor to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponseModel</code></td>
      <td><p>The stack component flavor.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a stack component flavor by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_id: The ID of the stack component flavor to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The stack component flavor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">flavor_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">FLAVORS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">FlavorResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_or_create_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_or_create_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets or creates a pipeline run.</p>
<p>If a run with the same ID or name already exists, it is returned.
Otherwise, a new run is created.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_run</code></td>
        <td><code>PipelineRunRequestModel</code></td>
        <td><p>The pipeline run to get or create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.models.pipeline_run_models.PipelineRunResponseModel, bool]</code></td>
      <td><p>The pipeline run, and a boolean indicating whether the run was
created or not.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_or_create_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets or creates a pipeline run.</span>

<span class="sd">    If a run with the same ID or name already exists, it is returned.</span>
<span class="sd">    Otherwise, a new run is created.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_run: The pipeline run to get or create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline run, and a boolean indicating whether the run was</span>
<span class="sd">        created or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">pipeline_run</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">RUNS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a pipeline with a given ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponseModel</code></td>
      <td><p>The pipeline.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a pipeline with a given ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: ID of the pipeline.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_role" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific role.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the role to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RoleResponseModel</code></td>
      <td><p>The requested role.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific role.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_name_or_id: Name or ID of the role to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested role.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">role_name_or_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">ROLES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">RoleResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_name_or_id</code></td>
        <td><code>Union[uuid.UUID, str]</code></td>
        <td><p>The name or ID of the pipeline run to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponseModel</code></td>
      <td><p>The pipeline run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">run_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_name_or_id: The name or ID of the pipeline run to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">run_name_or_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">RUNS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_run_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a step run by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the step run to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponseModel</code></td>
      <td><p>The step run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a step run by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run_id: The ID of the step run to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">step_run_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STEPS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">StepRunResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a schedule with a given ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the schedule.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponseModel</code></td>
      <td><p>The schedule.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a schedule with a given ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_id: ID of the schedule.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The schedule.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SCHEDULES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ScheduleResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>The requested service connector, if it was found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_service_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the service connector to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested service connector, if it was found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connector_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">service_connector_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SERVICE_CONNECTORS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResponseModel</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;expand_secrets&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector_model</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">connector_model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_service_connector_client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a service connector client for a service connector and given resource.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the base service connector to use.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of resource to get a client for.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of the resource to get a client for.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>A service connector client that can be used to access the given
resource.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_service_connector_client</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a service connector client for a service connector and given resource.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the base service connector to use.</span>
<span class="sd">        resource_type: The type of resource to get a client for.</span>
<span class="sd">        resource_id: The ID of the resource to get a client for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A service connector client that can be used to access the given</span>
<span class="sd">        resource.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_type</span>
    <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_id</span>
    <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">SERVICE_CONNECTORS</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">service_connector_id</span><span class="p">)</span><span class="si">}{</span><span class="n">SERVICE_CONNECTOR_CLIENT</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">connector</span> <span class="o">=</span> <span class="n">ServiceConnectorResponseModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response_body</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">connector</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_service_connector_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector_type</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns the requested service connector type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>str</code></td>
        <td><p>the service connector type identifier.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorTypeModel</code></td>
      <td><p>The requested service connector type.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_service_connector_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the requested service connector type.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_type: the service connector type identifier.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested service connector type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Use the local registry to get the service connector type, if it</span>
    <span class="c1"># exists.</span>
    <span class="n">local_connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">is_registered</span><span class="p">(</span><span class="n">connector_type</span><span class="p">):</span>
        <span class="n">local_connector_type</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
                <span class="n">connector_type</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">SERVICE_CONNECTOR_TYPES</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">connector_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">remote_connector_type</span> <span class="o">=</span> <span class="n">ServiceConnectorTypeModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span>
            <span class="n">response_body</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">local_connector_type</span><span class="p">:</span>
            <span class="c1"># If locally available, return the local connector type but</span>
            <span class="c1"># mark it as being remotely available.</span>
            <span class="n">local_connector_type</span><span class="o">.</span><span class="n">remote</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="n">local_connector_type</span>

        <span class="c1"># Mark the remote connector type as being only remotely available</span>
        <span class="n">remote_connector_type</span><span class="o">.</span><span class="n">local</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">remote_connector_type</span><span class="o">.</span><span class="n">remote</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">remote_connector_type</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="c1"># If the service connector type is not found, check the local</span>
        <span class="c1"># registry.</span>
        <span class="k">return</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
            <span class="n">connector_type</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a stack by its unique ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponseModel</code></td>
      <td><p>The stack with the given ID.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a stack by its unique ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_id: The ID of the stack to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The stack with the given ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">stack_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STACKS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">StackResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a stack component by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack component to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponseModel</code></td>
      <td><p>The stack component.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_stack_component</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a stack component by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_id: The ID of the stack component to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">component_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STACK_COMPONENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ComponentResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_store_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_store_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get information about the server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServerModel</code></td>
      <td><p>Information about the server.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_store_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get information about the server.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Information about the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">INFO</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ServerModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_team" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific team.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the team to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamResponseModel</code></td>
      <td><p>The requested team.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific team.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_name_or_id: Name or ID of the team to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested team.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">team_name_or_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">TEAMS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">TeamResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_team_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_team_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_role_assignment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the role assignment to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamRoleAssignmentResponseModel</code></td>
      <td><p>The requested role assignment.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_team_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_role_assignment_id: ID of the role assignment to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested role assignment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">team_role_assignment_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">TEAM_ROLE_ASSIGNMENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">TeamRoleAssignmentResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_private</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific user, when no id is specified the active user is returned.</p>
<p>The <code>include_private</code> parameter is ignored here as it is handled
implicitly by the /current-user endpoint that is queried when no
user_name_or_id is set. Raises a KeyError in case a user with that id
does not exist.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the user to get.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>include_private</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to include private user information</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponseModel</code></td>
      <td><p>The requested user, if it was found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_user</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_private</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific user, when no id is specified the active user is returned.</span>

<span class="sd">    The `include_private` parameter is ignored here as it is handled</span>
<span class="sd">    implicitly by the /current-user endpoint that is queried when no</span>
<span class="sd">    user_name_or_id is set. Raises a KeyError in case a user with that id</span>
<span class="sd">    does not exist.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: The name or ID of the user to get.</span>
<span class="sd">        include_private: Whether to include private user information</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested user, if it was found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">user_name_or_id</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">user_name_or_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">USERS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponseModel</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">CURRENT_USER</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">UserResponseModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_user_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_user_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get an existing role assignment by name or ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_role_assignment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>Name or ID of the role assignment to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserRoleAssignmentResponseModel</code></td>
      <td><p>The requested workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_user_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get an existing role assignment by name or ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_role_assignment_id: Name or ID of the role assignment to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">user_role_assignment_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">USER_ROLE_ASSIGNMENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">UserRoleAssignmentResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.get_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get an existing workspace by name or ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[uuid.UUID, str]</code></td>
        <td><p>Name or ID of the workspace to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponseModel</code></td>
      <td><p>The requested workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_workspace</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get an existing workspace by name or ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">workspace_name_or_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">WORKSPACES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">WorkspaceResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_artifacts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_artifacts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all artifacts matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_filter_model</code></td>
        <td><code>ArtifactFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ArtifactResponseModel]</code></td>
      <td><p>A list of all artifacts matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_artifacts</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">artifact_filter_model</span><span class="p">:</span> <span class="n">ArtifactFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ArtifactResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all artifacts matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all artifacts matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">ARTIFACTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ArtifactResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">artifact_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_builds" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_builds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all builds matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_filter_model</code></td>
        <td><code>PipelineBuildFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineBuildResponseModel]</code></td>
      <td><p>A page of all builds matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_builds</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">build_filter_model</span><span class="p">:</span> <span class="n">PipelineBuildFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineBuildResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all builds matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of all builds matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_BUILDS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineBuildResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">build_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_code_repositories" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_code_repositories</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all code repositories.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>CodeRepositoryFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[CodeRepositoryResponseModel]</code></td>
      <td><p>A page of all code repositories.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_code_repositories</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">:</span> <span class="n">CodeRepositoryFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">CodeRepositoryResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all code repositories.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of all code repositories.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">CODE_REPOSITORIES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">CodeRepositoryResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_deployments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_deployments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all deployments matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_filter_model</code></td>
        <td><code>PipelineDeploymentFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineDeploymentResponseModel]</code></td>
      <td><p>A page of all deployments matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_deployments</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">deployment_filter_model</span><span class="p">:</span> <span class="n">PipelineDeploymentFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineDeploymentResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all deployments matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of all deployments matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINE_DEPLOYMENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineDeploymentResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">deployment_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_flavors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all stack component flavors matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_filter_model</code></td>
        <td><code>FlavorFilterModel</code></td>
        <td><p>All filter parameters including pagination
params</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[FlavorResponseModel]</code></td>
      <td><p>List of all the stack component flavors matching the given criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_flavors</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">flavor_filter_model</span><span class="p">:</span> <span class="n">FlavorFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">FlavorResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all stack component flavors matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_filter_model: All filter parameters including pagination</span>
<span class="sd">            params</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of all the stack component flavors matching the given criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">FLAVORS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">FlavorResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">flavor_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_pipelines" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_pipelines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all pipelines matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_filter_model</code></td>
        <td><code>PipelineFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineResponseModel]</code></td>
      <td><p>A list of all pipelines matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_pipelines</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_filter_model</span><span class="p">:</span> <span class="n">PipelineFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all pipelines matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all pipelines matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">pipeline_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_roles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_roles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all roles matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_filter_model</code></td>
        <td><code>RoleFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[RoleResponseModel]</code></td>
      <td><p>A list of all roles matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_roles</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">role_filter_model</span><span class="p">:</span> <span class="n">RoleFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RoleResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all roles matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all roles matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">ROLES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">RoleResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">role_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_run_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_run_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_metadata_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List run metadata.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_metadata_filter_model</code></td>
        <td><code>RunMetadataFilterModel</code></td>
        <td><p>All filter parameters including
pagination params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[RunMetadataResponseModel]</code></td>
      <td><p>The run metadata.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_run_metadata</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">run_metadata_filter_model</span><span class="p">:</span> <span class="n">RunMetadataFilterModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RunMetadataResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List run metadata.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_metadata_filter_model: All filter parameters including</span>
<span class="sd">            pagination params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The run metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">RUN_METADATA</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">RunMetadataResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">run_metadata_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_run_steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_run_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all step runs matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run_filter_model</code></td>
        <td><code>StepRunFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[StepRunResponseModel]</code></td>
      <td><p>A list of all step runs matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_run_steps</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">step_run_filter_model</span><span class="p">:</span> <span class="n">StepRunFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StepRunResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all step runs matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all step runs matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STEPS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">StepRunResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">step_run_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_runs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">runs_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all pipeline runs matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>runs_filter_model</code></td>
        <td><code>PipelineRunFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineRunResponseModel]</code></td>
      <td><p>A list of all pipeline runs matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_runs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">runs_filter_model</span><span class="p">:</span> <span class="n">PipelineRunFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineRunResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all pipeline runs matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        runs_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all pipeline runs matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">RUNS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">runs_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_schedules" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_schedules</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all schedules in the workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_filter_model</code></td>
        <td><code>ScheduleFilterModel</code></td>
        <td><p>All filter parameters including pagination
params</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ScheduleResponseModel]</code></td>
      <td><p>A list of schedules.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_schedules</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">schedule_filter_model</span><span class="p">:</span> <span class="n">ScheduleFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ScheduleResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all schedules in the workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_filter_model: All filter parameters including pagination</span>
<span class="sd">            params</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of schedules.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SCHEDULES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ScheduleResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">schedule_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_service_connector_resources" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connector_resources</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">connector_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List resources that can be accessed by service connectors.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the user to scope to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the workspace to scope to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of service connector to scope to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of resource to scope to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of the resource to scope to.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.models.service_connector_models.ServiceConnectorResourcesModel]</code></td>
      <td><p>The matching list of resources that available service
connectors have access to.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_service_connector_resources</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorResourcesModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List resources that can be accessed by service connectors.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: The name or ID of the user to scope to.</span>
<span class="sd">        workspace_name_or_id: The name or ID of the workspace to scope to.</span>
<span class="sd">        connector_type: The type of service connector to scope to.</span>
<span class="sd">        resource_type: The type of resource to scope to.</span>
<span class="sd">        resource_id: The ID of the resource to scope to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The matching list of resources that available service</span>
<span class="sd">        connectors have access to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">connector_type</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;connector_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">connector_type</span>
    <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_type</span>
    <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_id</span>
    <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">WORKSPACES</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">workspace_name_or_id</span><span class="si">}{</span><span class="n">SERVICE_CONNECTORS</span><span class="si">}{</span><span class="n">SERVICE_CONNECTOR_RESOURCES</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_body</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
    <span class="n">resource_list</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ServiceConnectorResourcesModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">response_body</span>
    <span class="p">]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="o">*</span><span class="n">resource_list</span><span class="p">)</span>

    <span class="c1"># For service connectors with types that are only locally available,</span>
    <span class="c1"># we need to retrieve the resource list locally</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">resources</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">resource_list</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resources</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="c1"># Skip connector types that are neither locally nor remotely</span>
            <span class="c1"># available</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">resources</span><span class="o">.</span><span class="n">connector_type</span><span class="o">.</span><span class="n">remote</span><span class="p">:</span>
            <span class="c1"># Skip connector types that are remotely available</span>
            <span class="k">continue</span>

        <span class="c1"># Retrieve the resource list locally</span>
        <span class="k">assert</span> <span class="n">resources</span><span class="o">.</span><span class="n">id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">connector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">(</span><span class="n">resources</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="n">connector_instance</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">instantiate_connector</span><span class="p">(</span>
                <span class="n">model</span><span class="o">=</span><span class="n">connector</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">local_resources</span> <span class="o">=</span> <span class="n">connector_instance</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span>
                <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">AuthorizationException</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;Failed to fetch </span><span class="si">{</span><span class="n">resource_type</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;available&quot;</span><span class="si">}</span><span class="s1"> &#39;</span>
                <span class="sa">f</span><span class="s2">&quot;resources from service connector </span><span class="si">{</span><span class="n">connector</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">connector</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">continue</span>

        <span class="n">resource_list</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">local_resources</span>

    <span class="k">return</span> <span class="n">resource_list</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_service_connector_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connector_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auth_method</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a list of service connector types.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by connector type.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by resource type.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>auth_method</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by authentication method.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.models.service_connector_models.ServiceConnectorTypeModel]</code></td>
      <td><p>List of service connector types.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_service_connector_types</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a list of service connector types.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_type: Filter by connector type.</span>
<span class="sd">        resource_type: Filter by resource type.</span>
<span class="sd">        auth_method: Filter by authentication method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of service connector types.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">connector_type</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;connector_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">connector_type</span>
    <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_type</span>
    <span class="k">if</span> <span class="n">auth_method</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;auth_method&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">auth_method</span>
    <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="n">SERVICE_CONNECTOR_TYPES</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_body</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
    <span class="n">remote_connector_types</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ServiceConnectorTypeModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">response_body</span>
    <span class="p">]</span>

    <span class="c1"># Mark the remote connector types as being only remotely available</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">remote_connector_types</span><span class="p">:</span>
        <span class="n">c</span><span class="o">.</span><span class="n">local</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">c</span><span class="o">.</span><span class="n">remote</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">local_connector_types</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">list_service_connector_types</span><span class="p">(</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">auth_method</span><span class="o">=</span><span class="n">auth_method</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># Add the connector types in the local registry to the list of</span>
    <span class="c1"># connector types available remotely. Overwrite those that have</span>
    <span class="c1"># the same connector type but mark them as being remotely available.</span>
    <span class="n">connector_types_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">connector_type</span><span class="o">.</span><span class="n">connector_type</span><span class="p">:</span> <span class="n">connector_type</span>
        <span class="k">for</span> <span class="n">connector_type</span> <span class="ow">in</span> <span class="n">remote_connector_types</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="n">connector</span> <span class="ow">in</span> <span class="n">local_connector_types</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">connector</span><span class="o">.</span><span class="n">connector_type</span> <span class="ow">in</span> <span class="n">connector_types_map</span><span class="p">:</span>
            <span class="n">connector</span><span class="o">.</span><span class="n">remote</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">connector_types_map</span><span class="p">[</span><span class="n">connector</span><span class="o">.</span><span class="n">connector_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">connector</span>

    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">connector_types_map</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_service_connectors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connectors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all service connectors.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>ServiceConnectorFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ServiceConnectorResponseModel]</code></td>
      <td><p>A page of all service connectors.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_service_connectors</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">:</span> <span class="n">ServiceConnectorFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ServiceConnectorResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all service connectors.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of all service connectors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connector_models</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SERVICE_CONNECTORS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;expand_secrets&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="o">*</span><span class="n">connector_models</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">connector_models</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_stack_components" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_stack_components</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all stack components matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_filter_model</code></td>
        <td><code>ComponentFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ComponentResponseModel]</code></td>
      <td><p>A list of all stack components matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_stack_components</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">component_filter_model</span><span class="p">:</span> <span class="n">ComponentFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ComponentResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all stack components matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all stack components matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STACK_COMPONENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ComponentResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">component_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_stacks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_stacks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all stacks matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_filter_model</code></td>
        <td><code>StackFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[StackResponseModel]</code></td>
      <td><p>A list of all stacks matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_stacks</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">stack_filter_model</span><span class="p">:</span> <span class="n">StackFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StackResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all stacks matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all stacks matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STACKS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">StackResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">stack_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_team_role_assignments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_team_role_assignments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all roles assignments matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_role_assignment_filter_model</code></td>
        <td><code>TeamRoleAssignmentFilterModel</code></td>
        <td><p>All filter parameters including
pagination params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[TeamRoleAssignmentResponseModel]</code></td>
      <td><p>A list of all roles assignments matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_team_role_assignments</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_filter_model</span><span class="p">:</span> <span class="n">TeamRoleAssignmentFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TeamRoleAssignmentResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all roles assignments matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_role_assignment_filter_model: All filter parameters including</span>
<span class="sd">            pagination params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all roles assignments matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">TEAM_ROLE_ASSIGNMENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">TeamRoleAssignmentResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">team_role_assignment_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_teams" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_teams</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all teams matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_filter_model</code></td>
        <td><code>TeamFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[TeamResponseModel]</code></td>
      <td><p>A list of all teams matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_teams</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_filter_model</span><span class="p">:</span> <span class="n">TeamFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TeamResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all teams matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all teams matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">TEAMS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">TeamResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">team_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_user_role_assignments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_user_role_assignments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all roles assignments matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_role_assignment_filter_model</code></td>
        <td><code>UserRoleAssignmentFilterModel</code></td>
        <td><p>All filter parameters including
pagination params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[UserRoleAssignmentResponseModel]</code></td>
      <td><p>A list of all roles assignments matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_user_role_assignments</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_filter_model</span><span class="p">:</span> <span class="n">UserRoleAssignmentFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserRoleAssignmentResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all roles assignments matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_role_assignment_filter_model: All filter parameters including</span>
<span class="sd">            pagination params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all roles assignments matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">USER_ROLE_ASSIGNMENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">UserRoleAssignmentResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">user_role_assignment_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_users" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_users</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all users.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_filter_model</code></td>
        <td><code>UserFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[UserResponseModel]</code></td>
      <td><p>A list of all users.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_users</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_filter_model</span><span class="p">:</span> <span class="n">UserFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all users.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all users.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">USERS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">user_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.list_workspaces" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_workspaces</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all workspace matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_filter_model</code></td>
        <td><code>WorkspaceFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[WorkspaceResponseModel]</code></td>
      <td><p>A list of all workspace matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_workspaces</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_filter_model</span><span class="p">:</span> <span class="n">WorkspaceFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">WorkspaceResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all workspace matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all workspace matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">WORKSPACES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">WorkspaceResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">workspace_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.post" class="doc doc-heading">
<code class="highlight language-python"><span class="n">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Make a POST request to the given endpoint path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>The path to the endpoint.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>body</code></td>
        <td><code>BaseModel</code></td>
        <td><p>The body to send.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>params</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>The query parameters to pass to the endpoint.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the request.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[Dict[str, Any], List[Any], str, int, float, bool]</code></td>
      <td><p>The response body.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">post</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">body</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span>
    <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Json</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Make a POST request to the given endpoint path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to the endpoint.</span>
<span class="sd">        body: The body to send.</span>
<span class="sd">        params: The query parameters to pass to the endpoint.</span>
<span class="sd">        kwargs: Additional keyword arguments to pass to the request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The response body.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending POST request to </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;POST&quot;</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">+</span> <span class="n">API</span> <span class="o">+</span> <span class="n">VERSION_1</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">body</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
        <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.put" class="doc doc-heading">
<code class="highlight language-python"><span class="n">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Make a PUT request to the given endpoint path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>The path to the endpoint.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>body</code></td>
        <td><code>Optional[pydantic.main.BaseModel]</code></td>
        <td><p>The body to send.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>params</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>The query parameters to pass to the endpoint.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the request.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[Dict[str, Any], List[Any], str, int, float, bool]</code></td>
      <td><p>The response body.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">put</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">body</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">params</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Json</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Make a PUT request to the given endpoint path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to the endpoint.</span>
<span class="sd">        body: The body to send.</span>
<span class="sd">        params: The query parameters to pass to the endpoint.</span>
<span class="sd">        kwargs: Additional keyword arguments to pass to the request.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The response body.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending PUT request to </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">body</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;PUT&quot;</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">+</span> <span class="n">API</span> <span class="o">+</span> <span class="n">VERSION_1</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an existing code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the code repository to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>update</code></td>
        <td><code>CodeRepositoryUpdateModel</code></td>
        <td><p>The update to be applied to the code repository.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponseModel</code></td>
      <td><p>The updated code repository.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_code_repository</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">CodeRepositoryUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an existing code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository_id: The ID of the code repository to update.</span>
<span class="sd">        update: The update to be applied to the code repository.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated code repository.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">code_repository_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">update</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">CodeRepositoryResponseModel</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">CODE_REPOSITORIES</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an existing user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the flavor to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>flavor_update</code></td>
        <td><code>FlavorUpdateModel</code></td>
        <td><p>The update to be applied to the flavor.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponseModel</code></td>
      <td><p>The updated flavor.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_flavor</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">:</span> <span class="n">FlavorUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an existing user.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_id: The id of the flavor to update.</span>
<span class="sd">        flavor_update: The update to be applied to the flavor.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated flavor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">flavor_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">flavor_update</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">FLAVORS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">FlavorResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">,</span> <span class="n">pipeline_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a pipeline.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_update</code></td>
        <td><code>PipelineUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponseModel</code></td>
      <td><p>The updated pipeline.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">pipeline_update</span><span class="p">:</span> <span class="n">PipelineUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a pipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: The ID of the pipeline to be updated.</span>
<span class="sd">        pipeline_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">pipeline_update</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">PIPELINES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_role" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_id</span><span class="p">,</span> <span class="n">role_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an existing role.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the role to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>role_update</code></td>
        <td><code>RoleUpdateModel</code></td>
        <td><p>The update to be applied to the role.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RoleResponseModel</code></td>
      <td><p>The updated role.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_role</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">role_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">role_update</span><span class="p">:</span> <span class="n">RoleUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing role.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_id: The ID of the role to be updated.</span>
<span class="sd">        role_update: The update to be applied to the role.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated role.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">role_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">role_update</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">ROLES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">RoleResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">run_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline run to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>run_update</code></td>
        <td><code>PipelineRunUpdateModel</code></td>
        <td><p>The update to be applied to the pipeline run.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponseModel</code></td>
      <td><p>The updated pipeline run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">run_update</span><span class="p">:</span> <span class="n">PipelineRunUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: The ID of the pipeline run to update.</span>
<span class="sd">        run_update: The update to be applied to the pipeline run.</span>


<span class="sd">    Returns:</span>
<span class="sd">        The updated pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">run_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">run_update</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">RUNS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_run_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_id</span><span class="p">,</span> <span class="n">step_run_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a step run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the step to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>step_run_update</code></td>
        <td><code>StepRunUpdateModel</code></td>
        <td><p>The update to be applied to the step.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponseModel</code></td>
      <td><p>The updated step run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_run_step</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">step_run_update</span><span class="p">:</span> <span class="n">StepRunUpdateModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a step run.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run_id: The ID of the step to update.</span>
<span class="sd">        step_run_update: The update to be applied to the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated step run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">step_run_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">step_run_update</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">StepRunResponseModel</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STEPS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">,</span> <span class="n">schedule_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a schedule.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the schedule to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>schedule_update</code></td>
        <td><code>ScheduleUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponseModel</code></td>
      <td><p>The updated schedule.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_schedule</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">schedule_update</span><span class="p">:</span> <span class="n">ScheduleUpdateModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a schedule.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_id: The ID of the schedule to be updated.</span>
<span class="sd">        schedule_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated schedule.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">schedule_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">schedule_update</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SCHEDULES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ScheduleResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an existing service connector.</p>
<p>The update model contains the fields to be updated. If a field value is
set to None in the model, the field is not updated, but there are
special rules concerning some fields:</p>
<ul>
<li>the <code>configuration</code> and <code>secrets</code> fields together represent a full
valid configuration update, not just a partial update. If either is
set (i.e. not None) in the update, their values are merged together and
will replace the existing configuration and secrets values.</li>
<li>the <code>resource_id</code> field value is also a full replacement value: if set
to <code>None</code>, the resource ID is removed from the service connector.</li>
<li>the <code>expiration_seconds</code> field value is also a full replacement value:
if set to <code>None</code>, the expiration is removed from the service connector.</li>
<li>the <code>secret_id</code> field value in the update is ignored, given that
secrets are managed internally by the ZenML store.</li>
<li>the <code>labels</code> field is also a full labels update: if set (i.e. not
<code>None</code>), all existing labels are removed and replaced by the new labels
in the update.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>update</code></td>
        <td><code>ServiceConnectorUpdateModel</code></td>
        <td><p>The update to be applied to the service connector.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>The updated service connector.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_service_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">ServiceConnectorUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an existing service connector.</span>

<span class="sd">    The update model contains the fields to be updated. If a field value is</span>
<span class="sd">    set to None in the model, the field is not updated, but there are</span>
<span class="sd">    special rules concerning some fields:</span>

<span class="sd">    * the `configuration` and `secrets` fields together represent a full</span>
<span class="sd">    valid configuration update, not just a partial update. If either is</span>
<span class="sd">    set (i.e. not None) in the update, their values are merged together and</span>
<span class="sd">    will replace the existing configuration and secrets values.</span>
<span class="sd">    * the `resource_id` field value is also a full replacement value: if set</span>
<span class="sd">    to `None`, the resource ID is removed from the service connector.</span>
<span class="sd">    * the `expiration_seconds` field value is also a full replacement value:</span>
<span class="sd">    if set to `None`, the expiration is removed from the service connector.</span>
<span class="sd">    * the `secret_id` field value in the update is ignored, given that</span>
<span class="sd">    secrets are managed internally by the ZenML store.</span>
<span class="sd">    * the `labels` field is also a full labels update: if set (i.e. not</span>
<span class="sd">    `None`), all existing labels are removed and replaced by the new labels</span>
<span class="sd">    in the update.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the service connector to update.</span>
<span class="sd">        update: The update to be applied to the service connector.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated service connector.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connector_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">service_connector_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">update</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ServiceConnectorResponseModel</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SERVICE_CONNECTORS</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector_model</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">connector_model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">,</span> <span class="n">stack_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update a stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack_update</code></td>
        <td><code>StackUpdateModel</code></td>
        <td><p>The update request on the stack.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponseModel</code></td>
      <td><p>The updated stack.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_stack</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">stack_update</span><span class="p">:</span> <span class="n">StackUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_id: The ID of the stack update.</span>
<span class="sd">        stack_update: The update request on the stack.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">stack_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">stack_update</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STACKS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">StackResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">,</span> <span class="n">component_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an existing stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack component to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>component_update</code></td>
        <td><code>ComponentUpdateModel</code></td>
        <td><p>The update to be applied to the stack component.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponseModel</code></td>
      <td><p>The updated stack component.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_stack_component</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">component_update</span><span class="p">:</span> <span class="n">ComponentUpdateModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_id: The ID of the stack component to update.</span>
<span class="sd">        component_update: The update to be applied to the stack component.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">component_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">component_update</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">STACK_COMPONENTS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">ComponentResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_team" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">,</span> <span class="n">team_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an existing team.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the team to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>team_update</code></td>
        <td><code>TeamUpdateModel</code></td>
        <td><p>The update to be applied to the team.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamResponseModel</code></td>
      <td><p>The updated team.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_team</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">team_update</span><span class="p">:</span> <span class="n">TeamUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing team.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_id: The ID of the team to be updated.</span>
<span class="sd">        team_update: The update to be applied to the team.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated team.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">team_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">team_update</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">TEAMS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">TeamResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">user_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an existing user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the user to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>user_update</code></td>
        <td><code>UserUpdateModel</code></td>
        <td><p>The update to be applied to the user.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponseModel</code></td>
      <td><p>The updated user.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_user</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">user_update</span><span class="p">:</span> <span class="n">UserUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an existing user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id: The id of the user to update.</span>
<span class="sd">        user_update: The update to be applied to the user.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated user.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">user_update</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">USERS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">UserResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.update_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an existing workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the workspace to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>workspace_update</code></td>
        <td><code>WorkspaceUpdateModel</code></td>
        <td><p>The update to be applied to the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponseModel</code></td>
      <td><p>The updated workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_workspace</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">:</span> <span class="n">WorkspaceUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_id: The ID of the workspace to be updated.</span>
<span class="sd">        workspace_update: The update to be applied to the workspace.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">workspace_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">workspace_update</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">WORKSPACES</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">WorkspaceResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.verify_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verifies if a service connector instance has access to one or more resources.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to verify.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of resource to verify access to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of the resource to verify access to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>list_resources</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the list of all resources accessible
through the service connector and matching the supplied resource
type and ID are returned.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResourcesModel</code></td>
      <td><p>The list of resources that the service connector has access to,
scoped to the supplied resource type and ID, if provided.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">verify_service_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector instance has access to one or more resources.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the service connector to verify.</span>
<span class="sd">        resource_type: The type of resource to verify access to.</span>
<span class="sd">        resource_id: The ID of the resource to verify access to.</span>
<span class="sd">        list_resources: If True, the list of all resources accessible</span>
<span class="sd">            through the service connector and matching the supplied resource</span>
<span class="sd">            type and ID are returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The list of resources that the service connector has access to,</span>
<span class="sd">        scoped to the supplied resource type and ID, if provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;list_resources&quot;</span><span class="p">:</span> <span class="n">list_resources</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_type</span>
    <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;resource_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_id</span>
    <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">SERVICE_CONNECTORS</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">service_connector_id</span><span class="p">)</span><span class="si">}{</span><span class="n">SERVICE_CONNECTOR_VERIFY</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">resources</span> <span class="o">=</span> <span class="n">ServiceConnectorResourcesModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response_body</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">resources</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">resources</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStore.verify_service_connector_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_service_connector_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector</span><span class="p">,</span> <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verifies if a service connector configuration has access to resources.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector</code></td>
        <td><code>ServiceConnectorRequestModel</code></td>
        <td><p>The service connector configuration to verify.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>list_resources</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the list of all resources accessible
through the service connector and matching the supplied resource
type and ID are returned.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResourcesModel</code></td>
      <td><p>The list of resources that the service connector configuration has
access to.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">verify_service_connector_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service_connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span><span class="p">,</span>
    <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector configuration has access to resources.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector: The service connector configuration to verify.</span>
<span class="sd">        list_resources: If True, the list of all resources accessible</span>
<span class="sd">            through the service connector and matching the supplied resource</span>
<span class="sd">            type and ID are returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The list of resources that the service connector configuration has</span>
<span class="sd">        access to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">response_body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">SERVICE_CONNECTORS</span><span class="si">}{</span><span class="n">SERVICE_CONNECTOR_VERIFY</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">body</span><span class="o">=</span><span class="n">service_connector</span><span class="p">,</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;list_resources&quot;</span><span class="p">:</span> <span class="n">list_resources</span><span class="p">},</span>
    <span class="p">)</span>

    <span class="n">resources</span> <span class="o">=</span> <span class="n">ServiceConnectorResourcesModel</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">response_body</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">resources</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">resources</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration" class="doc doc-heading">
        <code>
RestZenStoreConfiguration            (<a class="autorefs autorefs-internal" title="zenml.config.store_config.StoreConfiguration" href="../core-config/#zenml.config.store_config.StoreConfiguration">StoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>REST ZenML store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>StoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>secrets_store</code></td>
        <td><code>Optional[zenml.config.secrets_store_config.SecretsStoreConfiguration]</code></td>
        <td><p>The configuration of the secrets store to use.
This defaults to a REST secrets store that extends the REST ZenML
store.</p></td>
      </tr>
      <tr>
        <td><code>username</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The username to use to connect to the Zen server.</p></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The password to use to connect to the Zen server.</p></td>
      </tr>
      <tr>
        <td><code>verify_ssl</code></td>
        <td><code>Union[bool, str]</code></td>
        <td><p>Either a boolean, in which case it controls whether we
verify the server's TLS certificate, or a string, in which case it
must be a path to a CA bundle to use or the CA bundle value itself.</p></td>
      </tr>
      <tr>
        <td><code>http_timeout</code></td>
        <td><code>int</code></td>
        <td><p>The timeout to use for all requests.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RestZenStoreConfiguration</span><span class="p">(</span><span class="n">StoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;REST ZenML store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        secrets_store: The configuration of the secrets store to use.</span>
<span class="sd">            This defaults to a REST secrets store that extends the REST ZenML</span>
<span class="sd">            store.</span>
<span class="sd">        username: The username to use to connect to the Zen server.</span>
<span class="sd">        password: The password to use to connect to the Zen server.</span>
<span class="sd">        verify_ssl: Either a boolean, in which case it controls whether we</span>
<span class="sd">            verify the server&#39;s TLS certificate, or a string, in which case it</span>
<span class="sd">            must be a path to a CA bundle to use or the CA bundle value itself.</span>
<span class="sd">        http_timeout: The timeout to use for all requests.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">StoreType</span> <span class="o">=</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">REST</span>

    <span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">api_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">verify_ssl</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">http_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_HTTP_TIMEOUT</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;secrets_store&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_secrets_store</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretsStoreConfiguration</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ensures that the secrets store uses an associated REST secrets store.</span>

<span class="sd">        Args:</span>
<span class="sd">            secrets_store: The secrets store config to be validated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated secrets store config.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the secrets store is not of type REST.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">secrets_store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">secrets_store</span> <span class="o">=</span> <span class="n">RestSecretsStoreConfiguration</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">secrets_store</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The secrets store associated with a REST zen store must be &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;of type REST, but is of type </span><span class="si">{</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">secrets_store</span>

    <span class="nd">@root_validator</span>
    <span class="k">def</span> <span class="nf">validate_credentials</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates the credentials provided in the values dictionary.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: A dictionary containing the values to be validated.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If neither api_token nor username is set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The values dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Check if the values dictionary contains either an api_token or a</span>
        <span class="c1"># username as non-empty strings.</span>
        <span class="k">if</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;api_token&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">values</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Neither api_token nor username is set in the store config.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_url</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates that the URL is a well-formed REST store URL.</span>

<span class="sd">        Args:</span>
<span class="sd">            url: The URL to be validated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated URL without trailing slashes.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the URL is not a well-formed REST store URL.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="n">scheme</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;^([a-z0-9]+://)&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">scheme</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">scheme</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">,</span> <span class="s2">&quot;http://&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid URL for REST store: </span><span class="si">{url}</span><span class="s2">. Should be in the form &quot;</span>
                <span class="s2">&quot;https://hostname[:port] or http://hostname[:port].&quot;</span>
            <span class="p">)</span>

        <span class="c1"># When running inside a container, if the URL uses localhost, the</span>
        <span class="c1"># target service will not be available. We try to replace localhost</span>
        <span class="c1"># with one of the special Docker or K3D internal hostnames.</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">replace_localhost_with_internal_hostname</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">url</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;verify_ssl&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_verify_ssl</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">verify_ssl</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates that the verify_ssl either points to a file or is a bool.</span>

<span class="sd">        Args:</span>
<span class="sd">            verify_ssl: The verify_ssl value to be validated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated verify_ssl value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">secret_folder</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span>
            <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">local_stores_path</span><span class="p">,</span>
            <span class="s2">&quot;certificates&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span> <span class="ow">or</span> <span class="n">verify_ssl</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">verify_ssl</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">verify_ssl</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

        <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">))</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">,</span> <span class="s2">&quot;ca_bundle.pem&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">)</span>
        <span class="n">file_path</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="mo">0o600</span><span class="p">)</span>
        <span class="n">verify_ssl</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">verify_ssl</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">supports_url_scheme</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a URL scheme is supported by this store.</span>

<span class="sd">        Args:</span>
<span class="sd">            url: The URL to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the URL scheme is supported, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">scheme</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">,</span> <span class="s2">&quot;https&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">expand_certificates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Expands the certificates in the verify_ssl field.&quot;&quot;&quot;</span>
        <span class="c1"># Load the certificate values back into the configuration</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span>
        <span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">copy_configuration</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">,</span>
        <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">load_config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PurePath</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a copy of the store config using a different path.</span>

<span class="sd">        This method is used to create a copy of the store configuration that can</span>
<span class="sd">        be loaded using a different configuration path or in the context of a</span>
<span class="sd">        new environment, such as a container image.</span>

<span class="sd">        The configuration files accompanying the store configuration are also</span>
<span class="sd">        copied to the new configuration path (e.g. certificates etc.).</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The store configuration to copy.</span>
<span class="sd">            config_path: new path where the configuration copy will be loaded</span>
<span class="sd">                from.</span>
<span class="sd">            load_config_path: absolute path that will be used to load the copied</span>
<span class="sd">                configuration. This can be set to a value different from</span>
<span class="sd">                `config_path` if the configuration copy will be loaded from</span>
<span class="sd">                a different environment, e.g. when the configuration is copied</span>
<span class="sd">                to a container image and loaded using a different absolute path.</span>
<span class="sd">                This will be reflected in the paths and URLs encoded in the</span>
<span class="sd">                copied configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new store configuration object that reflects the new configuration</span>
<span class="sd">            path.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">RestZenStoreConfiguration</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">config</span><span class="o">.</span><span class="n">api_token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;username&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">},</span> <span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1"># Load the certificate values back into the configuration</span>
        <span class="n">config</span><span class="o">.</span><span class="n">expand_certificates</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">config</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
        <span class="c1"># because the `verify_ssl` attribute can be expanded to the contents</span>
        <span class="c1"># of the certificate file.</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.Config" class="doc doc-heading">
        <code>
Config        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
    <span class="c1"># because the `verify_ssl` attribute can be expanded to the contents</span>
    <span class="c1"># of the certificate file.</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.copy_configuration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">copy_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">config_path</span><span class="p">,</span> <span class="n">load_config_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Create a copy of the store config using a different path.</p>
<p>This method is used to create a copy of the store configuration that can
be loaded using a different configuration path or in the context of a
new environment, such as a container image.</p>
<p>The configuration files accompanying the store configuration are also
copied to the new configuration path (e.g. certificates etc.).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>StoreConfiguration</code></td>
        <td><p>The store configuration to copy.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config_path</code></td>
        <td><code>str</code></td>
        <td><p>new path where the configuration copy will be loaded
from.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>load_config_path</code></td>
        <td><code>Optional[pathlib.PurePath]</code></td>
        <td><p>absolute path that will be used to load the copied
configuration. This can be set to a value different from
<code>config_path</code> if the configuration copy will be loaded from
a different environment, e.g. when the configuration is copied
to a container image and loaded using a different absolute path.
This will be reflected in the paths and URLs encoded in the
copied configuration.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StoreConfiguration</code></td>
      <td><p>A new store configuration object that reflects the new configuration
path.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">copy_configuration</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">,</span>
    <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">load_config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PurePath</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a copy of the store config using a different path.</span>

<span class="sd">    This method is used to create a copy of the store configuration that can</span>
<span class="sd">    be loaded using a different configuration path or in the context of a</span>
<span class="sd">    new environment, such as a container image.</span>

<span class="sd">    The configuration files accompanying the store configuration are also</span>
<span class="sd">    copied to the new configuration path (e.g. certificates etc.).</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The store configuration to copy.</span>
<span class="sd">        config_path: new path where the configuration copy will be loaded</span>
<span class="sd">            from.</span>
<span class="sd">        load_config_path: absolute path that will be used to load the copied</span>
<span class="sd">            configuration. This can be set to a value different from</span>
<span class="sd">            `config_path` if the configuration copy will be loaded from</span>
<span class="sd">            a different environment, e.g. when the configuration is copied</span>
<span class="sd">            to a container image and loaded using a different absolute path.</span>
<span class="sd">            This will be reflected in the paths and URLs encoded in the</span>
<span class="sd">            copied configuration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new store configuration object that reflects the new configuration</span>
<span class="sd">        path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">RestZenStoreConfiguration</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">config</span><span class="o">.</span><span class="n">api_token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;username&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">},</span> <span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># Load the certificate values back into the configuration</span>
    <span class="n">config</span><span class="o">.</span><span class="n">expand_certificates</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.expand_certificates" class="doc doc-heading">
<code class="highlight language-python"><span class="n">expand_certificates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Expands the certificates in the verify_ssl field.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">expand_certificates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Expands the certificates in the verify_ssl field.&quot;&quot;&quot;</span>
    <span class="c1"># Load the certificate values back into the configuration</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span>
    <span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">verify_ssl</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.supports_url_scheme" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports_url_scheme</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Check if a URL scheme is supported by this store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>url</code></td>
        <td><code>str</code></td>
        <td><p>The URL to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the URL scheme is supported, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">supports_url_scheme</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if a URL scheme is supported by this store.</span>

<span class="sd">    Args:</span>
<span class="sd">        url: The URL to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the URL scheme is supported, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">scheme</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">,</span> <span class="s2">&quot;https&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.validate_credentials" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_credentials</span><span class="p">(</span><span class="n">values</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Validates the credentials provided in the values dictionary.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>values</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>A dictionary containing the values to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If neither api_token nor username is set.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>The values dictionary.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@root_validator</span>
<span class="k">def</span> <span class="nf">validate_credentials</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validates the credentials provided in the values dictionary.</span>

<span class="sd">    Args:</span>
<span class="sd">        values: A dictionary containing the values to be validated.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If neither api_token nor username is set.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The values dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check if the values dictionary contains either an api_token or a</span>
    <span class="c1"># username as non-empty strings.</span>
    <span class="k">if</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;api_token&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">values</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Neither api_token nor username is set in the store config.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.validate_secrets_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_secrets_store</span><span class="p">(</span><span class="n">secrets_store</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Ensures that the secrets store uses an associated REST secrets store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secrets_store</code></td>
        <td><code>Optional[zenml.config.secrets_store_config.SecretsStoreConfiguration]</code></td>
        <td><p>The secrets store config to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretsStoreConfiguration</code></td>
      <td><p>The validated secrets store config.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the secrets store is not of type REST.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;secrets_store&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_secrets_store</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretsStoreConfiguration</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ensures that the secrets store uses an associated REST secrets store.</span>

<span class="sd">    Args:</span>
<span class="sd">        secrets_store: The secrets store config to be validated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The validated secrets store config.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the secrets store is not of type REST.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">secrets_store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">secrets_store</span> <span class="o">=</span> <span class="n">RestSecretsStoreConfiguration</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">secrets_store</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The secrets store associated with a REST zen store must be &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;of type REST, but is of type </span><span class="si">{</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">secrets_store</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.validate_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Validates that the URL is a well-formed REST store URL.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>url</code></td>
        <td><code>str</code></td>
        <td><p>The URL to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The validated URL without trailing slashes.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the URL is not a well-formed REST store URL.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_url</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validates that the URL is a well-formed REST store URL.</span>

<span class="sd">    Args:</span>
<span class="sd">        url: The URL to be validated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The validated URL without trailing slashes.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the URL is not a well-formed REST store URL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
    <span class="n">scheme</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;^([a-z0-9]+://)&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">scheme</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">scheme</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">,</span> <span class="s2">&quot;http://&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Invalid URL for REST store: </span><span class="si">{url}</span><span class="s2">. Should be in the form &quot;</span>
            <span class="s2">&quot;https://hostname[:port] or http://hostname[:port].&quot;</span>
        <span class="p">)</span>

    <span class="c1"># When running inside a container, if the URL uses localhost, the</span>
    <span class="c1"># target service will not be available. We try to replace localhost</span>
    <span class="c1"># with one of the special Docker or K3D internal hostnames.</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">replace_localhost_with_internal_hostname</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">url</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.rest_zen_store.RestZenStoreConfiguration.validate_verify_ssl" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_verify_ssl</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Validates that the verify_ssl either points to a file or is a bool.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>verify_ssl</code></td>
        <td><code>Union[bool, str]</code></td>
        <td><p>The verify_ssl value to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[bool, str]</code></td>
      <td><p>The validated verify_ssl value.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/rest_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;verify_ssl&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_verify_ssl</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">verify_ssl</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validates that the verify_ssl either points to a file or is a bool.</span>

<span class="sd">    Args:</span>
<span class="sd">        verify_ssl: The verify_ssl value to be validated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The validated verify_ssl value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">secret_folder</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span>
        <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">local_stores_path</span><span class="p">,</span>
        <span class="s2">&quot;certificates&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span> <span class="ow">or</span> <span class="n">verify_ssl</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="n">verify_ssl</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">verify_ssl</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">))</span>
    <span class="n">file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">,</span> <span class="s2">&quot;ca_bundle.pem&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">verify_ssl</span><span class="p">)</span>
    <span class="n">file_path</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="mo">0o600</span><span class="p">)</span>
    <span class="n">verify_ssl</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">verify_ssl</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_stores.schemas" class="doc doc-heading">
        <code>schemas</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>SQL Model Implementations.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.artifact_schemas" class="doc doc-heading">
        <code>artifact_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQLModel implementation of artifact tables.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.artifact_schemas.ArtifactSchema" class="doc doc-heading">
        <code>
ArtifactSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for artifacts.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/artifact_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ArtifactSchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for artifacts.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;artifact&quot;</span>

    <span class="n">artifact_store_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;artifact_store_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;artifacts&quot;</span><span class="p">)</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;artifacts&quot;</span><span class="p">)</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">ArtifactType</span>
    <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
    <span class="n">materializer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
    <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

    <span class="n">run_metadata</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;RunMetadataSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;artifact&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">input_to_step_runs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StepRunInputArtifactSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;artifact&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">output_of_step_runs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StepRunOutputArtifactSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;artifact&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">visualizations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;ArtifactVisualizationSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;artifact&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">artifact_request</span><span class="p">:</span> <span class="n">ArtifactRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ArtifactSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert an `ArtifactRequestModel` to an `ArtifactSchema`.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact_request: The request model to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">artifact_store_id</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">artifact_store_id</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">uri</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
            <span class="n">materializer</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">materializer</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">data_type</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">producer_step_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert an `ArtifactSchema` to an `ArtifactModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            producer_step_run_id: The ID of the step run that produced this</span>
<span class="sd">                artifact.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `ArtifactModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">metadata_schema</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="n">metadata_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">metadata_schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_metadata</span>
        <span class="p">}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">materializer</span> <span class="o">=</span> <span class="n">Source</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">materializer</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ValidationError</span><span class="p">:</span>
            <span class="c1"># This is an old source which was simply an importable source path</span>
            <span class="n">materializer</span> <span class="o">=</span> <span class="n">Source</span><span class="o">.</span><span class="n">from_import_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">materializer</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">data_type</span> <span class="o">=</span> <span class="n">Source</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ValidationError</span><span class="p">:</span>
            <span class="c1"># This is an old source which was simply an importable source path</span>
            <span class="n">data_type</span> <span class="o">=</span> <span class="n">Source</span><span class="o">.</span><span class="n">from_import_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ArtifactResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">artifact_store_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact_store_id</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
            <span class="n">materializer</span><span class="o">=</span><span class="n">materializer</span><span class="p">,</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">producer_step_run_id</span><span class="o">=</span><span class="n">producer_step_run_id</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">visualizations</span><span class="o">=</span><span class="p">[</span><span class="n">vis</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">for</span> <span class="n">vis</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">visualizations</span><span class="p">],</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
































  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.artifact_schemas.ArtifactSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">artifact_request</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Convert an <code>ArtifactRequestModel</code> to an <code>ArtifactSchema</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_request</code></td>
        <td><code>ArtifactRequestModel</code></td>
        <td><p>The request model to convert.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactSchema</code></td>
      <td><p>The converted schema.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/artifact_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">artifact_request</span><span class="p">:</span> <span class="n">ArtifactRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ArtifactSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert an `ArtifactRequestModel` to an `ArtifactSchema`.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_request: The request model to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The converted schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">artifact_store_id</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">artifact_store_id</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
        <span class="n">uri</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
        <span class="n">materializer</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">materializer</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
        <span class="n">data_type</span><span class="o">=</span><span class="n">artifact_request</span><span class="o">.</span><span class="n">data_type</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.artifact_schemas.ArtifactSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">producer_step_run_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert an <code>ArtifactSchema</code> to an <code>ArtifactModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>producer_step_run_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The ID of the step run that produced this
artifact.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactResponseModel</code></td>
      <td><p>The created <code>ArtifactModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/artifact_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">producer_step_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert an `ArtifactSchema` to an `ArtifactModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        producer_step_run_id: The ID of the step run that produced this</span>
<span class="sd">            artifact.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `ArtifactModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">metadata_schema</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="n">metadata_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">metadata_schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_metadata</span>
    <span class="p">}</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">materializer</span> <span class="o">=</span> <span class="n">Source</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">materializer</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ValidationError</span><span class="p">:</span>
        <span class="c1"># This is an old source which was simply an importable source path</span>
        <span class="n">materializer</span> <span class="o">=</span> <span class="n">Source</span><span class="o">.</span><span class="n">from_import_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">materializer</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">data_type</span> <span class="o">=</span> <span class="n">Source</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ValidationError</span><span class="p">:</span>
        <span class="c1"># This is an old source which was simply an importable source path</span>
        <span class="n">data_type</span> <span class="o">=</span> <span class="n">Source</span><span class="o">.</span><span class="n">from_import_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_type</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">ArtifactResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">artifact_store_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact_store_id</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
        <span class="n">uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
        <span class="n">materializer</span><span class="o">=</span><span class="n">materializer</span><span class="p">,</span>
        <span class="n">data_type</span><span class="o">=</span><span class="n">data_type</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="n">producer_step_run_id</span><span class="o">=</span><span class="n">producer_step_run_id</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
        <span class="n">visualizations</span><span class="o">=</span><span class="p">[</span><span class="n">vis</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">for</span> <span class="n">vis</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">visualizations</span><span class="p">],</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.artifact_schemas.ArtifactVisualizationSchema" class="doc doc-heading">
        <code>
ArtifactVisualizationSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.BaseSchema" href="#zenml.zen_stores.schemas.base_schemas.BaseSchema">BaseSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for visualizations of artifacts.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/artifact_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ArtifactVisualizationSchema</span><span class="p">(</span><span class="n">BaseSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for visualizations of artifacts.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;artifact_visualization&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">VisualizationType</span>
    <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

    <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;artifact_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="n">ArtifactSchema</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;visualizations&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_model</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">visualization</span><span class="p">:</span> <span class="n">VisualizationModel</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ArtifactVisualizationSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `Visualization` to a `ArtifactVisualizationSchema`.</span>

<span class="sd">        Args:</span>
<span class="sd">            visualization: The visualization.</span>
<span class="sd">            artifact_id: The ID of the artifact this visualization belongs to.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The `ArtifactVisualizationSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">visualization</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">uri</span><span class="o">=</span><span class="n">visualization</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
            <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VisualizationModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert an `ArtifactVisualizationSchema` to a `Visualization`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The `Visualization`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">VisualizationModel</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






















  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.artifact_schemas.ArtifactVisualizationSchema.from_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_model</span><span class="p">(</span><span class="n">visualization</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>Visualization</code> to a <code>ArtifactVisualizationSchema</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>visualization</code></td>
        <td><code>VisualizationModel</code></td>
        <td><p>The visualization.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>artifact_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact this visualization belongs to.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactVisualizationSchema</code></td>
      <td><p>The <code>ArtifactVisualizationSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/artifact_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_model</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">visualization</span><span class="p">:</span> <span class="n">VisualizationModel</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ArtifactVisualizationSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `Visualization` to a `ArtifactVisualizationSchema`.</span>

<span class="sd">    Args:</span>
<span class="sd">        visualization: The visualization.</span>
<span class="sd">        artifact_id: The ID of the artifact this visualization belongs to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `ArtifactVisualizationSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="nb">type</span><span class="o">=</span><span class="n">visualization</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
        <span class="n">uri</span><span class="o">=</span><span class="n">visualization</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
        <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.artifact_schemas.ArtifactVisualizationSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert an <code>ArtifactVisualizationSchema</code> to a <code>Visualization</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>VisualizationModel</code></td>
      <td><p>The <code>Visualization</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/artifact_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VisualizationModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert an `ArtifactVisualizationSchema` to a `Visualization`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The `Visualization`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">VisualizationModel</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.base_schemas" class="doc doc-heading">
        <code>base_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>Base classes for SQLModel schemas.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.base_schemas.BaseSchema" class="doc doc-heading">
        <code>
BaseSchema            (<span title="sqlmodel.main.SQLModel">SQLModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Base SQL Model for ZenML entities.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/base_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseSchema</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base SQL Model for ZenML entities.&quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">uuid4</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">)</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.base_schemas.NamedSchema" class="doc doc-heading">
        <code>
NamedSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.BaseSchema" href="#zenml.zen_stores.schemas.base_schemas.BaseSchema">BaseSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Base Named SQL Model.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/base_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">NamedSchema</span><span class="p">(</span><span class="n">BaseSchema</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base Named SQL Model.&quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.base_schemas.ShareableSchema" class="doc doc-heading">
        <code>
ShareableSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Base shareable SQL Model.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/base_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ShareableSchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base shareable SQL Model.&quot;&quot;&quot;</span>

    <span class="n">is_shared</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
















  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.code_repository_schemas" class="doc doc-heading">
        <code>code_repository_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQL Model Implementations for code repositories.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.code_repository_schemas.CodeReferenceSchema" class="doc doc-heading">
        <code>
CodeReferenceSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.BaseSchema" href="#zenml.zen_stores.schemas.base_schemas.BaseSchema">BaseSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for code references.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/code_repository_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CodeReferenceSchema</span><span class="p">(</span><span class="n">BaseSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for code references.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;code_reference&quot;</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">()</span>

    <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;code_repository_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">code_repository</span><span class="p">:</span> <span class="s2">&quot;CodeRepositorySchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">()</span>

    <span class="n">commit</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">subdirectory</span><span class="p">:</span> <span class="nb">str</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="s2">&quot;CodeReferenceRequestModel&quot;</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CodeReferenceSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `CodeReferenceRequestModel` to a `CodeReferenceSchema`.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: The request model to convert.</span>
<span class="sd">            workspace_id: The workspace ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_id</span><span class="p">,</span>
            <span class="n">commit</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">commit</span><span class="p">,</span>
            <span class="n">subdirectory</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">subdirectory</span><span class="p">,</span>
            <span class="n">code_repository_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">code_repository</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CodeReferenceResponseModel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `CodeReferenceSchema` to a `CodeReferenceResponseModel`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">CodeReferenceResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">commit</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">commit</span><span class="p">,</span>
            <span class="n">subdirectory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subdirectory</span><span class="p">,</span>
            <span class="n">code_repository</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code_repository</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.code_repository_schemas.CodeReferenceSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>CodeReferenceRequestModel</code> to a <code>CodeReferenceSchema</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>CodeReferenceRequestModel</code></td>
        <td><p>The request model to convert.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>workspace_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The workspace ID.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeReferenceSchema</code></td>
      <td><p>The converted schema.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/code_repository_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="s2">&quot;CodeReferenceRequestModel&quot;</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CodeReferenceSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `CodeReferenceRequestModel` to a `CodeReferenceSchema`.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: The request model to convert.</span>
<span class="sd">        workspace_id: The workspace ID.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The converted schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_id</span><span class="p">,</span>
        <span class="n">commit</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">commit</span><span class="p">,</span>
        <span class="n">subdirectory</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">subdirectory</span><span class="p">,</span>
        <span class="n">code_repository_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">code_repository</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.code_repository_schemas.CodeReferenceSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>CodeReferenceSchema</code> to a <code>CodeReferenceResponseModel</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeReferenceResponseModel</code></td>
      <td><p>The converted model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/code_repository_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CodeReferenceResponseModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `CodeReferenceSchema` to a `CodeReferenceResponseModel`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The converted model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">CodeReferenceResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="n">commit</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">commit</span><span class="p">,</span>
        <span class="n">subdirectory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subdirectory</span><span class="p">,</span>
        <span class="n">code_repository</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code_repository</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.code_repository_schemas.CodeRepositorySchema" class="doc doc-heading">
        <code>
CodeRepositorySchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for code repositories.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/code_repository_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CodeRepositorySchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for code repositories.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;code_repository&quot;</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;code_repositories&quot;</span>
    <span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;code_repositories&quot;</span>
    <span class="p">)</span>

    <span class="n">config</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
    <span class="n">logo_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">()</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">request</span><span class="p">:</span> <span class="s2">&quot;CodeRepositoryRequestModel&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CodeRepositorySchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `CodeRepositoryRequestModel` to a `CodeRepositorySchema`.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: The request model to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">config</span><span class="p">),</span>
            <span class="n">source</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
            <span class="n">description</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">logo_url</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">logo_url</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CodeRepositoryResponseModel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `CodeRepositorySchema` to a `CodeRepositoryResponseModel`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created CodeRepositoryResponseModel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">),</span>
            <span class="n">source</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">),</span>
            <span class="n">description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">logo_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">logo_url</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="s2">&quot;CodeRepositoryUpdateModel&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CodeRepositorySchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a `CodeRepositorySchema` with a `CodeRepositoryUpdateModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            update: The update model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated `CodeRepositorySchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">update</span><span class="o">.</span><span class="n">name</span>

        <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">description</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">update</span><span class="o">.</span><span class="n">description</span>

        <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">logo_url</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logo_url</span> <span class="o">=</span> <span class="n">update</span><span class="o">.</span><span class="n">logo_url</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



























  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.code_repository_schemas.CodeRepositorySchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>CodeRepositoryRequestModel</code> to a <code>CodeRepositorySchema</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>CodeRepositoryRequestModel</code></td>
        <td><p>The request model to convert.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositorySchema</code></td>
      <td><p>The converted schema.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/code_repository_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">request</span><span class="p">:</span> <span class="s2">&quot;CodeRepositoryRequestModel&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CodeRepositorySchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `CodeRepositoryRequestModel` to a `CodeRepositorySchema`.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: The request model to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The converted schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">config</span><span class="p">),</span>
        <span class="n">source</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
        <span class="n">description</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
        <span class="n">logo_url</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">logo_url</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.code_repository_schemas.CodeRepositorySchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>CodeRepositorySchema</code> to a <code>CodeRepositoryResponseModel</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponseModel</code></td>
      <td><p>The created CodeRepositoryResponseModel.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/code_repository_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CodeRepositoryResponseModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `CodeRepositorySchema` to a `CodeRepositoryResponseModel`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created CodeRepositoryResponseModel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">),</span>
        <span class="n">source</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">),</span>
        <span class="n">description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
        <span class="n">logo_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">logo_url</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.code_repository_schemas.CodeRepositorySchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a <code>CodeRepositorySchema</code> with a <code>CodeRepositoryUpdateModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>update</code></td>
        <td><code>CodeRepositoryUpdateModel</code></td>
        <td><p>The update model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositorySchema</code></td>
      <td><p>The updated <code>CodeRepositorySchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/code_repository_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="s2">&quot;CodeRepositoryUpdateModel&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CodeRepositorySchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a `CodeRepositorySchema` with a `CodeRepositoryUpdateModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        update: The update model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated `CodeRepositorySchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">update</span><span class="o">.</span><span class="n">name</span>

    <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">description</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">update</span><span class="o">.</span><span class="n">description</span>

    <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">logo_url</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logo_url</span> <span class="o">=</span> <span class="n">update</span><span class="o">.</span><span class="n">logo_url</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.component_schemas" class="doc doc-heading">
        <code>component_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQL Model Implementations for Stack Components.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.component_schemas.StackComponentSchema" class="doc doc-heading">
        <code>
StackComponentSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.ShareableSchema" href="#zenml.zen_stores.schemas.base_schemas.ShareableSchema">ShareableSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for stack components.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/component_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StackComponentSchema</span><span class="p">(</span><span class="n">ShareableSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for stack components.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;stack_component&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">StackComponentType</span>
    <span class="n">flavor</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">configuration</span><span class="p">:</span> <span class="nb">bytes</span>
    <span class="n">labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span>
    <span class="n">component_spec_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;components&quot;</span><span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;components&quot;</span><span class="p">)</span>

    <span class="n">stacks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StackSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;components&quot;</span><span class="p">,</span> <span class="n">link_model</span><span class="o">=</span><span class="n">StackCompositionSchema</span>
    <span class="p">)</span>
    <span class="n">schedules</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;ScheduleSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;orchestrator&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">run_metadata</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;RunMetadataSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;stack_component&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">run_or_step_logs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;LogsSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;artifact_store&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="s2">&quot;uselist&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="p">)</span>

    <span class="n">connector_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;connector_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">connector</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ServiceConnectorSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;components&quot;</span>
    <span class="p">)</span>

    <span class="n">connector_resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">component_update</span><span class="p">:</span> <span class="n">ComponentUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StackComponentSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a `StackSchema` from a `ComponentUpdateModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_update: The `ComponentUpdateModel` to update from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated `StackComponentSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">component_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span>
            <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;connector&quot;</span><span class="p">}</span>
        <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;configuration&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                    <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">component_update</span><span class="o">.</span><span class="n">configuration</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;labels&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                    <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">component_update</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ComponentResponseModel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a `ComponentModel` from an instance of a `StackSchema`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `ComponentModel`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ComponentResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">flavor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flavor</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">connector</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connector</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">connector</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">connector_resource_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connector_resource_id</span><span class="p">,</span>
            <span class="n">is_shared</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
            <span class="n">configuration</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
                <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">configuration</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="p">),</span>
            <span class="n">labels</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">component_spec_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">component_spec_path</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




































  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.component_schemas.StackComponentSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Creates a <code>ComponentModel</code> from an instance of a <code>StackSchema</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponseModel</code></td>
      <td><p>A <code>ComponentModel</code></p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/component_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ComponentResponseModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a `ComponentModel` from an instance of a `StackSchema`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `ComponentModel`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">ComponentResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
        <span class="n">flavor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flavor</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">connector</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connector</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">connector</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">connector_resource_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connector_resource_id</span><span class="p">,</span>
        <span class="n">is_shared</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
        <span class="n">configuration</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
            <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">configuration</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="p">),</span>
        <span class="n">labels</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span>
        <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">component_spec_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">component_spec_path</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.component_schemas.StackComponentSchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Updates a <code>StackSchema</code> from a <code>ComponentUpdateModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_update</code></td>
        <td><code>ComponentUpdateModel</code></td>
        <td><p>The <code>ComponentUpdateModel</code> to update from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackComponentSchema</code></td>
      <td><p>The updated <code>StackComponentSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/component_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">component_update</span><span class="p">:</span> <span class="n">ComponentUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StackComponentSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a `StackSchema` from a `ComponentUpdateModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_update: The `ComponentUpdateModel` to update from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated `StackComponentSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">component_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span>
        <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;connector&quot;</span><span class="p">}</span>
    <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;configuration&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">component_update</span><span class="o">.</span><span class="n">configuration</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;labels&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">component_update</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.flavor_schemas" class="doc doc-heading">
        <code>flavor_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQL Model Implementations for Flavors.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.flavor_schemas.FlavorSchema" class="doc doc-heading">
        <code>
FlavorSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for flavors.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>StackComponentType</code></td>
        <td><p>The type of the flavor.</p></td>
      </tr>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>The source of the flavor.</p></td>
      </tr>
      <tr>
        <td><code>config_schema</code></td>
        <td><code>str</code></td>
        <td><p>The config schema of the flavor.</p></td>
      </tr>
      <tr>
        <td><code>integration</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The integration associated with the flavor.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/flavor_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">FlavorSchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for flavors.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the flavor.</span>
<span class="sd">        source: The source of the flavor.</span>
<span class="sd">        config_schema: The config schema of the flavor.</span>
<span class="sd">        integration: The integration associated with the flavor.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;flavor&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">StackComponentType</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">config_schema</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
    <span class="n">integration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">connector_resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">connector_resource_id_attr</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;WorkspaceSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;flavors&quot;</span>
    <span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;flavors&quot;</span><span class="p">)</span>

    <span class="n">logo_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">()</span>

    <span class="n">docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">()</span>

    <span class="n">sdk_docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">()</span>

    <span class="n">is_custom</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">:</span> <span class="n">FlavorUpdateModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlavorSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a `FlavorSchema` from a `FlavorUpdateModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_update: The `FlavorUpdateModel` from which to update the schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated `FlavorSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">flavor_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;config_schema&quot;</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts a flavor schema to a flavor model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The flavor model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">FlavorResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">,</span>
            <span class="n">config_schema</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_schema</span><span class="p">),</span>
            <span class="n">integration</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">integration</span><span class="p">,</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span>
            <span class="n">connector_resource_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connector_resource_type</span><span class="p">,</span>
            <span class="n">connector_resource_id_attr</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connector_resource_id_attr</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">workspace</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">logo_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">logo_url</span><span class="p">,</span>
            <span class="n">docs_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">docs_url</span><span class="p">,</span>
            <span class="n">sdk_docs_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sdk_docs_url</span><span class="p">,</span>
            <span class="n">is_custom</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_custom</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


































  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.flavor_schemas.FlavorSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Converts a flavor schema to a flavor model.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponseModel</code></td>
      <td><p>The flavor model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/flavor_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts a flavor schema to a flavor model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The flavor model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">FlavorResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
        <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">,</span>
        <span class="n">config_schema</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config_schema</span><span class="p">),</span>
        <span class="n">integration</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">integration</span><span class="p">,</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span>
        <span class="n">connector_resource_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connector_resource_type</span><span class="p">,</span>
        <span class="n">connector_resource_id_attr</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connector_resource_id_attr</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">workspace</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="n">logo_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">logo_url</span><span class="p">,</span>
        <span class="n">docs_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">docs_url</span><span class="p">,</span>
        <span class="n">sdk_docs_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sdk_docs_url</span><span class="p">,</span>
        <span class="n">is_custom</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_custom</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.flavor_schemas.FlavorSchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a <code>FlavorSchema</code> from a <code>FlavorUpdateModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_update</code></td>
        <td><code>FlavorUpdateModel</code></td>
        <td><p>The <code>FlavorUpdateModel</code> from which to update the schema.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorSchema</code></td>
      <td><p>The updated <code>FlavorSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/flavor_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">:</span> <span class="n">FlavorUpdateModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FlavorSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a `FlavorSchema` from a `FlavorUpdateModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_update: The `FlavorUpdateModel` from which to update the schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated `FlavorSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">flavor_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;config_schema&quot;</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.identity_schemas" class="doc doc-heading">
        <code>identity_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQLModel implementation for the server information table.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.identity_schemas.IdentitySchema" class="doc doc-heading">
        <code>
IdentitySchema            (<span title="sqlmodel.main.SQLModel">SQLModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for the client/server identity.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/identity_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">IdentitySchema</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for the client/server identity.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;identity&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.logs_schemas" class="doc doc-heading">
        <code>logs_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQLModel implementation of pipeline logs tables.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.logs_schemas.LogsSchema" class="doc doc-heading">
        <code>
LogsSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.BaseSchema" href="#zenml.zen_stores.schemas.base_schemas.BaseSchema">BaseSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for logs.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/logs_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LogsSchema</span><span class="p">(</span><span class="n">BaseSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for logs.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;logs&quot;</span>

    <span class="n">pipeline_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;pipeline_run_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;logs&quot;</span>
    <span class="p">)</span>

    <span class="n">step_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;step_run_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">step_run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;StepRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;logs&quot;</span><span class="p">)</span>

    <span class="n">artifact_store_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;stack_component_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">artifact_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;StackComponentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;run_or_step_logs&quot;</span>
    <span class="p">)</span>

    <span class="n">uri</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;LogsResponseModel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `LogsSchema` to a `LogsResponseModel`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `LogsModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">LogsResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">pipeline_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">,</span>
            <span class="n">step_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">step_run_id</span><span class="p">,</span>
            <span class="n">artifact_store_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact_store_id</span><span class="p">,</span>
            <span class="n">uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

























  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.logs_schemas.LogsSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>LogsSchema</code> to a <code>LogsResponseModel</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>LogsResponseModel</code></td>
      <td><p>The created <code>LogsModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/logs_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;LogsResponseModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `LogsSchema` to a `LogsResponseModel`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `LogsModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">LogsResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">pipeline_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">,</span>
        <span class="n">step_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">step_run_id</span><span class="p">,</span>
        <span class="n">artifact_store_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact_store_id</span><span class="p">,</span>
        <span class="n">uri</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.pipeline_build_schemas" class="doc doc-heading">
        <code>pipeline_build_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQLModel implementation of pipeline build tables.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.pipeline_build_schemas.PipelineBuildSchema" class="doc doc-heading">
        <code>
PipelineBuildSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.BaseSchema" href="#zenml.zen_stores.schemas.base_schemas.BaseSchema">BaseSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for pipeline builds.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_build_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineBuildSchema</span><span class="p">(</span><span class="n">BaseSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for pipeline builds.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;pipeline_build&quot;</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;builds&quot;</span><span class="p">)</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;builds&quot;</span><span class="p">)</span>

    <span class="n">stack_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;stack_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">stack</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;StackSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;builds&quot;</span><span class="p">)</span>

    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;pipeline_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;builds&quot;</span>
    <span class="p">)</span>

    <span class="n">runs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;build&quot;</span><span class="p">)</span>
    <span class="n">deployments</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineDeploymentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;build&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">images</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span>
            <span class="n">String</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">MEDIUMTEXT_MAX_LENGTH</span><span class="p">)</span><span class="o">.</span><span class="n">with_variant</span><span class="p">(</span>
                <span class="n">MEDIUMTEXT</span><span class="p">,</span> <span class="s2">&quot;mysql&quot;</span>
            <span class="p">),</span>
            <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="n">is_local</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">contains_code</span><span class="p">:</span> <span class="nb">bool</span>

    <span class="n">zenml_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">python_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">checksum</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">PipelineBuildRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineBuildSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineBuildRequestModel` to a `PipelineBuildSchema`.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: The request to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `PipelineBuildSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">stack_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">stack</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">pipeline</span><span class="p">,</span>
            <span class="n">images</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">images</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">),</span>
            <span class="n">is_local</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">is_local</span><span class="p">,</span>
            <span class="n">contains_code</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">contains_code</span><span class="p">,</span>
            <span class="n">zenml_version</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">zenml_version</span><span class="p">,</span>
            <span class="n">python_version</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">python_version</span><span class="p">,</span>
            <span class="n">checksum</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">checksum</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineBuildSchema` to a `PipelineBuildResponseModel`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `PipelineBuildResponseModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PipelineBuildResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">stack</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">images</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">),</span>
            <span class="n">is_local</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">,</span>
            <span class="n">contains_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">contains_code</span><span class="p">,</span>
            <span class="n">zenml_version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">zenml_version</span><span class="p">,</span>
            <span class="n">python_version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">python_version</span><span class="p">,</span>
            <span class="n">checksum</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">checksum</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


































  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.pipeline_build_schemas.PipelineBuildSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>PipelineBuildRequestModel</code> to a <code>PipelineBuildSchema</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>PipelineBuildRequestModel</code></td>
        <td><p>The request to convert.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineBuildSchema</code></td>
      <td><p>The created <code>PipelineBuildSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_build_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">PipelineBuildRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineBuildSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineBuildRequestModel` to a `PipelineBuildSchema`.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: The request to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `PipelineBuildSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">stack_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">stack</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">pipeline</span><span class="p">,</span>
        <span class="n">images</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">images</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">),</span>
        <span class="n">is_local</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">is_local</span><span class="p">,</span>
        <span class="n">contains_code</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">contains_code</span><span class="p">,</span>
        <span class="n">zenml_version</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">zenml_version</span><span class="p">,</span>
        <span class="n">python_version</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">python_version</span><span class="p">,</span>
        <span class="n">checksum</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">checksum</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.pipeline_build_schemas.PipelineBuildSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>PipelineBuildSchema</code> to a <code>PipelineBuildResponseModel</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineBuildResponseModel</code></td>
      <td><p>The created <code>PipelineBuildResponseModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_build_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineBuildSchema` to a `PipelineBuildResponseModel`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `PipelineBuildResponseModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PipelineBuildResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">stack</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="n">images</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">),</span>
        <span class="n">is_local</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_local</span><span class="p">,</span>
        <span class="n">contains_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">contains_code</span><span class="p">,</span>
        <span class="n">zenml_version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">zenml_version</span><span class="p">,</span>
        <span class="n">python_version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">python_version</span><span class="p">,</span>
        <span class="n">checksum</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">checksum</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.pipeline_deployment_schemas" class="doc doc-heading">
        <code>pipeline_deployment_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQLModel implementation of pipeline deployment tables.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.pipeline_deployment_schemas.PipelineDeploymentSchema" class="doc doc-heading">
        <code>
PipelineDeploymentSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.BaseSchema" href="#zenml.zen_stores.schemas.base_schemas.BaseSchema">BaseSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for pipeline deployments.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_deployment_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineDeploymentSchema</span><span class="p">(</span><span class="n">BaseSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for pipeline deployments.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;pipeline_deployment&quot;</span>

    <span class="n">stack_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;stack_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;StackSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;deployments&quot;</span><span class="p">)</span>

    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;pipeline_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;PipelineSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;deployments&quot;</span><span class="p">)</span>

    <span class="n">build_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">PipelineBuildSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;build_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">build</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineBuildSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;deployments&quot;</span>
    <span class="p">)</span>

    <span class="n">schedule_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">ScheduleSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;schedule_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">schedule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ScheduleSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;deployment&quot;</span>
    <span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;deployments&quot;</span><span class="p">)</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;deployments&quot;</span><span class="p">)</span>

    <span class="n">code_reference_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">CodeReferenceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;code_reference_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">code_reference</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;CodeReferenceSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">()</span>

    <span class="n">runs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;deployment&quot;</span><span class="p">)</span>

    <span class="n">run_name_template</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">pipeline_configuration</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
    <span class="n">step_configurations</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span>
            <span class="n">String</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">MEDIUMTEXT_MAX_LENGTH</span><span class="p">)</span><span class="o">.</span><span class="n">with_variant</span><span class="p">(</span>
                <span class="n">MEDIUMTEXT</span><span class="p">,</span> <span class="s2">&quot;mysql&quot;</span>
            <span class="p">),</span>
            <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">client_environment</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">request</span><span class="p">:</span> <span class="n">PipelineDeploymentRequestModel</span><span class="p">,</span>
        <span class="n">code_reference_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineDeploymentSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineDeploymentRequestModel` to a `PipelineDeploymentSchema`.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: The request to convert.</span>
<span class="sd">            code_reference_id: Optional ID of the code reference for the</span>
<span class="sd">                deployment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `PipelineDeploymentSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">stack_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">stack</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">pipeline</span><span class="p">,</span>
            <span class="n">build_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">build</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">schedule_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">schedule</span><span class="p">,</span>
            <span class="n">code_reference_id</span><span class="o">=</span><span class="n">code_reference_id</span><span class="p">,</span>
            <span class="n">run_name_template</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">run_name_template</span><span class="p">,</span>
            <span class="n">pipeline_configuration</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
            <span class="n">step_configurations</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
                <span class="n">request</span><span class="o">.</span><span class="n">step_configurations</span><span class="p">,</span>
                <span class="n">sort_keys</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">client_environment</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">client_environment</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineDeploymentSchema` to a `PipelineDeploymentResponseModel`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `PipelineDeploymentResponseModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">stack</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">build</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">build</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">build</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">schedule</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">code_reference</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code_reference</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">code_reference</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">run_name_template</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_name_template</span><span class="p">,</span>
            <span class="n">pipeline_configuration</span><span class="o">=</span><span class="n">PipelineConfiguration</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_configuration</span>
            <span class="p">),</span>
            <span class="n">step_configurations</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_configurations</span><span class="p">),</span>
            <span class="n">client_environment</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_environment</span><span class="p">),</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">





































  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.pipeline_deployment_schemas.PipelineDeploymentSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">code_reference_id</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>PipelineDeploymentRequestModel</code> to a <code>PipelineDeploymentSchema</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>PipelineDeploymentRequestModel</code></td>
        <td><p>The request to convert.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>code_reference_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>Optional ID of the code reference for the
deployment.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineDeploymentSchema</code></td>
      <td><p>The created <code>PipelineDeploymentSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_deployment_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">request</span><span class="p">:</span> <span class="n">PipelineDeploymentRequestModel</span><span class="p">,</span>
    <span class="n">code_reference_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineDeploymentSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineDeploymentRequestModel` to a `PipelineDeploymentSchema`.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: The request to convert.</span>
<span class="sd">        code_reference_id: Optional ID of the code reference for the</span>
<span class="sd">            deployment.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `PipelineDeploymentSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">stack_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">stack</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">pipeline</span><span class="p">,</span>
        <span class="n">build_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">build</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">schedule_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">schedule</span><span class="p">,</span>
        <span class="n">code_reference_id</span><span class="o">=</span><span class="n">code_reference_id</span><span class="p">,</span>
        <span class="n">run_name_template</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">run_name_template</span><span class="p">,</span>
        <span class="n">pipeline_configuration</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
        <span class="n">step_configurations</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
            <span class="n">request</span><span class="o">.</span><span class="n">step_configurations</span><span class="p">,</span>
            <span class="n">sort_keys</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">client_environment</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">client_environment</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.pipeline_deployment_schemas.PipelineDeploymentSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>PipelineDeploymentSchema</code> to a <code>PipelineDeploymentResponseModel</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineDeploymentResponseModel</code></td>
      <td><p>The created <code>PipelineDeploymentResponseModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_deployment_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineDeploymentSchema` to a `PipelineDeploymentResponseModel`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `PipelineDeploymentResponseModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">stack</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">build</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">build</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">build</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">schedule</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schedule</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">code_reference</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">code_reference</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">code_reference</span>
        <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="n">run_name_template</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">run_name_template</span><span class="p">,</span>
        <span class="n">pipeline_configuration</span><span class="o">=</span><span class="n">PipelineConfiguration</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pipeline_configuration</span>
        <span class="p">),</span>
        <span class="n">step_configurations</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_configurations</span><span class="p">),</span>
        <span class="n">client_environment</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_environment</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.pipeline_run_schemas" class="doc doc-heading">
        <code>pipeline_run_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQLModel implementation of pipeline run tables.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.pipeline_run_schemas.PipelineRunSchema" class="doc doc-heading">
        <code>
PipelineRunSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for pipeline runs.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_run_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineRunSchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for pipeline runs.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;pipeline_run&quot;</span>

    <span class="n">stack_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;stack_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">stack</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;StackSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;runs&quot;</span><span class="p">)</span>

    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;pipeline_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;runs&quot;</span><span class="p">)</span>

    <span class="n">build_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">PipelineBuildSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;build_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">build</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineBuildSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;runs&quot;</span>
    <span class="p">)</span>

    <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">PipelineDeploymentSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;deployment_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineDeploymentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;runs&quot;</span>
    <span class="p">)</span>

    <span class="n">schedule_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">ScheduleSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;schedule_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">schedule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ScheduleSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;runs&quot;</span><span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;runs&quot;</span><span class="p">)</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;runs&quot;</span><span class="p">)</span>

    <span class="n">orchestrator_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">enable_artifact_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">start_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">ExecutionStatus</span>
    <span class="n">pipeline_configuration</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
    <span class="n">num_steps</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">client_version</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">server_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">client_environment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">orchestrator_environment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">git_sha</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># DEPRECATED</span>

    <span class="n">run_metadata</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;RunMetadataSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;pipeline_run&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">step_runs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StepRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;pipeline_run&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">logs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;LogsSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;pipeline_run&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="s2">&quot;uselist&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineRunRequestModel` to a `PipelineRunSchema`.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: The request to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `PipelineRunSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">config</span>
        <span class="n">client_environment</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">client_environment</span><span class="p">)</span>
        <span class="n">orchestrator_environment</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">orchestrator_environment</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">orchestrator_run_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">orchestrator_run_id</span><span class="p">,</span>
            <span class="n">stack_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">stack</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">pipeline</span><span class="p">,</span>
            <span class="n">build_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">build</span><span class="p">,</span>
            <span class="n">deployment_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">deployment</span><span class="p">,</span>
            <span class="n">schedule_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">schedule_id</span><span class="p">,</span>
            <span class="n">enable_cache</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">,</span>
            <span class="n">enable_artifact_metadata</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">enable_artifact_metadata</span><span class="p">,</span>
            <span class="n">start_time</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
            <span class="n">pipeline_configuration</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">num_steps</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">num_steps</span><span class="p">,</span>
            <span class="n">client_version</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">client_version</span><span class="p">,</span>
            <span class="n">server_version</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">server_version</span><span class="p">,</span>
            <span class="n">client_environment</span><span class="o">=</span><span class="n">client_environment</span><span class="p">,</span>
            <span class="n">orchestrator_environment</span><span class="o">=</span><span class="n">orchestrator_environment</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">steps</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;StepRunResponseModel&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineRunSchema` to a `PipelineRunResponseModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            steps: The steps to include in the response.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `PipelineRunResponseModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client_environment</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_environment</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_environment</span>
            <span class="k">else</span> <span class="p">{}</span>
        <span class="p">)</span>
        <span class="n">orchestrator_environment</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orchestrator_environment</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orchestrator_environment</span>
            <span class="k">else</span> <span class="p">{}</span>
        <span class="p">)</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">metadata_schema</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="n">metadata_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">metadata_schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_metadata</span>
        <span class="p">}</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">PipelineConfiguration</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="p">)</span>

        <span class="n">pipeline</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">build</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">build</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">build</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">deployment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deployment</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">deployment</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">steps</span> <span class="o">=</span> <span class="n">steps</span> <span class="ow">or</span> <span class="p">{}</span>

        <span class="k">return</span> <span class="n">PipelineRunResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">stack</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">orchestrator_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">orchestrator_run_id</span><span class="p">,</span>
            <span class="n">start_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
            <span class="n">end_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
            <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span>
            <span class="n">build</span><span class="o">=</span><span class="n">build</span><span class="p">,</span>
            <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span>
            <span class="n">schedule_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schedule_id</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
            <span class="n">num_steps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_steps</span><span class="p">,</span>
            <span class="n">client_version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_version</span><span class="p">,</span>
            <span class="n">server_version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">server_version</span><span class="p">,</span>
            <span class="n">client_environment</span><span class="o">=</span><span class="n">client_environment</span><span class="p">,</span>
            <span class="n">orchestrator_environment</span><span class="o">=</span><span class="n">orchestrator_environment</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">steps</span><span class="o">=</span><span class="n">steps</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_update</span><span class="p">:</span> <span class="s2">&quot;PipelineRunUpdateModel&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a `PipelineRunSchema` with a `PipelineRunUpdateModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_update: The `PipelineRunUpdateModel` to update with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated `PipelineRunSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">run_update</span><span class="o">.</span><span class="n">status</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">run_update</span><span class="o">.</span><span class="n">status</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="o">=</span> <span class="n">run_update</span><span class="o">.</span><span class="n">end_time</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

















































  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.pipeline_run_schemas.PipelineRunSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>PipelineRunRequestModel</code> to a <code>PipelineRunSchema</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>PipelineRunRequestModel</code></td>
        <td><p>The request to convert.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunSchema</code></td>
      <td><p>The created <code>PipelineRunSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_run_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineRunRequestModel` to a `PipelineRunSchema`.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: The request to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `PipelineRunSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">config</span>
    <span class="n">client_environment</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">client_environment</span><span class="p">)</span>
    <span class="n">orchestrator_environment</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">orchestrator_environment</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">orchestrator_run_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">orchestrator_run_id</span><span class="p">,</span>
        <span class="n">stack_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">stack</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">pipeline</span><span class="p">,</span>
        <span class="n">build_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">build</span><span class="p">,</span>
        <span class="n">deployment_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">deployment</span><span class="p">,</span>
        <span class="n">schedule_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">schedule_id</span><span class="p">,</span>
        <span class="n">enable_cache</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">,</span>
        <span class="n">enable_artifact_metadata</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">enable_artifact_metadata</span><span class="p">,</span>
        <span class="n">start_time</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
        <span class="n">pipeline_configuration</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">num_steps</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">num_steps</span><span class="p">,</span>
        <span class="n">client_version</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">client_version</span><span class="p">,</span>
        <span class="n">server_version</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">server_version</span><span class="p">,</span>
        <span class="n">client_environment</span><span class="o">=</span><span class="n">client_environment</span><span class="p">,</span>
        <span class="n">orchestrator_environment</span><span class="o">=</span><span class="n">orchestrator_environment</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.pipeline_run_schemas.PipelineRunSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>PipelineRunSchema</code> to a <code>PipelineRunResponseModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>steps</code></td>
        <td><code>Optional[Dict[str, StepRunResponseModel]]</code></td>
        <td><p>The steps to include in the response.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponseModel</code></td>
      <td><p>The created <code>PipelineRunResponseModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_run_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">steps</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;StepRunResponseModel&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineRunSchema` to a `PipelineRunResponseModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        steps: The steps to include in the response.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `PipelineRunResponseModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client_environment</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_environment</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_environment</span>
        <span class="k">else</span> <span class="p">{}</span>
    <span class="p">)</span>
    <span class="n">orchestrator_environment</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orchestrator_environment</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orchestrator_environment</span>
        <span class="k">else</span> <span class="p">{}</span>
    <span class="p">)</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">metadata_schema</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="n">metadata_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">metadata_schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_metadata</span>
    <span class="p">}</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">PipelineConfiguration</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="p">)</span>

    <span class="n">pipeline</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipeline</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="n">build</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">build</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">build</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="n">deployment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deployment</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">deployment</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="n">steps</span> <span class="o">=</span> <span class="n">steps</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="k">return</span> <span class="n">PipelineRunResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">stack</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stack</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">orchestrator_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">orchestrator_run_id</span><span class="p">,</span>
        <span class="n">start_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
        <span class="n">end_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="o">=</span><span class="n">pipeline</span><span class="p">,</span>
        <span class="n">build</span><span class="o">=</span><span class="n">build</span><span class="p">,</span>
        <span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span>
        <span class="n">schedule_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">schedule_id</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="n">num_steps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">num_steps</span><span class="p">,</span>
        <span class="n">client_version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">client_version</span><span class="p">,</span>
        <span class="n">server_version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">server_version</span><span class="p">,</span>
        <span class="n">client_environment</span><span class="o">=</span><span class="n">client_environment</span><span class="p">,</span>
        <span class="n">orchestrator_environment</span><span class="o">=</span><span class="n">orchestrator_environment</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
        <span class="n">steps</span><span class="o">=</span><span class="n">steps</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.pipeline_run_schemas.PipelineRunSchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a <code>PipelineRunSchema</code> with a <code>PipelineRunUpdateModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_update</code></td>
        <td><code>PipelineRunUpdateModel</code></td>
        <td><p>The <code>PipelineRunUpdateModel</code> to update with.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunSchema</code></td>
      <td><p>The updated <code>PipelineRunSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_run_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">run_update</span><span class="p">:</span> <span class="s2">&quot;PipelineRunUpdateModel&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a `PipelineRunSchema` with a `PipelineRunUpdateModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_update: The `PipelineRunUpdateModel` to update with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated `PipelineRunSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">run_update</span><span class="o">.</span><span class="n">status</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">run_update</span><span class="o">.</span><span class="n">status</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="o">=</span> <span class="n">run_update</span><span class="o">.</span><span class="n">end_time</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.pipeline_schemas" class="doc doc-heading">
        <code>pipeline_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQL Model Implementations for Pipelines and Pipeline Runs.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.pipeline_schemas.PipelineSchema" class="doc doc-heading">
        <code>
PipelineSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for pipelines.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PipelineSchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for pipelines.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;pipeline&quot;</span>

    <span class="n">version</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">version_hash</span><span class="p">:</span> <span class="nb">str</span>

    <span class="n">docstring</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="n">spec</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span>
            <span class="n">String</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">MEDIUMTEXT_MAX_LENGTH</span><span class="p">)</span><span class="o">.</span><span class="n">with_variant</span><span class="p">(</span>
                <span class="n">MEDIUMTEXT</span><span class="p">,</span> <span class="s2">&quot;mysql&quot;</span>
            <span class="p">),</span>
            <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;pipelines&quot;</span><span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;pipelines&quot;</span><span class="p">)</span>

    <span class="n">schedules</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;ScheduleSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;pipeline&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">runs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;pipeline&quot;</span><span class="p">,</span> <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="n">builds</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineBuildSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;pipeline&quot;</span>
    <span class="p">)</span>
    <span class="n">deployments</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineDeploymentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;pipeline&quot;</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">pipeline_request</span><span class="p">:</span> <span class="s2">&quot;PipelineRequestModel&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineRequestModel` to a `PipelineSchema`.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_request: The request model to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="n">version_hash</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">version_hash</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">docstring</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">docstring</span><span class="p">,</span>
            <span class="n">spec</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">last_x_runs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineResponseModel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineSchema` to a `PipelineModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            last_x_runs: How many runs to use for the execution status</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created PipelineModel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PipelineResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="n">version_hash</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version_hash</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">docstring</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">docstring</span><span class="p">,</span>
            <span class="n">spec</span><span class="o">=</span><span class="n">PipelineSpec</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spec</span><span class="p">),</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="p">[</span><span class="n">run</span><span class="o">.</span><span class="n">status</span> <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runs</span><span class="p">[:</span><span class="n">last_x_runs</span><span class="p">]],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_update</span><span class="p">:</span> <span class="s2">&quot;PipelineUpdateModel&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a `PipelineSchema` with a `PipelineUpdateModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_update: The update model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated `PipelineSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">pipeline_update</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">pipeline_update</span><span class="o">.</span><span class="n">name</span>

        <span class="k">if</span> <span class="n">pipeline_update</span><span class="o">.</span><span class="n">docstring</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">docstring</span> <span class="o">=</span> <span class="n">pipeline_update</span><span class="o">.</span><span class="n">docstring</span>

        <span class="k">if</span> <span class="n">pipeline_update</span><span class="o">.</span><span class="n">spec</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">spec</span> <span class="o">=</span> <span class="n">pipeline_update</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">































  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.pipeline_schemas.PipelineSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">pipeline_request</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>PipelineRequestModel</code> to a <code>PipelineSchema</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_request</code></td>
        <td><code>PipelineRequestModel</code></td>
        <td><p>The request model to convert.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineSchema</code></td>
      <td><p>The converted schema.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">pipeline_request</span><span class="p">:</span> <span class="s2">&quot;PipelineRequestModel&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineRequestModel` to a `PipelineSchema`.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_request: The request model to convert.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The converted schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="n">version_hash</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">version_hash</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">docstring</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">docstring</span><span class="p">,</span>
        <span class="n">spec</span><span class="o">=</span><span class="n">pipeline_request</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.pipeline_schemas.PipelineSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">last_x_runs</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>PipelineSchema</code> to a <code>PipelineModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>last_x_runs</code></td>
        <td><code>int</code></td>
        <td><p>How many runs to use for the execution status</p></td>
        <td><code>3</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponseModel</code></td>
      <td><p>The created PipelineModel.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">last_x_runs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineResponseModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `PipelineSchema` to a `PipelineModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        last_x_runs: How many runs to use for the execution status</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created PipelineModel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PipelineResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="n">version_hash</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version_hash</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">docstring</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">docstring</span><span class="p">,</span>
        <span class="n">spec</span><span class="o">=</span><span class="n">PipelineSpec</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spec</span><span class="p">),</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="p">[</span><span class="n">run</span><span class="o">.</span><span class="n">status</span> <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runs</span><span class="p">[:</span><span class="n">last_x_runs</span><span class="p">]],</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.pipeline_schemas.PipelineSchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a <code>PipelineSchema</code> with a <code>PipelineUpdateModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_update</code></td>
        <td><code>PipelineUpdateModel</code></td>
        <td><p>The update model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineSchema</code></td>
      <td><p>The updated <code>PipelineSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/pipeline_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_update</span><span class="p">:</span> <span class="s2">&quot;PipelineUpdateModel&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a `PipelineSchema` with a `PipelineUpdateModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_update: The update model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated `PipelineSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pipeline_update</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">pipeline_update</span><span class="o">.</span><span class="n">name</span>

    <span class="k">if</span> <span class="n">pipeline_update</span><span class="o">.</span><span class="n">docstring</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">docstring</span> <span class="o">=</span> <span class="n">pipeline_update</span><span class="o">.</span><span class="n">docstring</span>

    <span class="k">if</span> <span class="n">pipeline_update</span><span class="o">.</span><span class="n">spec</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spec</span> <span class="o">=</span> <span class="n">pipeline_update</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.role_schemas" class="doc doc-heading">
        <code>role_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQLModel implementation of roles that can be assigned to users or teams.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.role_schemas.RolePermissionSchema" class="doc doc-heading">
        <code>
RolePermissionSchema            (<span title="sqlmodel.main.SQLModel">SQLModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for team assignments.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/role_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RolePermissionSchema</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for team assignments.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;role_permission&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="n">PermissionType</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">role_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">RoleSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;role_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">roles</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;RoleSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;permissions&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.role_schemas.RoleSchema" class="doc doc-heading">
        <code>
RoleSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for roles.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/role_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RoleSchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for roles.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;role&quot;</span>

    <span class="n">permissions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;RolePermissionSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;roles&quot;</span><span class="p">,</span> <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="n">user_role_assignments</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UserRoleAssignmentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;role&quot;</span><span class="p">,</span> <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="n">team_role_assignments</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;TeamRoleAssignmentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;role&quot;</span><span class="p">,</span> <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">}</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">RoleRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RoleSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `RoleSchema` from a `RoleResponseModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The `RoleResponseModel` from which to create the schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `RoleSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_update</span><span class="p">:</span> <span class="n">RoleUpdateModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RoleSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a `RoleSchema` from a `RoleUpdateModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_update: The `RoleUpdateModel` from which to update the schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated `RoleSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">role_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span>
            <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;permissions&quot;</span><span class="p">}</span>
        <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `RoleSchema` to a `RoleResponseModel`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted `RoleResponseModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">RoleResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">permissions</span><span class="o">=</span><span class="p">{</span><span class="n">PermissionType</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">permissions</span><span class="p">},</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






















  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.role_schemas.RoleSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a <code>RoleSchema</code> from a <code>RoleResponseModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>RoleRequestModel</code></td>
        <td><p>The <code>RoleResponseModel</code> from which to create the schema.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RoleSchema</code></td>
      <td><p>The created <code>RoleSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/role_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">RoleRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RoleSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `RoleSchema` from a `RoleResponseModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The `RoleResponseModel` from which to create the schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `RoleSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.role_schemas.RoleSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>RoleSchema</code> to a <code>RoleResponseModel</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RoleResponseModel</code></td>
      <td><p>The converted <code>RoleResponseModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/role_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `RoleSchema` to a `RoleResponseModel`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The converted `RoleResponseModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">RoleResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="n">permissions</span><span class="o">=</span><span class="p">{</span><span class="n">PermissionType</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">permissions</span><span class="p">},</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.role_schemas.RoleSchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a <code>RoleSchema</code> from a <code>RoleUpdateModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_update</code></td>
        <td><code>RoleUpdateModel</code></td>
        <td><p>The <code>RoleUpdateModel</code> from which to update the schema.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RoleSchema</code></td>
      <td><p>The updated <code>RoleSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/role_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_update</span><span class="p">:</span> <span class="n">RoleUpdateModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RoleSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a `RoleSchema` from a `RoleUpdateModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_update: The `RoleUpdateModel` from which to update the schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated `RoleSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">role_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span>
        <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;permissions&quot;</span><span class="p">}</span>
    <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.role_schemas.TeamRoleAssignmentSchema" class="doc doc-heading">
        <code>
TeamRoleAssignmentSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.BaseSchema" href="#zenml.zen_stores.schemas.base_schemas.BaseSchema">BaseSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for assigning roles to teams for a given workspace.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/role_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TeamRoleAssignmentSchema</span><span class="p">(</span><span class="n">BaseSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for assigning roles to teams for a given workspace.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;team_role_assignment&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">uuid4</span><span class="p">)</span>
    <span class="n">role_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">RoleSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;role_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">team_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">TeamSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;team_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">role</span><span class="p">:</span> <span class="n">RoleSchema</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;team_role_assignments&quot;</span><span class="p">)</span>
    <span class="n">team</span><span class="p">:</span> <span class="s2">&quot;TeamSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;assigned_roles&quot;</span><span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;WorkspaceSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;team_role_assignments&quot;</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">role_assignment</span><span class="p">:</span> <span class="n">TeamRoleAssignmentRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TeamRoleAssignmentSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `TeamRoleAssignmentSchema` from a `RoleAssignmentRequestModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_assignment: The `RoleAssignmentRequestModel` from which to</span>
<span class="sd">                create the schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `TeamRoleAssignmentSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">role_id</span><span class="o">=</span><span class="n">role_assignment</span><span class="o">.</span><span class="n">role</span><span class="p">,</span>
            <span class="n">team_id</span><span class="o">=</span><span class="n">role_assignment</span><span class="o">.</span><span class="n">team</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">role_assignment</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `TeamRoleAssignmentSchema` to a `RoleAssignmentModel`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted `RoleAssignmentModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">workspace</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">team</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">team</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="n">_block_recursion</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">role</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">role</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.role_schemas.TeamRoleAssignmentSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">role_assignment</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a <code>TeamRoleAssignmentSchema</code> from a <code>RoleAssignmentRequestModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_assignment</code></td>
        <td><code>TeamRoleAssignmentRequestModel</code></td>
        <td><p>The <code>RoleAssignmentRequestModel</code> from which to
create the schema.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamRoleAssignmentSchema</code></td>
      <td><p>The created <code>TeamRoleAssignmentSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/role_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">role_assignment</span><span class="p">:</span> <span class="n">TeamRoleAssignmentRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TeamRoleAssignmentSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `TeamRoleAssignmentSchema` from a `RoleAssignmentRequestModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_assignment: The `RoleAssignmentRequestModel` from which to</span>
<span class="sd">            create the schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `TeamRoleAssignmentSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">role_id</span><span class="o">=</span><span class="n">role_assignment</span><span class="o">.</span><span class="n">role</span><span class="p">,</span>
        <span class="n">team_id</span><span class="o">=</span><span class="n">role_assignment</span><span class="o">.</span><span class="n">team</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">role_assignment</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.role_schemas.TeamRoleAssignmentSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>TeamRoleAssignmentSchema</code> to a <code>RoleAssignmentModel</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamRoleAssignmentResponseModel</code></td>
      <td><p>The converted <code>RoleAssignmentModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/role_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `TeamRoleAssignmentSchema` to a `RoleAssignmentModel`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The converted `RoleAssignmentModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">workspace</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">team</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">team</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="n">_block_recursion</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">role</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">role</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.role_schemas.UserRoleAssignmentSchema" class="doc doc-heading">
        <code>
UserRoleAssignmentSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.BaseSchema" href="#zenml.zen_stores.schemas.base_schemas.BaseSchema">BaseSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for assigning roles to users for a given workspace.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/role_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">UserRoleAssignmentSchema</span><span class="p">(</span><span class="n">BaseSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for assigning roles to users for a given workspace.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;user_role_assignment&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">uuid4</span><span class="p">)</span>
    <span class="n">role_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">RoleSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;role_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">role</span><span class="p">:</span> <span class="n">RoleSchema</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user_role_assignments&quot;</span><span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;assigned_roles&quot;</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;WorkspaceSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user_role_assignments&quot;</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">role_assignment</span><span class="p">:</span> <span class="n">UserRoleAssignmentRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;UserRoleAssignmentSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `UserRoleAssignmentSchema` from a `RoleAssignmentRequestModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_assignment: The `RoleAssignmentRequestModel` from which to</span>
<span class="sd">                create the schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `UserRoleAssignmentSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">role_id</span><span class="o">=</span><span class="n">role_assignment</span><span class="o">.</span><span class="n">role</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">role_assignment</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">role_assignment</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `UserRoleAssignmentSchema` to a `RoleAssignmentModel`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted `RoleAssignmentModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">workspace</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="n">_block_recursion</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">role</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">role</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.role_schemas.UserRoleAssignmentSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">role_assignment</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a <code>UserRoleAssignmentSchema</code> from a <code>RoleAssignmentRequestModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_assignment</code></td>
        <td><code>UserRoleAssignmentRequestModel</code></td>
        <td><p>The <code>RoleAssignmentRequestModel</code> from which to
create the schema.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserRoleAssignmentSchema</code></td>
      <td><p>The created <code>UserRoleAssignmentSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/role_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">role_assignment</span><span class="p">:</span> <span class="n">UserRoleAssignmentRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;UserRoleAssignmentSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `UserRoleAssignmentSchema` from a `RoleAssignmentRequestModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_assignment: The `RoleAssignmentRequestModel` from which to</span>
<span class="sd">            create the schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `UserRoleAssignmentSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">role_id</span><span class="o">=</span><span class="n">role_assignment</span><span class="o">.</span><span class="n">role</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">role_assignment</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">role_assignment</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.role_schemas.UserRoleAssignmentSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>UserRoleAssignmentSchema</code> to a <code>RoleAssignmentModel</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserRoleAssignmentResponseModel</code></td>
      <td><p>The converted <code>RoleAssignmentModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/role_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `UserRoleAssignmentSchema` to a `RoleAssignmentModel`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The converted `RoleAssignmentModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">workspace</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="n">_block_recursion</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span>
        <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">role</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">role</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.run_metadata_schemas" class="doc doc-heading">
        <code>run_metadata_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQLModel implementation of pipeline run metadata tables.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.run_metadata_schemas.RunMetadataSchema" class="doc doc-heading">
        <code>
RunMetadataSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.BaseSchema" href="#zenml.zen_stores.schemas.base_schemas.BaseSchema">BaseSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for run metadata.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/run_metadata_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RunMetadataSchema</span><span class="p">(</span><span class="n">BaseSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for run metadata.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;run_metadata&quot;</span>

    <span class="n">pipeline_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;pipeline_run_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;run_metadata&quot;</span>
    <span class="p">)</span>

    <span class="n">step_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;step_run_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">step_run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;StepRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;run_metadata&quot;</span>
    <span class="p">)</span>

    <span class="n">artifact_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;artifact_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ArtifactSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;run_metadata&quot;</span>
    <span class="p">)</span>

    <span class="n">stack_component_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;stack_component_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">stack_component</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;StackComponentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;run_metadata&quot;</span>
    <span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;run_metadata&quot;</span><span class="p">)</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;run_metadata&quot;</span><span class="p">)</span>

    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">MetadataTypeEnum</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RunMetadataResponseModel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `RunMetadataSchema` to a `RunMetadataResponseModel`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `RunMetadataResponseModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">RunMetadataResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">pipeline_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">,</span>
            <span class="n">step_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">step_run_id</span><span class="p">,</span>
            <span class="n">artifact_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact_id</span><span class="p">,</span>
            <span class="n">stack_component_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stack_component_id</span><span class="p">,</span>
            <span class="n">key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
            <span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="s2">&quot;RunMetadataRequestModel&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RunMetadataSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `RunMetadataSchema` from a `RunMetadataRequestModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: The request model to create the schema from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `RunMetadataSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">pipeline_run_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">,</span>
            <span class="n">step_run_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">step_run_id</span><span class="p">,</span>
            <span class="n">artifact_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">artifact_id</span><span class="p">,</span>
            <span class="n">stack_component_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">stack_component_id</span><span class="p">,</span>
            <span class="n">key</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">key</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

































  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.run_metadata_schemas.RunMetadataSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a <code>RunMetadataSchema</code> from a <code>RunMetadataRequestModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>RunMetadataRequestModel</code></td>
        <td><p>The request model to create the schema from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RunMetadataSchema</code></td>
      <td><p>The created <code>RunMetadataSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/run_metadata_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="s2">&quot;RunMetadataRequestModel&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RunMetadataSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `RunMetadataSchema` from a `RunMetadataRequestModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: The request model to create the schema from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `RunMetadataSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">pipeline_run_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">,</span>
        <span class="n">step_run_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">step_run_id</span><span class="p">,</span>
        <span class="n">artifact_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">artifact_id</span><span class="p">,</span>
        <span class="n">stack_component_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">stack_component_id</span><span class="p">,</span>
        <span class="n">key</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">key</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
        <span class="nb">type</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.run_metadata_schemas.RunMetadataSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>RunMetadataSchema</code> to a <code>RunMetadataResponseModel</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RunMetadataResponseModel</code></td>
      <td><p>The created <code>RunMetadataResponseModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/run_metadata_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RunMetadataResponseModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `RunMetadataSchema` to a `RunMetadataResponseModel`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `RunMetadataResponseModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">RunMetadataResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">pipeline_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">,</span>
        <span class="n">step_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">step_run_id</span><span class="p">,</span>
        <span class="n">artifact_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">artifact_id</span><span class="p">,</span>
        <span class="n">stack_component_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stack_component_id</span><span class="p">,</span>
        <span class="n">key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
        <span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.schedule_schema" class="doc doc-heading">
        <code>schedule_schema</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQL Model Implementations for Pipeline Schedules.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.schedule_schema.ScheduleSchema" class="doc doc-heading">
        <code>
ScheduleSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for schedules.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/schedule_schema.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ScheduleSchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for schedules.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;schedule&quot;</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;schedules&quot;</span><span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;UserSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;schedules&quot;</span><span class="p">)</span>

    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;pipeline_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="s2">&quot;PipelineSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;schedules&quot;</span><span class="p">)</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;PipelineDeploymentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;schedule&quot;</span>
    <span class="p">)</span>

    <span class="n">orchestrator_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;orchestrator_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">orchestrator</span><span class="p">:</span> <span class="s2">&quot;StackComponentSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;schedules&quot;</span>
    <span class="p">)</span>

    <span class="n">active</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">cron_expression</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">start_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">interval_second</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">catchup</span><span class="p">:</span> <span class="nb">bool</span>

    <span class="n">runs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;schedule&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_create_model</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">ScheduleRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ScheduleSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `ScheduleSchema` from a `ScheduleRequestModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The `ScheduleRequestModel` to create the schema from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `ScheduleSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">interval_second</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">interval_second</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">interval_second</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">interval_second</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">orchestrator_id</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">orchestrator_id</span><span class="p">,</span>
            <span class="n">active</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">active</span><span class="p">,</span>
            <span class="n">cron_expression</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">,</span>
            <span class="n">start_time</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
            <span class="n">end_time</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
            <span class="n">interval_second</span><span class="o">=</span><span class="n">interval_second</span><span class="p">,</span>
            <span class="n">catchup</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">catchup</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">from_update_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">ScheduleUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ScheduleSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a `ScheduleSchema` from a `ScheduleUpdateModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The `ScheduleUpdateModel` to update the schema from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated `ScheduleSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">active</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">active</span>
        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">cron_expression</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cron_expression</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">cron_expression</span>
        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">start_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">start_time</span>
        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">end_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">end_time</span>
        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">interval_second</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">interval_second</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">interval_second</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">catchup</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">catchup</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">catchup</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `ScheduleSchema` to a `ScheduleResponseModel`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `ScheduleResponseModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">interval_second</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">interval_second</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interval_second</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">interval_second</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">ScheduleResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
            <span class="n">orchestrator_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">orchestrator_id</span><span class="p">,</span>
            <span class="n">active</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">active</span><span class="p">,</span>
            <span class="n">cron_expression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">,</span>
            <span class="n">start_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
            <span class="n">end_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
            <span class="n">interval_second</span><span class="o">=</span><span class="n">interval_second</span><span class="p">,</span>
            <span class="n">catchup</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">catchup</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



































  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.schedule_schema.ScheduleSchema.from_create_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_create_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a <code>ScheduleSchema</code> from a <code>ScheduleRequestModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>ScheduleRequestModel</code></td>
        <td><p>The <code>ScheduleRequestModel</code> to create the schema from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleSchema</code></td>
      <td><p>The created <code>ScheduleSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/schedule_schema.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_create_model</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">ScheduleRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ScheduleSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `ScheduleSchema` from a `ScheduleRequestModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The `ScheduleRequestModel` to create the schema from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `ScheduleSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">interval_second</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">interval_second</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">interval_second</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">interval_second</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">orchestrator_id</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">orchestrator_id</span><span class="p">,</span>
        <span class="n">active</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">active</span><span class="p">,</span>
        <span class="n">cron_expression</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">,</span>
        <span class="n">start_time</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
        <span class="n">end_time</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
        <span class="n">interval_second</span><span class="o">=</span><span class="n">interval_second</span><span class="p">,</span>
        <span class="n">catchup</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">catchup</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.schedule_schema.ScheduleSchema.from_update_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_update_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a <code>ScheduleSchema</code> from a <code>ScheduleUpdateModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>ScheduleUpdateModel</code></td>
        <td><p>The <code>ScheduleUpdateModel</code> to update the schema from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleSchema</code></td>
      <td><p>The updated <code>ScheduleSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/schedule_schema.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">from_update_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">ScheduleUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ScheduleSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a `ScheduleSchema` from a `ScheduleUpdateModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The `ScheduleUpdateModel` to update the schema from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated `ScheduleSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">name</span>
    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">active</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">active</span>
    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">cron_expression</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cron_expression</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">cron_expression</span>
    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">start_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">start_time</span>
    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">end_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">end_time</span>
    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">interval_second</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">interval_second</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">interval_second</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">catchup</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">catchup</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">catchup</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.schedule_schema.ScheduleSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>ScheduleSchema</code> to a <code>ScheduleResponseModel</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponseModel</code></td>
      <td><p>The created <code>ScheduleResponseModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/schedule_schema.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `ScheduleSchema` to a `ScheduleResponseModel`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `ScheduleResponseModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">interval_second</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">interval_second</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interval_second</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">interval_second</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">ScheduleResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">pipeline_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_id</span><span class="p">,</span>
        <span class="n">orchestrator_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">orchestrator_id</span><span class="p">,</span>
        <span class="n">active</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">active</span><span class="p">,</span>
        <span class="n">cron_expression</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">,</span>
        <span class="n">start_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
        <span class="n">end_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
        <span class="n">interval_second</span><span class="o">=</span><span class="n">interval_second</span><span class="p">,</span>
        <span class="n">catchup</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">catchup</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.schema_utils" class="doc doc-heading">
        <code>schema_utils</code>



</h4>

    <div class="doc doc-contents ">

      <p>Utility functions for SQLModel schemas.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_stores.schemas.schema_utils.build_foreign_key_field" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_foreign_key_field</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">source_column</span><span class="p">,</span> <span class="n">target_column</span><span class="p">,</span> <span class="n">ondelete</span><span class="p">,</span> <span class="n">nullable</span><span class="p">,</span> <span class="o">**</span><span class="n">sa_column_kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Build a SQLModel foreign key field.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>Source table name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>target</code></td>
        <td><code>str</code></td>
        <td><p>Target table name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>source_column</code></td>
        <td><code>str</code></td>
        <td><p>Source column name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>target_column</code></td>
        <td><code>str</code></td>
        <td><p>Target column name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>ondelete</code></td>
        <td><code>str</code></td>
        <td><p>On delete behavior.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>nullable</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the field is nullable.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**sa_column_kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Keyword arguments for the SQLAlchemy column.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>SQLModel foreign key field.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the ondelete and nullable arguments are not compatible.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/schema_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">build_foreign_key_field</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">source_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">target_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">ondelete</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">nullable</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="o">**</span><span class="n">sa_column_kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Build a SQLModel foreign key field.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: Source table name.</span>
<span class="sd">        target: Target table name.</span>
<span class="sd">        source_column: Source column name.</span>
<span class="sd">        target_column: Target column name.</span>
<span class="sd">        ondelete: On delete behavior.</span>
<span class="sd">        nullable: Whether the field is nullable.</span>
<span class="sd">        **sa_column_kwargs: Keyword arguments for the SQLAlchemy column.</span>

<span class="sd">    Returns:</span>
<span class="sd">        SQLModel foreign key field.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the ondelete and nullable arguments are not compatible.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">nullable</span> <span class="ow">and</span> <span class="n">ondelete</span> <span class="o">==</span> <span class="s2">&quot;SET NULL&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Cannot set ondelete to SET NULL if the field is not nullable.&quot;</span>
        <span class="p">)</span>
    <span class="n">constraint_name</span> <span class="o">=</span> <span class="n">foreign_key_constraint_name</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="n">source_column</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span>
            <span class="n">ForeignKey</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">target</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">target_column</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">constraint_name</span><span class="p">,</span>
                <span class="n">ondelete</span><span class="o">=</span><span class="n">ondelete</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">nullable</span><span class="o">=</span><span class="n">nullable</span><span class="p">,</span>
            <span class="o">**</span><span class="n">sa_column_kwargs</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h5 id="zenml.zen_stores.schemas.schema_utils.foreign_key_constraint_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">foreign_key_constraint_name</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">source_column</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Defines the name of a foreign key constraint.</p>
<p>For simplicity, we use the naming convention used by alembic here:
https://alembic.sqlalchemy.org/en/latest/batch.html#dropping-unnamed-or-named-foreign-key-constraints.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>source</code></td>
        <td><code>str</code></td>
        <td><p>Source table name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>target</code></td>
        <td><code>str</code></td>
        <td><p>Target table name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>source_column</code></td>
        <td><code>str</code></td>
        <td><p>Source column name.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Name of the foreign key constraint.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/schema_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">foreign_key_constraint_name</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">source_column</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines the name of a foreign key constraint.</span>

<span class="sd">    For simplicity, we use the naming convention used by alembic here:</span>
<span class="sd">    https://alembic.sqlalchemy.org/en/latest/batch.html#dropping-unnamed-or-named-foreign-key-constraints.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: Source table name.</span>
<span class="sd">        target: Target table name.</span>
<span class="sd">        source_column: Source column name.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Name of the foreign key constraint.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;fk_</span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">source_column</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">target</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.secret_schemas" class="doc doc-heading">
        <code>secret_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQL Model Implementations for Secrets.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.secret_schemas.SecretSchema" class="doc doc-heading">
        <code>
SecretSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for secrets.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the secret.</p></td>
      </tr>
      <tr>
        <td><code>values</code></td>
        <td><code>bytes</code></td>
        <td><p>The values of the secret.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/secret_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SecretSchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for secrets.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: The name of the secret.</span>
<span class="sd">        values: The values of the secret.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;secret&quot;</span>

    <span class="n">scope</span><span class="p">:</span> <span class="n">SecretScope</span>

    <span class="n">values</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;secrets&quot;</span><span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;UserSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;secrets&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_dump_secret_values</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">encryption_engine</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AesGcmEngine</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Dump the secret values to a string.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: The secret values to dump.</span>
<span class="sd">            encryption_engine: The encryption engine to use to encrypt the</span>
<span class="sd">                secret values. If None, the values will be base64 encoded.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the secret values do not fit in the database field.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The serialized encrypted secret values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">serialized_values</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">encryption_engine</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">encrypted_values</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                <span class="n">serialized_values</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">encrypted_values</span> <span class="o">=</span> <span class="n">encryption_engine</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span><span class="n">serialized_values</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">encrypted_values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">TEXT_FIELD_MAX_LENGTH</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Database representation of secret values exceeds max &quot;</span>
                <span class="s2">&quot;length. Please use fewer values or consider using shorter &quot;</span>
                <span class="s2">&quot;secret keys and/or values.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">encrypted_values</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_load_secret_values</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">encrypted_values</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span>
        <span class="n">encryption_engine</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AesGcmEngine</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load the secret values from a base64 encoded byte string.</span>

<span class="sd">        Args:</span>
<span class="sd">            encrypted_values: The serialized encrypted secret values.</span>
<span class="sd">            encryption_engine: The encryption engine to use to decrypt the</span>
<span class="sd">                secret values. If None, the values will be base64 decoded.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The loaded secret values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">encryption_engine</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">serialized_values</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">encrypted_values</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">serialized_values</span> <span class="o">=</span> <span class="n">encryption_engine</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">encrypted_values</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
            <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">serialized_values</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">,</span>
        <span class="n">encryption_engine</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AesGcmEngine</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SecretSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `SecretSchema` from a `SecretRequestModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The `SecretRequestModel` from which to create the schema.</span>
<span class="sd">            encryption_engine: The encryption engine to use to encrypt the</span>
<span class="sd">                secret values. If None, the values will be base64 encoded.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `SecretSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;User must be set for secret creation.&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">_dump_secret_values</span><span class="p">(</span>
                <span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span> <span class="n">encryption_engine</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span><span class="p">,</span>
        <span class="n">encryption_engine</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AesGcmEngine</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SecretSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a `SecretSchema` from a `SecretUpdateModel`.</span>

<span class="sd">        The method also knows how to handle the `values` field of the secret</span>
<span class="sd">        update model: It will update the existing values with the new values</span>
<span class="sd">        and drop `None` values.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_update: The `SecretUpdateModel` from which to update the schema.</span>
<span class="sd">            encryption_engine: The encryption engine to use to encrypt the</span>
<span class="sd">                secret values. If None, the values will be base64 encoded.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated `SecretSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span>
            <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">}</span>
        <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;values&quot;</span><span class="p">:</span>
                <span class="n">existing_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_secret_values</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">encryption_engine</span>
                <span class="p">)</span>
                <span class="n">existing_values</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>
                <span class="c1"># Drop values removed in the update</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">existing_values</span><span class="p">:</span>
                        <span class="k">del</span> <span class="n">existing_values</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dump_secret_values</span><span class="p">(</span>
                    <span class="n">existing_values</span><span class="p">,</span> <span class="n">encryption_engine</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">encryption_engine</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AesGcmEngine</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_values</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts a secret schema to a secret model.</span>

<span class="sd">        Args:</span>
<span class="sd">            encryption_engine: The encryption engine to use to decrypt the</span>
<span class="sd">                secret values. If None, the values will be base64 decoded.</span>
<span class="sd">            include_values: Whether to include the secret values in the</span>
<span class="sd">                response model or not.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_load_secret_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">encryption_engine</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">include_values</span>
            <span class="k">else</span> <span class="p">{},</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

























  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.secret_schemas.SecretSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span> <span class="n">encryption_engine</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a <code>SecretSchema</code> from a <code>SecretRequestModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>SecretRequestModel</code></td>
        <td><p>The <code>SecretRequestModel</code> from which to create the schema.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>encryption_engine</code></td>
        <td><code>Optional[sqlalchemy_utils.types.encrypted.encrypted_type.AesGcmEngine]</code></td>
        <td><p>The encryption engine to use to encrypt the
secret values. If None, the values will be base64 encoded.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretSchema</code></td>
      <td><p>The created <code>SecretSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/secret_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">,</span>
    <span class="n">encryption_engine</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AesGcmEngine</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SecretSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `SecretSchema` from a `SecretRequestModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The `SecretRequestModel` from which to create the schema.</span>
<span class="sd">        encryption_engine: The encryption engine to use to encrypt the</span>
<span class="sd">            secret values. If None, the values will be base64 encoded.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `SecretSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;User must be set for secret creation.&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">_dump_secret_values</span><span class="p">(</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span> <span class="n">encryption_engine</span>
        <span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.secret_schemas.SecretSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encryption_engine</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Converts a secret schema to a secret model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>encryption_engine</code></td>
        <td><code>Optional[sqlalchemy_utils.types.encrypted.encrypted_type.AesGcmEngine]</code></td>
        <td><p>The encryption engine to use to decrypt the
secret values. If None, the values will be base64 decoded.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>include_values</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to include the secret values in the
response model or not.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The secret model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/secret_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">encryption_engine</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AesGcmEngine</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_values</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts a secret schema to a secret model.</span>

<span class="sd">    Args:</span>
<span class="sd">        encryption_engine: The encryption engine to use to decrypt the</span>
<span class="sd">            secret values. If None, the values will be base64 decoded.</span>
<span class="sd">        include_values: Whether to include the secret values in the</span>
<span class="sd">            response model or not.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_load_secret_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">encryption_engine</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">include_values</span>
        <span class="k">else</span> <span class="p">{},</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.secret_schemas.SecretSchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">,</span> <span class="n">encryption_engine</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a <code>SecretSchema</code> from a <code>SecretUpdateModel</code>.</p>
<p>The method also knows how to handle the <code>values</code> field of the secret
update model: It will update the existing values with the new values
and drop <code>None</code> values.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_update</code></td>
        <td><code>SecretUpdateModel</code></td>
        <td><p>The <code>SecretUpdateModel</code> from which to update the schema.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>encryption_engine</code></td>
        <td><code>Optional[sqlalchemy_utils.types.encrypted.encrypted_type.AesGcmEngine]</code></td>
        <td><p>The encryption engine to use to encrypt the
secret values. If None, the values will be base64 encoded.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretSchema</code></td>
      <td><p>The updated <code>SecretSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/secret_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span><span class="p">,</span>
    <span class="n">encryption_engine</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AesGcmEngine</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SecretSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a `SecretSchema` from a `SecretUpdateModel`.</span>

<span class="sd">    The method also knows how to handle the `values` field of the secret</span>
<span class="sd">    update model: It will update the existing values with the new values</span>
<span class="sd">    and drop `None` values.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_update: The `SecretUpdateModel` from which to update the schema.</span>
<span class="sd">        encryption_engine: The encryption engine to use to encrypt the</span>
<span class="sd">            secret values. If None, the values will be base64 encoded.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated `SecretSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span>
        <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">}</span>
    <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;values&quot;</span><span class="p">:</span>
            <span class="n">existing_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_secret_values</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">encryption_engine</span>
            <span class="p">)</span>
            <span class="n">existing_values</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>
            <span class="c1"># Drop values removed in the update</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">existing_values</span><span class="p">:</span>
                    <span class="k">del</span> <span class="n">existing_values</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dump_secret_values</span><span class="p">(</span>
                <span class="n">existing_values</span><span class="p">,</span> <span class="n">encryption_engine</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.service_connector_schemas" class="doc doc-heading">
        <code>service_connector_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQL Model Implementations for Service Connectors.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema" class="doc doc-heading">
        <code>
ServiceConnectorSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.ShareableSchema" href="#zenml.zen_stores.schemas.base_schemas.ShareableSchema">ShareableSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for service connectors.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/service_connector_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceConnectorSchema</span><span class="p">(</span><span class="n">ShareableSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for service connectors.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;service_connector&quot;</span>

    <span class="n">connector_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">))</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">auth_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">))</span>
    <span class="n">resource_types</span><span class="p">:</span> <span class="nb">bytes</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="n">supports_instances</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">configuration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span>
    <span class="n">secret_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span>
    <span class="n">expires_at</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span>
    <span class="n">expiration_seconds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;service_connectors&quot;</span>
    <span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;service_connectors&quot;</span>
    <span class="p">)</span>
    <span class="n">components</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StackComponentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;connector&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">resource_types_list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the resource types as a list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The resource types as a list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">resource_types</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
            <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_types</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resource_types</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">resource_types</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">labels_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the labels as a dictionary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The labels as a dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>
        <span class="n">labels_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">labels_dict</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">has_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">labels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if the connector has the given labels.</span>

<span class="sd">        Args:</span>
<span class="sd">            labels: The labels to check for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Whether the connector has the given labels.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="n">value</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
            <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">connector_request</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span><span class="p">,</span>
        <span class="n">secret_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnectorSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `ServiceConnectorSchema` from a `ServiceConnectorRequestModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_request: The `ServiceConnectorRequestModel` from which to</span>
<span class="sd">                create the schema.</span>
<span class="sd">            secret_id: The ID of the secret to use for this connector.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `ServiceConnectorSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">connector_request</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;User must be set.&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">is_shared</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">auth_method</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">resource_types</span><span class="o">=</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">connector_request</span><span class="o">.</span><span class="n">resource_types</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="p">),</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="n">supports_instances</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">supports_instances</span><span class="p">,</span>
            <span class="n">configuration</span><span class="o">=</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">connector_request</span><span class="o">.</span><span class="n">configuration</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">connector_request</span><span class="o">.</span><span class="n">configuration</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">expiration_seconds</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">expiration_seconds</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">connector_request</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">connector_request</span><span class="o">.</span><span class="n">labels</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">connector_update</span><span class="p">:</span> <span class="n">ServiceConnectorUpdateModel</span><span class="p">,</span>
        <span class="n">secret_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnectorSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a `ServiceConnectorSchema` from a `ServiceConnectorUpdateModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_update: The `ServiceConnectorUpdateModel` to update from.</span>
<span class="sd">            secret_id: The ID of the secret to use for this connector.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated `ServiceConnectorSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">connector_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span>
            <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;secrets&quot;</span><span class="p">},</span>
        <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;resource_id&quot;</span><span class="p">:</span>
                    <span class="c1"># The resource ID field in the update is special: if set</span>
                    <span class="c1"># to None in the update, it triggers the existing resource</span>
                    <span class="c1"># ID to be cleared.</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;expiration_seconds&quot;</span><span class="p">:</span>
                    <span class="c1"># The expiration_seconds field in the update is special:</span>
                    <span class="c1"># if set to None in the update, it triggers the existing</span>
                    <span class="c1"># expiration_seconds to be cleared.</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">expiration_seconds</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;configuration&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">connector_update</span><span class="o">.</span><span class="n">configuration</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
                            <span class="s2">&quot;utf-8&quot;</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">connector_update</span><span class="o">.</span><span class="n">configuration</span>
                    <span class="k">else</span> <span class="kc">None</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;resource_types&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resource_types</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                    <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">connector_update</span><span class="o">.</span><span class="n">resource_types</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;labels&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                        <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">connector_update</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">connector_update</span><span class="o">.</span><span class="n">labels</span>
                    <span class="k">else</span> <span class="kc">None</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secret_id</span> <span class="o">=</span> <span class="n">secret_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnectorResponseModel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a `ServiceConnectorModel` from an instance of a `ServiceConnectorSchema`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `ServiceConnectorModel`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">is_shared</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span>
            <span class="n">auth_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">resource_types</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_types_list</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="n">supports_instances</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">supports_instances</span><span class="p">,</span>
            <span class="n">configuration</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
                <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">configuration</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span>
            <span class="k">else</span> <span class="p">{},</span>
            <span class="n">secret_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">expiration_seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expiration_seconds</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">labels_dict</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




















  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.labels_dict" class="doc doc-heading">
<code class="highlight language-python"><span class="n">labels_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns the labels as a dictionary.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, str]</code></td>
      <td><p>The labels as a dictionary.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.resource_types_list" class="doc doc-heading">
<code class="highlight language-python"><span class="n">resource_types_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns the resource types as a list.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>The resource types as a list.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>
















  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">connector_request</span><span class="p">,</span> <span class="n">secret_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a <code>ServiceConnectorSchema</code> from a <code>ServiceConnectorRequestModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_request</code></td>
        <td><code>ServiceConnectorRequestModel</code></td>
        <td><p>The <code>ServiceConnectorRequestModel</code> from which to
create the schema.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The ID of the secret to use for this connector.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorSchema</code></td>
      <td><p>The created <code>ServiceConnectorSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/service_connector_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">connector_request</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span><span class="p">,</span>
    <span class="n">secret_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnectorSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `ServiceConnectorSchema` from a `ServiceConnectorRequestModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_request: The `ServiceConnectorRequestModel` from which to</span>
<span class="sd">            create the schema.</span>
<span class="sd">        secret_id: The ID of the secret to use for this connector.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `ServiceConnectorSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">connector_request</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;User must be set.&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">is_shared</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
        <span class="n">resource_types</span><span class="o">=</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">connector_request</span><span class="o">.</span><span class="n">resource_types</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="p">),</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="n">supports_instances</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">supports_instances</span><span class="p">,</span>
        <span class="n">configuration</span><span class="o">=</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">connector_request</span><span class="o">.</span><span class="n">configuration</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">connector_request</span><span class="o">.</span><span class="n">configuration</span>
        <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
        <span class="n">expiration_seconds</span><span class="o">=</span><span class="n">connector_request</span><span class="o">.</span><span class="n">expiration_seconds</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">connector_request</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">connector_request</span><span class="o">.</span><span class="n">labels</span>
        <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.has_labels" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Checks if the connector has the given labels.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>labels</code></td>
        <td><code>Dict[str, Optional[str]]</code></td>
        <td><p>The labels to check for.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether the connector has the given labels.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/service_connector_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">has_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">labels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if the connector has the given labels.</span>

<span class="sd">    Args:</span>
<span class="sd">        labels: The labels to check for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether the connector has the given labels.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">all</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="n">value</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels_dict</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">labels</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Creates a <code>ServiceConnectorModel</code> from an instance of a <code>ServiceConnectorSchema</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>A <code>ServiceConnectorModel</code></p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/service_connector_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnectorResponseModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a `ServiceConnectorModel` from an instance of a `ServiceConnectorSchema`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A `ServiceConnectorModel`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">is_shared</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
        <span class="n">resource_types</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_types_list</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="n">supports_instances</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">supports_instances</span><span class="p">,</span>
        <span class="n">configuration</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
            <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">configuration</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span>
        <span class="k">else</span> <span class="p">{},</span>
        <span class="n">secret_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
        <span class="n">expiration_seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expiration_seconds</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">labels_dict</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.service_connector_schemas.ServiceConnectorSchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector_update</span><span class="p">,</span> <span class="n">secret_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Updates a <code>ServiceConnectorSchema</code> from a <code>ServiceConnectorUpdateModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_update</code></td>
        <td><code>ServiceConnectorUpdateModel</code></td>
        <td><p>The <code>ServiceConnectorUpdateModel</code> to update from.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The ID of the secret to use for this connector.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorSchema</code></td>
      <td><p>The updated <code>ServiceConnectorSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/service_connector_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">connector_update</span><span class="p">:</span> <span class="n">ServiceConnectorUpdateModel</span><span class="p">,</span>
    <span class="n">secret_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnectorSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a `ServiceConnectorSchema` from a `ServiceConnectorUpdateModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_update: The `ServiceConnectorUpdateModel` to update from.</span>
<span class="sd">        secret_id: The ID of the secret to use for this connector.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated `ServiceConnectorSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">connector_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span>
        <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;secrets&quot;</span><span class="p">},</span>
    <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;resource_id&quot;</span><span class="p">:</span>
                <span class="c1"># The resource ID field in the update is special: if set</span>
                <span class="c1"># to None in the update, it triggers the existing resource</span>
                <span class="c1"># ID to be cleared.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;expiration_seconds&quot;</span><span class="p">:</span>
                <span class="c1"># The expiration_seconds field in the update is special:</span>
                <span class="c1"># if set to None in the update, it triggers the existing</span>
                <span class="c1"># expiration_seconds to be cleared.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">expiration_seconds</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;configuration&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                    <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">connector_update</span><span class="o">.</span><span class="n">configuration</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
                        <span class="s2">&quot;utf-8&quot;</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">connector_update</span><span class="o">.</span><span class="n">configuration</span>
                <span class="k">else</span> <span class="kc">None</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;resource_types&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resource_types</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">connector_update</span><span class="o">.</span><span class="n">resource_types</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;labels&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                    <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">connector_update</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">connector_update</span><span class="o">.</span><span class="n">labels</span>
                <span class="k">else</span> <span class="kc">None</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">secret_id</span> <span class="o">=</span> <span class="n">secret_id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.stack_schemas" class="doc doc-heading">
        <code>stack_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQL Model Implementations for Stacks.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.stack_schemas.StackCompositionSchema" class="doc doc-heading">
        <code>
StackCompositionSchema            (<span title="sqlmodel.main.SQLModel">SQLModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for stack definitions.</p>
<p>Join table between Stacks and StackComponents.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/stack_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StackCompositionSchema</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for stack definitions.</span>

<span class="sd">    Join table between Stacks and StackComponents.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;stack_composition&quot;</span>

    <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="s2">&quot;stack&quot;</span><span class="p">,</span>  <span class="c1"># TODO: how to reference `StackSchema.__tablename__`?</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;stack_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="s2">&quot;stack_component&quot;</span><span class="p">,</span>  <span class="c1"># TODO: how to reference `StackComponentSchema.__tablename__`?</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;component_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.stack_schemas.StackSchema" class="doc doc-heading">
        <code>
StackSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.ShareableSchema" href="#zenml.zen_stores.schemas.base_schemas.ShareableSchema">ShareableSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for stacks.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/stack_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StackSchema</span><span class="p">(</span><span class="n">ShareableSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for stacks.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;stack&quot;</span>
    <span class="n">stack_spec_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;stacks&quot;</span><span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;stacks&quot;</span><span class="p">)</span>

    <span class="n">components</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StackComponentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;stacks&quot;</span><span class="p">,</span>
        <span class="n">link_model</span><span class="o">=</span><span class="n">StackCompositionSchema</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">runs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;stack&quot;</span><span class="p">)</span>
    <span class="n">builds</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineBuildSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;stack&quot;</span><span class="p">)</span>
    <span class="n">deployments</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineDeploymentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;stack&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">stack_update</span><span class="p">:</span> <span class="s2">&quot;StackUpdateModel&quot;</span><span class="p">,</span>
        <span class="n">components</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StackComponentSchema&quot;</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StackSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a stack schema with a stack update model.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_update: `StackUpdateModel` to update the stack with.</span>
<span class="sd">            components: List of `StackComponentSchema` to update the stack with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated StackSchema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;components&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">components</span> <span class="o">=</span> <span class="n">components</span>

            <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;user&quot;</span><span class="p">:</span>
                <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">value</span>

            <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;workspace&quot;</span><span class="p">:</span>
                <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">value</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StackResponseModel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts the schema to a model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">StackResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">stack_spec_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stack_spec_path</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">is_shared</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
            <span class="n">components</span><span class="o">=</span><span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">type</span><span class="p">:</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">to_model</span><span class="p">()]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">},</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">





























  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.stack_schemas.StackSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Converts the schema to a model.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponseModel</code></td>
      <td><p>The converted model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/stack_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StackResponseModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts the schema to a model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The converted model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">StackResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">stack_spec_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stack_spec_path</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">is_shared</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
        <span class="n">components</span><span class="o">=</span><span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">type</span><span class="p">:</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">to_model</span><span class="p">()]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">components</span><span class="p">},</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.stack_schemas.StackSchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_update</span><span class="p">,</span> <span class="n">components</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Updates a stack schema with a stack update model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_update</code></td>
        <td><code>StackUpdateModel</code></td>
        <td><p><code>StackUpdateModel</code> to update the stack with.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>components</code></td>
        <td><code>List[StackComponentSchema]</code></td>
        <td><p>List of <code>StackComponentSchema</code> to update the stack with.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackSchema</code></td>
      <td><p>The updated StackSchema.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/stack_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">stack_update</span><span class="p">:</span> <span class="s2">&quot;StackUpdateModel&quot;</span><span class="p">,</span>
    <span class="n">components</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StackComponentSchema&quot;</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StackSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a stack schema with a stack update model.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_update: `StackUpdateModel` to update the stack with.</span>
<span class="sd">        components: List of `StackComponentSchema` to update the stack with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated StackSchema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;components&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">components</span> <span class="o">=</span> <span class="n">components</span>

        <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;user&quot;</span><span class="p">:</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">value</span>

        <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;workspace&quot;</span><span class="p">:</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">value</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.step_run_schemas" class="doc doc-heading">
        <code>step_run_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQLModel implementation of step run tables.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.step_run_schemas.StepRunInputArtifactSchema" class="doc doc-heading">
        <code>
StepRunInputArtifactSchema            (<span title="sqlmodel.main.SQLModel">SQLModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model that defines which artifacts are inputs to which step.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/step_run_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepRunInputArtifactSchema</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model that defines which artifacts are inputs to which step.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;step_run_input_artifact&quot;</span>

    <span class="n">step_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;step_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">step_run</span><span class="p">:</span> <span class="n">StepRunSchema</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;input_artifacts&quot;</span><span class="p">)</span>
    <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;artifact_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="n">ArtifactSchema</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;input_to_step_runs&quot;</span>
    <span class="p">)</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.step_run_schemas.StepRunOutputArtifactSchema" class="doc doc-heading">
        <code>
StepRunOutputArtifactSchema            (<span title="sqlmodel.main.SQLModel">SQLModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model that defines which artifacts are outputs of which step.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/step_run_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepRunOutputArtifactSchema</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model that defines which artifacts are outputs of which step.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;step_run_output_artifact&quot;</span>

    <span class="n">step_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;step_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">step_run</span><span class="p">:</span> <span class="n">StepRunSchema</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;output_artifacts&quot;</span><span class="p">)</span>
    <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;artifact_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">artifact</span><span class="p">:</span> <span class="n">ArtifactSchema</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;output_of_step_runs&quot;</span>
    <span class="p">)</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.step_run_schemas.StepRunParentsSchema" class="doc doc-heading">
        <code>
StepRunParentsSchema            (<span title="sqlmodel.main.SQLModel">SQLModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model that defines the order of steps.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/step_run_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepRunParentsSchema</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model that defines the order of steps.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;step_run_parents&quot;</span>

    <span class="n">parent_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;parent_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parent</span><span class="p">:</span> <span class="n">StepRunSchema</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;children&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;primaryjoin&quot;</span><span class="p">:</span> <span class="s2">&quot;StepRunParentsSchema.parent_id == StepRunSchema.id&quot;</span>
        <span class="p">},</span>
    <span class="p">)</span>
    <span class="n">child_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;child_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">child</span><span class="p">:</span> <span class="n">StepRunSchema</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;parents&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;primaryjoin&quot;</span><span class="p">:</span> <span class="s2">&quot;StepRunParentsSchema.child_id == StepRunSchema.id&quot;</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">





















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.step_run_schemas.StepRunSchema" class="doc doc-heading">
        <code>
StepRunSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for steps of pipeline runs.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/step_run_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">StepRunSchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for steps of pipeline runs.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;step_run&quot;</span>

    <span class="n">pipeline_run_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;pipeline_run_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">pipeline_run</span><span class="p">:</span> <span class="s2">&quot;PipelineRunSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;step_runs&quot;</span>
    <span class="p">)</span>
    <span class="n">original_step_run_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;original_step_run_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;step_runs&quot;</span><span class="p">)</span>

    <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;workspace_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="s2">&quot;WorkspaceSchema&quot;</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;step_runs&quot;</span><span class="p">)</span>

    <span class="n">enable_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">enable_artifact_metadata</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">code_hash</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">cache_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">start_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">ExecutionStatus</span>
    <span class="n">entrypoint_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span>
            <span class="n">String</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">MEDIUMTEXT_MAX_LENGTH</span><span class="p">)</span><span class="o">.</span><span class="n">with_variant</span><span class="p">(</span>
                <span class="n">MEDIUMTEXT</span><span class="p">,</span> <span class="s2">&quot;mysql&quot;</span>
            <span class="p">),</span>
            <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">step_configuration</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span>
            <span class="n">String</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">MEDIUMTEXT_MAX_LENGTH</span><span class="p">)</span><span class="o">.</span><span class="n">with_variant</span><span class="p">(</span>
                <span class="n">MEDIUMTEXT</span><span class="p">,</span> <span class="s2">&quot;mysql&quot;</span>
            <span class="p">),</span>
            <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">caching_parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">docstring</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="n">source_code</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">sa_column</span><span class="o">=</span><span class="n">Column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="n">num_outputs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>

    <span class="n">run_metadata</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;RunMetadataSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;step_run&quot;</span><span class="p">,</span> <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="n">input_artifacts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StepRunInputArtifactSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;step_run&quot;</span><span class="p">,</span> <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="n">output_artifacts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StepRunOutputArtifactSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;step_run&quot;</span><span class="p">,</span> <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="n">logs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;LogsSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;step_run&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="s2">&quot;uselist&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">parents</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StepRunParentsSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;child&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">,</span>
            <span class="s2">&quot;primaryjoin&quot;</span><span class="p">:</span> <span class="s2">&quot;StepRunParentsSchema.child_id == StepRunSchema.id&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">)</span>
    <span class="n">children</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StepRunParentsSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;parent&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">,</span>
            <span class="s2">&quot;primaryjoin&quot;</span><span class="p">:</span> <span class="s2">&quot;StepRunParentsSchema.parent_id == StepRunSchema.id&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">StepRunRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StepRunSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a step run schema from a step run request model.</span>

<span class="sd">        Args:</span>
<span class="sd">            request: The step run request model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The step run schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">step_config</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">config</span>
        <span class="n">full_step_config</span> <span class="o">=</span> <span class="n">Step</span><span class="p">(</span><span class="n">spec</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">spec</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">pipeline_run_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">,</span>
            <span class="n">original_step_run_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">original_step_run_id</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">enable_cache</span><span class="o">=</span><span class="n">step_config</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">,</span>
            <span class="n">enable_artifact_metadata</span><span class="o">=</span><span class="n">step_config</span><span class="o">.</span><span class="n">enable_artifact_metadata</span><span class="p">,</span>
            <span class="n">code_hash</span><span class="o">=</span><span class="n">step_config</span><span class="o">.</span><span class="n">caching_parameters</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">STEP_SOURCE_PARAMETER_NAME</span>
            <span class="p">),</span>
            <span class="n">cache_key</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">cache_key</span><span class="p">,</span>
            <span class="n">start_time</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
            <span class="n">end_time</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
            <span class="n">entrypoint_name</span><span class="o">=</span><span class="n">step_config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">parameters</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
                <span class="n">step_config</span><span class="o">.</span><span class="n">parameters</span><span class="p">,</span>
                <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">,</span>
                <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">step_configuration</span><span class="o">=</span><span class="n">full_step_config</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">caching_parameters</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
                <span class="n">step_config</span><span class="o">.</span><span class="n">caching_parameters</span><span class="p">,</span>
                <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">,</span>
                <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">docstring</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">docstring</span><span class="p">,</span>
            <span class="n">source_code</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">source_code</span><span class="p">,</span>
            <span class="n">num_outputs</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">step_config</span><span class="o">.</span><span class="n">outputs</span><span class="p">),</span>
            <span class="n">status</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">parent_step_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">UUID</span><span class="p">],</span>
        <span class="n">input_artifacts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;ArtifactResponseModel&quot;</span><span class="p">],</span>
        <span class="n">output_artifacts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;ArtifactResponseModel&quot;</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `StepRunSchema` to a `StepRunModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent_step_ids: The parent step ids to link to the step.</span>
<span class="sd">            input_artifacts: The input artifacts to link to the step.</span>
<span class="sd">            output_artifacts: The output artifacts to link to the step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created StepRunModel.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">metadata_schema</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="n">metadata_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">metadata_schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_metadata</span>
        <span class="p">}</span>
        <span class="n">full_step_config</span> <span class="o">=</span> <span class="n">Step</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_configuration</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">StepRunResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">pipeline_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">,</span>
            <span class="n">original_step_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">original_step_run_id</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">parent_step_ids</span><span class="o">=</span><span class="n">parent_step_ids</span><span class="p">,</span>
            <span class="n">cache_key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_key</span><span class="p">,</span>
            <span class="n">start_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
            <span class="n">end_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">full_step_config</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
            <span class="n">spec</span><span class="o">=</span><span class="n">full_step_config</span><span class="o">.</span><span class="n">spec</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
            <span class="n">docstring</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">docstring</span><span class="p">,</span>
            <span class="n">source_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_code</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">inputs</span><span class="o">=</span><span class="n">input_artifacts</span><span class="p">,</span>
            <span class="n">outputs</span><span class="o">=</span><span class="n">output_artifacts</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">logs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">logs</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">logs</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_update</span><span class="p">:</span> <span class="n">StepRunUpdateModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StepRunSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a step run schema with a step run update model.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_update: The step run update model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated step run schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">step_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span>
            <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;end_time&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="o">=</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














































  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.step_run_schemas.StepRunSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a step run schema from a step run request model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>request</code></td>
        <td><code>StepRunRequestModel</code></td>
        <td><p>The step run request model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunSchema</code></td>
      <td><p>The step run schema.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/step_run_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">StepRunRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StepRunSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a step run schema from a step run request model.</span>

<span class="sd">    Args:</span>
<span class="sd">        request: The step run request model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">step_config</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">config</span>
    <span class="n">full_step_config</span> <span class="o">=</span> <span class="n">Step</span><span class="p">(</span><span class="n">spec</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">spec</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">pipeline_run_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">,</span>
        <span class="n">original_step_run_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">original_step_run_id</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">enable_cache</span><span class="o">=</span><span class="n">step_config</span><span class="o">.</span><span class="n">enable_cache</span><span class="p">,</span>
        <span class="n">enable_artifact_metadata</span><span class="o">=</span><span class="n">step_config</span><span class="o">.</span><span class="n">enable_artifact_metadata</span><span class="p">,</span>
        <span class="n">code_hash</span><span class="o">=</span><span class="n">step_config</span><span class="o">.</span><span class="n">caching_parameters</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">STEP_SOURCE_PARAMETER_NAME</span>
        <span class="p">),</span>
        <span class="n">cache_key</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">cache_key</span><span class="p">,</span>
        <span class="n">start_time</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
        <span class="n">end_time</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
        <span class="n">entrypoint_name</span><span class="o">=</span><span class="n">step_config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">parameters</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
            <span class="n">step_config</span><span class="o">.</span><span class="n">parameters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">,</span>
            <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">step_configuration</span><span class="o">=</span><span class="n">full_step_config</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">caching_parameters</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
            <span class="n">step_config</span><span class="o">.</span><span class="n">caching_parameters</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="n">pydantic_encoder</span><span class="p">,</span>
            <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">docstring</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">docstring</span><span class="p">,</span>
        <span class="n">source_code</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">source_code</span><span class="p">,</span>
        <span class="n">num_outputs</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">step_config</span><span class="o">.</span><span class="n">outputs</span><span class="p">),</span>
        <span class="n">status</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.step_run_schemas.StepRunSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_step_ids</span><span class="p">,</span> <span class="n">input_artifacts</span><span class="p">,</span> <span class="n">output_artifacts</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>StepRunSchema</code> to a <code>StepRunModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>parent_step_ids</code></td>
        <td><code>List[uuid.UUID]</code></td>
        <td><p>The parent step ids to link to the step.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>input_artifacts</code></td>
        <td><code>Dict[str, ArtifactResponseModel]</code></td>
        <td><p>The input artifacts to link to the step.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>output_artifacts</code></td>
        <td><code>Dict[str, ArtifactResponseModel]</code></td>
        <td><p>The output artifacts to link to the step.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponseModel</code></td>
      <td><p>The created StepRunModel.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/step_run_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">parent_step_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">UUID</span><span class="p">],</span>
    <span class="n">input_artifacts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;ArtifactResponseModel&quot;</span><span class="p">],</span>
    <span class="n">output_artifacts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;ArtifactResponseModel&quot;</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `StepRunSchema` to a `StepRunModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        parent_step_ids: The parent step ids to link to the step.</span>
<span class="sd">        input_artifacts: The input artifacts to link to the step.</span>
<span class="sd">        output_artifacts: The output artifacts to link to the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created StepRunModel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">metadata_schema</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="n">metadata_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">metadata_schema</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_metadata</span>
    <span class="p">}</span>
    <span class="n">full_step_config</span> <span class="o">=</span> <span class="n">Step</span><span class="o">.</span><span class="n">parse_raw</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_configuration</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">StepRunResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">pipeline_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="p">,</span>
        <span class="n">original_step_run_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">original_step_run_id</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">(),</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">parent_step_ids</span><span class="o">=</span><span class="n">parent_step_ids</span><span class="p">,</span>
        <span class="n">cache_key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_key</span><span class="p">,</span>
        <span class="n">start_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_time</span><span class="p">,</span>
        <span class="n">end_time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">end_time</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">full_step_config</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
        <span class="n">spec</span><span class="o">=</span><span class="n">full_step_config</span><span class="o">.</span><span class="n">spec</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
        <span class="n">docstring</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">docstring</span><span class="p">,</span>
        <span class="n">source_code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_code</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="n">input_artifacts</span><span class="p">,</span>
        <span class="n">outputs</span><span class="o">=</span><span class="n">output_artifacts</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
        <span class="n">logs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">logs</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">logs</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.step_run_schemas.StepRunSchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a step run schema with a step run update model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_update</code></td>
        <td><code>StepRunUpdateModel</code></td>
        <td><p>The step run update model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunSchema</code></td>
      <td><p>The updated step run schema.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/step_run_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_update</span><span class="p">:</span> <span class="n">StepRunUpdateModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StepRunSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a step run schema with a step run update model.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_update: The step run update model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated step run schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">step_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span>
        <span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;end_time&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="o">=</span> <span class="n">value</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.team_schemas" class="doc doc-heading">
        <code>team_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQLModel implementation of team tables.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.team_schemas.TeamAssignmentSchema" class="doc doc-heading">
        <code>
TeamAssignmentSchema            (<span title="sqlmodel.main.SQLModel">SQLModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for team assignments.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/team_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TeamAssignmentSchema</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for team assignments.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;team_assignment&quot;</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>  <span class="c1"># TODO: how to reference `UserSchema.__tablename__`?</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">team_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">build_foreign_key_field</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">__tablename__</span><span class="p">,</span>
        <span class="n">target</span><span class="o">=</span><span class="s2">&quot;team&quot;</span><span class="p">,</span>  <span class="c1"># TODO: how to reference `TeamSchema.__tablename__`?</span>
        <span class="n">source_column</span><span class="o">=</span><span class="s2">&quot;team_id&quot;</span><span class="p">,</span>
        <span class="n">target_column</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.team_schemas.TeamSchema" class="doc doc-heading">
        <code>
TeamSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for teams.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/team_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TeamSchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for teams.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;team&quot;</span>

    <span class="n">users</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UserSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;teams&quot;</span><span class="p">,</span> <span class="n">link_model</span><span class="o">=</span><span class="n">TeamAssignmentSchema</span>
    <span class="p">)</span>
    <span class="n">assigned_roles</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;TeamRoleAssignmentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">}</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_update</span><span class="p">:</span> <span class="n">TeamUpdateModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TeamSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a `TeamSchema` with a `TeamUpdateModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_update: The `TeamUpdateModel` to update the schema with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated `TeamSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">team_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;users&quot;</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_block_recursion</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `TeamSchema` to a `TeamResponseModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            _block_recursion: Don&#39;t recursively fill attributes</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted `TeamResponseModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">_block_recursion</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">TeamResponseModel</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
                <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
                <span class="n">users</span><span class="o">=</span><span class="p">[],</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">TeamResponseModel</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
                <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
                <span class="n">users</span><span class="o">=</span><span class="p">[</span><span class="n">u</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="n">_block_recursion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">users</span><span class="p">],</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">





















  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.team_schemas.TeamSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_block_recursion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>TeamSchema</code> to a <code>TeamResponseModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>_block_recursion</code></td>
        <td><code>bool</code></td>
        <td><p>Don't recursively fill attributes</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamResponseModel</code></td>
      <td><p>The converted <code>TeamResponseModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/team_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_block_recursion</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `TeamSchema` to a `TeamResponseModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        _block_recursion: Don&#39;t recursively fill attributes</span>

<span class="sd">    Returns:</span>
<span class="sd">        The converted `TeamResponseModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">_block_recursion</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TeamResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">users</span><span class="o">=</span><span class="p">[],</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TeamResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">users</span><span class="o">=</span><span class="p">[</span><span class="n">u</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="n">_block_recursion</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">users</span><span class="p">],</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.team_schemas.TeamSchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a <code>TeamSchema</code> with a <code>TeamUpdateModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_update</code></td>
        <td><code>TeamUpdateModel</code></td>
        <td><p>The <code>TeamUpdateModel</code> to update the schema with.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamSchema</code></td>
      <td><p>The updated <code>TeamSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/team_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_update</span><span class="p">:</span> <span class="n">TeamUpdateModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;TeamSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a `TeamSchema` with a `TeamUpdateModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_update: The `TeamUpdateModel` to update the schema with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated `TeamSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">team_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;users&quot;</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.user_schemas" class="doc doc-heading">
        <code>user_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQLModel implementation of user tables.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.user_schemas.UserSchema" class="doc doc-heading">
        <code>
UserSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for users.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/user_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">UserSchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for users.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;user&quot;</span>

    <span class="n">full_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">email</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">active</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">activation_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">hub_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">email_opted_in</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">teams</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;TeamSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="n">link_model</span><span class="o">=</span><span class="n">TeamAssignmentSchema</span>
    <span class="p">)</span>
    <span class="n">assigned_roles</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UserRoleAssignmentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">}</span>
    <span class="p">)</span>
    <span class="n">stacks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StackSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>
    <span class="n">components</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StackComponentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">flavors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;FlavorSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>
    <span class="n">pipelines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>
    <span class="n">schedules</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;ScheduleSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">runs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>
    <span class="n">step_runs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StepRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>
    <span class="n">builds</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineBuildSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>
    <span class="n">artifacts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;ArtifactSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>
    <span class="n">run_metadata</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;RunMetadataSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span>
    <span class="p">)</span>
    <span class="n">secrets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;SecretSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">deployments</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineDeploymentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">code_repositories</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;CodeRepositorySchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">service_connectors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;ServiceConnectorSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">UserRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;UserSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `UserSchema` from a `UserModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The `UserModel` from which to create the schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `UserSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">full_name</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">full_name</span><span class="p">,</span>
            <span class="n">active</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">active</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">create_hashed_password</span><span class="p">(),</span>
            <span class="n">activation_token</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">create_hashed_activation_token</span><span class="p">(),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_update</span><span class="p">:</span> <span class="n">UserUpdateModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;UserSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a `UserSchema` from a `UserUpdateModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_update: The `UserUpdateModel` from which to update the schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated `UserSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">user_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;password&quot;</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">user_update</span><span class="o">.</span><span class="n">create_hashed_password</span><span class="p">())</span>
            <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;activation_token&quot;</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span>
                    <span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">user_update</span><span class="o">.</span><span class="n">create_hashed_activation_token</span><span class="p">()</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">_block_recursion</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">include_private</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `UserSchema` to a `UserResponseModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            _block_recursion: Don&#39;t recursively fill attributes</span>
<span class="sd">            include_private: Whether to include the user private information</span>
<span class="sd">                             this is to limit the amount of data one can get</span>
<span class="sd">                             about other users</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted `UserResponseModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">_block_recursion</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">UserResponseModel</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">active</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">active</span><span class="p">,</span>
                <span class="n">email_opted_in</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">email_opted_in</span><span class="p">,</span>
                <span class="n">email</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="k">if</span> <span class="n">include_private</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">hub_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hub_token</span> <span class="k">if</span> <span class="n">include_private</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">full_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">full_name</span><span class="p">,</span>
                <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
                <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">UserResponseModel</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">active</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">active</span><span class="p">,</span>
                <span class="n">email_opted_in</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">email_opted_in</span><span class="p">,</span>
                <span class="n">email</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="k">if</span> <span class="n">include_private</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">hub_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hub_token</span> <span class="k">if</span> <span class="n">include_private</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">teams</span><span class="o">=</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="n">_block_recursion</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">teams</span><span class="p">],</span>
                <span class="n">full_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">full_name</span><span class="p">,</span>
                <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
                <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
                <span class="n">roles</span><span class="o">=</span><span class="p">[</span><span class="n">ra</span><span class="o">.</span><span class="n">role</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">for</span> <span class="n">ra</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">assigned_roles</span><span class="p">],</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">










































  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.user_schemas.UserSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a <code>UserSchema</code> from a <code>UserModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>UserRequestModel</code></td>
        <td><p>The <code>UserModel</code> from which to create the schema.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserSchema</code></td>
      <td><p>The created <code>UserSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/user_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="n">UserRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;UserSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `UserSchema` from a `UserModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The `UserModel` from which to create the schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `UserSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">full_name</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">full_name</span><span class="p">,</span>
        <span class="n">active</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">active</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">create_hashed_password</span><span class="p">(),</span>
        <span class="n">activation_token</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">create_hashed_activation_token</span><span class="p">(),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.user_schemas.UserSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_block_recursion</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">include_private</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>UserSchema</code> to a <code>UserResponseModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>_block_recursion</code></td>
        <td><code>bool</code></td>
        <td><p>Don't recursively fill attributes</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>include_private</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to include the user private information
             this is to limit the amount of data one can get
             about other users</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponseModel</code></td>
      <td><p>The converted <code>UserResponseModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/user_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">_block_recursion</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">include_private</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `UserSchema` to a `UserResponseModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        _block_recursion: Don&#39;t recursively fill attributes</span>
<span class="sd">        include_private: Whether to include the user private information</span>
<span class="sd">                         this is to limit the amount of data one can get</span>
<span class="sd">                         about other users</span>

<span class="sd">    Returns:</span>
<span class="sd">        The converted `UserResponseModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">_block_recursion</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">UserResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">active</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">active</span><span class="p">,</span>
            <span class="n">email_opted_in</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">email_opted_in</span><span class="p">,</span>
            <span class="n">email</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="k">if</span> <span class="n">include_private</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">hub_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hub_token</span> <span class="k">if</span> <span class="n">include_private</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">full_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">full_name</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">UserResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">active</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">active</span><span class="p">,</span>
            <span class="n">email_opted_in</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">email_opted_in</span><span class="p">,</span>
            <span class="n">email</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="k">if</span> <span class="n">include_private</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">hub_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hub_token</span> <span class="k">if</span> <span class="n">include_private</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">teams</span><span class="o">=</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="n">_block_recursion</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">teams</span><span class="p">],</span>
            <span class="n">full_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">full_name</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">roles</span><span class="o">=</span><span class="p">[</span><span class="n">ra</span><span class="o">.</span><span class="n">role</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span> <span class="k">for</span> <span class="n">ra</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">assigned_roles</span><span class="p">],</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.user_schemas.UserSchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a <code>UserSchema</code> from a <code>UserUpdateModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_update</code></td>
        <td><code>UserUpdateModel</code></td>
        <td><p>The <code>UserUpdateModel</code> from which to update the schema.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserSchema</code></td>
      <td><p>The updated <code>UserSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/user_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_update</span><span class="p">:</span> <span class="n">UserUpdateModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;UserSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a `UserSchema` from a `UserUpdateModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_update: The `UserUpdateModel` from which to update the schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated `UserSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">user_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;password&quot;</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">user_update</span><span class="o">.</span><span class="n">create_hashed_password</span><span class="p">())</span>
        <span class="k">elif</span> <span class="n">field</span> <span class="o">==</span> <span class="s2">&quot;activation_token&quot;</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">user_update</span><span class="o">.</span><span class="n">create_hashed_activation_token</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.schemas.workspace_schemas" class="doc doc-heading">
        <code>workspace_schemas</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQL Model Implementations for Workspaces.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.schemas.workspace_schemas.WorkspaceSchema" class="doc doc-heading">
        <code>
WorkspaceSchema            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.schemas.base_schemas.NamedSchema" href="#zenml.zen_stores.schemas.base_schemas.NamedSchema">NamedSchema</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL Model for workspaces.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/workspace_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WorkspaceSchema</span><span class="p">(</span><span class="n">NamedSchema</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL Model for workspaces.&quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;workspace&quot;</span>

    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span>

    <span class="n">user_role_assignments</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;UserRoleAssignmentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">team_role_assignments</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;TeamRoleAssignmentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;all, delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">stacks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StackSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">components</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StackComponentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">flavors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;FlavorSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">pipelines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">schedules</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;ScheduleSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">runs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">step_runs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;StepRunSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">builds</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineBuildSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">artifacts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;ArtifactSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">run_metadata</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;RunMetadataSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">secrets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;SecretSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">deployments</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;PipelineDeploymentSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">code_repositories</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;CodeRepositorySchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">service_connectors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;ServiceConnectorSchema&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
        <span class="n">sa_relationship_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cascade&quot;</span><span class="p">:</span> <span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">workspace</span><span class="p">:</span> <span class="n">WorkspaceRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WorkspaceSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a `WorkspaceSchema` from a `WorkspaceResponseModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace: The `WorkspaceResponseModel` from which to create the schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created `WorkspaceSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">:</span> <span class="n">WorkspaceUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WorkspaceSchema&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a `WorkspaceSchema` from a `WorkspaceUpdateModel`.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_update: The `WorkspaceUpdateModel` from which to update the</span>
<span class="sd">                schema.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated `WorkspaceSchema`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">workspace_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a `WorkspaceSchema` to a `WorkspaceResponseModel`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted `WorkspaceResponseModel`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">WorkspaceResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




































  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.workspace_schemas.WorkspaceSchema.from_request" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_request</span><span class="p">(</span><span class="n">workspace</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create a <code>WorkspaceSchema</code> from a <code>WorkspaceResponseModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace</code></td>
        <td><code>WorkspaceRequestModel</code></td>
        <td><p>The <code>WorkspaceResponseModel</code> from which to create the schema.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceSchema</code></td>
      <td><p>The created <code>WorkspaceSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/workspace_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_request</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">workspace</span><span class="p">:</span> <span class="n">WorkspaceRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WorkspaceSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a `WorkspaceSchema` from a `WorkspaceResponseModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace: The `WorkspaceResponseModel` from which to create the schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created `WorkspaceSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.workspace_schemas.WorkspaceSchema.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Convert a <code>WorkspaceSchema</code> to a <code>WorkspaceResponseModel</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponseModel</code></td>
      <td><p>The converted <code>WorkspaceResponseModel</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/workspace_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert a `WorkspaceSchema` to a `WorkspaceResponseModel`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The converted `WorkspaceResponseModel`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">WorkspaceResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.schemas.workspace_schemas.WorkspaceSchema.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a <code>WorkspaceSchema</code> from a <code>WorkspaceUpdateModel</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_update</code></td>
        <td><code>WorkspaceUpdateModel</code></td>
        <td><p>The <code>WorkspaceUpdateModel</code> from which to update the
schema.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceSchema</code></td>
      <td><p>The updated <code>WorkspaceSchema</code>.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/schemas/workspace_schemas.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">:</span> <span class="n">WorkspaceUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WorkspaceSchema&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a `WorkspaceSchema` from a `WorkspaceUpdateModel`.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_update: The `WorkspaceUpdateModel` from which to update the</span>
<span class="sd">            schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated `WorkspaceSchema`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">workspace_update</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_stores.secrets_stores" class="doc doc-heading">
        <code>secrets_stores</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Centralized secrets management.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.secrets_stores.aws_secrets_store" class="doc doc-heading">
        <code>aws_secrets_store</code>



</h4>

    <div class="doc doc-contents ">

      <p>AWS Secrets Store implementation.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore" class="doc doc-heading">
        <code>
AWSSecretsStore            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore" href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore">BaseSecretsStore</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Secrets store implementation that uses the AWS Secrets Manager API.</p>
<p>This secrets store implementation uses the AWS Secrets Manager API to
store secrets. It allows a single AWS Secrets Manager region "instance" to
be shared with other ZenML deployments as well as other third party users
and applications.</p>
<p>Here are some implementation highlights:</p>
<ul>
<li>
<p>the name/ID of an AWS secret is derived from the ZenML secret UUID and a
<code>zenml</code> prefix in the form <code>zenml/{zenml_secret_uuid}</code>. This clearly
identifies a secret as being managed by ZenML in the AWS console.</p>
</li>
<li>
<p>the Secrets Store also makes heavy use of AWS secret tags to store all the
metadata associated with a ZenML secret (e.g. the secret name, scope, user
and workspace) and to filter secrets by these metadata. The <code>zenml</code> tag in
particular is used to identify and group all secrets that belong to the same
ZenML deployment.</p>
</li>
<li>
<p>all secret key-values configured in a ZenML secret are stored as a single
JSON string value in the AWS secret value.</p>
</li>
<li>
<p>when a user or workspace is deleted, the secrets associated with it are
deleted automatically via registered event handlers.</p>
</li>
</ul>
<p>Known challenges and limitations:</p>
<ul>
<li>
<p>there is a known problem with the AWS Secrets Manager API that can cause
the <code>list_secrets</code> method to return stale data for a long time (seconds)
after a secret is created or updated. The AWS secrets store tries to
mitigate this problem by waiting for a maximum configurable number of
seconds after creating or updating a secret until the changes are reflected
in the <code>list_secrets</code> AWS content. However, this is not a perfect solution,
because it blocks ZenML server API threads while waiting. This can be
disabled by setting the <code>secret_list_refresh_timeout</code> configuration
parameter to zero.</p>
</li>
<li>
<p>only updating the secret values is reflected in the secret's <code>updated</code>
timestamp. Updating the secret metadata (e.g. name, scope, user or
workspace) does not update the secret's <code>updated</code> timestamp. This is a
limitation of the AWS Secrets Manager API (updating AWS tags does not update
the secret's <code>updated</code> timestamp).</p>
</li>
</ul>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td></td>
        <td><p>The configuration of the AWS secrets store.</p></td>
      </tr>
      <tr>
        <td><code>TYPE</code></td>
        <td></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>CONFIG_TYPE</code></td>
        <td></td>
        <td><p>The type of the store configuration.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/aws_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AWSSecretsStore</span><span class="p">(</span><span class="n">BaseSecretsStore</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Secrets store implementation that uses the AWS Secrets Manager API.</span>

<span class="sd">    This secrets store implementation uses the AWS Secrets Manager API to</span>
<span class="sd">    store secrets. It allows a single AWS Secrets Manager region &quot;instance&quot; to</span>
<span class="sd">    be shared with other ZenML deployments as well as other third party users</span>
<span class="sd">    and applications.</span>

<span class="sd">    Here are some implementation highlights:</span>

<span class="sd">    * the name/ID of an AWS secret is derived from the ZenML secret UUID and a</span>
<span class="sd">    `zenml` prefix in the form `zenml/{zenml_secret_uuid}`. This clearly</span>
<span class="sd">    identifies a secret as being managed by ZenML in the AWS console.</span>

<span class="sd">    * the Secrets Store also makes heavy use of AWS secret tags to store all the</span>
<span class="sd">    metadata associated with a ZenML secret (e.g. the secret name, scope, user</span>
<span class="sd">    and workspace) and to filter secrets by these metadata. The `zenml` tag in</span>
<span class="sd">    particular is used to identify and group all secrets that belong to the same</span>
<span class="sd">    ZenML deployment.</span>

<span class="sd">    * all secret key-values configured in a ZenML secret are stored as a single</span>
<span class="sd">    JSON string value in the AWS secret value.</span>

<span class="sd">    * when a user or workspace is deleted, the secrets associated with it are</span>
<span class="sd">    deleted automatically via registered event handlers.</span>


<span class="sd">    Known challenges and limitations:</span>

<span class="sd">    * there is a known problem with the AWS Secrets Manager API that can cause</span>
<span class="sd">    the `list_secrets` method to return stale data for a long time (seconds)</span>
<span class="sd">    after a secret is created or updated. The AWS secrets store tries to</span>
<span class="sd">    mitigate this problem by waiting for a maximum configurable number of</span>
<span class="sd">    seconds after creating or updating a secret until the changes are reflected</span>
<span class="sd">    in the `list_secrets` AWS content. However, this is not a perfect solution,</span>
<span class="sd">    because it blocks ZenML server API threads while waiting. This can be</span>
<span class="sd">    disabled by setting the `secret_list_refresh_timeout` configuration</span>
<span class="sd">    parameter to zero.</span>

<span class="sd">    * only updating the secret values is reflected in the secret&#39;s `updated`</span>
<span class="sd">    timestamp. Updating the secret metadata (e.g. name, scope, user or</span>
<span class="sd">    workspace) does not update the secret&#39;s `updated` timestamp. This is a</span>
<span class="sd">    limitation of the AWS Secrets Manager API (updating AWS tags does not update</span>
<span class="sd">    the secret&#39;s `updated` timestamp).</span>


<span class="sd">    Attributes:</span>
<span class="sd">        config: The configuration of the AWS secrets store.</span>
<span class="sd">        TYPE: The type of the store.</span>
<span class="sd">        CONFIG_TYPE: The type of the store configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">AWSSecretsStoreConfiguration</span>
    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">SecretsStoreType</span><span class="p">]</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">AWS</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">AWSSecretsStoreConfiguration</span>

    <span class="n">_client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize and return the AWS Secrets Manager client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The AWS Secrets Manager client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Initialize the AWS Secrets Manager client with the</span>
            <span class="c1"># credentials from the configuration, if provided.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span>
                <span class="s2">&quot;secretsmanager&quot;</span><span class="p">,</span>
                <span class="n">region_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">region_name</span><span class="p">,</span>
                <span class="n">aws_access_key_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">aws_access_key_id</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">aws_access_key_id</span>
                <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">aws_secret_access_key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">aws_secret_access_key</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">aws_secret_access_key</span>
                <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">aws_session_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">aws_session_token</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">aws_session_token</span>
                <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span>

    <span class="c1"># ====================================</span>
    <span class="c1"># Secrets Store interface implementation</span>
    <span class="c1"># ====================================</span>

    <span class="c1"># --------------------------------</span>
    <span class="c1"># Initialization and configuration</span>
    <span class="c1"># --------------------------------</span>

    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the AWS secrets store.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Initializing AWSSecretsStore&quot;</span><span class="p">)</span>

        <span class="c1"># Initialize the AWS client early, just to catch any configuration or</span>
        <span class="c1"># authentication errors early, before the Secrets Store is used.</span>
        <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>

    <span class="c1"># ------</span>
    <span class="c1"># Secrets</span>
    <span class="c1"># ------</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_validate_aws_secret_name</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate a secret name.</span>

<span class="sd">        AWS secret names must contain only alphanumeric characters and the</span>
<span class="sd">        characters /_+=.@-. The `/` character is only used internally to</span>
<span class="sd">        implement the global namespace sharing scheme.</span>

<span class="sd">        Given that the ZenML secret name is stored as an AWS secret tag, the</span>
<span class="sd">        maximum value length is also restricted to 255 characters.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: the secret name</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the secret name is invalid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[a-zA-Z0-9_+=\.@\-]*&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid secret name &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Must contain only alphanumeric &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;characters and the characters _+=.@-.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">255</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid secret name &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. The maximum length is 255 &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;characters.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_aws_secret_id</span><span class="p">(</span>
        <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the AWS secret ID corresponding to a ZenML secret ID.</span>

<span class="sd">        The convention used for AWS secret names is to use the ZenML</span>
<span class="sd">        secret UUID prefixed with `zenml` as the AWS secret name,</span>
<span class="sd">        i.e. `zenml/&lt;secret_uuid&gt;`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ZenML secret ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The AWS secret name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">AWS_ZENML_SECRET_NAME_PREFIX</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">_convert_aws_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">tags</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]],</span>
        <span class="n">created</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
        <span class="n">updated</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a ZenML secret model from data stored in an AWS secret.</span>

<span class="sd">        If the AWS secret cannot be converted, the method acts as if the</span>
<span class="sd">        secret does not exist and raises a KeyError.</span>

<span class="sd">        Args:</span>
<span class="sd">            tags: The AWS secret tags.</span>
<span class="sd">            created: The AWS secret creation time.</span>
<span class="sd">            updated: The AWS secret last updated time.</span>
<span class="sd">            values: The AWS secret values encoded as a JSON string (optional).</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ZenML secret.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Convert the AWS secret tags to a metadata dictionary.</span>
        <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">tag</span><span class="p">[</span><span class="s2">&quot;Key&quot;</span><span class="p">]:</span> <span class="n">tag</span><span class="p">[</span><span class="s2">&quot;Value&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">tags</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_secret_from_metadata</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="k">if</span> <span class="n">values</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_aws_secret_tags</span><span class="p">(</span>
        <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert ZenML secret metadata to AWS secret tags.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata: The ZenML secret metadata.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The AWS secret tags.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">aws_tags</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">aws_tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;Key&quot;</span><span class="p">:</span> <span class="n">k</span><span class="p">,</span>
                    <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">),</span>
                <span class="p">}</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">aws_tags</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_aws_secret_filters</span><span class="p">(</span>
        <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert ZenML secret metadata to AWS secret filters.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata: The ZenML secret metadata.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The AWS secret filters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">aws_filters</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">aws_filters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;Key&quot;</span><span class="p">:</span> <span class="s2">&quot;tag-key&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="n">k</span><span class="p">,</span>
                    <span class="p">],</span>
                <span class="p">}</span>
            <span class="p">)</span>
            <span class="n">aws_filters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;Key&quot;</span><span class="p">:</span> <span class="s2">&quot;tag-value&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">),</span>
                    <span class="p">],</span>
                <span class="p">}</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">aws_filters</span>

    <span class="k">def</span> <span class="nf">_wait_for_secret_to_propagate</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">aws_secret_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tags</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wait for an AWS secret to be refreshed in the list of secrets.</span>

<span class="sd">        The AWS Secrets Manager does not immediately reflect newly created</span>
<span class="sd">        and updated secrets in the `list_secrets` API. It is important that we</span>
<span class="sd">        wait for the secret to be refreshed in the `list_secrets` API</span>
<span class="sd">        before returning from create_secret/update_secret, otherwise the secret</span>
<span class="sd">        will not be available to the user. We also rely on `list_secrets`</span>
<span class="sd">        to enforce the scope rules, but given that the ZenML server runs</span>
<span class="sd">        requests in separate threads, it is not entirely possible to</span>
<span class="sd">        guarantee them.</span>

<span class="sd">        Args:</span>
<span class="sd">            aws_secret_id: The AWS secret ID.</span>
<span class="sd">            tags: The AWS secret tags that are expected to be present in the</span>
<span class="sd">                `list_secrets` response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_list_refresh_timeout</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="c1"># We wait for the secret to be available in the `list_secrets` API.</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_list_refresh_timeout</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Waiting for secret </span><span class="si">{</span><span class="n">aws_secret_id</span><span class="si">}</span><span class="s2"> to be listed...&quot;</span><span class="p">)</span>
            <span class="n">secret_exists</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">secrets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
                    <span class="n">Filters</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;Key&quot;</span><span class="p">:</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">aws_secret_id</span><span class="p">]}]</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">secrets</span><span class="p">[</span><span class="s2">&quot;SecretList&quot;</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">listed_secret</span> <span class="o">=</span> <span class="n">secrets</span><span class="p">[</span><span class="s2">&quot;SecretList&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                    <span class="c1"># The supplied tags must exactly match those reported in the</span>
                    <span class="c1"># `list_secrets` response.</span>
                    <span class="n">secret_exists</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span>
                        <span class="n">tag</span> <span class="ow">in</span> <span class="n">listed_secret</span><span class="p">[</span><span class="s2">&quot;Tags&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">tags</span>
                    <span class="p">)</span>
            <span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Error checking if secret </span><span class="si">{</span><span class="n">aws_secret_id</span><span class="si">}</span><span class="s2"> is listed: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">. Retrying...&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">secret_exists</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Secret </span><span class="si">{</span><span class="n">aws_secret_id</span><span class="si">}</span><span class="s2"> not yet listed. Retrying...&quot;</span>
                <span class="p">)</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret </span><span class="si">{</span><span class="n">aws_secret_id</span><span class="si">}</span><span class="s2"> listed.&quot;</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Secret </span><span class="si">{</span><span class="n">aws_secret_id</span><span class="si">}</span><span class="s2"> not updated in `list_secrets` &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;after </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_list_refresh_timeout</span><span class="si">}</span><span class="s2"> seconds. &quot;</span>
            <span class="p">)</span>

    <span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_SECRET</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">        The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">        the secrets store:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The secret to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a secret with the same name already exists</span>
<span class="sd">                in the same scope.</span>
<span class="sd">            RuntimeError: If the AWS Secrets Manager API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_aws_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">user</span><span class="p">,</span> <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace</span><span class="p">(</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">workspace</span>
        <span class="p">)</span>

        <span class="c1"># Check if a secret with the same name already exists in the same</span>
        <span class="c1"># scope.</span>
        <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
            <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># Generate a new UUID for the secret</span>
        <span class="n">secret_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
        <span class="n">aws_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>
        <span class="n">secret_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

        <span class="c1"># Convert the ZenML secret metadata to AWS tags</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span>
            <span class="n">secret</span><span class="p">,</span> <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span>
        <span class="p">)</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_tags</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">create_secret</span><span class="p">(</span>
                <span class="n">Name</span><span class="o">=</span><span class="n">aws_secret_id</span><span class="p">,</span>
                <span class="n">SecretString</span><span class="o">=</span><span class="n">secret_value</span><span class="p">,</span>
                <span class="n">Tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># We need a separate AWS API call to get the secret creation</span>
            <span class="c1"># date, since the create_secret API does not return it.</span>
            <span class="n">describe_secret_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">describe_secret</span><span class="p">(</span>
                <span class="n">SecretId</span><span class="o">=</span><span class="n">aws_secret_id</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error creating secret: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created AWS secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">aws_secret_id</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_secret_to_propagate</span><span class="p">(</span><span class="n">aws_secret_id</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">)</span>

        <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;CreatedDate&quot;</span><span class="p">],</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;LastChangedDate&quot;</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">secret_model</span>

    <span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a secret by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to fetch.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret does not exist.</span>
<span class="sd">            RuntimeError: If the AWS Secrets Manager API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">aws_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">get_secret_value_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(</span>
                <span class="n">SecretId</span><span class="o">=</span><span class="n">aws_secret_id</span>
            <span class="p">)</span>
            <span class="c1"># We need a separate AWS API call to get the AWS secret tags which</span>
            <span class="c1"># contain the ZenML secret metadata, since the get_secret_ value API</span>
            <span class="c1"># does not return them.</span>
            <span class="n">describe_secret_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">describe_secret</span><span class="p">(</span>
                <span class="n">SecretId</span><span class="o">=</span><span class="n">aws_secret_id</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">][</span><span class="s2">&quot;Code&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ResourceNotFoundException&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">][</span><span class="s2">&quot;Code&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;InvalidRequestException&quot;</span>
                <span class="ow">and</span> <span class="s2">&quot;marked for deletion&quot;</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">][</span><span class="s2">&quot;Message&quot;</span><span class="p">]</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>

            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error fetching secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="c1"># The _convert_aws_secret method raises a KeyError if the</span>
        <span class="c1"># secret is tied to a workspace or user that no longer exists. Here we</span>
        <span class="c1"># simply pass the exception up the stack, as if the secret was not found</span>
        <span class="c1"># in the first place, knowing that it will be cascade-deleted soon.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_aws_secret</span><span class="p">(</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;Tags&quot;</span><span class="p">],</span>
            <span class="n">created</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;CreatedDate&quot;</span><span class="p">],</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;LastChangedDate&quot;</span><span class="p">],</span>
            <span class="n">values</span><span class="o">=</span><span class="n">get_secret_value_response</span><span class="p">[</span><span class="s2">&quot;SecretString&quot;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">        Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">        the secret values, use `get_secret`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">            information and sorted according to the filter criteria. The</span>
<span class="sd">            returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">            fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">            secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the filter contains an out-of-bounds page number.</span>
<span class="sd">            RuntimeError: If the AWS Secrets Manager API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># The AWS Secrets Manager API does not natively support the entire</span>
        <span class="c1"># range of filtering, sorting and pagination options that ZenML</span>
        <span class="c1"># supports. The implementation of this method is therefore a bit</span>
        <span class="c1"># involved. We try to make use of the AWS filtering API as much as</span>
        <span class="c1"># possible to reduce the number of secrets that we need to fetch, then</span>
        <span class="c1"># we apply the rest of filtering, sorting and pagination on</span>
        <span class="c1"># the client side.</span>

        <span class="n">metadata_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">logical_operator</span> <span class="o">==</span> <span class="n">LogicalOperators</span><span class="o">.</span><span class="n">AND</span><span class="p">:</span>
            <span class="c1"># We can only filter on the AWS server side if we have an AND</span>
            <span class="c1"># logical operator. Otherwise, we need to filter on the client</span>
            <span class="c1"># side.</span>

            <span class="k">for</span> <span class="nb">filter</span> <span class="ow">in</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">list_of_filters</span><span class="p">:</span>
                <span class="c1"># The AWS Secrets Manager API only supports prefix matching. We</span>
                <span class="c1"># take advantage of this to filter as much as possible on the</span>
                <span class="c1"># AWS server side and we leave the rest to the client.</span>
                <span class="k">if</span> <span class="nb">filter</span><span class="o">.</span><span class="n">operation</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                    <span class="n">GenericFilterOps</span><span class="o">.</span><span class="n">EQUALS</span><span class="p">,</span>
                    <span class="n">GenericFilterOps</span><span class="o">.</span><span class="n">STARTSWITH</span><span class="p">,</span>
                <span class="p">]:</span>
                    <span class="k">continue</span>

                <span class="k">if</span> <span class="nb">filter</span><span class="o">.</span><span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
                    <span class="n">metadata_args</span><span class="p">[</span><span class="s2">&quot;secret_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="nb">filter</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">filter</span><span class="o">.</span><span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
                    <span class="n">metadata_args</span><span class="p">[</span><span class="s2">&quot;secret_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">filter</span><span class="o">.</span><span class="n">value</span>
                <span class="k">elif</span> <span class="nb">filter</span><span class="o">.</span><span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;scope&quot;</span><span class="p">:</span>
                    <span class="n">metadata_args</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">SecretScope</span><span class="p">(</span><span class="nb">filter</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">filter</span><span class="o">.</span><span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;workspace_id&quot;</span><span class="p">:</span>
                    <span class="n">metadata_args</span><span class="p">[</span><span class="s2">&quot;workspace&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="nb">filter</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">filter</span><span class="o">.</span><span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;user_id&quot;</span><span class="p">:</span>
                    <span class="n">metadata_args</span><span class="p">[</span><span class="s2">&quot;user&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="nb">filter</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># AWS doesn&#39;t support filtering on the created/updated</span>
                    <span class="c1"># timestamps, so we&#39;ll have to do that on the client side.</span>
                    <span class="k">continue</span>

        <span class="c1"># The metadata will always contain at least the filter criteria</span>
        <span class="c1"># required to exclude everything but AWS secrets that belong to the</span>
        <span class="c1"># current ZenML deployment.</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata</span><span class="p">(</span><span class="o">**</span><span class="n">metadata_args</span><span class="p">)</span>
        <span class="n">aws_filters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_filters</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>

        <span class="n">results</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># AWS Secrets Manager API pagination is wrapped around the</span>
            <span class="c1"># `list_secrets` method call. We use it because we need to fetch all</span>
            <span class="c1"># secrets matching the (partial) filter that we set up. Note that</span>
            <span class="c1"># the pagination used here has nothing to do with the pagination</span>
            <span class="c1"># that we do for the method caller.</span>
            <span class="n">paginator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_paginator</span><span class="p">(</span><span class="s2">&quot;list_secrets&quot;</span><span class="p">)</span>
            <span class="n">pages</span> <span class="o">=</span> <span class="n">paginator</span><span class="o">.</span><span class="n">paginate</span><span class="p">(</span>
                <span class="n">Filters</span><span class="o">=</span><span class="n">aws_filters</span><span class="p">,</span>
                <span class="n">PaginationConfig</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;PageSize&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">list_page_size</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">)</span>

            <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">pages</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;SecretList&quot;</span><span class="p">]:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># NOTE: we do not include the secret values in the</span>
                        <span class="c1"># response. We would need a separate API call to fetch</span>
                        <span class="c1"># them for each secret, which would be very inefficient</span>
                        <span class="c1"># anyway.</span>
                        <span class="n">secret_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_aws_secret</span><span class="p">(</span>
                            <span class="n">tags</span><span class="o">=</span><span class="n">secret</span><span class="p">[</span><span class="s2">&quot;Tags&quot;</span><span class="p">],</span>
                            <span class="n">created</span><span class="o">=</span><span class="n">secret</span><span class="p">[</span><span class="s2">&quot;CreatedDate&quot;</span><span class="p">],</span>
                            <span class="n">updated</span><span class="o">=</span><span class="n">secret</span><span class="p">[</span><span class="s2">&quot;LastChangedDate&quot;</span><span class="p">],</span>
                        <span class="p">)</span>
                    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                        <span class="c1"># The _convert_aws_secret method raises a KeyError</span>
                        <span class="c1"># if the secret is tied to a workspace or user that no</span>
                        <span class="c1"># longer exists. Here we pretend that the secret does</span>
                        <span class="c1"># not exist.</span>
                        <span class="k">continue</span>

                    <span class="c1"># Filter again on the client side to cover all filter</span>
                    <span class="c1"># operations.</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">secret_matches</span><span class="p">(</span><span class="n">secret_model</span><span class="p">):</span>
                        <span class="k">continue</span>
                    <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">secret_model</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error listing AWS secrets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Sort the results</span>
        <span class="n">sorted_results</span> <span class="o">=</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">sort_secrets</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

        <span class="c1"># Paginate the results</span>
        <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_results</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">total</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">total_pages</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">total_pages</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">total</span> <span class="o">/</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">&gt;</span> <span class="n">total_pages</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid page </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="si">}</span><span class="s2">. The requested page &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;size is </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> and there are a total of &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> items for this query. The maximum page value &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;therefore is </span><span class="si">{</span><span class="n">total_pages</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">Page</span><span class="p">(</span>
            <span class="n">total</span><span class="o">=</span><span class="n">total</span><span class="p">,</span>
            <span class="n">total_pages</span><span class="o">=</span><span class="n">total_pages</span><span class="p">,</span>
            <span class="n">items</span><span class="o">=</span><span class="n">sorted_results</span><span class="p">[</span>
                <span class="p">(</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span> <span class="p">:</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span>
                <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span>
            <span class="p">],</span>
            <span class="n">index</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="p">,</span>
            <span class="n">max_size</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">        Secret values that are specified as `None` in the update that are</span>
<span class="sd">        present in the existing secret are removed from the existing secret.</span>
<span class="sd">        Values that are present in both secrets are overwritten. All other</span>
<span class="sd">        values in both the existing secret and the update are kept (merged).</span>

<span class="sd">        If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">        enforced in the secrets store are used to validate the update:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to be updated.</span>
<span class="sd">            secret_update: The update to be applied.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If the update includes a change of name or</span>
<span class="sd">                scope and a secret with the same name already exists in the</span>
<span class="sd">                same scope.</span>
<span class="sd">            RuntimeError: If the AWS Secrets Manager API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

        <span class="c1"># Prevent changes to the secret&#39;s user or workspace</span>
        <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace_update</span><span class="p">(</span>
            <span class="n">secret_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
            <span class="n">current_user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">current_workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate_aws_secret_name</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">scope</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span>
        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Merge the existing values with the update values.</span>
            <span class="c1"># The values that are set to `None` in the update are removed from</span>
            <span class="c1"># the existing secret when we call `.secret_values` later.</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Check if a secret with the same name already exists in the same</span>
            <span class="c1"># scope.</span>
            <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
                <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">exclude_secret_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">aws_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>
        <span class="n">secret_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

        <span class="c1"># Convert the ZenML secret metadata to AWS tags</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_tags</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># One call to update the secret values</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">put_secret_value</span><span class="p">(</span>
                <span class="n">SecretId</span><span class="o">=</span><span class="n">aws_secret_id</span><span class="p">,</span>
                <span class="n">SecretString</span><span class="o">=</span><span class="n">secret_value</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># Another call to update the tags</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">tag_resource</span><span class="p">(</span>
                <span class="n">SecretId</span><span class="o">=</span><span class="n">aws_secret_id</span><span class="p">,</span>
                <span class="n">Tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># And another call to get the updated secret metadata which</span>
            <span class="c1"># includes the created and updated timestamps.</span>
            <span class="n">describe_secret_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">describe_secret</span><span class="p">(</span>
                <span class="n">SecretId</span><span class="o">=</span><span class="n">aws_secret_id</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating secret: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updated AWS secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">aws_secret_id</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_secret_to_propagate</span><span class="p">(</span><span class="n">aws_secret_id</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">)</span>

        <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;CreatedDate&quot;</span><span class="p">],</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;LastChangedDate&quot;</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">secret_model</span>

    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The id of the secret to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret does not exist.</span>
<span class="sd">            RuntimeError: If the AWS Secrets Manager API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span>
                <span class="n">SecretId</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">),</span>
                <span class="c1"># We set this to force immediate deletion of the AWS secret</span>
                <span class="c1"># instead of waiting for the recovery window to expire.</span>
                <span class="n">ForceDeleteWithoutRecovery</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">][</span><span class="s2">&quot;Code&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ResourceNotFoundException&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">][</span><span class="s2">&quot;Code&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;InvalidRequestException&quot;</span>
                <span class="ow">and</span> <span class="s2">&quot;marked for deletion&quot;</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">][</span><span class="s2">&quot;Message&quot;</span><span class="p">]</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>

            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error deleting secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">client</span><span class="p">:</span> <span class="n">Any</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Initialize and return the AWS Secrets Manager client.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The AWS Secrets Manager client.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.config.secrets_store_config.SecretsStoreConfiguration" href="../core-config/#zenml.config.secrets_store_config.SecretsStoreConfiguration">SecretsStoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>AWS secrets store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>SecretsStoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>region_name</code></td>
        <td><code>str</code></td>
        <td><p>The AWS region name to use.</p></td>
      </tr>
      <tr>
        <td><code>aws_access_key_id</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The AWS access key ID to use to authenticate.</p></td>
      </tr>
      <tr>
        <td><code>aws_secret_access_key</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The AWS secret access key to use to
authenticate.</p></td>
      </tr>
      <tr>
        <td><code>aws_session_token</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The AWS session token to use to authenticate.</p></td>
      </tr>
      <tr>
        <td><code>list_page_size</code></td>
        <td><code>int</code></td>
        <td><p>The number of secrets to fetch per page when
listing secrets.</p></td>
      </tr>
      <tr>
        <td><code>secret_list_refresh_timeout</code></td>
        <td><code>int</code></td>
        <td><p>The number of seconds to wait after
creating or updating an AWS secret until the changes are reflected
in the secrets returned by <code>list_secrets</code>. Set this to zero to
disable the wait. This may be necessary because it can take some
time for new secrets and updated secrets to be reflected in the
result returned by <code>list_secrets</code> on the client side. This value
should not be set to a large value, because it blocks ZenML server
threads while waiting and can cause performance issues.
Disable this if you don't need changes to be reflected immediately
on the client side.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/aws_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AWSSecretsStoreConfiguration</span><span class="p">(</span><span class="n">SecretsStoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;AWS secrets store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        region_name: The AWS region name to use.</span>
<span class="sd">        aws_access_key_id: The AWS access key ID to use to authenticate.</span>
<span class="sd">        aws_secret_access_key: The AWS secret access key to use to</span>
<span class="sd">            authenticate.</span>
<span class="sd">        aws_session_token: The AWS session token to use to authenticate.</span>
<span class="sd">        list_page_size: The number of secrets to fetch per page when</span>
<span class="sd">            listing secrets.</span>
<span class="sd">        secret_list_refresh_timeout: The number of seconds to wait after</span>
<span class="sd">            creating or updating an AWS secret until the changes are reflected</span>
<span class="sd">            in the secrets returned by `list_secrets`. Set this to zero to</span>
<span class="sd">            disable the wait. This may be necessary because it can take some</span>
<span class="sd">            time for new secrets and updated secrets to be reflected in the</span>
<span class="sd">            result returned by `list_secrets` on the client side. This value</span>
<span class="sd">            should not be set to a large value, because it blocks ZenML server</span>
<span class="sd">            threads while waiting and can cause performance issues.</span>
<span class="sd">            Disable this if you don&#39;t need changes to be reflected immediately</span>
<span class="sd">            on the client side.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">AWS</span>
    <span class="n">region_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">aws_access_key_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_secret_access_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_session_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">list_page_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="n">secret_list_refresh_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.CONFIG_TYPE.Config" class="doc doc-heading">
        <code>
Config        </code>



</h7>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/aws_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.create_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Creates a new secret.</p>
<p>The new secret is also validated against the scoping rules enforced in
the secrets store:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>SecretRequestModel</code></td>
        <td><p>The secret to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The newly created secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a secret with the same name already exists
in the same scope.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the AWS Secrets Manager API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/aws_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_SECRET</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">    The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">    the secrets store:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a secret with the same name already exists</span>
<span class="sd">            in the same scope.</span>
<span class="sd">        RuntimeError: If the AWS Secrets Manager API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_aws_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">user</span><span class="p">,</span> <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace</span><span class="p">(</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">workspace</span>
    <span class="p">)</span>

    <span class="c1"># Check if a secret with the same name already exists in the same</span>
    <span class="c1"># scope.</span>
    <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
        <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="c1"># Generate a new UUID for the secret</span>
    <span class="n">secret_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
    <span class="n">aws_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>
    <span class="n">secret_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

    <span class="c1"># Convert the ZenML secret metadata to AWS tags</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span>
        <span class="n">secret</span><span class="p">,</span> <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span>
    <span class="p">)</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_tags</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">create_secret</span><span class="p">(</span>
            <span class="n">Name</span><span class="o">=</span><span class="n">aws_secret_id</span><span class="p">,</span>
            <span class="n">SecretString</span><span class="o">=</span><span class="n">secret_value</span><span class="p">,</span>
            <span class="n">Tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># We need a separate AWS API call to get the secret creation</span>
        <span class="c1"># date, since the create_secret API does not return it.</span>
        <span class="n">describe_secret_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">describe_secret</span><span class="p">(</span>
            <span class="n">SecretId</span><span class="o">=</span><span class="n">aws_secret_id</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error creating secret: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created AWS secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">aws_secret_id</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_secret_to_propagate</span><span class="p">(</span><span class="n">aws_secret_id</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">)</span>

    <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;CreatedDate&quot;</span><span class="p">],</span>
        <span class="n">updated</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;LastChangedDate&quot;</span><span class="p">],</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">secret_model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Delete a secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the secret to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the secret does not exist.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the AWS Secrets Manager API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/aws_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The id of the secret to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the secret does not exist.</span>
<span class="sd">        RuntimeError: If the AWS Secrets Manager API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span>
            <span class="n">SecretId</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">),</span>
            <span class="c1"># We set this to force immediate deletion of the AWS secret</span>
            <span class="c1"># instead of waiting for the recovery window to expire.</span>
            <span class="n">ForceDeleteWithoutRecovery</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">][</span><span class="s2">&quot;Code&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ResourceNotFoundException&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">][</span><span class="s2">&quot;Code&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;InvalidRequestException&quot;</span>
            <span class="ow">and</span> <span class="s2">&quot;marked for deletion&quot;</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">][</span><span class="s2">&quot;Message&quot;</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>

        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error deleting secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a secret by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to fetch.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the secret does not exist.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the AWS Secrets Manager API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/aws_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a secret by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to fetch.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the secret does not exist.</span>
<span class="sd">        RuntimeError: If the AWS Secrets Manager API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">aws_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">get_secret_value_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(</span>
            <span class="n">SecretId</span><span class="o">=</span><span class="n">aws_secret_id</span>
        <span class="p">)</span>
        <span class="c1"># We need a separate AWS API call to get the AWS secret tags which</span>
        <span class="c1"># contain the ZenML secret metadata, since the get_secret_ value API</span>
        <span class="c1"># does not return them.</span>
        <span class="n">describe_secret_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">describe_secret</span><span class="p">(</span>
            <span class="n">SecretId</span><span class="o">=</span><span class="n">aws_secret_id</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">][</span><span class="s2">&quot;Code&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;ResourceNotFoundException&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">][</span><span class="s2">&quot;Code&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;InvalidRequestException&quot;</span>
            <span class="ow">and</span> <span class="s2">&quot;marked for deletion&quot;</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">][</span><span class="s2">&quot;Message&quot;</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>

        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error fetching secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="c1"># The _convert_aws_secret method raises a KeyError if the</span>
    <span class="c1"># secret is tied to a workspace or user that no longer exists. Here we</span>
    <span class="c1"># simply pass the exception up the stack, as if the secret was not found</span>
    <span class="c1"># in the first place, knowing that it will be cascade-deleted soon.</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_aws_secret</span><span class="p">(</span>
        <span class="n">tags</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;Tags&quot;</span><span class="p">],</span>
        <span class="n">created</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;CreatedDate&quot;</span><span class="p">],</span>
        <span class="n">updated</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;LastChangedDate&quot;</span><span class="p">],</span>
        <span class="n">values</span><span class="o">=</span><span class="n">get_secret_value_response</span><span class="p">[</span><span class="s2">&quot;SecretString&quot;</span><span class="p">],</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.list_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>List all secrets matching the given filter criteria.</p>
<p>Note that returned secrets do not include any secret values. To fetch
the secret values, use <code>get_secret</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_filter_model</code></td>
        <td><code>SecretFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[SecretResponseModel]</code></td>
      <td><p>A list of all secrets matching the filter criteria, with pagination
information and sorted according to the filter criteria. The
returned secrets do not include any secret values, only metadata. To
fetch the secret values, use <code>get_secret</code> individually with each
secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the filter contains an out-of-bounds page number.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the AWS Secrets Manager API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/aws_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">    Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">    the secret values, use `get_secret`.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">        information and sorted according to the filter criteria. The</span>
<span class="sd">        returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">        fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">        secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the filter contains an out-of-bounds page number.</span>
<span class="sd">        RuntimeError: If the AWS Secrets Manager API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># The AWS Secrets Manager API does not natively support the entire</span>
    <span class="c1"># range of filtering, sorting and pagination options that ZenML</span>
    <span class="c1"># supports. The implementation of this method is therefore a bit</span>
    <span class="c1"># involved. We try to make use of the AWS filtering API as much as</span>
    <span class="c1"># possible to reduce the number of secrets that we need to fetch, then</span>
    <span class="c1"># we apply the rest of filtering, sorting and pagination on</span>
    <span class="c1"># the client side.</span>

    <span class="n">metadata_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">logical_operator</span> <span class="o">==</span> <span class="n">LogicalOperators</span><span class="o">.</span><span class="n">AND</span><span class="p">:</span>
        <span class="c1"># We can only filter on the AWS server side if we have an AND</span>
        <span class="c1"># logical operator. Otherwise, we need to filter on the client</span>
        <span class="c1"># side.</span>

        <span class="k">for</span> <span class="nb">filter</span> <span class="ow">in</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">list_of_filters</span><span class="p">:</span>
            <span class="c1"># The AWS Secrets Manager API only supports prefix matching. We</span>
            <span class="c1"># take advantage of this to filter as much as possible on the</span>
            <span class="c1"># AWS server side and we leave the rest to the client.</span>
            <span class="k">if</span> <span class="nb">filter</span><span class="o">.</span><span class="n">operation</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="n">GenericFilterOps</span><span class="o">.</span><span class="n">EQUALS</span><span class="p">,</span>
                <span class="n">GenericFilterOps</span><span class="o">.</span><span class="n">STARTSWITH</span><span class="p">,</span>
            <span class="p">]:</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="nb">filter</span><span class="o">.</span><span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
                <span class="n">metadata_args</span><span class="p">[</span><span class="s2">&quot;secret_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="nb">filter</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">filter</span><span class="o">.</span><span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
                <span class="n">metadata_args</span><span class="p">[</span><span class="s2">&quot;secret_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">filter</span><span class="o">.</span><span class="n">value</span>
            <span class="k">elif</span> <span class="nb">filter</span><span class="o">.</span><span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;scope&quot;</span><span class="p">:</span>
                <span class="n">metadata_args</span><span class="p">[</span><span class="s2">&quot;scope&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">SecretScope</span><span class="p">(</span><span class="nb">filter</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">filter</span><span class="o">.</span><span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;workspace_id&quot;</span><span class="p">:</span>
                <span class="n">metadata_args</span><span class="p">[</span><span class="s2">&quot;workspace&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="nb">filter</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">filter</span><span class="o">.</span><span class="n">column</span> <span class="o">==</span> <span class="s2">&quot;user_id&quot;</span><span class="p">:</span>
                <span class="n">metadata_args</span><span class="p">[</span><span class="s2">&quot;user&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="nb">filter</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># AWS doesn&#39;t support filtering on the created/updated</span>
                <span class="c1"># timestamps, so we&#39;ll have to do that on the client side.</span>
                <span class="k">continue</span>

    <span class="c1"># The metadata will always contain at least the filter criteria</span>
    <span class="c1"># required to exclude everything but AWS secrets that belong to the</span>
    <span class="c1"># current ZenML deployment.</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata</span><span class="p">(</span><span class="o">**</span><span class="n">metadata_args</span><span class="p">)</span>
    <span class="n">aws_filters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_filters</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>

    <span class="n">results</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># AWS Secrets Manager API pagination is wrapped around the</span>
        <span class="c1"># `list_secrets` method call. We use it because we need to fetch all</span>
        <span class="c1"># secrets matching the (partial) filter that we set up. Note that</span>
        <span class="c1"># the pagination used here has nothing to do with the pagination</span>
        <span class="c1"># that we do for the method caller.</span>
        <span class="n">paginator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_paginator</span><span class="p">(</span><span class="s2">&quot;list_secrets&quot;</span><span class="p">)</span>
        <span class="n">pages</span> <span class="o">=</span> <span class="n">paginator</span><span class="o">.</span><span class="n">paginate</span><span class="p">(</span>
            <span class="n">Filters</span><span class="o">=</span><span class="n">aws_filters</span><span class="p">,</span>
            <span class="n">PaginationConfig</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;PageSize&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">list_page_size</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">pages</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;SecretList&quot;</span><span class="p">]:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># NOTE: we do not include the secret values in the</span>
                    <span class="c1"># response. We would need a separate API call to fetch</span>
                    <span class="c1"># them for each secret, which would be very inefficient</span>
                    <span class="c1"># anyway.</span>
                    <span class="n">secret_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_aws_secret</span><span class="p">(</span>
                        <span class="n">tags</span><span class="o">=</span><span class="n">secret</span><span class="p">[</span><span class="s2">&quot;Tags&quot;</span><span class="p">],</span>
                        <span class="n">created</span><span class="o">=</span><span class="n">secret</span><span class="p">[</span><span class="s2">&quot;CreatedDate&quot;</span><span class="p">],</span>
                        <span class="n">updated</span><span class="o">=</span><span class="n">secret</span><span class="p">[</span><span class="s2">&quot;LastChangedDate&quot;</span><span class="p">],</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="c1"># The _convert_aws_secret method raises a KeyError</span>
                    <span class="c1"># if the secret is tied to a workspace or user that no</span>
                    <span class="c1"># longer exists. Here we pretend that the secret does</span>
                    <span class="c1"># not exist.</span>
                    <span class="k">continue</span>

                <span class="c1"># Filter again on the client side to cover all filter</span>
                <span class="c1"># operations.</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">secret_matches</span><span class="p">(</span><span class="n">secret_model</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">secret_model</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error listing AWS secrets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Sort the results</span>
    <span class="n">sorted_results</span> <span class="o">=</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">sort_secrets</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

    <span class="c1"># Paginate the results</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_results</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">total</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">total_pages</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">total_pages</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">total</span> <span class="o">/</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">&gt;</span> <span class="n">total_pages</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid page </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="si">}</span><span class="s2">. The requested page &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;size is </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> and there are a total of &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> items for this query. The maximum page value &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;therefore is </span><span class="si">{</span><span class="n">total_pages</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">Page</span><span class="p">(</span>
        <span class="n">total</span><span class="o">=</span><span class="n">total</span><span class="p">,</span>
        <span class="n">total_pages</span><span class="o">=</span><span class="n">total_pages</span><span class="p">,</span>
        <span class="n">items</span><span class="o">=</span><span class="n">sorted_results</span><span class="p">[</span>
            <span class="p">(</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span> <span class="p">:</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span>
            <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span>
        <span class="p">],</span>
        <span class="n">index</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="p">,</span>
        <span class="n">max_size</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStore.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Updates a secret.</p>
<p>Secret values that are specified as <code>None</code> in the update that are
present in the existing secret are removed from the existing secret.
Values that are present in both secrets are overwritten. All other
values in both the existing secret and the update are kept (merged).</p>
<p>If the update includes a change of name or scope, the scoping rules
enforced in the secrets store are used to validate the update:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_update</code></td>
        <td><code>SecretUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The updated secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If the update includes a change of name or
scope and a secret with the same name already exists in the
same scope.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the AWS Secrets Manager API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/aws_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">    Secret values that are specified as `None` in the update that are</span>
<span class="sd">    present in the existing secret are removed from the existing secret.</span>
<span class="sd">    Values that are present in both secrets are overwritten. All other</span>
<span class="sd">    values in both the existing secret and the update are kept (merged).</span>

<span class="sd">    If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">    enforced in the secrets store are used to validate the update:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to be updated.</span>
<span class="sd">        secret_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If the update includes a change of name or</span>
<span class="sd">            scope and a secret with the same name already exists in the</span>
<span class="sd">            same scope.</span>
<span class="sd">        RuntimeError: If the AWS Secrets Manager API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

    <span class="c1"># Prevent changes to the secret&#39;s user or workspace</span>
    <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace_update</span><span class="p">(</span>
        <span class="n">secret_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
        <span class="n">current_user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">current_workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_aws_secret_name</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span>
    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">scope</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span>
    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Merge the existing values with the update values.</span>
        <span class="c1"># The values that are set to `None` in the update are removed from</span>
        <span class="c1"># the existing secret when we call `.secret_values` later.</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Check if a secret with the same name already exists in the same</span>
        <span class="c1"># scope.</span>
        <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
            <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">exclude_secret_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">aws_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>
    <span class="n">secret_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

    <span class="c1"># Convert the ZenML secret metadata to AWS tags</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aws_secret_tags</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># One call to update the secret values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">put_secret_value</span><span class="p">(</span>
            <span class="n">SecretId</span><span class="o">=</span><span class="n">aws_secret_id</span><span class="p">,</span>
            <span class="n">SecretString</span><span class="o">=</span><span class="n">secret_value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Another call to update the tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">tag_resource</span><span class="p">(</span>
            <span class="n">SecretId</span><span class="o">=</span><span class="n">aws_secret_id</span><span class="p">,</span>
            <span class="n">Tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># And another call to get the updated secret metadata which</span>
        <span class="c1"># includes the created and updated timestamps.</span>
        <span class="n">describe_secret_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">describe_secret</span><span class="p">(</span>
            <span class="n">SecretId</span><span class="o">=</span><span class="n">aws_secret_id</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating secret: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updated AWS secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">aws_secret_id</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_secret_to_propagate</span><span class="p">(</span><span class="n">aws_secret_id</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">)</span>

    <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;CreatedDate&quot;</span><span class="p">],</span>
        <span class="n">updated</span><span class="o">=</span><span class="n">describe_secret_response</span><span class="p">[</span><span class="s2">&quot;LastChangedDate&quot;</span><span class="p">],</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">secret_model</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStoreConfiguration" class="doc doc-heading">
        <code>
AWSSecretsStoreConfiguration            (<a class="autorefs autorefs-internal" title="zenml.config.secrets_store_config.SecretsStoreConfiguration" href="../core-config/#zenml.config.secrets_store_config.SecretsStoreConfiguration">SecretsStoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>AWS secrets store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>SecretsStoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>region_name</code></td>
        <td><code>str</code></td>
        <td><p>The AWS region name to use.</p></td>
      </tr>
      <tr>
        <td><code>aws_access_key_id</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The AWS access key ID to use to authenticate.</p></td>
      </tr>
      <tr>
        <td><code>aws_secret_access_key</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The AWS secret access key to use to
authenticate.</p></td>
      </tr>
      <tr>
        <td><code>aws_session_token</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The AWS session token to use to authenticate.</p></td>
      </tr>
      <tr>
        <td><code>list_page_size</code></td>
        <td><code>int</code></td>
        <td><p>The number of secrets to fetch per page when
listing secrets.</p></td>
      </tr>
      <tr>
        <td><code>secret_list_refresh_timeout</code></td>
        <td><code>int</code></td>
        <td><p>The number of seconds to wait after
creating or updating an AWS secret until the changes are reflected
in the secrets returned by <code>list_secrets</code>. Set this to zero to
disable the wait. This may be necessary because it can take some
time for new secrets and updated secrets to be reflected in the
result returned by <code>list_secrets</code> on the client side. This value
should not be set to a large value, because it blocks ZenML server
threads while waiting and can cause performance issues.
Disable this if you don't need changes to be reflected immediately
on the client side.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/aws_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AWSSecretsStoreConfiguration</span><span class="p">(</span><span class="n">SecretsStoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;AWS secrets store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        region_name: The AWS region name to use.</span>
<span class="sd">        aws_access_key_id: The AWS access key ID to use to authenticate.</span>
<span class="sd">        aws_secret_access_key: The AWS secret access key to use to</span>
<span class="sd">            authenticate.</span>
<span class="sd">        aws_session_token: The AWS session token to use to authenticate.</span>
<span class="sd">        list_page_size: The number of secrets to fetch per page when</span>
<span class="sd">            listing secrets.</span>
<span class="sd">        secret_list_refresh_timeout: The number of seconds to wait after</span>
<span class="sd">            creating or updating an AWS secret until the changes are reflected</span>
<span class="sd">            in the secrets returned by `list_secrets`. Set this to zero to</span>
<span class="sd">            disable the wait. This may be necessary because it can take some</span>
<span class="sd">            time for new secrets and updated secrets to be reflected in the</span>
<span class="sd">            result returned by `list_secrets` on the client side. This value</span>
<span class="sd">            should not be set to a large value, because it blocks ZenML server</span>
<span class="sd">            threads while waiting and can cause performance issues.</span>
<span class="sd">            Disable this if you don&#39;t need changes to be reflected immediately</span>
<span class="sd">            on the client side.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">AWS</span>
    <span class="n">region_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">aws_access_key_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_secret_access_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">aws_session_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">list_page_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="n">secret_list_refresh_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.aws_secrets_store.AWSSecretsStoreConfiguration.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/aws_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.secrets_stores.azure_secrets_store" class="doc doc-heading">
        <code>azure_secrets_store</code>



</h4>

    <div class="doc doc-contents ">

      <p>Azure Secrets Store implementation.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore" class="doc doc-heading">
        <code>
AzureSecretsStore            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore" href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore">BaseSecretsStore</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Secrets store implementation that uses the Azure Key Vault API.</p>
<p>This secrets store implementation uses the Azure Key Vault API to
store secrets. It allows a single Azure Key Vault to be shared with other
ZenML deployments as well as other third party users and applications.</p>
<p>Here are some implementation highlights:</p>
<ul>
<li>
<p>the name/ID of an Azure secret is derived from the ZenML secret UUID and a
<code>zenml</code> prefix in the form <code>zenml-{zenml_secret_uuid}</code>. This clearly
identifies a secret as being managed by ZenML in the Azure console.</p>
</li>
<li>
<p>the Secrets Store also makes heavy use of Azure Key Vault secret tags to
store all the metadata associated with a ZenML secret (e.g. the secret name,
scope, user and workspace) and to filter secrets by these metadata. The
<code>zenml</code> tag in particular is used to identify and group all secrets that
belong to the same ZenML deployment.</p>
</li>
<li>
<p>all secret key-values configured in a ZenML secret are stored as a single
JSON string value in the Azure Key Vault secret value.</p>
</li>
<li>
<p>when a user or workspace is deleted, the secrets associated with it are
deleted automatically via registered event handlers.</p>
</li>
</ul>
<p>Known challenges and limitations:</p>
<ul>
<li>every Azure Key Vault secret has one or more versions. Every update to a
secret creates a new version. The created_on and updated_on timestamps
returned by the Secrets Store API are the timestamps of the latest version
of the secret. This means that we need to fetch the first version of the
secret to get the created_on timestamp. This is not ideal, as we'd need to
fetch all versions for every secret to get the created_on timestamp during
a list operation. So instead we manage the <code>created</code> and <code>updated</code>
timestamps ourselves and save them as tags in the Azure Key Vault secret.</li>
</ul>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td></td>
        <td><p>The configuration of the Azure secrets store.</p></td>
      </tr>
      <tr>
        <td><code>TYPE</code></td>
        <td></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>CONFIG_TYPE</code></td>
        <td></td>
        <td><p>The type of the store configuration.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/azure_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureSecretsStore</span><span class="p">(</span><span class="n">BaseSecretsStore</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Secrets store implementation that uses the Azure Key Vault API.</span>

<span class="sd">    This secrets store implementation uses the Azure Key Vault API to</span>
<span class="sd">    store secrets. It allows a single Azure Key Vault to be shared with other</span>
<span class="sd">    ZenML deployments as well as other third party users and applications.</span>

<span class="sd">    Here are some implementation highlights:</span>

<span class="sd">    * the name/ID of an Azure secret is derived from the ZenML secret UUID and a</span>
<span class="sd">    `zenml` prefix in the form `zenml-{zenml_secret_uuid}`. This clearly</span>
<span class="sd">    identifies a secret as being managed by ZenML in the Azure console.</span>

<span class="sd">    * the Secrets Store also makes heavy use of Azure Key Vault secret tags to</span>
<span class="sd">    store all the metadata associated with a ZenML secret (e.g. the secret name,</span>
<span class="sd">    scope, user and workspace) and to filter secrets by these metadata. The</span>
<span class="sd">    `zenml` tag in particular is used to identify and group all secrets that</span>
<span class="sd">    belong to the same ZenML deployment.</span>

<span class="sd">    * all secret key-values configured in a ZenML secret are stored as a single</span>
<span class="sd">    JSON string value in the Azure Key Vault secret value.</span>

<span class="sd">    * when a user or workspace is deleted, the secrets associated with it are</span>
<span class="sd">    deleted automatically via registered event handlers.</span>


<span class="sd">    Known challenges and limitations:</span>

<span class="sd">    * every Azure Key Vault secret has one or more versions. Every update to a</span>
<span class="sd">    secret creates a new version. The created_on and updated_on timestamps</span>
<span class="sd">    returned by the Secrets Store API are the timestamps of the latest version</span>
<span class="sd">    of the secret. This means that we need to fetch the first version of the</span>
<span class="sd">    secret to get the created_on timestamp. This is not ideal, as we&#39;d need to</span>
<span class="sd">    fetch all versions for every secret to get the created_on timestamp during</span>
<span class="sd">    a list operation. So instead we manage the `created` and `updated`</span>
<span class="sd">    timestamps ourselves and save them as tags in the Azure Key Vault secret.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: The configuration of the Azure secrets store.</span>
<span class="sd">        TYPE: The type of the store.</span>
<span class="sd">        CONFIG_TYPE: The type of the store configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">AzureSecretsStoreConfiguration</span>
    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">SecretsStoreType</span><span class="p">]</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">AZURE</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">AzureSecretsStoreConfiguration</span>

    <span class="n">_client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize and return the Azure Key Vault client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Azure Key Vault client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">azure_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;azure&quot;</span><span class="p">)</span>

            <span class="c1"># Suppress the INFO logging level of the Azure SDK if the</span>
            <span class="c1"># ZenML logging level is WARNING or lower.</span>
            <span class="k">if</span> <span class="n">logger</span><span class="o">.</span><span class="n">level</span> <span class="o">&lt;=</span> <span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">:</span>
                <span class="n">azure_logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">azure_logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

            <span class="c1"># Initialize the Azure Key Vault client with the</span>
            <span class="c1"># credentials from the configuration, if provided.</span>
            <span class="n">vault_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">key_vault_name</span><span class="si">}</span><span class="s2">.vault.azure.net&quot;</span>
            <span class="n">credential</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
                <span class="n">ClientSecretCredential</span><span class="p">,</span>
                <span class="n">DefaultAzureCredential</span><span class="p">,</span>
            <span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">azure_client_id</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">azure_tenant_id</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">azure_client_secret</span>
            <span class="p">):</span>
                <span class="n">credential</span> <span class="o">=</span> <span class="n">ClientSecretCredential</span><span class="p">(</span>
                    <span class="n">tenant_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">azure_tenant_id</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(),</span>
                    <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">azure_client_id</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(),</span>
                    <span class="n">client_secret</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">azure_client_secret</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(),</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">credential</span> <span class="o">=</span> <span class="n">DefaultAzureCredential</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">SecretClient</span><span class="p">(</span>
                <span class="n">vault_url</span><span class="o">=</span><span class="n">vault_url</span><span class="p">,</span> <span class="n">credential</span><span class="o">=</span><span class="n">credential</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span>

    <span class="c1"># ====================================</span>
    <span class="c1"># Secrets Store interface implementation</span>
    <span class="c1"># ====================================</span>

    <span class="c1"># --------------------------------</span>
    <span class="c1"># Initialization and configuration</span>
    <span class="c1"># --------------------------------</span>

    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the Azure secrets store.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Initializing AzureSecretsStore&quot;</span><span class="p">)</span>

        <span class="c1"># Initialize the Azure client early, just to catch any configuration or</span>
        <span class="c1"># authentication errors early, before the Secrets Store is used.</span>
        <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>

    <span class="c1"># ------</span>
    <span class="c1"># Secrets</span>
    <span class="c1"># ------</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_validate_azure_secret_name</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate a secret name.</span>

<span class="sd">        Azure secret names must contain only alphanumeric characters and the</span>
<span class="sd">        character `-`.</span>

<span class="sd">        Given that the ZenML secret name is stored as an Azure Key Vault secret</span>
<span class="sd">        label, we are also limited by the 256 maximum size limitation that Azure</span>
<span class="sd">        imposes on label values.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: the secret name</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the secret name is invalid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[0-9a-zA-Z-]+&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid secret name or namespace &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Must contain &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;only alphanumeric characters and the character -.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">256</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid secret name or namespace &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. The length is &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;limited to maximum 256 characters.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_azure_secret_id</span><span class="p">(</span>
        <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the Azure secret ID corresponding to a ZenML secret ID.</span>

<span class="sd">        The convention used for Azure secret names is to use the ZenML</span>
<span class="sd">        secret UUID prefixed with `zenml` as the Azure secret name,</span>
<span class="sd">        i.e. `zenml-&lt;secret_uuid&gt;`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ZenML secret ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Azure secret name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">AZURE_ZENML_SECRET_NAME_PREFIX</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">_convert_azure_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">tags</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a ZenML secret model from data stored in an Azure secret.</span>

<span class="sd">        If the Azure secret cannot be converted, the method acts as if the</span>
<span class="sd">        secret does not exist and raises a KeyError.</span>

<span class="sd">        Args:</span>
<span class="sd">            tags: The Azure secret tags.</span>
<span class="sd">            values: The Azure secret values encoded as a JSON string</span>
<span class="sd">                (optional).</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ZenML secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the Azure secret cannot be converted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">created</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span>
                <span class="n">tags</span><span class="p">[</span><span class="n">ZENML_AZURE_SECRET_CREATED_KEY</span><span class="p">],</span>
            <span class="p">)</span>
            <span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span>
                <span class="n">tags</span><span class="p">[</span><span class="n">ZENML_AZURE_SECRET_UPDATED_KEY</span><span class="p">],</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Secret could not be retrieved: missing required metadata: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_secret_from_metadata</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="k">if</span> <span class="n">values</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_SECRET</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">        The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">        the secrets store:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The secret to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a secret with the same name already exists</span>
<span class="sd">                in the same scope.</span>
<span class="sd">            RuntimeError: If the Azure Key Vault API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_azure_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">user</span><span class="p">,</span> <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace</span><span class="p">(</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">workspace</span>
        <span class="p">)</span>

        <span class="c1"># Check if a secret with the same name already exists in the same</span>
        <span class="c1"># scope.</span>
        <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
            <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># Generate a new UUID for the secret</span>
        <span class="n">secret_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
        <span class="n">azure_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_azure_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>
        <span class="n">secret_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

        <span class="c1"># Use the ZenML secret metadata as Azure tags</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span>
            <span class="n">secret</span><span class="p">,</span> <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span>
        <span class="p">)</span>

        <span class="c1"># We manage the created and updated times ourselves, so we don&#39;t need to</span>
        <span class="c1"># rely on the Azure Key Vault API to set them.</span>
        <span class="n">created</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_AZURE_SECRET_CREATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">created</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
        <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_AZURE_SECRET_UPDATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">created</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">set_secret</span><span class="p">(</span>
                <span class="n">azure_secret_id</span><span class="p">,</span>
                <span class="n">secret_value</span><span class="p">,</span>
                <span class="n">tags</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
                <span class="n">content_type</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">HttpResponseError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error creating secret: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created Azure secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">azure_secret_id</span><span class="p">)</span>

        <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">secret_model</span>

    <span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a secret by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to fetch.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret does not exist.</span>
<span class="sd">            RuntimeError: If the Azure Key Vault API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">azure_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_azure_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">azure_secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span>
                <span class="n">azure_secret_id</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">ResourceNotFoundError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">HttpResponseError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error fetching secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="c1"># The _convert_azure_secret method raises a KeyError if the</span>
        <span class="c1"># secret is tied to a workspace or user that no longer exists. Here we</span>
        <span class="c1"># simply pass the exception up the stack, as if the secret was not found</span>
        <span class="c1"># in the first place, knowing that it will be cascade-deleted soon.</span>
        <span class="k">assert</span> <span class="n">azure_secret</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">tags</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_azure_secret</span><span class="p">(</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">azure_secret</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">azure_secret</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">        Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">        the secret values, use `get_secret`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">            information and sorted according to the filter criteria. The</span>
<span class="sd">            returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">            fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">            secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the filter contains an out-of-bounds page number.</span>
<span class="sd">            RuntimeError: If the Azure Key Vault API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># The Azure Key Vault API does not natively support any of the</span>
        <span class="c1"># filtering, sorting or pagination options that ZenML supports. The</span>
        <span class="c1"># implementation of this method therefore has to fetch all secrets from</span>
        <span class="c1"># the Key Vault, then apply the filtering, sorting and pagination on</span>
        <span class="c1"># the client side.</span>

        <span class="c1"># The metadata will always contain at least the filter criteria</span>
        <span class="c1"># required to exclude everything but Azure secrets that belong to the</span>
        <span class="c1"># current ZenML deployment.</span>
        <span class="n">results</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">all_secrets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">list_properties_of_secrets</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">secret_property</span> <span class="ow">in</span> <span class="n">all_secrets</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># NOTE: we do not include the secret values in the</span>
                    <span class="c1"># response. We would need a separate API call to fetch</span>
                    <span class="c1"># them for each secret, which would be very inefficient</span>
                    <span class="c1"># anyway.</span>
                    <span class="k">assert</span> <span class="n">secret_property</span><span class="o">.</span><span class="n">tags</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                    <span class="n">secret_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_azure_secret</span><span class="p">(</span>
                        <span class="n">tags</span><span class="o">=</span><span class="n">secret_property</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="c1"># The _convert_azure_secret method raises a KeyError</span>
                    <span class="c1"># if the secret is tied to a workspace or user that no</span>
                    <span class="c1"># longer exists or if it is otherwise not valid. Here we</span>
                    <span class="c1"># pretend that the secret does not exist.</span>
                    <span class="k">continue</span>

                <span class="c1"># Filter the secret on the client side.</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">secret_matches</span><span class="p">(</span><span class="n">secret_model</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">secret_model</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">HttpResponseError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error listing Azure Key Vault secrets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Sort the results</span>
        <span class="n">sorted_results</span> <span class="o">=</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">sort_secrets</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

        <span class="c1"># Paginate the results</span>
        <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_results</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">total</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">total_pages</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">total_pages</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">total</span> <span class="o">/</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">&gt;</span> <span class="n">total_pages</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid page </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="si">}</span><span class="s2">. The requested page &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;size is </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> and there are a total of &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> items for this query. The maximum page value &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;therefore is </span><span class="si">{</span><span class="n">total_pages</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">Page</span><span class="p">(</span>
            <span class="n">total</span><span class="o">=</span><span class="n">total</span><span class="p">,</span>
            <span class="n">total_pages</span><span class="o">=</span><span class="n">total_pages</span><span class="p">,</span>
            <span class="n">items</span><span class="o">=</span><span class="n">sorted_results</span><span class="p">[</span>
                <span class="p">(</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span> <span class="p">:</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span>
                <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span>
            <span class="p">],</span>
            <span class="n">index</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="p">,</span>
            <span class="n">max_size</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">        Secret values that are specified as `None` in the update that are</span>
<span class="sd">        present in the existing secret are removed from the existing secret.</span>
<span class="sd">        Values that are present in both secrets are overwritten. All other</span>
<span class="sd">        values in both the existing secret and the update are kept (merged).</span>

<span class="sd">        If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">        enforced in the secrets store are used to validate the update:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to be updated.</span>
<span class="sd">            secret_update: The update to be applied.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If the update includes a change of name or</span>
<span class="sd">                scope and a secret with the same name already exists in the</span>
<span class="sd">                same scope.</span>
<span class="sd">            RuntimeError: If the Azure Key Vault API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

        <span class="c1"># Prevent changes to the secret&#39;s user or workspace</span>
        <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace_update</span><span class="p">(</span>
            <span class="n">secret_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
            <span class="n">current_user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">current_workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate_azure_secret_name</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">scope</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span>
        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Merge the existing values with the update values.</span>
            <span class="c1"># The values that are set to `None` in the update are removed from</span>
            <span class="c1"># the existing secret when we call `.secret_values` later.</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Check if a secret with the same name already exists in the same</span>
            <span class="c1"># scope.</span>
            <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
                <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">exclude_secret_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">azure_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_azure_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>
        <span class="n">secret_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

        <span class="c1"># Convert the ZenML secret metadata to Azure tags</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

        <span class="c1"># We manage the created and updated times ourselves, so we don&#39;t need to</span>
        <span class="c1"># rely on the Azure Key Vault API to set them.</span>
        <span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_AZURE_SECRET_CREATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">created</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
        <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_AZURE_SECRET_UPDATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">updated</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">set_secret</span><span class="p">(</span>
                <span class="n">azure_secret_id</span><span class="p">,</span>
                <span class="n">secret_value</span><span class="p">,</span>
                <span class="n">tags</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
                <span class="n">content_type</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">HttpResponseError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating secret </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updated Azure secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">azure_secret_id</span><span class="p">)</span>

        <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">secret_model</span>

    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The id of the secret to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret does not exist.</span>
<span class="sd">            RuntimeError: If the Azure Key Vault API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">begin_delete_secret</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_get_azure_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">),</span>
            <span class="p">)</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">ResourceNotFoundError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">HttpResponseError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error deleting secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">client</span><span class="p">:</span> <span class="n">SecretClient</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Initialize and return the Azure Key Vault client.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretClient</code></td>
      <td><p>The Azure Key Vault client.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.config.secrets_store_config.SecretsStoreConfiguration" href="../core-config/#zenml.config.secrets_store_config.SecretsStoreConfiguration">SecretsStoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Azure secrets store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>SecretsStoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>key_vault_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the Azure Key Vault that this secrets store
will use to store secrets.</p></td>
      </tr>
      <tr>
        <td><code>azure_client_id</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The client ID of the Azure application service
principal that will be used to access the Azure Key Vault. If not
set, the default Azure credential chain will be used.</p></td>
      </tr>
      <tr>
        <td><code>azure_client_secret</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The client secret of the Azure application
service principal that will be used to access the Azure Key Vault.
If not set, the default Azure credential chain will be used.</p></td>
      </tr>
      <tr>
        <td><code>azure_tenant_id</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The tenant ID of the Azure application service
principal that will be used to access the Azure Key Vault. If not
set, the default Azure credential chain will be used.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/azure_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureSecretsStoreConfiguration</span><span class="p">(</span><span class="n">SecretsStoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure secrets store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        key_vault_name: Name of the Azure Key Vault that this secrets store</span>
<span class="sd">            will use to store secrets.</span>
<span class="sd">        azure_client_id: The client ID of the Azure application service</span>
<span class="sd">            principal that will be used to access the Azure Key Vault. If not</span>
<span class="sd">            set, the default Azure credential chain will be used.</span>
<span class="sd">        azure_client_secret: The client secret of the Azure application</span>
<span class="sd">            service principal that will be used to access the Azure Key Vault.</span>
<span class="sd">            If not set, the default Azure credential chain will be used.</span>
<span class="sd">        azure_tenant_id: The tenant ID of the Azure application service</span>
<span class="sd">            principal that will be used to access the Azure Key Vault. If not</span>
<span class="sd">            set, the default Azure credential chain will be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">AZURE</span>

    <span class="n">key_vault_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">azure_client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_client_secret</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.CONFIG_TYPE.Config" class="doc doc-heading">
        <code>
Config        </code>



</h7>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/azure_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.create_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Creates a new secret.</p>
<p>The new secret is also validated against the scoping rules enforced in
the secrets store:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>SecretRequestModel</code></td>
        <td><p>The secret to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The newly created secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a secret with the same name already exists
in the same scope.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the Azure Key Vault API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/azure_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_SECRET</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">    The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">    the secrets store:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a secret with the same name already exists</span>
<span class="sd">            in the same scope.</span>
<span class="sd">        RuntimeError: If the Azure Key Vault API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_azure_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">user</span><span class="p">,</span> <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace</span><span class="p">(</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">workspace</span>
    <span class="p">)</span>

    <span class="c1"># Check if a secret with the same name already exists in the same</span>
    <span class="c1"># scope.</span>
    <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
        <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="c1"># Generate a new UUID for the secret</span>
    <span class="n">secret_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
    <span class="n">azure_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_azure_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>
    <span class="n">secret_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

    <span class="c1"># Use the ZenML secret metadata as Azure tags</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span>
        <span class="n">secret</span><span class="p">,</span> <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span>
    <span class="p">)</span>

    <span class="c1"># We manage the created and updated times ourselves, so we don&#39;t need to</span>
    <span class="c1"># rely on the Azure Key Vault API to set them.</span>
    <span class="n">created</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_AZURE_SECRET_CREATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">created</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
    <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_AZURE_SECRET_UPDATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">created</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">set_secret</span><span class="p">(</span>
            <span class="n">azure_secret_id</span><span class="p">,</span>
            <span class="n">secret_value</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">content_type</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">HttpResponseError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error creating secret: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created Azure secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">azure_secret_id</span><span class="p">)</span>

    <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">secret_model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Delete a secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the secret to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the secret does not exist.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the Azure Key Vault API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/azure_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The id of the secret to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the secret does not exist.</span>
<span class="sd">        RuntimeError: If the Azure Key Vault API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">begin_delete_secret</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_azure_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">),</span>
        <span class="p">)</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">ResourceNotFoundError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">HttpResponseError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error deleting secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a secret by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to fetch.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the secret does not exist.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the Azure Key Vault API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/azure_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a secret by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to fetch.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the secret does not exist.</span>
<span class="sd">        RuntimeError: If the Azure Key Vault API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">azure_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_azure_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">azure_secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span>
            <span class="n">azure_secret_id</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">ResourceNotFoundError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">HttpResponseError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error fetching secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="c1"># The _convert_azure_secret method raises a KeyError if the</span>
    <span class="c1"># secret is tied to a workspace or user that no longer exists. Here we</span>
    <span class="c1"># simply pass the exception up the stack, as if the secret was not found</span>
    <span class="c1"># in the first place, knowing that it will be cascade-deleted soon.</span>
    <span class="k">assert</span> <span class="n">azure_secret</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">tags</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_azure_secret</span><span class="p">(</span>
        <span class="n">tags</span><span class="o">=</span><span class="n">azure_secret</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">azure_secret</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.list_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>List all secrets matching the given filter criteria.</p>
<p>Note that returned secrets do not include any secret values. To fetch
the secret values, use <code>get_secret</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_filter_model</code></td>
        <td><code>SecretFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[SecretResponseModel]</code></td>
      <td><p>A list of all secrets matching the filter criteria, with pagination
information and sorted according to the filter criteria. The
returned secrets do not include any secret values, only metadata. To
fetch the secret values, use <code>get_secret</code> individually with each
secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the filter contains an out-of-bounds page number.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the Azure Key Vault API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/azure_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">    Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">    the secret values, use `get_secret`.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">        information and sorted according to the filter criteria. The</span>
<span class="sd">        returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">        fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">        secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the filter contains an out-of-bounds page number.</span>
<span class="sd">        RuntimeError: If the Azure Key Vault API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># The Azure Key Vault API does not natively support any of the</span>
    <span class="c1"># filtering, sorting or pagination options that ZenML supports. The</span>
    <span class="c1"># implementation of this method therefore has to fetch all secrets from</span>
    <span class="c1"># the Key Vault, then apply the filtering, sorting and pagination on</span>
    <span class="c1"># the client side.</span>

    <span class="c1"># The metadata will always contain at least the filter criteria</span>
    <span class="c1"># required to exclude everything but Azure secrets that belong to the</span>
    <span class="c1"># current ZenML deployment.</span>
    <span class="n">results</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">all_secrets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">list_properties_of_secrets</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">secret_property</span> <span class="ow">in</span> <span class="n">all_secrets</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># NOTE: we do not include the secret values in the</span>
                <span class="c1"># response. We would need a separate API call to fetch</span>
                <span class="c1"># them for each secret, which would be very inefficient</span>
                <span class="c1"># anyway.</span>
                <span class="k">assert</span> <span class="n">secret_property</span><span class="o">.</span><span class="n">tags</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="n">secret_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_azure_secret</span><span class="p">(</span>
                    <span class="n">tags</span><span class="o">=</span><span class="n">secret_property</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="c1"># The _convert_azure_secret method raises a KeyError</span>
                <span class="c1"># if the secret is tied to a workspace or user that no</span>
                <span class="c1"># longer exists or if it is otherwise not valid. Here we</span>
                <span class="c1"># pretend that the secret does not exist.</span>
                <span class="k">continue</span>

            <span class="c1"># Filter the secret on the client side.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">secret_matches</span><span class="p">(</span><span class="n">secret_model</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">secret_model</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">HttpResponseError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error listing Azure Key Vault secrets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Sort the results</span>
    <span class="n">sorted_results</span> <span class="o">=</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">sort_secrets</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

    <span class="c1"># Paginate the results</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_results</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">total</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">total_pages</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">total_pages</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">total</span> <span class="o">/</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">&gt;</span> <span class="n">total_pages</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid page </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="si">}</span><span class="s2">. The requested page &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;size is </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> and there are a total of &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> items for this query. The maximum page value &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;therefore is </span><span class="si">{</span><span class="n">total_pages</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">Page</span><span class="p">(</span>
        <span class="n">total</span><span class="o">=</span><span class="n">total</span><span class="p">,</span>
        <span class="n">total_pages</span><span class="o">=</span><span class="n">total_pages</span><span class="p">,</span>
        <span class="n">items</span><span class="o">=</span><span class="n">sorted_results</span><span class="p">[</span>
            <span class="p">(</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span> <span class="p">:</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span>
            <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span>
        <span class="p">],</span>
        <span class="n">index</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="p">,</span>
        <span class="n">max_size</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStore.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Updates a secret.</p>
<p>Secret values that are specified as <code>None</code> in the update that are
present in the existing secret are removed from the existing secret.
Values that are present in both secrets are overwritten. All other
values in both the existing secret and the update are kept (merged).</p>
<p>If the update includes a change of name or scope, the scoping rules
enforced in the secrets store are used to validate the update:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_update</code></td>
        <td><code>SecretUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The updated secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If the update includes a change of name or
scope and a secret with the same name already exists in the
same scope.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the Azure Key Vault API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/azure_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">    Secret values that are specified as `None` in the update that are</span>
<span class="sd">    present in the existing secret are removed from the existing secret.</span>
<span class="sd">    Values that are present in both secrets are overwritten. All other</span>
<span class="sd">    values in both the existing secret and the update are kept (merged).</span>

<span class="sd">    If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">    enforced in the secrets store are used to validate the update:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to be updated.</span>
<span class="sd">        secret_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If the update includes a change of name or</span>
<span class="sd">            scope and a secret with the same name already exists in the</span>
<span class="sd">            same scope.</span>
<span class="sd">        RuntimeError: If the Azure Key Vault API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

    <span class="c1"># Prevent changes to the secret&#39;s user or workspace</span>
    <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace_update</span><span class="p">(</span>
        <span class="n">secret_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
        <span class="n">current_user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">current_workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_azure_secret_name</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span>
    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">scope</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span>
    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Merge the existing values with the update values.</span>
        <span class="c1"># The values that are set to `None` in the update are removed from</span>
        <span class="c1"># the existing secret when we call `.secret_values` later.</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Check if a secret with the same name already exists in the same</span>
        <span class="c1"># scope.</span>
        <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
            <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">exclude_secret_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">azure_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_azure_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>
    <span class="n">secret_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

    <span class="c1"># Convert the ZenML secret metadata to Azure tags</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

    <span class="c1"># We manage the created and updated times ourselves, so we don&#39;t need to</span>
    <span class="c1"># rely on the Azure Key Vault API to set them.</span>
    <span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_AZURE_SECRET_CREATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">created</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
    <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_AZURE_SECRET_UPDATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">updated</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">set_secret</span><span class="p">(</span>
            <span class="n">azure_secret_id</span><span class="p">,</span>
            <span class="n">secret_value</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">content_type</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">HttpResponseError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating secret </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updated Azure secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">azure_secret_id</span><span class="p">)</span>

    <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="n">updated</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">secret_model</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStoreConfiguration" class="doc doc-heading">
        <code>
AzureSecretsStoreConfiguration            (<a class="autorefs autorefs-internal" title="zenml.config.secrets_store_config.SecretsStoreConfiguration" href="../core-config/#zenml.config.secrets_store_config.SecretsStoreConfiguration">SecretsStoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Azure secrets store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>SecretsStoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>key_vault_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the Azure Key Vault that this secrets store
will use to store secrets.</p></td>
      </tr>
      <tr>
        <td><code>azure_client_id</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The client ID of the Azure application service
principal that will be used to access the Azure Key Vault. If not
set, the default Azure credential chain will be used.</p></td>
      </tr>
      <tr>
        <td><code>azure_client_secret</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The client secret of the Azure application
service principal that will be used to access the Azure Key Vault.
If not set, the default Azure credential chain will be used.</p></td>
      </tr>
      <tr>
        <td><code>azure_tenant_id</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The tenant ID of the Azure application service
principal that will be used to access the Azure Key Vault. If not
set, the default Azure credential chain will be used.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/azure_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureSecretsStoreConfiguration</span><span class="p">(</span><span class="n">SecretsStoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure secrets store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        key_vault_name: Name of the Azure Key Vault that this secrets store</span>
<span class="sd">            will use to store secrets.</span>
<span class="sd">        azure_client_id: The client ID of the Azure application service</span>
<span class="sd">            principal that will be used to access the Azure Key Vault. If not</span>
<span class="sd">            set, the default Azure credential chain will be used.</span>
<span class="sd">        azure_client_secret: The client secret of the Azure application</span>
<span class="sd">            service principal that will be used to access the Azure Key Vault.</span>
<span class="sd">            If not set, the default Azure credential chain will be used.</span>
<span class="sd">        azure_tenant_id: The tenant ID of the Azure application service</span>
<span class="sd">            principal that will be used to access the Azure Key Vault. If not</span>
<span class="sd">            set, the default Azure credential chain will be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">AZURE</span>

    <span class="n">key_vault_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">azure_client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_client_secret</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">azure_tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.azure_secrets_store.AzureSecretsStoreConfiguration.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/azure_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.secrets_stores.base_secrets_store" class="doc doc-heading">
        <code>base_secrets_store</code>



</h4>

    <div class="doc doc-contents ">

      <p>Base Secrets Store implementation.</p>



  <div class="doc doc-children">














  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore" class="doc doc-heading">
        <code>
BaseSecretsStore            (<span title="pydantic.main.BaseModel">BaseModel</span>, <a class="autorefs autorefs-internal" title="zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface" href="#zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface">SecretsStoreInterface</a>, <span title="abc.ABC">ABC</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Base class for accessing and persisting ZenML secret objects.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td></td>
        <td><p>The configuration of the secret store.</p></td>
      </tr>
      <tr>
        <td><code>_zen_store</code></td>
        <td></td>
        <td><p>The ZenML store that owns this secrets store.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/base_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseSecretsStore</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">SecretsStoreInterface</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for accessing and persisting ZenML secret objects.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: The configuration of the secret store.</span>
<span class="sd">        _zen_store: The ZenML store that owns this secrets store.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">SecretsStoreConfiguration</span>
    <span class="n">_zen_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;BaseZenStore&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">SecretsStoreType</span><span class="p">]</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]]</span>

    <span class="c1"># ---------------------------------</span>
    <span class="c1"># Initialization and configuration</span>
    <span class="c1"># ---------------------------------</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">zen_store</span><span class="p">:</span> <span class="s2">&quot;BaseZenStore&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create and initialize a secrets store.</span>

<span class="sd">        Args:</span>
<span class="sd">            zen_store: The ZenML store that owns this secrets store.</span>
<span class="sd">            **kwargs: Additional keyword arguments to pass to the Pydantic</span>
<span class="sd">                constructor.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the store cannot be initialized.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_zen_store</span> <span class="o">=</span> <span class="n">zen_store</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">register_event_handler</span><span class="p">(</span>
            <span class="n">StoreEvent</span><span class="o">.</span><span class="n">WORKSPACE_DELETED</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_workspace_deleted</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">register_event_handler</span><span class="p">(</span>
            <span class="n">StoreEvent</span><span class="o">.</span><span class="n">USER_DELETED</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_user_deleted</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_initialize</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error initializing </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> secrets store: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_load_custom_store_class</span><span class="p">(</span>
        <span class="n">store_config</span><span class="p">:</span> <span class="n">SecretsStoreConfiguration</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseSecretsStore&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Loads the custom secrets store class from the given config.</span>

<span class="sd">        Args:</span>
<span class="sd">            store_config: The configuration of the secrets store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secrets store class corresponding to the configured custom</span>
<span class="sd">            secrets store.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the configured class path cannot be imported or is</span>
<span class="sd">                not a subclass of `BaseSecretsStore`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Ensured through Pydantic root validation</span>
        <span class="k">assert</span> <span class="n">store_config</span><span class="o">.</span><span class="n">class_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="c1"># Import the class dynamically</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">store_class</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load_and_validate_class</span><span class="p">(</span>
                <span class="n">store_config</span><span class="o">.</span><span class="n">class_path</span><span class="p">,</span> <span class="n">expected_class</span><span class="o">=</span><span class="n">BaseSecretsStore</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ImportError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Could not import class `</span><span class="si">{</span><span class="n">store_config</span><span class="o">.</span><span class="n">class_path</span><span class="si">}</span><span class="s2">`: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="k">return</span> <span class="n">store_class</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_store_class</span><span class="p">(</span>
        <span class="n">store_config</span><span class="p">:</span> <span class="n">SecretsStoreConfiguration</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseSecretsStore&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the class of the given secrets store type.</span>

<span class="sd">        Args:</span>
<span class="sd">            store_config: The configuration of the secrets store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The class corresponding to the configured secrets store or None if</span>
<span class="sd">            the type is unknown.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If the secrets store type is unsupported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">SQL</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.zen_stores.secrets_stores.sql_secrets_store</span> <span class="kn">import</span> <span class="p">(</span>
                <span class="n">SqlSecretsStore</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="n">SqlSecretsStore</span>

        <span class="k">if</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.zen_stores.secrets_stores.rest_secrets_store</span> <span class="kn">import</span> <span class="p">(</span>
                <span class="n">RestSecretsStore</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="n">RestSecretsStore</span>

        <span class="k">if</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">AWS</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.zen_stores.secrets_stores.aws_secrets_store</span> <span class="kn">import</span> <span class="p">(</span>
                <span class="n">AWSSecretsStore</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="n">AWSSecretsStore</span>
        <span class="k">elif</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">GCP</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.zen_stores.secrets_stores.gcp_secrets_store</span> <span class="kn">import</span> <span class="p">(</span>
                <span class="n">GCPSecretsStore</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="n">GCPSecretsStore</span>
        <span class="k">elif</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">AZURE</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.zen_stores.secrets_stores.azure_secrets_store</span> <span class="kn">import</span> <span class="p">(</span>
                <span class="n">AzureSecretsStore</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="n">AzureSecretsStore</span>
        <span class="k">elif</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">HASHICORP</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.zen_stores.secrets_stores.hashicorp_secrets_store</span> <span class="kn">import</span> <span class="p">(</span>
                <span class="n">HashiCorpVaultSecretsStore</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="n">HashiCorpVaultSecretsStore</span>
        <span class="k">elif</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">CUSTOM</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No store implementation found for secrets store type &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">store_config</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">`.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">BaseSecretsStore</span><span class="o">.</span><span class="n">_load_custom_store_class</span><span class="p">(</span><span class="n">store_config</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">create_store</span><span class="p">(</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">SecretsStoreConfiguration</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseSecretsStore&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create and initialize a secrets store from a secrets store configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The secrets store configuration to use.</span>
<span class="sd">            **kwargs: Additional keyword arguments to pass to the store class</span>

<span class="sd">        Returns:</span>
<span class="sd">            The initialized secrets store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Creating secrets store with type &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;...&quot;</span>
        <span class="p">)</span>
        <span class="n">store_class</span> <span class="o">=</span> <span class="n">BaseSecretsStore</span><span class="o">.</span><span class="n">get_store_class</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="n">store</span> <span class="o">=</span> <span class="n">store_class</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">store</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretsStoreType</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The type of the secrets store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The type of the secrets store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">TYPE</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">zen_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseZenStore&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The ZenML store that owns this secrets store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ZenML store that owns this secrets store.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the store is not initialized.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zen_store</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Store not initialized&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zen_store</span>

    <span class="c1"># --------------------</span>
    <span class="c1"># Store Event Handlers</span>
    <span class="c1"># --------------------</span>

    <span class="k">def</span> <span class="nf">_on_workspace_deleted</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">StoreEvent</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Handle the deletion of a workspace.</span>

<span class="sd">        This method deletes all secrets associated with the given workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: The store event.</span>
<span class="sd">            workspace_id: The ID of the workspace that was deleted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Handling workspace deletion event for workspace </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">workspace_id</span>
        <span class="p">)</span>

        <span class="c1"># Delete all secrets associated with the workspace.</span>
        <span class="n">secrets</span> <span class="o">=</span> <span class="n">depaginate</span><span class="p">(</span>
            <span class="n">partial</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">,</span>
                <span class="n">secret_filter_model</span><span class="o">=</span><span class="n">SecretFilterModel</span><span class="p">(</span>
                    <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_id</span>
                <span class="p">),</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="n">secrets</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Failed to delete secret </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_on_user_deleted</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">StoreEvent</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Handle the deletion of a user.</span>

<span class="sd">        This method deletes all secrets associated with the given user.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: The store event.</span>
<span class="sd">            user_id: The ID of the user that was deleted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Handling user deletion event for user </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">user_id</span><span class="p">)</span>

        <span class="c1"># Delete all secrets associated with the user.</span>
        <span class="n">secrets</span> <span class="o">=</span> <span class="n">depaginate</span><span class="p">(</span>
            <span class="n">partial</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">,</span>
                <span class="n">secret_filter_model</span><span class="o">=</span><span class="n">SecretFilterModel</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="n">secrets</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Failed to delete secret </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

    <span class="c1"># ------------------------------------------</span>
    <span class="c1"># Common helpers for Secrets Store back-ends</span>
    <span class="c1"># ------------------------------------------</span>

    <span class="k">def</span> <span class="nf">_validate_user_and_workspace</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">UserResponseModel</span><span class="p">,</span> <span class="n">WorkspaceResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates that the given user and workspace IDs are valid.</span>

<span class="sd">        This method calls the ZenML store to validate the user and workspace</span>
<span class="sd">        IDs. It raises a KeyError exception if either the user or workspace</span>
<span class="sd">        does not exist.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_id: The ID of the user to validate.</span>
<span class="sd">            workspace_id: The ID of the workspace to validate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The user and workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
        <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">user</span><span class="p">,</span> <span class="n">workspace</span>

    <span class="k">def</span> <span class="nf">_validate_user_and_workspace_update</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span><span class="p">,</span>
        <span class="n">current_user</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">current_workspace</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates that a secret update does not change the user or workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_update: Secret update.</span>
<span class="sd">            current_user: The current user ID.</span>
<span class="sd">            current_workspace: The current workspace ID.</span>

<span class="sd">        Raises:</span>
<span class="sd">            IllegalOperationError: If the user or workspace is changed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">user</span> <span class="ow">and</span> <span class="n">current_user</span> <span class="o">!=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span><span class="s2">&quot;Cannot change the user of a secret.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">secret_update</span><span class="o">.</span><span class="n">workspace</span>
            <span class="ow">and</span> <span class="n">current_workspace</span> <span class="o">!=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">workspace</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="s2">&quot;Cannot change the workspace of a secret.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_check_secret_scope</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="n">SecretScope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">user</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">exclude_secret_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if a secret with the given name already exists in the given scope.</span>

<span class="sd">        This method enforces the following scope rules:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_name: The name of the secret.</span>
<span class="sd">            scope: The scope of the secret.</span>
<span class="sd">            workspace: The ID of the workspace to which the secret belongs.</span>
<span class="sd">            user: The ID of the user to which the secret belongs.</span>
<span class="sd">            exclude_secret_id: The ID of a secret to exclude from the check</span>
<span class="sd">                (used e.g. during an update to exclude the existing secret).</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if a secret with the given name already exists in the given</span>
<span class="sd">            scope, False otherwise, and an error message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">filter</span> <span class="o">=</span> <span class="n">SecretFilterModel</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>  <span class="c1"># We only need to know if there is more than one secret</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">scope</span> <span class="ow">in</span> <span class="p">[</span><span class="n">SecretScope</span><span class="o">.</span><span class="n">WORKSPACE</span><span class="p">,</span> <span class="n">SecretScope</span><span class="o">.</span><span class="n">USER</span><span class="p">]:</span>
            <span class="nb">filter</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">=</span> <span class="n">workspace</span>
        <span class="k">if</span> <span class="n">scope</span> <span class="o">==</span> <span class="n">SecretScope</span><span class="o">.</span><span class="n">USER</span><span class="p">:</span>
            <span class="nb">filter</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">user</span>

        <span class="n">existing_secrets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span><span class="n">secret_filter_model</span><span class="o">=</span><span class="nb">filter</span><span class="p">)</span><span class="o">.</span><span class="n">items</span>
        <span class="k">if</span> <span class="n">exclude_secret_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">existing_secrets</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">existing_secrets</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="n">exclude_secret_id</span>
            <span class="p">]</span>

        <span class="k">if</span> <span class="n">existing_secrets</span><span class="p">:</span>
            <span class="n">existing_secret_model</span> <span class="o">=</span> <span class="n">existing_secrets</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Found an existing </span><span class="si">{</span><span class="n">scope</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> scoped secret with the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;same &#39;</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&#39; name&quot;</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">scope</span> <span class="ow">in</span> <span class="p">[</span><span class="n">SecretScope</span><span class="o">.</span><span class="n">WORKSPACE</span><span class="p">,</span> <span class="n">SecretScope</span><span class="o">.</span><span class="n">USER</span><span class="p">]:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot; in the same &#39;</span><span class="si">{</span><span class="n">existing_secret_model</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;workspace&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">scope</span> <span class="o">==</span> <span class="n">SecretScope</span><span class="o">.</span><span class="n">USER</span><span class="p">:</span>
                <span class="k">assert</span> <span class="n">existing_secret_model</span><span class="o">.</span><span class="n">user</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot; for the same &#39;</span><span class="si">{</span><span class="n">existing_secret_model</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; user&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">msg</span>

        <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># --------------------------------------------------------</span>
    <span class="c1"># Helpers for Secrets Store back-ends that use tags/labels</span>
    <span class="c1"># --------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">_get_secret_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">secret_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">secret_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretScope</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">workspace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dictionary with metadata that can be used as tags/labels.</span>

<span class="sd">        This utility method can be used with Secrets Managers that can</span>
<span class="sd">        associate metadata (e.g. tags, labels) with a secret. The metadata can</span>
<span class="sd">        be configured alongside each secret and then used as a filter criteria</span>
<span class="sd">        when running queries against the backend e.g. to retrieve all the</span>
<span class="sd">        secrets within a given scope or to retrieve all secrets with a given</span>
<span class="sd">        name within a given scope.</span>

<span class="sd">        NOTE: the ZENML_SECRET_LABEL is always included in the metadata to</span>
<span class="sd">        distinguish ZenML secrets from other secrets that might be stored in</span>
<span class="sd">        the same backend, as well as to distinguish between different ZenML</span>
<span class="sd">        deployments using the same backend. Its value is set to the ZenML</span>
<span class="sd">        deployment ID and it should be included in all queries to the backend.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: Optional secret ID to include in the metadata.</span>
<span class="sd">            secret_name: Optional secret name to include in the metadata.</span>
<span class="sd">            scope: Optional scope to include in the metadata.</span>
<span class="sd">            workspace: Optional workspace ID to include in the metadata.</span>
<span class="sd">            user: Optional user ID to include in the scope metadata.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary with secret metadata information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Always include the main ZenML label to distinguish ZenML secrets</span>
        <span class="c1"># from other secrets that might be stored in the same backend and</span>
        <span class="c1"># to distinguish between different ZenML deployments using the same</span>
        <span class="c1"># backend.</span>
        <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">ZENML_SECRET_LABEL</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">secret_id</span><span class="p">:</span>
            <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_SECRET_ID_LABEL</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">secret_name</span><span class="p">:</span>
            <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_SECRET_NAME_LABEL</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_name</span>
        <span class="k">if</span> <span class="n">scope</span><span class="p">:</span>
            <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_SECRET_SCOPE_LABEL</span><span class="p">]</span> <span class="o">=</span> <span class="n">scope</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="n">workspace</span><span class="p">:</span>
            <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_SECRET_WORKSPACE_LABEL</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">workspace</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">user</span><span class="p">:</span>
            <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_SECRET_USER_LABEL</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">metadata</span>

    <span class="k">def</span> <span class="nf">_get_secret_metadata_for_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">secret</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">SecretRequestModel</span><span class="p">,</span> <span class="n">SecretResponseModel</span><span class="p">],</span>
        <span class="n">secret_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dictionary with the secrets metadata describing a secret.</span>

<span class="sd">        This utility method can be used with Secrets Managers that can</span>
<span class="sd">        associate metadata (e.g. tags, labels) with a secret. The metadata can</span>
<span class="sd">        be configured alongside each secret and then used as a filter criteria</span>
<span class="sd">        when running queries against the backend.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The secret to get the metadata for.</span>
<span class="sd">            secret_id: Optional secret ID to include in the metadata (if not</span>
<span class="sd">                already included in the secret).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dictionary with secret metadata information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span> <span class="n">SecretRequestModel</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata</span><span class="p">(</span>
                <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
                <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata</span><span class="p">(</span>
            <span class="n">secret_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_secret_from_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">created</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
        <span class="n">updated</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a ZenML secret model from metadata stored in the secrets store backend.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata: ZenML secret metadata collected from the backend secret</span>
<span class="sd">                (e.g. from secret tags/labels).</span>
<span class="sd">            created: The secret creation time.</span>
<span class="sd">            updated: The secret last updated time.</span>
<span class="sd">            values: The secret values (optional).</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ZenML secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret does not have the required metadata, if it</span>
<span class="sd">                is not managed by this ZenML instance or if it is linked to a</span>
<span class="sd">                user or workspace that no longer exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Double-check that the secret is managed by this ZenML instance.</span>
        <span class="k">if</span> <span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ZENML_SECRET_LABEL</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span><span class="o">.</span><span class="n">id</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;Secret is not managed by this ZenML instance&quot;</span><span class="p">)</span>

        <span class="c1"># Recover the ZenML secret fields from the input secret metadata.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">secret_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_SECRET_ID_LABEL</span><span class="p">])</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_SECRET_NAME_LABEL</span><span class="p">]</span>
            <span class="n">scope</span> <span class="o">=</span> <span class="n">SecretScope</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_SECRET_SCOPE_LABEL</span><span class="p">])</span>
            <span class="n">workspace_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_SECRET_WORKSPACE_LABEL</span><span class="p">])</span>
            <span class="n">user_id</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_SECRET_USER_LABEL</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Secret could not be retrieved: missing required metadata: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">user</span><span class="p">,</span> <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace</span><span class="p">(</span>
                <span class="n">user_id</span><span class="p">,</span> <span class="n">workspace_id</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># The user or workspace associated with the secret no longer</span>
            <span class="c1"># exists. This can happen if the user or workspace is being</span>
            <span class="c1"># deleted nearly at the same time as this call. In this case, we</span>
            <span class="c1"># raise a KeyError exception. The caller should handle this</span>
            <span class="c1"># exception by assuming that the secret no longer exists.</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> is associated with a &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;non-existent user or workspace. Silently ignoring the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;secret: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> could not be retrieved: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;the secret is associated with a non-existent user or &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;workspace: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">values</span> <span class="k">if</span> <span class="n">values</span> <span class="k">else</span> <span class="p">{},</span>
            <span class="n">created</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">secret_model</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Validate attributes when assigning them. We need to set this in order</span>
        <span class="c1"># to have a mix of mutable and immutable attributes</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># Ignore extra attributes from configs of previous ZenML versions</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
        <span class="c1"># all attributes with leading underscore are private and therefore</span>
        <span class="c1"># are mutable and not included in serialization</span>
        <span class="n">underscore_attrs_are_private</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.type" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>The type of the secrets store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretsStoreType</code></td>
      <td><p>The type of the secrets store.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.zen_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">zen_store</span><span class="p">:</span> <span class="n">BaseZenStore</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>The ZenML store that owns this secrets store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseZenStore</code></td>
      <td><p>The ZenML store that owns this secrets store.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the store is not initialized.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/base_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Validate attributes when assigning them. We need to set this in order</span>
    <span class="c1"># to have a mix of mutable and immutable attributes</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Ignore extra attributes from configs of previous ZenML versions</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
    <span class="c1"># all attributes with leading underscore are private and therefore</span>
    <span class="c1"># are mutable and not included in serialization</span>
    <span class="n">underscore_attrs_are_private</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">














  </div>

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">zen_store</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create and initialize a secrets store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>zen_store</code></td>
        <td><code>BaseZenStore</code></td>
        <td><p>The ZenML store that owns this secrets store.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the Pydantic
constructor.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the store cannot be initialized.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/base_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">zen_store</span><span class="p">:</span> <span class="s2">&quot;BaseZenStore&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create and initialize a secrets store.</span>

<span class="sd">    Args:</span>
<span class="sd">        zen_store: The ZenML store that owns this secrets store.</span>
<span class="sd">        **kwargs: Additional keyword arguments to pass to the Pydantic</span>
<span class="sd">            constructor.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the store cannot be initialized.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_zen_store</span> <span class="o">=</span> <span class="n">zen_store</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">register_event_handler</span><span class="p">(</span>
        <span class="n">StoreEvent</span><span class="o">.</span><span class="n">WORKSPACE_DELETED</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_workspace_deleted</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">register_event_handler</span><span class="p">(</span>
        <span class="n">StoreEvent</span><span class="o">.</span><span class="n">USER_DELETED</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_user_deleted</span>
    <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_initialize</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error initializing </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> secrets store: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.create_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_store</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create and initialize a secrets store from a secrets store configuration.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>SecretsStoreConfiguration</code></td>
        <td><p>The secrets store configuration to use.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the store class</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseSecretsStore</code></td>
      <td><p>The initialized secrets store.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/base_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">create_store</span><span class="p">(</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">SecretsStoreConfiguration</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseSecretsStore&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create and initialize a secrets store from a secrets store configuration.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The secrets store configuration to use.</span>
<span class="sd">        **kwargs: Additional keyword arguments to pass to the store class</span>

<span class="sd">    Returns:</span>
<span class="sd">        The initialized secrets store.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Creating secrets store with type &#39;</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;...&quot;</span>
    <span class="p">)</span>
    <span class="n">store_class</span> <span class="o">=</span> <span class="n">BaseSecretsStore</span><span class="o">.</span><span class="n">get_store_class</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="n">store</span> <span class="o">=</span> <span class="n">store_class</span><span class="p">(</span>
        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">store</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore.get_store_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_store_class</span><span class="p">(</span><span class="n">store_config</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns the class of the given secrets store type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>store_config</code></td>
        <td><code>SecretsStoreConfiguration</code></td>
        <td><p>The configuration of the secrets store.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[BaseSecretsStore]</code></td>
      <td><p>The class corresponding to the configured secrets store or None if
the type is unknown.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If the secrets store type is unsupported.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/base_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_store_class</span><span class="p">(</span>
    <span class="n">store_config</span><span class="p">:</span> <span class="n">SecretsStoreConfiguration</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseSecretsStore&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the class of the given secrets store type.</span>

<span class="sd">    Args:</span>
<span class="sd">        store_config: The configuration of the secrets store.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The class corresponding to the configured secrets store or None if</span>
<span class="sd">        the type is unknown.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If the secrets store type is unsupported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">SQL</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.secrets_stores.sql_secrets_store</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">SqlSecretsStore</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">SqlSecretsStore</span>

    <span class="k">if</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.secrets_stores.rest_secrets_store</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">RestSecretsStore</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">RestSecretsStore</span>

    <span class="k">if</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">AWS</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.secrets_stores.aws_secrets_store</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">AWSSecretsStore</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">AWSSecretsStore</span>
    <span class="k">elif</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">GCP</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.secrets_stores.gcp_secrets_store</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">GCPSecretsStore</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">GCPSecretsStore</span>
    <span class="k">elif</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">AZURE</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.secrets_stores.azure_secrets_store</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">AzureSecretsStore</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">AzureSecretsStore</span>
    <span class="k">elif</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">HASHICORP</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.secrets_stores.hashicorp_secrets_store</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">HashiCorpVaultSecretsStore</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">HashiCorpVaultSecretsStore</span>
    <span class="k">elif</span> <span class="n">store_config</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">CUSTOM</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;No store implementation found for secrets store type &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">store_config</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">`.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">BaseSecretsStore</span><span class="o">.</span><span class="n">_load_custom_store_class</span><span class="p">(</span><span class="n">store_config</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.secrets_stores.gcp_secrets_store" class="doc doc-heading">
        <code>gcp_secrets_store</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the GCP Secrets Store.</p>



  <div class="doc doc-children">















  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore" class="doc doc-heading">
        <code>
GCPSecretsStore            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore" href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore">BaseSecretsStore</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Secrets store implementation that uses the GCP Secrets Manager API.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/gcp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GCPSecretsStore</span><span class="p">(</span><span class="n">BaseSecretsStore</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Secrets store implementation that uses the GCP Secrets Manager API.&quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">GCPSecretsStoreConfiguration</span>
    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">SecretsStoreType</span><span class="p">]</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">GCP</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">GCPSecretsStoreConfiguration</span>

    <span class="n">_client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretManagerServiceClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the GCP secrets store.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Initializing GCPSecretsStore&quot;</span><span class="p">)</span>

        <span class="c1"># Initialize the GCP client.</span>
        <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize and return the GCP Secrets Manager client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The GCP Secrets Manager client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">SecretManagerServiceClient</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">parent_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Construct the GCP parent path to the secret manager.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The parent path to the secret manager</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;projects/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">_get_secret_labels</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">SecretRequestModel</span><span class="p">,</span> <span class="n">SecretResponseModel</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a list of Google secret label values for a given secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: the secret object</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of Google secret label values</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">metadata</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_validate_gcp_secret_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate a secret name.</span>

<span class="sd">        Given that we save secret names as labels, we are also limited by the</span>
<span class="sd">        limitation that Google imposes on label values: max 63 characters and</span>
<span class="sd">        must only contain lowercase letters, numerals and the hyphen (-) and</span>
<span class="sd">        underscore (_) characters.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: the secret name</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the secret name is invalid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[a-z0-9_\-]+&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid secret name &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Must contain &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;only lowercase alphanumeric characters and the hyphen (-) and &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;underscore (_) characters.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">63</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid secret name &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. The length is &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;limited to maximum 63 characters.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_gcp_secret_name</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the GCP secret name for the given secret.</span>

<span class="sd">        The convention used for GCP secret names is to use the ZenML</span>
<span class="sd">        secret UUID prefixed with `zenml` as the AWS secret name,</span>
<span class="sd">        i.e. `zenml/&lt;secret_uuid&gt;`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ZenML secret ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The GCP secret name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">GCP_ZENML_SECRET_NAME_PREFIX</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">_convert_gcp_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">labels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">values</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a ZenML secret model from data stored in an GCP secret.</span>

<span class="sd">        If the GCP secret cannot be converted, the method acts as if the</span>
<span class="sd">        secret does not exist and raises a KeyError.</span>

<span class="sd">        Args:</span>
<span class="sd">            labels: The GCP secret labels.</span>
<span class="sd">            values: The GCP secret values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ZenML secret model.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the GCP secret cannot be converted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Recover the ZenML secret metadata from the AWS secret tags.</span>

        <span class="c1"># The GCP secret labels do not really behave like a dictionary: when</span>
        <span class="c1"># a key is not found, it does not raise a KeyError, but instead</span>
        <span class="c1"># returns an empty string. That&#39;s why we make this conversion.</span>
        <span class="n">label_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">created</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span>
                <span class="n">label_dict</span><span class="p">[</span><span class="n">ZENML_GCP_SECRET_CREATED_KEY</span><span class="p">],</span>
                <span class="n">ZENML_GCP_DATE_FORMAT_STRING</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span>
                <span class="n">label_dict</span><span class="p">[</span><span class="n">ZENML_GCP_SECRET_UPDATED_KEY</span><span class="p">],</span>
                <span class="n">ZENML_GCP_DATE_FORMAT_STRING</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid GCP secret: missing required tag &#39;</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_secret_from_metadata</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">label_dict</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_gcp_filter_string</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a SecretFilterModel to a GCP filter string.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_filter_model: The secret filter model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The GCP filter string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">operator_map</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;equals&quot;</span><span class="p">:</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">filter_terms</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="nb">filter</span> <span class="ow">in</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">list_of_filters</span><span class="p">:</span>
            <span class="n">filter_terms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">filter</span><span class="o">.</span><span class="n">column</span><span class="si">}{</span><span class="n">operator_map</span><span class="p">[</span><span class="nb">filter</span><span class="o">.</span><span class="n">operation</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="si">}{</span><span class="nb">filter</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">logical_operator</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">filter_terms</span>
        <span class="p">)</span>

    <span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_SECRET</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new secret.</span>

<span class="sd">        The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">        the secrets store:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The secret to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the secret was unable to be created.</span>
<span class="sd">            EntityExistsError: If a secret with the same name already exists</span>
<span class="sd">                in the same scope.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_gcp_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="n">user</span><span class="p">,</span> <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace</span><span class="p">(</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">workspace</span>
        <span class="p">)</span>

        <span class="c1"># Check if a secret with the same name already exists in the same</span>
        <span class="c1"># scope.</span>
        <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
            <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">secret_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
        <span class="n">secret_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

        <span class="n">created</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">microsecond</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span>
            <span class="n">secret</span><span class="o">=</span><span class="n">secret</span><span class="p">,</span> <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span>
        <span class="p">)</span>
        <span class="n">labels</span><span class="p">[</span><span class="n">ZENML_GCP_SECRET_CREATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">created</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
            <span class="n">ZENML_GCP_DATE_FORMAT_STRING</span>
        <span class="p">)</span>
        <span class="n">labels</span><span class="p">[</span><span class="n">ZENML_GCP_SECRET_UPDATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">created</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
            <span class="n">ZENML_GCP_DATE_FORMAT_STRING</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">gcp_secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">create_secret</span><span class="p">(</span>
                <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">,</span>
                    <span class="s2">&quot;secret_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_gcp_secret_name</span><span class="p">(</span><span class="n">secret_id</span><span class="p">),</span>
                    <span class="s2">&quot;secret&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;replication&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;automatic&quot;</span><span class="p">:</span> <span class="p">{}},</span>
                        <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="n">labels</span><span class="p">,</span>
                    <span class="p">},</span>
                <span class="p">}</span>
            <span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created empty parent secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gcp_secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">add_secret_version</span><span class="p">(</span>
                <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="n">gcp_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="s2">&quot;payload&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">secret_value</span><span class="o">.</span><span class="n">encode</span><span class="p">()},</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to create secret.: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Added value to secret.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a secret by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to fetch.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret does not exist.</span>
<span class="sd">            RuntimeError: If the GCP Secrets Manager API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gcp_secret_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secret_path</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_gcp_secret_name</span><span class="p">(</span><span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">gcp_secret_name</span><span class="p">)</span>
            <span class="n">secret_version_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">access_secret_version</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">gcp_secret_name</span><span class="si">}</span><span class="s2">/versions/latest&quot;</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">google_exceptions</span><span class="o">.</span><span class="n">NotFound</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t find the specified secret for secret_id &#39;</span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error fetching secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">secret_values</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
            <span class="n">secret_version_values</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_gcp_secret</span><span class="p">(</span>
            <span class="n">labels</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">secret_values</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">        Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">        the secret values, use `get_secret`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_filter_model: The filter criteria.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">            information and sorted according to the filter criteria. The</span>
<span class="sd">            returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">            fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">            secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the filter contains an out-of-bounds page number.</span>
<span class="sd">            RuntimeError: If the Azure Key Vault API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: implement filter method for server-side filtering</span>
        <span class="c1"># convert the secret_filter_model to a GCP filter string</span>
        <span class="n">gcp_filters</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="c1"># gcp_filters = self._get_gcp_filter_string(</span>
        <span class="c1">#     secret_filter_model=secret_filter_model</span>
        <span class="c1"># )</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># get all the secrets and their labels (for their names) from GCP</span>
            <span class="c1"># (use the filter string to limit what doesn&#39;t match the filter)</span>
            <span class="n">secrets</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
                <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">,</span>
                    <span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="n">gcp_filters</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">secrets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_gcp_secret</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">))</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="c1"># keep going / ignore if this secret version doesn&#39;t exist</span>
                    <span class="c1"># or isn&#39;t a ZenML secret</span>
                    <span class="k">continue</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error listing GCP secrets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="c1"># do client filtering for anything not covered by the filter string</span>
        <span class="n">filtered_secrets</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">secret</span>
            <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="n">secrets</span>
            <span class="k">if</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">secret_matches</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
        <span class="p">]</span>

        <span class="c1"># sort the results</span>
        <span class="n">sorted_results</span> <span class="o">=</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">sort_secrets</span><span class="p">(</span><span class="n">filtered_secrets</span><span class="p">)</span>

        <span class="c1"># paginate the results</span>
        <span class="n">secret_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_results</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">secret_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">total_pages</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">total_pages</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">secret_count</span> <span class="o">/</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">&gt;</span> <span class="n">total_pages</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid page </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="si">}</span><span class="s2">. The requested page &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;size is </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> and there are a total of &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">secret_count</span><span class="si">}</span><span class="s2"> items for this query. The maximum page value &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;therefore is </span><span class="si">{</span><span class="n">total_pages</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">Page</span><span class="p">(</span>
            <span class="n">total</span><span class="o">=</span><span class="n">secret_count</span><span class="p">,</span>
            <span class="n">total_pages</span><span class="o">=</span><span class="n">total_pages</span><span class="p">,</span>
            <span class="n">items</span><span class="o">=</span><span class="n">sorted_results</span><span class="p">[</span>
                <span class="p">(</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span> <span class="p">:</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span>
                <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span>
            <span class="p">],</span>
            <span class="n">index</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="p">,</span>
            <span class="n">max_size</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a secret.</span>

<span class="sd">        Secret values that are specified as `None` in the update that are</span>
<span class="sd">        present in the existing secret are removed from the existing secret.</span>
<span class="sd">        Values that are present in both secrets are overwritten. All other</span>
<span class="sd">        values in both the existing secret and the update are kept (merged).</span>

<span class="sd">        If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">        enforced in the secrets store are used to validate the update:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to update.</span>
<span class="sd">            secret_update: The update to apply to the secret.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the secret update is invalid.</span>
<span class="sd">            EntityExistsError: If the update includes a change of name or</span>
<span class="sd">                scope and a secret with the same name already exists in the</span>
<span class="sd">                same scope.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">)</span>
        <span class="n">gcp_secret_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secret_path</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_gcp_secret_name</span><span class="p">(</span><span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace_update</span><span class="p">(</span>
            <span class="n">secret_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
            <span class="n">current_user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">current_workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate_gcp_secret_name</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">scope</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span>
        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Merge the existing values with the update values.</span>
            <span class="c1"># The values that are set to `None` in the update are removed from</span>
            <span class="c1"># the existing secret when we call `.secret_values` later.</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Check if a secret with the same name already exists in the same</span>
            <span class="c1"># scope.</span>
            <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
                <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">exclude_secret_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># Convert the ZenML secret metadata to GCP labels</span>
        <span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">microsecond</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
        <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_GCP_SECRET_UPDATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">updated</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
            <span class="n">ZENML_GCP_DATE_FORMAT_STRING</span>
        <span class="p">)</span>
        <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_GCP_SECRET_CREATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">created</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
            <span class="n">ZENML_GCP_DATE_FORMAT_STRING</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># UPDATE THE SECRET METADATA</span>
            <span class="n">update_secret</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">gcp_secret_name</span><span class="p">,</span>
                <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="n">metadata</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">update_mask</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;paths&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;labels&quot;</span><span class="p">]}</span>
            <span class="n">gcp_updated_secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">update_secret</span><span class="p">(</span>
                <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;secret&quot;</span><span class="p">:</span> <span class="n">update_secret</span><span class="p">,</span>
                    <span class="s2">&quot;update_mask&quot;</span><span class="p">:</span> <span class="n">update_mask</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">)</span>
            <span class="c1"># ADD A NEW SECRET VERSION</span>
            <span class="n">secret_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">add_secret_version</span><span class="p">(</span>
                <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="n">gcp_updated_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="s2">&quot;payload&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">secret_value</span><span class="o">.</span><span class="n">encode</span><span class="p">()},</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating secret: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updated GCP secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gcp_secret_name</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret could not be found.</span>
<span class="sd">            RuntimeError: If the secret could not be deleted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">gcp_secret_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secret_path</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_gcp_secret_name</span><span class="p">(</span><span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">gcp_secret_name</span><span class="p">})</span>
        <span class="k">except</span> <span class="n">google_exceptions</span><span class="o">.</span><span class="n">NotFound</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to delete secret: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">client</span><span class="p">:</span> <span class="n">Any</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Initialize and return the GCP Secrets Manager client.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The GCP Secrets Manager client.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.parent_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">parent_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Construct the GCP parent path to the secret manager.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The parent path to the secret manager</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.config.secrets_store_config.SecretsStoreConfiguration" href="../core-config/#zenml.config.secrets_store_config.SecretsStoreConfiguration">SecretsStoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>GCP secrets store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>SecretsStoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>project_id</code></td>
        <td><code>str</code></td>
        <td><p>The GCP project ID where the secrets are stored.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/gcp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GCPSecretsStoreConfiguration</span><span class="p">(</span><span class="n">SecretsStoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;GCP secrets store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        project_id: The GCP project ID where the secrets are stored.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">GCP</span>
    <span class="n">project_id</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.CONFIG_TYPE.Config" class="doc doc-heading">
        <code>
Config        </code>



</h7>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/gcp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.create_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Create a new secret.</p>
<p>The new secret is also validated against the scoping rules enforced in
the secrets store:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>SecretRequestModel</code></td>
        <td><p>The secret to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The created secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the secret was unable to be created.</p></td>
      </tr>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a secret with the same name already exists
in the same scope.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/gcp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_SECRET</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new secret.</span>

<span class="sd">    The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">    the secrets store:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the secret was unable to be created.</span>
<span class="sd">        EntityExistsError: If a secret with the same name already exists</span>
<span class="sd">            in the same scope.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_gcp_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="n">user</span><span class="p">,</span> <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace</span><span class="p">(</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">workspace</span>
    <span class="p">)</span>

    <span class="c1"># Check if a secret with the same name already exists in the same</span>
    <span class="c1"># scope.</span>
    <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
        <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">secret_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
    <span class="n">secret_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

    <span class="n">created</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">microsecond</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span>
        <span class="n">secret</span><span class="o">=</span><span class="n">secret</span><span class="p">,</span> <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span>
    <span class="p">)</span>
    <span class="n">labels</span><span class="p">[</span><span class="n">ZENML_GCP_SECRET_CREATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">created</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
        <span class="n">ZENML_GCP_DATE_FORMAT_STRING</span>
    <span class="p">)</span>
    <span class="n">labels</span><span class="p">[</span><span class="n">ZENML_GCP_SECRET_UPDATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">created</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
        <span class="n">ZENML_GCP_DATE_FORMAT_STRING</span>
    <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">gcp_secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">create_secret</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">,</span>
                <span class="s2">&quot;secret_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_gcp_secret_name</span><span class="p">(</span><span class="n">secret_id</span><span class="p">),</span>
                <span class="s2">&quot;secret&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;replication&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;automatic&quot;</span><span class="p">:</span> <span class="p">{}},</span>
                    <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="n">labels</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created empty parent secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gcp_secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">add_secret_version</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="n">gcp_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="s2">&quot;payload&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">secret_value</span><span class="o">.</span><span class="n">encode</span><span class="p">()},</span>
            <span class="p">}</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to create secret.: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Added value to secret.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Delete a secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the secret could not be found.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the secret could not be deleted.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/gcp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the secret could not be found.</span>
<span class="sd">        RuntimeError: If the secret could not be deleted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gcp_secret_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secret_path</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_gcp_secret_name</span><span class="p">(</span><span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">gcp_secret_name</span><span class="p">})</span>
    <span class="k">except</span> <span class="n">google_exceptions</span><span class="o">.</span><span class="n">NotFound</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to delete secret: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a secret by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to fetch.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the secret does not exist.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the GCP Secrets Manager API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/gcp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a secret by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to fetch.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the secret does not exist.</span>
<span class="sd">        RuntimeError: If the GCP Secrets Manager API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gcp_secret_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secret_path</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_gcp_secret_name</span><span class="p">(</span><span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">gcp_secret_name</span><span class="p">)</span>
        <span class="n">secret_version_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">access_secret_version</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">gcp_secret_name</span><span class="si">}</span><span class="s2">/versions/latest&quot;</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">google_exceptions</span><span class="o">.</span><span class="n">NotFound</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t find the specified secret for secret_id &#39;</span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error fetching secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">secret_values</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
        <span class="n">secret_version_values</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_gcp_secret</span><span class="p">(</span>
        <span class="n">labels</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">secret_values</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.list_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>List all secrets matching the given filter criteria.</p>
<p>Note that returned secrets do not include any secret values. To fetch
the secret values, use <code>get_secret</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_filter_model</code></td>
        <td><code>SecretFilterModel</code></td>
        <td><p>The filter criteria.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[SecretResponseModel]</code></td>
      <td><p>A list of all secrets matching the filter criteria, with pagination
information and sorted according to the filter criteria. The
returned secrets do not include any secret values, only metadata. To
fetch the secret values, use <code>get_secret</code> individually with each
secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the filter contains an out-of-bounds page number.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the Azure Key Vault API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/gcp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">    Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">    the secret values, use `get_secret`.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_filter_model: The filter criteria.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">        information and sorted according to the filter criteria. The</span>
<span class="sd">        returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">        fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">        secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the filter contains an out-of-bounds page number.</span>
<span class="sd">        RuntimeError: If the Azure Key Vault API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO: implement filter method for server-side filtering</span>
    <span class="c1"># convert the secret_filter_model to a GCP filter string</span>
    <span class="n">gcp_filters</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="c1"># gcp_filters = self._get_gcp_filter_string(</span>
    <span class="c1">#     secret_filter_model=secret_filter_model</span>
    <span class="c1"># )</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># get all the secrets and their labels (for their names) from GCP</span>
        <span class="c1"># (use the filter string to limit what doesn&#39;t match the filter)</span>
        <span class="n">secrets</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_name</span><span class="p">,</span>
                <span class="s2">&quot;filter&quot;</span><span class="p">:</span> <span class="n">gcp_filters</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">secrets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_gcp_secret</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">labels</span><span class="p">))</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="c1"># keep going / ignore if this secret version doesn&#39;t exist</span>
                <span class="c1"># or isn&#39;t a ZenML secret</span>
                <span class="k">continue</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error listing GCP secrets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="c1"># do client filtering for anything not covered by the filter string</span>
    <span class="n">filtered_secrets</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">secret</span>
        <span class="k">for</span> <span class="n">secret</span> <span class="ow">in</span> <span class="n">secrets</span>
        <span class="k">if</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">secret_matches</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
    <span class="p">]</span>

    <span class="c1"># sort the results</span>
    <span class="n">sorted_results</span> <span class="o">=</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">sort_secrets</span><span class="p">(</span><span class="n">filtered_secrets</span><span class="p">)</span>

    <span class="c1"># paginate the results</span>
    <span class="n">secret_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_results</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">secret_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">total_pages</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">total_pages</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">secret_count</span> <span class="o">/</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">&gt;</span> <span class="n">total_pages</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid page </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="si">}</span><span class="s2">. The requested page &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;size is </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> and there are a total of &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">secret_count</span><span class="si">}</span><span class="s2"> items for this query. The maximum page value &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;therefore is </span><span class="si">{</span><span class="n">total_pages</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">Page</span><span class="p">(</span>
        <span class="n">total</span><span class="o">=</span><span class="n">secret_count</span><span class="p">,</span>
        <span class="n">total_pages</span><span class="o">=</span><span class="n">total_pages</span><span class="p">,</span>
        <span class="n">items</span><span class="o">=</span><span class="n">sorted_results</span><span class="p">[</span>
            <span class="p">(</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span> <span class="p">:</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span>
            <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span>
        <span class="p">],</span>
        <span class="n">index</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="p">,</span>
        <span class="n">max_size</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStore.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Update a secret.</p>
<p>Secret values that are specified as <code>None</code> in the update that are
present in the existing secret are removed from the existing secret.
Values that are present in both secrets are overwritten. All other
values in both the existing secret and the update are kept (merged).</p>
<p>If the update includes a change of name or scope, the scoping rules
enforced in the secrets store are used to validate the update:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_update</code></td>
        <td><code>SecretUpdateModel</code></td>
        <td><p>The update to apply to the secret.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The updated secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the secret update is invalid.</p></td>
      </tr>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If the update includes a change of name or
scope and a secret with the same name already exists in the
same scope.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/gcp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a secret.</span>

<span class="sd">    Secret values that are specified as `None` in the update that are</span>
<span class="sd">    present in the existing secret are removed from the existing secret.</span>
<span class="sd">    Values that are present in both secrets are overwritten. All other</span>
<span class="sd">    values in both the existing secret and the update are kept (merged).</span>

<span class="sd">    If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">    enforced in the secrets store are used to validate the update:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to update.</span>
<span class="sd">        secret_update: The update to apply to the secret.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the secret update is invalid.</span>
<span class="sd">        EntityExistsError: If the update includes a change of name or</span>
<span class="sd">            scope and a secret with the same name already exists in the</span>
<span class="sd">            same scope.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">)</span>
    <span class="n">gcp_secret_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secret_path</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_gcp_secret_name</span><span class="p">(</span><span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace_update</span><span class="p">(</span>
        <span class="n">secret_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
        <span class="n">current_user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">current_workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_gcp_secret_name</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span>
    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">scope</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span>
    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Merge the existing values with the update values.</span>
        <span class="c1"># The values that are set to `None` in the update are removed from</span>
        <span class="c1"># the existing secret when we call `.secret_values` later.</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Check if a secret with the same name already exists in the same</span>
        <span class="c1"># scope.</span>
        <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
            <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">exclude_secret_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="c1"># Convert the ZenML secret metadata to GCP labels</span>
    <span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">microsecond</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
    <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_GCP_SECRET_UPDATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">updated</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
        <span class="n">ZENML_GCP_DATE_FORMAT_STRING</span>
    <span class="p">)</span>
    <span class="n">metadata</span><span class="p">[</span><span class="n">ZENML_GCP_SECRET_CREATED_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">created</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span>
        <span class="n">ZENML_GCP_DATE_FORMAT_STRING</span>
    <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># UPDATE THE SECRET METADATA</span>
        <span class="n">update_secret</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">gcp_secret_name</span><span class="p">,</span>
            <span class="s2">&quot;labels&quot;</span><span class="p">:</span> <span class="n">metadata</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">update_mask</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;paths&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;labels&quot;</span><span class="p">]}</span>
        <span class="n">gcp_updated_secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">update_secret</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;secret&quot;</span><span class="p">:</span> <span class="n">update_secret</span><span class="p">,</span>
                <span class="s2">&quot;update_mask&quot;</span><span class="p">:</span> <span class="n">update_mask</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="c1"># ADD A NEW SECRET VERSION</span>
        <span class="n">secret_value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">add_secret_version</span><span class="p">(</span>
            <span class="n">request</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="n">gcp_updated_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="s2">&quot;payload&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">secret_value</span><span class="o">.</span><span class="n">encode</span><span class="p">()},</span>
            <span class="p">}</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating secret: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updated GCP secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gcp_secret_name</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="n">updated</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStoreConfiguration" class="doc doc-heading">
        <code>
GCPSecretsStoreConfiguration            (<a class="autorefs autorefs-internal" title="zenml.config.secrets_store_config.SecretsStoreConfiguration" href="../core-config/#zenml.config.secrets_store_config.SecretsStoreConfiguration">SecretsStoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>GCP secrets store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>SecretsStoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>project_id</code></td>
        <td><code>str</code></td>
        <td><p>The GCP project ID where the secrets are stored.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/gcp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GCPSecretsStoreConfiguration</span><span class="p">(</span><span class="n">SecretsStoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;GCP secrets store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        project_id: The GCP project ID where the secrets are stored.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">GCP</span>
    <span class="n">project_id</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.gcp_secrets_store.GCPSecretsStoreConfiguration.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/gcp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.secrets_stores.hashicorp_secrets_store" class="doc doc-heading">
        <code>hashicorp_secrets_store</code>



</h4>

    <div class="doc doc-contents ">

      <p>HashiCorp Vault Secrets Store implementation.</p>



  <div class="doc doc-children">













  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore" class="doc doc-heading">
        <code>
HashiCorpVaultSecretsStore            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore" href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore">BaseSecretsStore</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Secrets store implementation that uses the HashiCorp Vault API.</p>
<p>This secrets store implementation uses the HashiCorp Vault API to
store secrets. It allows a single HashiCorp Vault server to be shared with
other ZenML deployments as well as other third party users and applications.</p>
<p>Here are some implementation highlights:</p>
<ul>
<li>
<p>the name/ID of an HashiCorp Vault secret is derived from the ZenML secret
UUID and a <code>zenml</code> prefix in the form <code>zenml/{zenml_secret_uuid}</code>. This
clearly identifies a secret as being managed by ZenML in the HashiCorp Vault
server. This also allows use to reduce the scope of <code>list_secrets</code> to cover
only secrets managed by ZenML by using <code>zenml/</code> as the path prefix.</p>
</li>
<li>
<p>given that HashiCorp Vault secrets do not support attaching arbitrary
metadata in the form of label or tags, we store the entire ZenML secret
metadata (e.g. name, scope, etc.) alongside the secret values in the
HashiCorp Vault secret value.</p>
</li>
<li>
<p>when a user or workspace is deleted, the secrets associated with it are
deleted automatically via registered event handlers.</p>
</li>
</ul>
<p>Known challenges and limitations:</p>
<ul>
<li>
<p>HashiCorp Vault secrets do not support filtering secrets by metadata
attached to secrets in the form of label or tags. This means that we cannot
filter secrets server-side based on their metadata (e.g. name, scope, etc.).
Instead, we have to retrieve all ZenML managed secrets and filter them
client-side.</p>
</li>
<li>
<p>HashiCorp Vault secrets are versioned. This means that when a secret is
updated, a new version is created which has its own creation timestamp.
Furthermore, older secret versions are deleted automatically after a certain
configurable number of versions is reached. To work around this, we also
manage <code>created</code> and <code>updated</code> timestamps here and store them in the secret
value itself.</p>
</li>
</ul>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td></td>
        <td><p>The configuration of the HashiCorp Vault secrets store.</p></td>
      </tr>
      <tr>
        <td><code>TYPE</code></td>
        <td></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>CONFIG_TYPE</code></td>
        <td></td>
        <td><p>The type of the store configuration.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/hashicorp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HashiCorpVaultSecretsStore</span><span class="p">(</span><span class="n">BaseSecretsStore</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Secrets store implementation that uses the HashiCorp Vault API.</span>

<span class="sd">    This secrets store implementation uses the HashiCorp Vault API to</span>
<span class="sd">    store secrets. It allows a single HashiCorp Vault server to be shared with</span>
<span class="sd">    other ZenML deployments as well as other third party users and applications.</span>

<span class="sd">    Here are some implementation highlights:</span>

<span class="sd">    * the name/ID of an HashiCorp Vault secret is derived from the ZenML secret</span>
<span class="sd">    UUID and a `zenml` prefix in the form `zenml/{zenml_secret_uuid}`. This</span>
<span class="sd">    clearly identifies a secret as being managed by ZenML in the HashiCorp Vault</span>
<span class="sd">    server. This also allows use to reduce the scope of `list_secrets` to cover</span>
<span class="sd">    only secrets managed by ZenML by using `zenml/` as the path prefix.</span>

<span class="sd">    * given that HashiCorp Vault secrets do not support attaching arbitrary</span>
<span class="sd">    metadata in the form of label or tags, we store the entire ZenML secret</span>
<span class="sd">    metadata (e.g. name, scope, etc.) alongside the secret values in the</span>
<span class="sd">    HashiCorp Vault secret value.</span>

<span class="sd">    * when a user or workspace is deleted, the secrets associated with it are</span>
<span class="sd">    deleted automatically via registered event handlers.</span>

<span class="sd">    Known challenges and limitations:</span>

<span class="sd">    * HashiCorp Vault secrets do not support filtering secrets by metadata</span>
<span class="sd">    attached to secrets in the form of label or tags. This means that we cannot</span>
<span class="sd">    filter secrets server-side based on their metadata (e.g. name, scope, etc.).</span>
<span class="sd">    Instead, we have to retrieve all ZenML managed secrets and filter them</span>
<span class="sd">    client-side.</span>

<span class="sd">    * HashiCorp Vault secrets are versioned. This means that when a secret is</span>
<span class="sd">    updated, a new version is created which has its own creation timestamp.</span>
<span class="sd">    Furthermore, older secret versions are deleted automatically after a certain</span>
<span class="sd">    configurable number of versions is reached. To work around this, we also</span>
<span class="sd">    manage `created` and `updated` timestamps here and store them in the secret</span>
<span class="sd">    value itself.</span>


<span class="sd">    Attributes:</span>
<span class="sd">        config: The configuration of the HashiCorp Vault secrets store.</span>
<span class="sd">        TYPE: The type of the store.</span>
<span class="sd">        CONFIG_TYPE: The type of the store configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">HashiCorpVaultSecretsStoreConfiguration</span>
    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">SecretsStoreType</span><span class="p">]</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">HASHICORP</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">HashiCorpVaultSecretsStoreConfiguration</span>

    <span class="n">_client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">hvac</span><span class="o">.</span><span class="n">Client</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">hvac</span><span class="o">.</span><span class="n">Client</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize and return the HashiCorp Vault client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The HashiCorp Vault client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Initialize the HashiCorp Vault client with the</span>
            <span class="c1"># credentials from the configuration.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">hvac</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span>
                <span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">vault_addr</span><span class="p">,</span>
                <span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">vault_token</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">vault_token</span>
                <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">namespace</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">vault_namespace</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
                <span class="n">max_versions</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">max_versions</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">mount_point</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
                    <span class="n">mount_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">mount_point</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span>

    <span class="c1"># ====================================</span>
    <span class="c1"># Secrets Store interface implementation</span>
    <span class="c1"># ====================================</span>

    <span class="c1"># --------------------------------</span>
    <span class="c1"># Initialization and configuration</span>
    <span class="c1"># --------------------------------</span>

    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the HashiCorp Vault secrets store.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Initializing HashiCorpVaultSecretsStore&quot;</span><span class="p">)</span>

        <span class="c1"># Initialize the HashiCorp Vault client early, just to catch any</span>
        <span class="c1"># configuration or authentication errors early, before the Secrets</span>
        <span class="c1"># Store is used.</span>
        <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>

    <span class="c1"># ------</span>
    <span class="c1"># Secrets</span>
    <span class="c1"># ------</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_validate_vault_secret_name</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate a secret name.</span>

<span class="sd">        HashiCorp Vault secret names must contain only alphanumeric characters</span>
<span class="sd">        and the characters _+=.@-/.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: the secret name</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the secret name is invalid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[a-zA-Z0-9_+=\.@\-/]*&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid secret name or namespace &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;. Must contain &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;only alphanumeric characters and the characters _+=.@-/.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_vault_secret_id</span><span class="p">(</span>
        <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the HashiCorp Vault secret ID corresponding to a ZenML secret ID.</span>

<span class="sd">        The convention used for HashiCorp Vault secret names is to use the ZenML</span>
<span class="sd">        secret UUID prefixed with `zenml` as the HashiCorp Vault secret name,</span>
<span class="sd">        i.e. `zenml/&lt;secret_uuid&gt;`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ZenML secret ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The HashiCorp Vault secret name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">HVAC_ZENML_SECRET_NAME_PREFIX</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">_convert_vault_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">vault_secret</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a ZenML secret model from data stored in an HashiCorp Vault secret.</span>

<span class="sd">        If the HashiCorp Vault secret cannot be converted, the method acts as if</span>
<span class="sd">        the secret does not exist and raises a KeyError.</span>

<span class="sd">        Args:</span>
<span class="sd">            vault_secret: The HashiCorp Vault secret in JSON form.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ZenML secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the HashiCorp Vault secret cannot be converted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">metadata</span> <span class="o">=</span> <span class="n">vault_secret</span><span class="p">[</span><span class="n">ZENML_VAULT_SECRET_METADATA_KEY</span><span class="p">]</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">vault_secret</span><span class="p">[</span><span class="n">ZENML_VAULT_SECRET_VALUES_KEY</span><span class="p">]</span>
            <span class="n">created</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span>
                <span class="n">vault_secret</span><span class="p">[</span><span class="n">ZENML_VAULT_SECRET_CREATED_KEY</span><span class="p">],</span>
            <span class="p">)</span>
            <span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span>
                <span class="n">vault_secret</span><span class="p">[</span><span class="n">ZENML_VAULT_SECRET_UPDATED_KEY</span><span class="p">],</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Secret could not be retrieved: missing required metadata: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_secret_from_metadata</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_SECRET</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">        The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">        the secrets store:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The secret to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a secret with the same name already exists</span>
<span class="sd">                in the same scope.</span>
<span class="sd">            RuntimeError: If the HashiCorp Vault API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_vault_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">user</span><span class="p">,</span> <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace</span><span class="p">(</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">workspace</span>
        <span class="p">)</span>

        <span class="c1"># Check if a secret with the same name already exists in the same</span>
        <span class="c1"># scope.</span>
        <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
            <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># Generate a new UUID for the secret</span>
        <span class="n">secret_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
        <span class="n">vault_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vault_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span>
            <span class="n">secret</span><span class="p">,</span> <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span>
        <span class="p">)</span>

        <span class="n">created</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">create_or_update_secret</span><span class="p">(</span>
                <span class="n">path</span><span class="o">=</span><span class="n">vault_secret_id</span><span class="p">,</span>
                <span class="c1"># Store the ZenML secret metadata alongside the secret values</span>
                <span class="n">secret</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">ZENML_VAULT_SECRET_VALUES_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
                    <span class="n">ZENML_VAULT_SECRET_METADATA_KEY</span><span class="p">:</span> <span class="n">metadata</span><span class="p">,</span>
                    <span class="n">ZENML_VAULT_SECRET_CREATED_KEY</span><span class="p">:</span> <span class="n">created</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
                    <span class="n">ZENML_VAULT_SECRET_UPDATED_KEY</span><span class="p">:</span> <span class="n">created</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
                <span class="p">},</span>
                <span class="c1"># Do not allow overwriting an existing secret</span>
                <span class="n">cas</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">VaultError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error creating secret: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created HashiCorp Vault secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">vault_secret_id</span><span class="p">)</span>

        <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">secret_model</span>

    <span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a secret by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to fetch.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret does not exist.</span>
<span class="sd">            RuntimeError: If the HashiCorp Vault API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vault_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vault_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">vault_secret</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">read_secret</span><span class="p">(</span>
                    <span class="n">path</span><span class="o">=</span><span class="n">vault_secret_id</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">InvalidPath</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">VaultError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error fetching secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="c1"># The _convert_vault_secret method raises a KeyError if the</span>
        <span class="c1"># secret is tied to a workspace or user that no longer exists. Here we</span>
        <span class="c1"># simply pass the exception up the stack, as if the secret was not found</span>
        <span class="c1"># in the first place, knowing that it will be cascade-deleted soon.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_vault_secret</span><span class="p">(</span>
            <span class="n">vault_secret</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">        Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">        the secret values, use `get_secret`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">            information and sorted according to the filter criteria. The</span>
<span class="sd">            returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">            fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">            secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the filter contains an out-of-bounds page number.</span>
<span class="sd">            RuntimeError: If the HashiCorp Vault API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># The HashiCorp Vault API does not natively support any of the</span>
        <span class="c1"># filtering, sorting or pagination options that ZenML supports. The</span>
        <span class="c1"># implementation of this method therefore has to fetch all secrets from</span>
        <span class="c1"># the Key Vault, then apply the filtering, sorting and pagination on</span>
        <span class="c1"># the client side.</span>

        <span class="n">results</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># List all ZenML secrets in the Vault</span>
            <span class="n">all_secrets</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
                    <span class="n">path</span><span class="o">=</span><span class="n">HVAC_ZENML_SECRET_NAME_PREFIX</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span> <span class="p">[])</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">InvalidPath</span><span class="p">:</span>
            <span class="c1"># no secrets created yet</span>
            <span class="k">pass</span>
        <span class="k">except</span> <span class="n">VaultError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error listing HashiCorp Vault secrets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Convert the Vault secrets to ZenML secrets</span>
            <span class="k">for</span> <span class="n">secret_uuid</span> <span class="ow">in</span> <span class="n">all_secrets</span><span class="p">:</span>
                <span class="n">vault_secret_id</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">HVAC_ZENML_SECRET_NAME_PREFIX</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">secret_uuid</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">vault_secret</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">read_secret</span><span class="p">(</span>
                            <span class="n">path</span><span class="o">=</span><span class="n">vault_secret_id</span>
                        <span class="p">)</span>
                        <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
                        <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="p">(</span><span class="n">InvalidPath</span><span class="p">,</span> <span class="n">VaultError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Error fetching secret with ID </span><span class="si">{</span><span class="n">vault_secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">continue</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">secret_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_vault_secret</span><span class="p">(</span>
                        <span class="n">vault_secret</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="c1"># The _convert_vault_secret method raises a KeyError</span>
                    <span class="c1"># if the secret is tied to a workspace or user that no</span>
                    <span class="c1"># longer exists or if it is otherwise not valid. Here we</span>
                    <span class="c1"># pretend that the secret does not exist.</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Error fetching secret with ID </span><span class="si">{</span><span class="n">vault_secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">continue</span>

                <span class="c1"># Filter the secret on the client side.</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">secret_matches</span><span class="p">(</span><span class="n">secret_model</span><span class="p">):</span>
                    <span class="k">continue</span>

                <span class="c1"># Remove the secret values from the response</span>
                <span class="n">secret_model</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">secret_model</span><span class="p">)</span>

        <span class="c1"># Sort the results</span>
        <span class="n">sorted_results</span> <span class="o">=</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">sort_secrets</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

        <span class="c1"># Paginate the results</span>
        <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_results</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">total</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">total_pages</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">total_pages</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">total</span> <span class="o">/</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">&gt;</span> <span class="n">total_pages</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid page </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="si">}</span><span class="s2">. The requested page &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;size is </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> and there are a total of &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> items for this query. The maximum page value &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;therefore is </span><span class="si">{</span><span class="n">total_pages</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">Page</span><span class="p">(</span>
            <span class="n">total</span><span class="o">=</span><span class="n">total</span><span class="p">,</span>
            <span class="n">total_pages</span><span class="o">=</span><span class="n">total_pages</span><span class="p">,</span>
            <span class="n">items</span><span class="o">=</span><span class="n">sorted_results</span><span class="p">[</span>
                <span class="p">(</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span> <span class="p">:</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span>
                <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span>
            <span class="p">],</span>
            <span class="n">index</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="p">,</span>
            <span class="n">max_size</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">        Secret values that are specified as `None` in the update that are</span>
<span class="sd">        present in the existing secret are removed from the existing secret.</span>
<span class="sd">        Values that are present in both secrets are overwritten. All other</span>
<span class="sd">        values in both the existing secret and the update are kept (merged).</span>

<span class="sd">        If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">        enforced in the secrets store are used to validate the update:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to be updated.</span>
<span class="sd">            secret_update: The update to be applied.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret does not exist.</span>
<span class="sd">            EntityExistsError: If the update includes a change of name or</span>
<span class="sd">                scope and a secret with the same name already exists in the</span>
<span class="sd">                same scope.</span>
<span class="sd">            RuntimeError: If the HashiCorp Vault API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

        <span class="c1"># Prevent changes to the secret&#39;s user or workspace</span>
        <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace_update</span><span class="p">(</span>
            <span class="n">secret_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
            <span class="n">current_user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">current_workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate_vault_secret_name</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">scope</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span>
        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Merge the existing values with the update values.</span>
            <span class="c1"># The values that are set to `None` in the update are removed from</span>
            <span class="c1"># the existing secret when we call `.secret_values` later.</span>
            <span class="n">secret</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Check if a secret with the same name already exists in the same</span>
            <span class="c1"># scope.</span>
            <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
                <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">exclude_secret_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">vault_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vault_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

        <span class="c1"># Convert the ZenML secret metadata to HashiCorp Vault tags</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

        <span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">create_or_update_secret</span><span class="p">(</span>
                <span class="n">path</span><span class="o">=</span><span class="n">vault_secret_id</span><span class="p">,</span>
                <span class="c1"># Store the ZenML secret metadata alongside the secret values</span>
                <span class="n">secret</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">ZENML_VAULT_SECRET_VALUES_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
                    <span class="n">ZENML_VAULT_SECRET_METADATA_KEY</span><span class="p">:</span> <span class="n">metadata</span><span class="p">,</span>
                    <span class="n">ZENML_VAULT_SECRET_CREATED_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">created</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
                    <span class="n">ZENML_VAULT_SECRET_UPDATED_KEY</span><span class="p">:</span> <span class="n">updated</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
                <span class="p">},</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">InvalidPath</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">VaultError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating secret </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updated HashiCorp Vault secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">vault_secret_id</span><span class="p">)</span>

        <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">updated</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">secret_model</span>

    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The id of the secret to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the secret does not exist.</span>
<span class="sd">            RuntimeError: If the HashiCorp Vault API returns an unexpected</span>
<span class="sd">                error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">delete_metadata_and_all_versions</span><span class="p">(</span>
                <span class="n">path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_vault_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">InvalidPath</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">VaultError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Error deleting secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">client</span><span class="p">:</span> <span class="n">Client</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Initialize and return the HashiCorp Vault client.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Client</code></td>
      <td><p>The HashiCorp Vault client.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.config.secrets_store_config.SecretsStoreConfiguration" href="../core-config/#zenml.config.secrets_store_config.SecretsStoreConfiguration">SecretsStoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>HashiCorp Vault secrets store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>SecretsStoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>vault_addr</code></td>
        <td><code>str</code></td>
        <td><p>The url of the Vault server. If not set, the value will be
loaded from the VAULT_ADDR environment variable, if configured.</p></td>
      </tr>
      <tr>
        <td><code>vault_token</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The token used to authenticate with the Vault server. If
not set, the token will be loaded from the VAULT_TOKEN environment
variable or from the ~/.vault-token file, if configured.</p></td>
      </tr>
      <tr>
        <td><code>vault_namespace</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The Vault Enterprise namespace.</p></td>
      </tr>
      <tr>
        <td><code>mount_point</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The mount point to use for all secrets.</p></td>
      </tr>
      <tr>
        <td><code>max_versions</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of secret versions to keep.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/hashicorp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HashiCorpVaultSecretsStoreConfiguration</span><span class="p">(</span><span class="n">SecretsStoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;HashiCorp Vault secrets store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        vault_addr: The url of the Vault server. If not set, the value will be</span>
<span class="sd">            loaded from the VAULT_ADDR environment variable, if configured.</span>
<span class="sd">        vault_token: The token used to authenticate with the Vault server. If</span>
<span class="sd">            not set, the token will be loaded from the VAULT_TOKEN environment</span>
<span class="sd">            variable or from the ~/.vault-token file, if configured.</span>
<span class="sd">        vault_namespace: The Vault Enterprise namespace.</span>
<span class="sd">        mount_point: The mount point to use for all secrets.</span>
<span class="sd">        max_versions: The maximum number of secret versions to keep.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">HASHICORP</span>

    <span class="n">vault_addr</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">vault_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">vault_namespace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mount_point</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">max_versions</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.CONFIG_TYPE.Config" class="doc doc-heading">
        <code>
Config        </code>



</h7>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/hashicorp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.create_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Creates a new secret.</p>
<p>The new secret is also validated against the scoping rules enforced in
the secrets store:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>SecretRequestModel</code></td>
        <td><p>The secret to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The newly created secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a secret with the same name already exists
in the same scope.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the HashiCorp Vault API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/hashicorp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_SECRET</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">    The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">    the secrets store:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a secret with the same name already exists</span>
<span class="sd">            in the same scope.</span>
<span class="sd">        RuntimeError: If the HashiCorp Vault API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_vault_secret_name</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">user</span><span class="p">,</span> <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace</span><span class="p">(</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">secret</span><span class="o">.</span><span class="n">workspace</span>
    <span class="p">)</span>

    <span class="c1"># Check if a secret with the same name already exists in the same</span>
    <span class="c1"># scope.</span>
    <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
        <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="c1"># Generate a new UUID for the secret</span>
    <span class="n">secret_id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
    <span class="n">vault_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vault_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

    <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span>
        <span class="n">secret</span><span class="p">,</span> <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span>
    <span class="p">)</span>

    <span class="n">created</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">create_or_update_secret</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="n">vault_secret_id</span><span class="p">,</span>
            <span class="c1"># Store the ZenML secret metadata alongside the secret values</span>
            <span class="n">secret</span><span class="o">=</span><span class="p">{</span>
                <span class="n">ZENML_VAULT_SECRET_VALUES_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
                <span class="n">ZENML_VAULT_SECRET_METADATA_KEY</span><span class="p">:</span> <span class="n">metadata</span><span class="p">,</span>
                <span class="n">ZENML_VAULT_SECRET_CREATED_KEY</span><span class="p">:</span> <span class="n">created</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
                <span class="n">ZENML_VAULT_SECRET_UPDATED_KEY</span><span class="p">:</span> <span class="n">created</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="p">},</span>
            <span class="c1"># Do not allow overwriting an existing secret</span>
            <span class="n">cas</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">VaultError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error creating secret: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created HashiCorp Vault secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">vault_secret_id</span><span class="p">)</span>

    <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="n">created</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">secret_model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Delete a secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the secret to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the secret does not exist.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the HashiCorp Vault API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/hashicorp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The id of the secret to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the secret does not exist.</span>
<span class="sd">        RuntimeError: If the HashiCorp Vault API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">delete_metadata_and_all_versions</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_vault_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">InvalidPath</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">VaultError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error deleting secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a secret by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to fetch.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the secret does not exist.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the HashiCorp Vault API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/hashicorp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a secret by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to fetch.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the secret does not exist.</span>
<span class="sd">        RuntimeError: If the HashiCorp Vault API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vault_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vault_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">vault_secret</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">read_secret</span><span class="p">(</span>
                <span class="n">path</span><span class="o">=</span><span class="n">vault_secret_id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
            <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">InvalidPath</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">VaultError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Error fetching secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="c1"># The _convert_vault_secret method raises a KeyError if the</span>
    <span class="c1"># secret is tied to a workspace or user that no longer exists. Here we</span>
    <span class="c1"># simply pass the exception up the stack, as if the secret was not found</span>
    <span class="c1"># in the first place, knowing that it will be cascade-deleted soon.</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_vault_secret</span><span class="p">(</span>
        <span class="n">vault_secret</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.list_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>List all secrets matching the given filter criteria.</p>
<p>Note that returned secrets do not include any secret values. To fetch
the secret values, use <code>get_secret</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_filter_model</code></td>
        <td><code>SecretFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[SecretResponseModel]</code></td>
      <td><p>A list of all secrets matching the filter criteria, with pagination
information and sorted according to the filter criteria. The
returned secrets do not include any secret values, only metadata. To
fetch the secret values, use <code>get_secret</code> individually with each
secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the filter contains an out-of-bounds page number.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the HashiCorp Vault API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/hashicorp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">    Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">    the secret values, use `get_secret`.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">        information and sorted according to the filter criteria. The</span>
<span class="sd">        returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">        fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">        secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the filter contains an out-of-bounds page number.</span>
<span class="sd">        RuntimeError: If the HashiCorp Vault API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># The HashiCorp Vault API does not natively support any of the</span>
    <span class="c1"># filtering, sorting or pagination options that ZenML supports. The</span>
    <span class="c1"># implementation of this method therefore has to fetch all secrets from</span>
    <span class="c1"># the Key Vault, then apply the filtering, sorting and pagination on</span>
    <span class="c1"># the client side.</span>

    <span class="n">results</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># List all ZenML secrets in the Vault</span>
        <span class="n">all_secrets</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
                <span class="n">path</span><span class="o">=</span><span class="n">HVAC_ZENML_SECRET_NAME_PREFIX</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
            <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">InvalidPath</span><span class="p">:</span>
        <span class="c1"># no secrets created yet</span>
        <span class="k">pass</span>
    <span class="k">except</span> <span class="n">VaultError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error listing HashiCorp Vault secrets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Convert the Vault secrets to ZenML secrets</span>
        <span class="k">for</span> <span class="n">secret_uuid</span> <span class="ow">in</span> <span class="n">all_secrets</span><span class="p">:</span>
            <span class="n">vault_secret_id</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">HVAC_ZENML_SECRET_NAME_PREFIX</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">secret_uuid</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">vault_secret</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">read_secret</span><span class="p">(</span>
                        <span class="n">path</span><span class="o">=</span><span class="n">vault_secret_id</span>
                    <span class="p">)</span>
                    <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
                    <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="p">{})</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">InvalidPath</span><span class="p">,</span> <span class="n">VaultError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Error fetching secret with ID </span><span class="si">{</span><span class="n">vault_secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">continue</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">secret_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_vault_secret</span><span class="p">(</span>
                    <span class="n">vault_secret</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="c1"># The _convert_vault_secret method raises a KeyError</span>
                <span class="c1"># if the secret is tied to a workspace or user that no</span>
                <span class="c1"># longer exists or if it is otherwise not valid. Here we</span>
                <span class="c1"># pretend that the secret does not exist.</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Error fetching secret with ID </span><span class="si">{</span><span class="n">vault_secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">continue</span>

            <span class="c1"># Filter the secret on the client side.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">secret_matches</span><span class="p">(</span><span class="n">secret_model</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="c1"># Remove the secret values from the response</span>
            <span class="n">secret_model</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">secret_model</span><span class="p">)</span>

    <span class="c1"># Sort the results</span>
    <span class="n">sorted_results</span> <span class="o">=</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">sort_secrets</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

    <span class="c1"># Paginate the results</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_results</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">total</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">total_pages</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">total_pages</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">total</span> <span class="o">/</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">&gt;</span> <span class="n">total_pages</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid page </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="si">}</span><span class="s2">. The requested page &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;size is </span><span class="si">{</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> and there are a total of &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> items for this query. The maximum page value &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;therefore is </span><span class="si">{</span><span class="n">total_pages</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">Page</span><span class="p">(</span>
        <span class="n">total</span><span class="o">=</span><span class="n">total</span><span class="p">,</span>
        <span class="n">total_pages</span><span class="o">=</span><span class="n">total_pages</span><span class="p">,</span>
        <span class="n">items</span><span class="o">=</span><span class="n">sorted_results</span><span class="p">[</span>
            <span class="p">(</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span> <span class="p">:</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span>
            <span class="o">*</span> <span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span>
        <span class="p">],</span>
        <span class="n">index</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">page</span><span class="p">,</span>
        <span class="n">max_size</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStore.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Updates a secret.</p>
<p>Secret values that are specified as <code>None</code> in the update that are
present in the existing secret are removed from the existing secret.
Values that are present in both secrets are overwritten. All other
values in both the existing secret and the update are kept (merged).</p>
<p>If the update includes a change of name or scope, the scoping rules
enforced in the secrets store are used to validate the update:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_update</code></td>
        <td><code>SecretUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The updated secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the secret does not exist.</p></td>
      </tr>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If the update includes a change of name or
scope and a secret with the same name already exists in the
same scope.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the HashiCorp Vault API returns an unexpected
error.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/hashicorp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">    Secret values that are specified as `None` in the update that are</span>
<span class="sd">    present in the existing secret are removed from the existing secret.</span>
<span class="sd">    Values that are present in both secrets are overwritten. All other</span>
<span class="sd">    values in both the existing secret and the update are kept (merged).</span>

<span class="sd">    If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">    enforced in the secrets store are used to validate the update:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to be updated.</span>
<span class="sd">        secret_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the secret does not exist.</span>
<span class="sd">        EntityExistsError: If the update includes a change of name or</span>
<span class="sd">            scope and a secret with the same name already exists in the</span>
<span class="sd">            same scope.</span>
<span class="sd">        RuntimeError: If the HashiCorp Vault API returns an unexpected</span>
<span class="sd">            error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

    <span class="c1"># Prevent changes to the secret&#39;s user or workspace</span>
    <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace_update</span><span class="p">(</span>
        <span class="n">secret_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
        <span class="n">current_user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">current_workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_vault_secret_name</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span>
    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">scope</span> <span class="o">=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span>
    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">values</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Merge the existing values with the update values.</span>
        <span class="c1"># The values that are set to `None` in the update are removed from</span>
        <span class="c1"># the existing secret when we call `.secret_values` later.</span>
        <span class="n">secret</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret_update</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Check if a secret with the same name already exists in the same</span>
        <span class="c1"># scope.</span>
        <span class="k">assert</span> <span class="n">secret</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_secret_scope</span><span class="p">(</span>
            <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">exclude_secret_id</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="n">vault_secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vault_secret_id</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>

    <span class="c1"># Convert the ZenML secret metadata to HashiCorp Vault tags</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_secret_metadata_for_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>

    <span class="n">updated</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">kv</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">create_or_update_secret</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="n">vault_secret_id</span><span class="p">,</span>
            <span class="c1"># Store the ZenML secret metadata alongside the secret values</span>
            <span class="n">secret</span><span class="o">=</span><span class="p">{</span>
                <span class="n">ZENML_VAULT_SECRET_VALUES_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
                <span class="n">ZENML_VAULT_SECRET_METADATA_KEY</span><span class="p">:</span> <span class="n">metadata</span><span class="p">,</span>
                <span class="n">ZENML_VAULT_SECRET_CREATED_KEY</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">created</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
                <span class="n">ZENML_VAULT_SECRET_UPDATED_KEY</span><span class="p">:</span> <span class="n">updated</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="p">},</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">InvalidPath</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">VaultError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating secret </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Updated HashiCorp Vault secret: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">vault_secret_id</span><span class="p">)</span>

    <span class="n">secret_model</span> <span class="o">=</span> <span class="n">SecretResponseModel</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">values</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>
        <span class="n">created</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
        <span class="n">updated</span><span class="o">=</span><span class="n">updated</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">secret_model</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStoreConfiguration" class="doc doc-heading">
        <code>
HashiCorpVaultSecretsStoreConfiguration            (<a class="autorefs autorefs-internal" title="zenml.config.secrets_store_config.SecretsStoreConfiguration" href="../core-config/#zenml.config.secrets_store_config.SecretsStoreConfiguration">SecretsStoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>HashiCorp Vault secrets store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>SecretsStoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>vault_addr</code></td>
        <td><code>str</code></td>
        <td><p>The url of the Vault server. If not set, the value will be
loaded from the VAULT_ADDR environment variable, if configured.</p></td>
      </tr>
      <tr>
        <td><code>vault_token</code></td>
        <td><code>Optional[pydantic.types.SecretStr]</code></td>
        <td><p>The token used to authenticate with the Vault server. If
not set, the token will be loaded from the VAULT_TOKEN environment
variable or from the ~/.vault-token file, if configured.</p></td>
      </tr>
      <tr>
        <td><code>vault_namespace</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The Vault Enterprise namespace.</p></td>
      </tr>
      <tr>
        <td><code>mount_point</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The mount point to use for all secrets.</p></td>
      </tr>
      <tr>
        <td><code>max_versions</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of secret versions to keep.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/hashicorp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HashiCorpVaultSecretsStoreConfiguration</span><span class="p">(</span><span class="n">SecretsStoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;HashiCorp Vault secrets store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        vault_addr: The url of the Vault server. If not set, the value will be</span>
<span class="sd">            loaded from the VAULT_ADDR environment variable, if configured.</span>
<span class="sd">        vault_token: The token used to authenticate with the Vault server. If</span>
<span class="sd">            not set, the token will be loaded from the VAULT_TOKEN environment</span>
<span class="sd">            variable or from the ~/.vault-token file, if configured.</span>
<span class="sd">        vault_namespace: The Vault Enterprise namespace.</span>
<span class="sd">        mount_point: The mount point to use for all secrets.</span>
<span class="sd">        max_versions: The maximum number of secret versions to keep.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">HASHICORP</span>

    <span class="n">vault_addr</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">vault_token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">vault_namespace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mount_point</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">max_versions</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.hashicorp_secrets_store.HashiCorpVaultSecretsStoreConfiguration.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/hashicorp_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>









  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.secrets_stores.rest_secrets_store" class="doc doc-heading">
        <code>rest_secrets_store</code>



</h4>

    <div class="doc doc-contents ">

      <p>REST Secrets Store implementation.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore" class="doc doc-heading">
        <code>
RestSecretsStore            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore" href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore">BaseSecretsStore</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Secrets store implementation that uses the REST ZenML store as a backend.</p>
<p>This secrets store piggybacks on the REST ZenML store. It uses the same
REST client configuration as the REST ZenML store.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td></td>
        <td><p>The configuration of the REST secrets store.</p></td>
      </tr>
      <tr>
        <td><code>TYPE</code></td>
        <td></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>CONFIG_TYPE</code></td>
        <td></td>
        <td><p>The type of the store configuration.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/rest_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RestSecretsStore</span><span class="p">(</span><span class="n">BaseSecretsStore</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Secrets store implementation that uses the REST ZenML store as a backend.</span>

<span class="sd">    This secrets store piggybacks on the REST ZenML store. It uses the same</span>
<span class="sd">    REST client configuration as the REST ZenML store.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: The configuration of the REST secrets store.</span>
<span class="sd">        TYPE: The type of the store.</span>
<span class="sd">        CONFIG_TYPE: The type of the store configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">RestSecretsStoreConfiguration</span>
    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">SecretsStoreType</span><span class="p">]</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">REST</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">RestSecretsStoreConfiguration</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">zen_store</span><span class="p">:</span> <span class="s2">&quot;BaseZenStore&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create and initialize the REST secrets store.</span>

<span class="sd">        Args:</span>
<span class="sd">            zen_store: The ZenML store that owns this REST secrets store.</span>
<span class="sd">            **kwargs: Additional keyword arguments to pass to the Pydantic</span>
<span class="sd">                constructor.</span>

<span class="sd">        Raises:</span>
<span class="sd">            IllegalOperationError: If the ZenML store to which this secrets</span>
<span class="sd">                store belongs is not a REST ZenML store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.rest_zen_store</span> <span class="kn">import</span> <span class="n">RestZenStore</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">zen_store</span><span class="p">,</span> <span class="n">RestZenStore</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="s2">&quot;The REST secrets store can only be used with the REST ZenML &quot;</span>
                <span class="s2">&quot;store.&quot;</span>
            <span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">zen_store</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">zen_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RestZenStore&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The ZenML store that this REST secrets store is using as a back-end.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ZenML store that this REST secrets store is using as a back-end.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the store is not initialized.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.rest_zen_store</span> <span class="kn">import</span> <span class="n">RestZenStore</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zen_store</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Store not initialized&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_zen_store</span><span class="p">,</span> <span class="n">RestZenStore</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zen_store</span>

    <span class="c1"># ====================================</span>
    <span class="c1"># Secrets Store interface implementation</span>
    <span class="c1"># ====================================</span>

    <span class="c1"># --------------------------------</span>
    <span class="c1"># Initialization and configuration</span>
    <span class="c1"># --------------------------------</span>

    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the secrets REST store.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Initializing RestSecretsStore&quot;</span><span class="p">)</span>

        <span class="c1"># Nothing else to do here, the REST ZenML store back-end is already</span>
        <span class="c1"># initialized</span>

    <span class="c1"># ------</span>
    <span class="c1"># Secrets</span>
    <span class="c1"># ------</span>

    <span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">        The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">        the secrets store:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The secret to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created secret.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">secret</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SECRETS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">SecretResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a secret by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to fetch.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SECRETS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">SecretResponseModel</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">        Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">        the secret values, use `get_secret`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">            information and sorted according to the filter criteria. The</span>
<span class="sd">            returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">            fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">            secret.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SECRETS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">SecretResponseModel</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">        Secret values that are specified as `None` in the update that are</span>
<span class="sd">        present in the existing secret are removed from the existing secret.</span>
<span class="sd">        Values that are present in both secrets are overwritten. All other</span>
<span class="sd">        values in both the existing secret and the update are kept (merged).</span>

<span class="sd">        If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">        enforced in the secrets store are used to validate the update:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to be updated.</span>
<span class="sd">            secret_update: The update to be applied.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated secret.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">resource_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SECRETS</span><span class="p">,</span>
            <span class="n">response_model</span><span class="o">=</span><span class="n">SecretResponseModel</span><span class="p">,</span>
            <span class="c1"># The default endpoint behavior is to replace all secret values</span>
            <span class="c1"># with the values in the update. We want to merge the values</span>
            <span class="c1"># instead.</span>
            <span class="n">params</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">patch_values</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The id of the secret to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="n">route</span><span class="o">=</span><span class="n">SECRETS</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.zen_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">zen_store</span><span class="p">:</span> <span class="n">RestZenStore</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>The ZenML store that this REST secrets store is using as a back-end.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RestZenStore</code></td>
      <td><p>The ZenML store that this REST secrets store is using as a back-end.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the store is not initialized.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.config.secrets_store_config.SecretsStoreConfiguration" href="../core-config/#zenml.config.secrets_store_config.SecretsStoreConfiguration">SecretsStoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>REST secrets store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>SecretsStoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/rest_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RestSecretsStoreConfiguration</span><span class="p">(</span><span class="n">SecretsStoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;REST secrets store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">REST</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
        <span class="c1"># because the certificate attributes can be expanded to the contents</span>
        <span class="c1"># of the certificate files.</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.CONFIG_TYPE.Config" class="doc doc-heading">
        <code>
Config        </code>



</h7>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/rest_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
    <span class="c1"># because the certificate attributes can be expanded to the contents</span>
    <span class="c1"># of the certificate files.</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>









  </div>

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">zen_store</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create and initialize the REST secrets store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>zen_store</code></td>
        <td><code>BaseZenStore</code></td>
        <td><p>The ZenML store that owns this REST secrets store.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the Pydantic
constructor.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the ZenML store to which this secrets
store belongs is not a REST ZenML store.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/rest_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">zen_store</span><span class="p">:</span> <span class="s2">&quot;BaseZenStore&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create and initialize the REST secrets store.</span>

<span class="sd">    Args:</span>
<span class="sd">        zen_store: The ZenML store that owns this REST secrets store.</span>
<span class="sd">        **kwargs: Additional keyword arguments to pass to the Pydantic</span>
<span class="sd">            constructor.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the ZenML store to which this secrets</span>
<span class="sd">            store belongs is not a REST ZenML store.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.zen_stores.rest_zen_store</span> <span class="kn">import</span> <span class="n">RestZenStore</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">zen_store</span><span class="p">,</span> <span class="n">RestZenStore</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;The REST secrets store can only be used with the REST ZenML &quot;</span>
            <span class="s2">&quot;store.&quot;</span>
        <span class="p">)</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">zen_store</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.create_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Creates a new secret.</p>
<p>The new secret is also validated against the scoping rules enforced in
the secrets store:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>SecretRequestModel</code></td>
        <td><p>The secret to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The newly created secret.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/rest_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">    The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">    the secrets store:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created secret.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">_create_workspace_scoped_resource</span><span class="p">(</span>
        <span class="n">resource</span><span class="o">=</span><span class="n">secret</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SECRETS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">SecretResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Delete a secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the secret to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/rest_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The id of the secret to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">_delete_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SECRETS</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a secret by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to fetch.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/rest_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a secret by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to fetch.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">_get_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SECRETS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">SecretResponseModel</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.list_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>List all secrets matching the given filter criteria.</p>
<p>Note that returned secrets do not include any secret values. To fetch
the secret values, use <code>get_secret</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_filter_model</code></td>
        <td><code>SecretFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[SecretResponseModel]</code></td>
      <td><p>A list of all secrets matching the filter criteria, with pagination
information and sorted according to the filter criteria. The
returned secrets do not include any secret values, only metadata. To
fetch the secret values, use <code>get_secret</code> individually with each
secret.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/rest_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">    Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">    the secret values, use `get_secret`.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">        information and sorted according to the filter criteria. The</span>
<span class="sd">        returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">        fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">        secret.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">_list_paginated_resources</span><span class="p">(</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SECRETS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">SecretResponseModel</span><span class="p">,</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStore.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Updates a secret.</p>
<p>Secret values that are specified as <code>None</code> in the update that are
present in the existing secret are removed from the existing secret.
Values that are present in both secrets are overwritten. All other
values in both the existing secret and the update are kept (merged).</p>
<p>If the update includes a change of name or scope, the scoping rules
enforced in the secrets store are used to validate the update:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_update</code></td>
        <td><code>SecretUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The updated secret.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/rest_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">    Secret values that are specified as `None` in the update that are</span>
<span class="sd">    present in the existing secret are removed from the existing secret.</span>
<span class="sd">    Values that are present in both secrets are overwritten. All other</span>
<span class="sd">    values in both the existing secret and the update are kept (merged).</span>

<span class="sd">    If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">    enforced in the secrets store are used to validate the update:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to be updated.</span>
<span class="sd">        secret_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated secret.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">_update_resource</span><span class="p">(</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
        <span class="n">resource_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
        <span class="n">route</span><span class="o">=</span><span class="n">SECRETS</span><span class="p">,</span>
        <span class="n">response_model</span><span class="o">=</span><span class="n">SecretResponseModel</span><span class="p">,</span>
        <span class="c1"># The default endpoint behavior is to replace all secret values</span>
        <span class="c1"># with the values in the update. We want to merge the values</span>
        <span class="c1"># instead.</span>
        <span class="n">params</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">patch_values</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStoreConfiguration" class="doc doc-heading">
        <code>
RestSecretsStoreConfiguration            (<a class="autorefs autorefs-internal" title="zenml.config.secrets_store_config.SecretsStoreConfiguration" href="../core-config/#zenml.config.secrets_store_config.SecretsStoreConfiguration">SecretsStoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>REST secrets store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>SecretsStoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/rest_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">RestSecretsStoreConfiguration</span><span class="p">(</span><span class="n">SecretsStoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;REST secrets store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">REST</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
        <span class="c1"># because the certificate attributes can be expanded to the contents</span>
        <span class="c1"># of the certificate files.</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.rest_secrets_store.RestSecretsStoreConfiguration.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/rest_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
    <span class="c1"># because the certificate attributes can be expanded to the contents</span>
    <span class="c1"># of the certificate files.</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>









  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.secrets_stores.secrets_store_interface" class="doc doc-heading">
        <code>secrets_store_interface</code>



</h4>

    <div class="doc doc-contents ">

      <p>ZenML secrets store interface.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface" class="doc doc-heading">
        <code>
SecretsStoreInterface            (<span title="abc.ABC">ABC</span>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>ZenML secrets store interface.</p>
<p>All ZenML secrets stores must implement the methods in this interface.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/secrets_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SecretsStoreInterface</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ZenML secrets store interface.</span>

<span class="sd">    All ZenML secrets stores must implement the methods in this interface.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># ---------------------------------</span>
    <span class="c1"># Initialization and configuration</span>
    <span class="c1"># ---------------------------------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the secrets store.</span>

<span class="sd">        This method is called immediately after the secrets store is created.</span>
<span class="sd">        It should be used to set up the backend (database, connection etc.).</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Secrets</span>
    <span class="c1"># ---------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">        The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">        the secrets store:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The secret to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the user or workspace does not exist.</span>
<span class="sd">            EntityExistsError: If a secret with the same name already exists in</span>
<span class="sd">                the same scope.</span>
<span class="sd">            ValueError: if the secret is invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a secret with a given name.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: ID of the secret.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the secret does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">        Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">        the secret values, use `get_secret`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">            information and sorted according to the filter criteria. The</span>
<span class="sd">            returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">            fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">            secret.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">        Secret values that are specified as `None` in the update that are</span>
<span class="sd">        present in the existing secret are removed from the existing secret.</span>
<span class="sd">        Values that are present in both secrets are overwritten. All other</span>
<span class="sd">        values in both the existing secret and the update are kept (merged).</span>

<span class="sd">        If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">        enforced in the secrets store are used to validate the update:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to be updated.</span>
<span class="sd">            secret_update: The update to be applied.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the secret doesn&#39;t exist.</span>
<span class="sd">            EntityExistsError: If a secret with the same name already exists in</span>
<span class="sd">                the same scope.</span>
<span class="sd">            ValueError: if the secret is invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the secret doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.create_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Creates a new secret.</p>
<p>The new secret is also validated against the scoping rules enforced in
the secrets store:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>SecretRequestModel</code></td>
        <td><p>The secret to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The newly created secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the user or workspace does not exist.</p></td>
      </tr>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a secret with the same name already exists in
the same scope.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the secret is invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/secrets_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">    The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">    the secrets store:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the user or workspace does not exist.</span>
<span class="sd">        EntityExistsError: If a secret with the same name already exists in</span>
<span class="sd">            the same scope.</span>
<span class="sd">        ValueError: if the secret is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Deletes a secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the secret doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/secrets_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the secret doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a secret with a given name.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the secret.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the secret does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/secrets_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a secret with a given name.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: ID of the secret.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the secret does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.list_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>List all secrets matching the given filter criteria.</p>
<p>Note that returned secrets do not include any secret values. To fetch
the secret values, use <code>get_secret</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_filter_model</code></td>
        <td><code>SecretFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[SecretResponseModel]</code></td>
      <td><p>A list of all secrets matching the filter criteria, with pagination
information and sorted according to the filter criteria. The
returned secrets do not include any secret values, only metadata. To
fetch the secret values, use <code>get_secret</code> individually with each
secret.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/secrets_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">    Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">    the secret values, use `get_secret`.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">        information and sorted according to the filter criteria. The</span>
<span class="sd">        returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">        fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">        secret.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.secrets_store_interface.SecretsStoreInterface.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Updates a secret.</p>
<p>Secret values that are specified as <code>None</code> in the update that are
present in the existing secret are removed from the existing secret.
Values that are present in both secrets are overwritten. All other
values in both the existing secret and the update are kept (merged).</p>
<p>If the update includes a change of name or scope, the scoping rules
enforced in the secrets store are used to validate the update:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_update</code></td>
        <td><code>SecretUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The updated secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the secret doesn't exist.</p></td>
      </tr>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a secret with the same name already exists in
the same scope.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the secret is invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/secrets_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">    Secret values that are specified as `None` in the update that are</span>
<span class="sd">    present in the existing secret are removed from the existing secret.</span>
<span class="sd">    Values that are present in both secrets are overwritten. All other</span>
<span class="sd">    values in both the existing secret and the update are kept (merged).</span>

<span class="sd">    If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">    enforced in the secrets store are used to validate the update:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to be updated.</span>
<span class="sd">        secret_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the secret doesn&#39;t exist.</span>
<span class="sd">        EntityExistsError: If a secret with the same name already exists in</span>
<span class="sd">            the same scope.</span>
<span class="sd">        ValueError: if the secret is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.zen_stores.secrets_stores.sql_secrets_store" class="doc doc-heading">
        <code>sql_secrets_store</code>



</h4>

    <div class="doc doc-contents ">

      <p>SQL Secrets Store implementation.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore" class="doc doc-heading">
        <code>
SqlSecretsStore            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore" href="#zenml.zen_stores.secrets_stores.base_secrets_store.BaseSecretsStore">BaseSecretsStore</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Secrets store implementation that uses the SQL ZenML store as a backend.</p>
<p>This secrets store piggybacks on the SQL ZenML store. It uses the same
database and configuration as the SQL ZenML store.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td></td>
        <td><p>The configuration of the SQL secrets store.</p></td>
      </tr>
      <tr>
        <td><code>TYPE</code></td>
        <td></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>CONFIG_TYPE</code></td>
        <td></td>
        <td><p>The type of the store configuration.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/sql_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SqlSecretsStore</span><span class="p">(</span><span class="n">BaseSecretsStore</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Secrets store implementation that uses the SQL ZenML store as a backend.</span>

<span class="sd">    This secrets store piggybacks on the SQL ZenML store. It uses the same</span>
<span class="sd">    database and configuration as the SQL ZenML store.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: The configuration of the SQL secrets store.</span>
<span class="sd">        TYPE: The type of the store.</span>
<span class="sd">        CONFIG_TYPE: The type of the store configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">SqlSecretsStoreConfiguration</span>
    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">SecretsStoreType</span><span class="p">]</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">SQL</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span>
        <span class="n">Type</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">SqlSecretsStoreConfiguration</span>

    <span class="n">_encryption_engine</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AesGcmEngine</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">zen_store</span><span class="p">:</span> <span class="s2">&quot;BaseZenStore&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create and initialize the SQL secrets store.</span>

<span class="sd">        Args:</span>
<span class="sd">            zen_store: The ZenML store that owns this SQL secrets store.</span>
<span class="sd">            **kwargs: Additional keyword arguments to pass to the Pydantic</span>
<span class="sd">                constructor.</span>

<span class="sd">        Raises:</span>
<span class="sd">            IllegalOperationError: If the ZenML store to which this secrets</span>
<span class="sd">                store belongs is not a SQL ZenML store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.sql_zen_store</span> <span class="kn">import</span> <span class="n">SqlZenStore</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">zen_store</span><span class="p">,</span> <span class="n">SqlZenStore</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="s2">&quot;The SQL secrets store can only be used with the SQL ZenML &quot;</span>
                <span class="s2">&quot;store.&quot;</span>
            <span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">zen_store</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">engine</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Engine</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The SQLAlchemy engine.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The SQLAlchemy engine.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">engine</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">zen_store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SqlZenStore&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The ZenML store that this SQL secrets store is using as a back-end.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ZenML store that this SQL secrets store is using as a back-end.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the store is not initialized.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.zen_stores.sql_zen_store</span> <span class="kn">import</span> <span class="n">SqlZenStore</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zen_store</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Store not initialized&quot;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_zen_store</span><span class="p">,</span> <span class="n">SqlZenStore</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zen_store</span>

    <span class="c1"># ====================================</span>
    <span class="c1"># Secrets Store interface implementation</span>
    <span class="c1"># ====================================</span>

    <span class="c1"># --------------------------------</span>
    <span class="c1"># Initialization and configuration</span>
    <span class="c1"># --------------------------------</span>

    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the secrets SQL store.&quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Initializing SqlSecretsStore&quot;</span><span class="p">)</span>

        <span class="c1"># Initialize the encryption engine</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">encryption_key</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span> <span class="o">=</span> <span class="n">AesGcmEngine</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span><span class="o">.</span><span class="n">_update_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">encryption_key</span><span class="p">)</span>

        <span class="c1"># Nothing else to do here, the SQL ZenML store back-end is already</span>
        <span class="c1"># initialized</span>

    <span class="c1"># ------</span>
    <span class="c1"># Secrets</span>
    <span class="c1"># ------</span>

    <span class="k">def</span> <span class="nf">_check_sql_secret_scope</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
        <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">scope</span><span class="p">:</span> <span class="n">SecretScope</span><span class="p">,</span>
        <span class="n">workspace</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">user</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">exclude_secret_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if a secret with the given name already exists in the given scope.</span>

<span class="sd">        This method enforces the following scope rules:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            session: The SQLAlchemy session.</span>
<span class="sd">            secret_name: The name of the secret.</span>
<span class="sd">            scope: The scope of the secret.</span>
<span class="sd">            workspace: The ID of the workspace to which the secret belongs.</span>
<span class="sd">            user: The ID of the user to which the secret belongs.</span>
<span class="sd">            exclude_secret_id: The ID of a secret to exclude from the check</span>
<span class="sd">                (used e.g. during an update to exclude the existing secret).</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if a secret with the given name already exists in the given</span>
<span class="sd">            scope, False otherwise, and an error message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">scope_filter</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">SecretSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SecretSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">secret_name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SecretSchema</span><span class="o">.</span><span class="n">scope</span> <span class="o">==</span> <span class="n">scope</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">scope</span> <span class="ow">in</span> <span class="p">[</span><span class="n">SecretScope</span><span class="o">.</span><span class="n">WORKSPACE</span><span class="p">,</span> <span class="n">SecretScope</span><span class="o">.</span><span class="n">USER</span><span class="p">]:</span>
            <span class="n">scope_filter</span> <span class="o">=</span> <span class="n">scope_filter</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">SecretSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">workspace</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">scope</span> <span class="o">==</span> <span class="n">SecretScope</span><span class="o">.</span><span class="n">USER</span><span class="p">:</span>
            <span class="n">scope_filter</span> <span class="o">=</span> <span class="n">scope_filter</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SecretSchema</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">user</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">exclude_secret_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">scope_filter</span> <span class="o">=</span> <span class="n">scope_filter</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">SecretSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">!=</span> <span class="n">exclude_secret_id</span>
            <span class="p">)</span>

        <span class="n">existing_secret</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">scope_filter</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">existing_secret</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">existing_secret_model</span> <span class="o">=</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span>
                <span class="n">encryption_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span>
            <span class="p">)</span>

            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Found an existing </span><span class="si">{</span><span class="n">scope</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> scoped secret with the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;same &#39;</span><span class="si">{</span><span class="n">secret_name</span><span class="si">}</span><span class="s2">&#39; name&quot;</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">scope</span> <span class="ow">in</span> <span class="p">[</span><span class="n">SecretScope</span><span class="o">.</span><span class="n">WORKSPACE</span><span class="p">,</span> <span class="n">SecretScope</span><span class="o">.</span><span class="n">USER</span><span class="p">]:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot; in the same &#39;</span><span class="si">{</span><span class="n">existing_secret_model</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;workspace&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">scope</span> <span class="o">==</span> <span class="n">SecretScope</span><span class="o">.</span><span class="n">USER</span><span class="p">:</span>
                <span class="k">assert</span> <span class="n">existing_secret_model</span><span class="o">.</span><span class="n">user</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot; for the same &#39;</span><span class="si">{</span><span class="n">existing_secret_model</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; user&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="n">msg</span>

        <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>

    <span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_SECRET</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">        The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">        the secrets store:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret: The secret to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a secret with the same name already exists in</span>
<span class="sd">                the same scope.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if a secret with the same name already exists in the same</span>
            <span class="c1"># scope.</span>
            <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_sql_secret_scope</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">new_secret</span> <span class="o">=</span> <span class="n">SecretSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span>
                <span class="n">secret</span><span class="p">,</span> <span class="n">encryption_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span>
            <span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_secret</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">new_secret</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span>
                <span class="n">encryption_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a secret by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to fetch.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the secret doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">secret_in_db</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">SecretSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SecretSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">secret_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">secret_in_db</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">secret_in_db</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span>
                <span class="n">encryption_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">        Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">        the secret values, use `get_secret`.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">            information and sorted according to the filter criteria. The</span>
<span class="sd">            returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">            fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">            secret.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">SecretSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">SecretSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="p">,</span>
                <span class="n">custom_schema_to_model_conversion</span><span class="o">=</span><span class="k">lambda</span> <span class="n">secret</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span>
                    <span class="n">include_values</span><span class="o">=</span><span class="kc">False</span>
                <span class="p">),</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">        Secret values that are specified as `None` in the update that are</span>
<span class="sd">        present in the existing secret are removed from the existing secret.</span>
<span class="sd">        Values that are present in both secrets are overwritten. All other</span>
<span class="sd">        values in both the existing secret and the update are kept (merged).</span>

<span class="sd">        If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">        enforced in the secrets store are used to validate the update:</span>

<span class="sd">          - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">            in the target workspace.</span>
<span class="sd">          - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">            target workspace for the target user.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The ID of the secret to be updated.</span>
<span class="sd">            secret_update: The update to be applied.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated secret.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the secret doesn&#39;t exist.</span>
<span class="sd">            EntityExistsError: If a secret with the same name already exists in</span>
<span class="sd">                the same scope.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">existing_secret</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">SecretSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SecretSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">secret_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_secret</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>

            <span class="c1"># Prevent changes to the secret&#39;s user or workspace</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace_update</span><span class="p">(</span>
                <span class="n">secret_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
                <span class="n">current_user</span><span class="o">=</span><span class="n">existing_secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">current_workspace</span><span class="o">=</span><span class="n">existing_secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="c1"># A change in name or scope requires a check of the scoping rules.</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="ow">and</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span>
                <span class="ow">or</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="ow">and</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">scope</span> <span class="o">!=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span>
            <span class="p">):</span>
                <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_sql_secret_scope</span><span class="p">(</span>
                    <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                    <span class="n">secret_name</span><span class="o">=</span><span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">scope</span><span class="o">=</span><span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span>
                    <span class="ow">or</span> <span class="n">SecretScope</span><span class="p">(</span><span class="n">existing_secret</span><span class="o">.</span><span class="n">scope</span><span class="p">),</span>
                    <span class="n">workspace</span><span class="o">=</span><span class="n">secret_update</span><span class="o">.</span><span class="n">workspace</span>
                    <span class="ow">or</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">user</span><span class="o">=</span><span class="n">secret_update</span><span class="o">.</span><span class="n">user</span> <span class="ow">or</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">exclude_secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">existing_secret</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                <span class="n">secret_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
                <span class="n">encryption_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_secret</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="c1"># Refresh the Model that was just created</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_secret</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span>
                <span class="n">encryption_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a secret.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_id: The id of the secret to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the secret doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">secret_in_db</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">SecretSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SecretSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">secret_id</span><span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>
                <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">secret_in_db</span><span class="p">)</span>
                <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">NoResultFound</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.engine" class="doc doc-heading">
<code class="highlight language-python"><span class="n">engine</span><span class="p">:</span> <span class="n">Engine</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>The SQLAlchemy engine.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Engine</code></td>
      <td><p>The SQLAlchemy engine.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.zen_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">zen_store</span><span class="p">:</span> <span class="n">SqlZenStore</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>The ZenML store that this SQL secrets store is using as a back-end.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SqlZenStore</code></td>
      <td><p>The ZenML store that this SQL secrets store is using as a back-end.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the store is not initialized.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>




  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.config.secrets_store_config.SecretsStoreConfiguration" href="../core-config/#zenml.config.secrets_store_config.SecretsStoreConfiguration">SecretsStoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>SQL secrets store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>SecretsStoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>encryption_key</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The encryption key to use for the SQL secrets store.
If not set, the passwords will not be encrypted in the database.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/sql_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SqlSecretsStoreConfiguration</span><span class="p">(</span><span class="n">SecretsStoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL secrets store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        encryption_key: The encryption key to use for the SQL secrets store.</span>
<span class="sd">            If not set, the passwords will not be encrypted in the database.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">SQL</span>
    <span class="n">encryption_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
        <span class="c1"># because the certificate attributes can be expanded to the contents</span>
        <span class="c1"># of the certificate files.</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h7 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.CONFIG_TYPE.Config" class="doc doc-heading">
        <code>
Config        </code>



</h7>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/sql_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
    <span class="c1"># because the certificate attributes can be expanded to the contents</span>
    <span class="c1"># of the certificate files.</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>









  </div>

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">zen_store</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Create and initialize the SQL secrets store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>zen_store</code></td>
        <td><code>BaseZenStore</code></td>
        <td><p>The ZenML store that owns this SQL secrets store.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the Pydantic
constructor.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the ZenML store to which this secrets
store belongs is not a SQL ZenML store.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/sql_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">zen_store</span><span class="p">:</span> <span class="s2">&quot;BaseZenStore&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create and initialize the SQL secrets store.</span>

<span class="sd">    Args:</span>
<span class="sd">        zen_store: The ZenML store that owns this SQL secrets store.</span>
<span class="sd">        **kwargs: Additional keyword arguments to pass to the Pydantic</span>
<span class="sd">            constructor.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the ZenML store to which this secrets</span>
<span class="sd">            store belongs is not a SQL ZenML store.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.zen_stores.sql_zen_store</span> <span class="kn">import</span> <span class="n">SqlZenStore</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">zen_store</span><span class="p">,</span> <span class="n">SqlZenStore</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
            <span class="s2">&quot;The SQL secrets store can only be used with the SQL ZenML &quot;</span>
            <span class="s2">&quot;store.&quot;</span>
        <span class="p">)</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">zen_store</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.create_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Creates a new secret.</p>
<p>The new secret is also validated against the scoping rules enforced in
the secrets store:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret</code></td>
        <td><code>SecretRequestModel</code></td>
        <td><p>The secret to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The newly created secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a secret with the same name already exists in
the same scope.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/sql_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_SECRET</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">SecretRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new secret.</span>

<span class="sd">    The new secret is also validated against the scoping rules enforced in</span>
<span class="sd">    the secrets store:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret: The secret to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a secret with the same name already exists in</span>
<span class="sd">            the same scope.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if a secret with the same name already exists in the same</span>
        <span class="c1"># scope.</span>
        <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_sql_secret_scope</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">secret_name</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">scope</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">scope</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">secret</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">new_secret</span> <span class="o">=</span> <span class="n">SecretSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span>
            <span class="n">secret</span><span class="p">,</span> <span class="n">encryption_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span>
        <span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_secret</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">new_secret</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span>
            <span class="n">encryption_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Delete a secret.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the secret to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the secret doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/sql_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a secret.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The id of the secret to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the secret doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">secret_in_db</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">SecretSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SecretSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">secret_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>
            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">secret_in_db</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">NoResultFound</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.get_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a secret by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to fetch.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the secret doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/sql_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a secret by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to fetch.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the secret doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">secret_in_db</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">SecretSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SecretSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">secret_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">secret_in_db</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">secret_in_db</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span>
            <span class="n">encryption_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.list_secrets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_secrets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>List all secrets matching the given filter criteria.</p>
<p>Note that returned secrets do not include any secret values. To fetch
the secret values, use <code>get_secret</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_filter_model</code></td>
        <td><code>SecretFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[SecretResponseModel]</code></td>
      <td><p>A list of all secrets matching the filter criteria, with pagination
information and sorted according to the filter criteria. The
returned secrets do not include any secret values, only metadata. To
fetch the secret values, use <code>get_secret</code> individually with each
secret.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/sql_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_secrets</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_filter_model</span><span class="p">:</span> <span class="n">SecretFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">SecretResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all secrets matching the given filter criteria.</span>

<span class="sd">    Note that returned secrets do not include any secret values. To fetch</span>
<span class="sd">    the secret values, use `get_secret`.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all secrets matching the filter criteria, with pagination</span>
<span class="sd">        information and sorted according to the filter criteria. The</span>
<span class="sd">        returned secrets do not include any secret values, only metadata. To</span>
<span class="sd">        fetch the secret values, use `get_secret` individually with each</span>
<span class="sd">        secret.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">SecretSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">SecretSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">secret_filter_model</span><span class="p">,</span>
            <span class="n">custom_schema_to_model_conversion</span><span class="o">=</span><span class="k">lambda</span> <span class="n">secret</span><span class="p">:</span> <span class="n">secret</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span>
                <span class="n">include_values</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">),</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStore.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Updates a secret.</p>
<p>Secret values that are specified as <code>None</code> in the update that are
present in the existing secret are removed from the existing secret.
Values that are present in both secrets are overwritten. All other
values in both the existing secret and the update are kept (merged).</p>
<p>If the update includes a change of name or scope, the scoping rules
enforced in the secrets store are used to validate the update:</p>
<ul>
<li>only one workspace-scoped secret with the given name can exist
    in the target workspace.</li>
<li>only one user-scoped secret with the given name can exist in the
    target workspace for the target user.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the secret to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_update</code></td>
        <td><code>SecretUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretResponseModel</code></td>
      <td><p>The updated secret.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the secret doesn't exist.</p></td>
      </tr>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a secret with the same name already exists in
the same scope.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/sql_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">secret_update</span><span class="p">:</span> <span class="n">SecretUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a secret.</span>

<span class="sd">    Secret values that are specified as `None` in the update that are</span>
<span class="sd">    present in the existing secret are removed from the existing secret.</span>
<span class="sd">    Values that are present in both secrets are overwritten. All other</span>
<span class="sd">    values in both the existing secret and the update are kept (merged).</span>

<span class="sd">    If the update includes a change of name or scope, the scoping rules</span>
<span class="sd">    enforced in the secrets store are used to validate the update:</span>

<span class="sd">      - only one workspace-scoped secret with the given name can exist</span>
<span class="sd">        in the target workspace.</span>
<span class="sd">      - only one user-scoped secret with the given name can exist in the</span>
<span class="sd">        target workspace for the target user.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_id: The ID of the secret to be updated.</span>
<span class="sd">        secret_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated secret.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the secret doesn&#39;t exist.</span>
<span class="sd">        EntityExistsError: If a secret with the same name already exists in</span>
<span class="sd">            the same scope.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">existing_secret</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">SecretSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SecretSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">secret_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_secret</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Secret with ID </span><span class="si">{</span><span class="n">secret_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>

        <span class="c1"># Prevent changes to the secret&#39;s user or workspace</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_user_and_workspace_update</span><span class="p">(</span>
            <span class="n">secret_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
            <span class="n">current_user</span><span class="o">=</span><span class="n">existing_secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">current_workspace</span><span class="o">=</span><span class="n">existing_secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># A change in name or scope requires a check of the scoping rules.</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">name</span>
            <span class="ow">or</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">scope</span> <span class="o">!=</span> <span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span>
        <span class="p">):</span>
            <span class="n">secret_exists</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_sql_secret_scope</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">secret_name</span><span class="o">=</span><span class="n">secret_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">scope</span><span class="o">=</span><span class="n">secret_update</span><span class="o">.</span><span class="n">scope</span>
                <span class="ow">or</span> <span class="n">SecretScope</span><span class="p">(</span><span class="n">existing_secret</span><span class="o">.</span><span class="n">scope</span><span class="p">),</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">secret_update</span><span class="o">.</span><span class="n">workspace</span>
                <span class="ow">or</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">secret_update</span><span class="o">.</span><span class="n">user</span> <span class="ow">or</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">exclude_secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">secret_exists</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="n">existing_secret</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="n">secret_update</span><span class="o">=</span><span class="n">secret_update</span><span class="p">,</span>
            <span class="n">encryption_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_secret</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="c1"># Refresh the Model that was just created</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_secret</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">existing_secret</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span>
            <span class="n">encryption_engine</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_encryption_engine</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStoreConfiguration" class="doc doc-heading">
        <code>
SqlSecretsStoreConfiguration            (<a class="autorefs autorefs-internal" title="zenml.config.secrets_store_config.SecretsStoreConfiguration" href="../core-config/#zenml.config.secrets_store_config.SecretsStoreConfiguration">SecretsStoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL secrets store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>SecretsStoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>encryption_key</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The encryption key to use for the SQL secrets store.
If not set, the passwords will not be encrypted in the database.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/sql_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SqlSecretsStoreConfiguration</span><span class="p">(</span><span class="n">SecretsStoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL secrets store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        encryption_key: The encryption key to use for the SQL secrets store.</span>
<span class="sd">            If not set, the passwords will not be encrypted in the database.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">SecretsStoreType</span> <span class="o">=</span> <span class="n">SecretsStoreType</span><span class="o">.</span><span class="n">SQL</span>
    <span class="n">encryption_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
        <span class="c1"># because the certificate attributes can be expanded to the contents</span>
        <span class="c1"># of the certificate files.</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.secrets_stores.sql_secrets_store.SqlSecretsStoreConfiguration.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/secrets_stores/sql_secrets_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
    <span class="c1"># because the certificate attributes can be expanded to the contents</span>
    <span class="c1"># of the certificate files.</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>









  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_stores.sql_zen_store" class="doc doc-heading">
        <code>sql_zen_store</code>



</h3>

    <div class="doc doc-contents ">

      <p>SQL Zen Store implementation.</p>



  <div class="doc doc-children">













  <div class="doc doc-object doc-class">



<h4 id="zenml.zen_stores.sql_zen_store.SQLDatabaseDriver" class="doc doc-heading">
        <code>
SQLDatabaseDriver            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../core-utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>SQL database drivers supported by the SQL ZenML store.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SQLDatabaseDriver</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL database drivers supported by the SQL ZenML store.&quot;&quot;&quot;</span>

    <span class="n">MYSQL</span> <span class="o">=</span> <span class="s2">&quot;mysql&quot;</span>
    <span class="n">SQLITE</span> <span class="o">=</span> <span class="s2">&quot;sqlite&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.zen_stores.sql_zen_store.SqlZenStore" class="doc doc-heading">
        <code>
SqlZenStore            (<a class="autorefs autorefs-internal" title="zenml.zen_stores.base_zen_store.BaseZenStore" href="#zenml.zen_stores.base_zen_store.BaseZenStore">BaseZenStore</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Store Implementation that uses SQL database backend.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>SqlZenStoreConfiguration</code></td>
        <td><p>The configuration of the SQL ZenML store.</p></td>
      </tr>
      <tr>
        <td><code>skip_migrations</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to skip migrations when initializing the store.</p></td>
      </tr>
      <tr>
        <td><code>TYPE</code></td>
        <td><code>ClassVar[zenml.enums.StoreType]</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>CONFIG_TYPE</code></td>
        <td><code>ClassVar[Type[zenml.config.store_config.StoreConfiguration]]</code></td>
        <td><p>The type of the store configuration.</p></td>
      </tr>
      <tr>
        <td><code>_engine</code></td>
        <td><code>Optional[sqlalchemy.engine.base.Engine]</code></td>
        <td><p>The SQLAlchemy engine.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SqlZenStore</span><span class="p">(</span><span class="n">BaseZenStore</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Store Implementation that uses SQL database backend.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: The configuration of the SQL ZenML store.</span>
<span class="sd">        skip_migrations: Whether to skip migrations when initializing the store.</span>
<span class="sd">        TYPE: The type of the store.</span>
<span class="sd">        CONFIG_TYPE: The type of the store configuration.</span>
<span class="sd">        _engine: The SQLAlchemy engine.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">SqlZenStoreConfiguration</span>
    <span class="n">skip_migrations</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">StoreType</span><span class="p">]</span> <span class="o">=</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">SQL</span>
    <span class="n">CONFIG_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">StoreConfiguration</span><span class="p">]]</span> <span class="o">=</span> <span class="n">SqlZenStoreConfiguration</span>

    <span class="n">_engine</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Engine</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_alembic</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Alembic</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">engine</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Engine</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The SQLAlchemy engine.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The SQLAlchemy engine.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the store is not initialized.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Store not initialized&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">runs_inside_server</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Whether the store is running inside a server.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Whether the store is running inside a server.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">ENV_ZENML_SERVER_DEPLOYMENT_TYPE</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">alembic</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Alembic</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The Alembic wrapper.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Alembic wrapper.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the store is not initialized.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_alembic</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Store not initialized&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_alembic</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">filter_and_paginate</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
        <span class="n">query</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Select</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">],</span> <span class="n">SelectOfScalar</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">]],</span>
        <span class="n">table</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">],</span>
        <span class="n">filter_model</span><span class="p">:</span> <span class="n">BaseFilterModel</span><span class="p">,</span>
        <span class="n">custom_schema_to_model_conversion</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
            <span class="n">Callable</span><span class="p">[[</span><span class="n">AnySchema</span><span class="p">],</span> <span class="n">B</span><span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">custom_fetch</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
            <span class="n">Callable</span><span class="p">[</span>
                <span class="p">[</span>
                    <span class="n">Session</span><span class="p">,</span>
                    <span class="n">Union</span><span class="p">[</span><span class="n">Select</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">],</span> <span class="n">SelectOfScalar</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">]],</span>
                    <span class="n">BaseFilterModel</span><span class="p">,</span>
                <span class="p">],</span>
                <span class="n">List</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">],</span>
            <span class="p">]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">B</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Given a query, return a Page instance with a list of filtered Models.</span>

<span class="sd">        Args:</span>
<span class="sd">            session: The SQLModel Session</span>
<span class="sd">            query: The query to execute</span>
<span class="sd">            table: The table to select from</span>
<span class="sd">            filter_model: The filter to use, including pagination and sorting</span>
<span class="sd">            custom_schema_to_model_conversion: Callable to convert the schema</span>
<span class="sd">                into a model. This is used if the Model contains additional</span>
<span class="sd">                data that is not explicitly stored as a field or relationship</span>
<span class="sd">                on the model.</span>
<span class="sd">            custom_fetch: Custom callable to use to fetch items from the</span>
<span class="sd">                database for a given query. This is used if the items fetched</span>
<span class="sd">                from the database need to be processed differently (e.g. to</span>
<span class="sd">                perform additional filtering). The callable should take a</span>
<span class="sd">                `Session`, a `Select` query and a `BaseFilterModel` filter as</span>
<span class="sd">                arguments and return a `List` of items.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Domain Model representation of the DB resource</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the filtered page number is out of bounds.</span>
<span class="sd">            RuntimeError: if the schema does not have a `to_model` method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">apply_filter</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">)</span>

        <span class="c1"># Get the total amount of items in the database for a given query</span>
        <span class="k">if</span> <span class="n">custom_fetch</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">custom_fetch</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">scalar</span><span class="p">(</span>
                <span class="n">select</span><span class="p">([</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)])</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span>
                    <span class="n">query</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">noload</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">subquery</span><span class="p">()</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="c1"># Sorting</span>
        <span class="n">column</span><span class="p">,</span> <span class="n">operand</span> <span class="o">=</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">sorting_params</span>
        <span class="k">if</span> <span class="n">operand</span> <span class="o">==</span> <span class="n">SorterOps</span><span class="o">.</span><span class="n">DESCENDING</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">asc</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">)))</span>

        <span class="c1"># Get the total amount of pages in the database for a given query</span>
        <span class="k">if</span> <span class="n">total</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">total_pages</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">total_pages</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">total</span> <span class="o">/</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">&gt;</span> <span class="n">total_pages</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid page </span><span class="si">{</span><span class="n">filter_model</span><span class="o">.</span><span class="n">page</span><span class="si">}</span><span class="s2">. The requested page size is &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">filter_model</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> and there are a total of </span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> items &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;for this query. The maximum page value therefore is &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">total_pages</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Get a page of the actual data</span>
        <span class="n">item_schemas</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">custom_fetch</span><span class="p">:</span>
            <span class="n">item_schemas</span> <span class="o">=</span> <span class="n">custom_fetch</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">)</span>
            <span class="c1"># select the items in the current page</span>
            <span class="n">item_schemas</span> <span class="o">=</span> <span class="n">item_schemas</span><span class="p">[</span>
                <span class="n">filter_model</span><span class="o">.</span><span class="n">offset</span> <span class="p">:</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">size</span>
            <span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">item_schemas</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">query</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">filter_model</span><span class="o">.</span><span class="n">offset</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">unique</span><span class="p">()</span>
                <span class="o">.</span><span class="n">all</span><span class="p">()</span>
            <span class="p">)</span>

        <span class="c1"># Convert this page of items from schemas to models.</span>
        <span class="n">items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">B</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">item_schemas</span><span class="p">:</span>
            <span class="c1"># If a custom conversion function is provided, use it.</span>
            <span class="k">if</span> <span class="n">custom_schema_to_model_conversion</span><span class="p">:</span>
                <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">custom_schema_to_model_conversion</span><span class="p">(</span><span class="n">schema</span><span class="p">))</span>
                <span class="k">continue</span>
            <span class="c1"># Otherwise, try to use the `to_model` method of the schema.</span>
            <span class="n">to_model</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="s2">&quot;to_model&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">to_model</span><span class="p">):</span>
                <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_model</span><span class="p">())</span>
                <span class="k">continue</span>
            <span class="c1"># If neither of the above work, raise an error.</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Cannot convert schema `</span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` to model &quot;</span>
                <span class="s2">&quot;since it does not have a `to_model` method.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">Page</span><span class="p">(</span>
            <span class="n">total</span><span class="o">=</span><span class="n">total</span><span class="p">,</span>
            <span class="n">total_pages</span><span class="o">=</span><span class="n">total_pages</span><span class="p">,</span>
            <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">,</span>
            <span class="n">index</span><span class="o">=</span><span class="n">filter_model</span><span class="o">.</span><span class="n">page</span><span class="p">,</span>
            <span class="n">max_size</span><span class="o">=</span><span class="n">filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># ====================================</span>
    <span class="c1"># ZenML Store interface implementation</span>
    <span class="c1"># ====================================</span>

    <span class="c1"># --------------------------------</span>
    <span class="c1"># Initialization and configuration</span>
    <span class="c1"># --------------------------------</span>

    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the SQL store.</span>

<span class="sd">        Raises:</span>
<span class="sd">            OperationalError: If connecting to the database failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Initializing SqlZenStore at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

        <span class="n">url</span><span class="p">,</span> <span class="n">connect_args</span><span class="p">,</span> <span class="n">engine_args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_sqlmodel_config</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">connect_args</span><span class="o">=</span><span class="n">connect_args</span><span class="p">,</span> <span class="o">**</span><span class="n">engine_args</span>
        <span class="p">)</span>

        <span class="c1"># SQLite: As long as the parent directory exists, SQLAlchemy will</span>
        <span class="c1"># automatically create the database.</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">driver</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">SQLITE</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">database</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">database</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">database</span><span class="p">))</span>

        <span class="c1"># MySQL: We might need to create the database manually.</span>
        <span class="c1"># To do so, we create a new engine that connects to the `mysql` database</span>
        <span class="c1"># and then create the desired database.</span>
        <span class="c1"># See https://stackoverflow.com/a/8977109</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">driver</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">MYSQL</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">database</span>
        <span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">OperationalError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Failed to connect to mysql database `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">database</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="k">if</span> <span class="n">_is_mysql_missing_database_error</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_mysql_database</span><span class="p">(</span>
                        <span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
                        <span class="n">connect_args</span><span class="o">=</span><span class="n">connect_args</span><span class="p">,</span>
                        <span class="n">engine_args</span><span class="o">=</span><span class="n">engine_args</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_alembic</span> <span class="o">=</span> <span class="n">Alembic</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip_migrations</span>
            <span class="ow">and</span> <span class="n">ENV_ZENML_DISABLE_DATABASE_MIGRATION</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">migrate_database</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_create_mysql_database</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="n">URL</span><span class="p">,</span>
        <span class="n">connect_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">engine_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a mysql database.</span>

<span class="sd">        Args:</span>
<span class="sd">            url: The URL of the database to create.</span>
<span class="sd">            connect_args: Connect arguments for the SQLAlchemy engine.</span>
<span class="sd">            engine_args: Additional initialization arguments for the SQLAlchemy</span>
<span class="sd">                engine</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Trying to create database </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">.</span><span class="n">database</span><span class="p">)</span>
        <span class="n">master_url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">database</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">master_engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">master_url</span><span class="p">,</span> <span class="n">connect_args</span><span class="o">=</span><span class="n">connect_args</span><span class="p">,</span> <span class="o">**</span><span class="n">engine_args</span>
        <span class="p">)</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;CREATE DATABASE IF NOT EXISTS </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">database</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">connection</span> <span class="o">=</span> <span class="n">master_engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
            <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">text</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">migrate_database</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Migrate the database to the head as defined by the python package.&quot;&quot;&quot;</span>
        <span class="n">alembic_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;alembic&quot;</span><span class="p">)</span>

        <span class="c1"># remove all existing handlers</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">alembic_logger</span><span class="o">.</span><span class="n">handlers</span><span class="p">):</span>
            <span class="n">alembic_logger</span><span class="o">.</span><span class="n">removeHandler</span><span class="p">(</span><span class="n">alembic_logger</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="n">logging_level</span> <span class="o">=</span> <span class="n">get_logging_level</span><span class="p">()</span>

        <span class="c1"># suppress alembic info logging if the zenml logging level is not debug</span>
        <span class="k">if</span> <span class="n">logging_level</span> <span class="o">==</span> <span class="n">LoggingLevels</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">:</span>
            <span class="n">alembic_logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">alembic_logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">)</span>

        <span class="n">alembic_logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">get_console_handler</span><span class="p">())</span>

        <span class="c1"># We need to account for 3 distinct cases here:</span>
        <span class="c1"># 1. the database is completely empty (not initialized)</span>
        <span class="c1"># 2. the database is not empty, but has never been migrated with alembic</span>
        <span class="c1">#   before (i.e. was created with SQLModel back when alembic wasn&#39;t</span>
        <span class="c1">#   used)</span>
        <span class="c1"># 3. the database is not empty and has been migrated with alembic before</span>
        <span class="n">revisions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">current_revisions</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">revisions</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">revisions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;The ZenML database has more than one migration head &quot;</span>
                    <span class="s2">&quot;revision. This is not expected and might indicate a &quot;</span>
                    <span class="s2">&quot;database migration problem. Please raise an issue on &quot;</span>
                    <span class="s2">&quot;GitHub if you encounter this.&quot;</span>
                <span class="p">)</span>
            <span class="c1"># Case 3: the database has been migrated with alembic before. Just</span>
            <span class="c1"># upgrade to the latest revision.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">upgrade</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">db_is_empty</span><span class="p">():</span>
                <span class="c1"># Case 1: the database is empty. We can just create the</span>
                <span class="c1"># tables from scratch with alembic.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">upgrade</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Case 2: the database is not empty, but has never been</span>
                <span class="c1"># migrated with alembic before. We need to create the alembic</span>
                <span class="c1"># version table, initialize it with the first revision where we</span>
                <span class="c1"># introduced alembic and then upgrade to the latest revision.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">stamp</span><span class="p">(</span><span class="n">ZENML_ALEMBIC_START_REVISION</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">upgrade</span><span class="p">()</span>

        <span class="c1"># If an alembic migration took place, all non-custom flavors are purged</span>
        <span class="c1">#  and the FlavorRegistry recreates all in-built and integration</span>
        <span class="c1">#  flavors in the db.</span>
        <span class="n">revisions_afterwards</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">current_revisions</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">revisions</span> <span class="o">!=</span> <span class="n">revisions_afterwards</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sync_flavors</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_sync_flavors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Purge all in-built and integration flavors from the DB and sync.&quot;&quot;&quot;</span>
        <span class="n">FlavorRegistry</span><span class="p">()</span><span class="o">.</span><span class="n">register_flavors</span><span class="p">(</span><span class="n">store</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_store_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get information about the store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Information about the store.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the deployment ID could not be loaded from the</span>
<span class="sd">                database.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">model</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span>
        <span class="n">sql_url</span> <span class="o">=</span> <span class="n">make_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">database_type</span> <span class="o">=</span> <span class="n">ServerDatabaseType</span><span class="p">(</span><span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span><span class="p">)</span>

        <span class="c1"># Fetch the deployment ID from the database and use it to replace</span>
        <span class="c1"># the one fetched from the global configuration</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">identity</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">IdentitySchema</span><span class="p">))</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">identity</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="s2">&quot;The deployment ID could not be loaded from the database.&quot;</span>
                <span class="p">)</span>
            <span class="n">model</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">identity</span><span class="o">.</span><span class="n">id</span>
        <span class="k">return</span> <span class="n">model</span>

    <span class="c1"># ------</span>
    <span class="c1"># Stacks</span>
    <span class="c1"># ------</span>
    <span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">REGISTERED_STACK</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">StackRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register a new stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack: The stack to register.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The registered stack.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_stack_with_name_exists_for_user</span><span class="p">(</span>
                <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">stack</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_stack_with_name_already_shared</span><span class="p">(</span>
                    <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
                <span class="p">)</span>

            <span class="c1"># Get the Schemas of all components mentioned</span>
            <span class="n">component_ids</span> <span class="o">=</span> <span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">component_id</span>
                    <span class="k">for</span> <span class="n">list_of_component_ids</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                    <span class="k">for</span> <span class="n">component_id</span> <span class="ow">in</span> <span class="n">list_of_component_ids</span>
                <span class="p">]</span>
                <span class="k">if</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="k">else</span> <span class="p">[]</span>
            <span class="p">)</span>
            <span class="n">filters</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component_id</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">component_id</span> <span class="ow">in</span> <span class="n">component_ids</span>
            <span class="p">]</span>

            <span class="n">defined_components</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">or_</span><span class="p">(</span><span class="o">*</span><span class="n">filters</span><span class="p">))</span>
            <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

            <span class="n">new_stack_schema</span> <span class="o">=</span> <span class="n">StackSchema</span><span class="p">(</span>
                <span class="n">workspace_id</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">user_id</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                <span class="n">is_shared</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
                <span class="n">stack_spec_path</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_spec_path</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
                <span class="n">components</span><span class="o">=</span><span class="n">defined_components</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_stack_schema</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_stack_schema</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">new_stack_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a stack by its unique ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_id: The ID of the stack to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The stack with the given ID.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">stack</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StackSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">stack_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">stack</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stack with ID </span><span class="si">{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">stack</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_stacks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">stack_filter_model</span><span class="p">:</span> <span class="n">StackFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StackResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all stacks matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all stacks matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">StackSchema</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">stack_filter_model</span><span class="o">.</span><span class="n">component_id</span><span class="p">:</span>
                <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">StackCompositionSchema</span><span class="o">.</span><span class="n">stack_id</span> <span class="o">==</span> <span class="n">StackSchema</span><span class="o">.</span><span class="n">id</span>
                <span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">StackCompositionSchema</span><span class="o">.</span><span class="n">component_id</span>
                    <span class="o">==</span> <span class="n">stack_filter_model</span><span class="o">.</span><span class="n">component_id</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">StackSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">stack_filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">count_stacks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Count all stacks, optionally within a workspace scope.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_id: The workspace to use for counting stacks</span>

<span class="sd">        Returns:</span>
<span class="sd">            The number of stacks in the workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count_entity</span><span class="p">(</span>
            <span class="n">schema</span><span class="o">=</span><span class="n">StackSchema</span><span class="p">,</span> <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_id</span>
        <span class="p">)</span>

    <span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">UPDATED_STACK</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">update_stack</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">stack_update</span><span class="p">:</span> <span class="n">StackUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_id: The ID of the stack update.</span>
<span class="sd">            stack_update: The update request on the stack.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated stack.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack doesn&#39;t exist.</span>
<span class="sd">            IllegalOperationError: if the stack is a default stack.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if stack with the domain key (name, workspace, owner) already</span>
            <span class="c1">#  exists</span>
            <span class="n">existing_stack</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StackSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">stack_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_stack</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to update stack with id &#39;</span><span class="si">{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">&#39;: Found no&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;existing stack with this id.&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">existing_stack</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">DEFAULT_STACK_NAME</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="s2">&quot;The default stack cannot be modified.&quot;</span>
                <span class="p">)</span>
            <span class="c1"># In case of a renaming update, make sure no stack already exists</span>
            <span class="c1"># with that name</span>
            <span class="k">if</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">existing_stack</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_stack_with_name_exists_for_user</span><span class="p">(</span>
                        <span class="n">stack</span><span class="o">=</span><span class="n">stack_update</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
                    <span class="p">)</span>

            <span class="c1"># Check if stack update makes the stack a shared stack. In that</span>
            <span class="c1"># case, check if a stack with the same name is already shared</span>
            <span class="c1"># within the workspace</span>
            <span class="k">if</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_stack</span><span class="o">.</span><span class="n">is_shared</span> <span class="ow">and</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_stack_with_name_already_shared</span><span class="p">(</span>
                        <span class="n">stack</span><span class="o">=</span><span class="n">stack_update</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
                    <span class="p">)</span>

            <span class="n">components</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">components</span><span class="p">:</span>
                <span class="n">filters</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="p">(</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component_id</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">list_of_component_ids</span> <span class="ow">in</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                    <span class="k">for</span> <span class="n">component_id</span> <span class="ow">in</span> <span class="n">list_of_component_ids</span>
                <span class="p">]</span>
                <span class="n">components</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">or_</span><span class="p">(</span><span class="o">*</span><span class="n">filters</span><span class="p">))</span>
                <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

            <span class="n">existing_stack</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                <span class="n">stack_update</span><span class="o">=</span><span class="n">stack_update</span><span class="p">,</span>
                <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_stack</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_stack</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">existing_stack</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">delete_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_id: The ID of the stack to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack doesn&#39;t exist.</span>
<span class="sd">            IllegalOperationError: if the stack is a default stack.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">stack</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">StackSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">stack_id</span><span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">stack</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stack with ID </span><span class="si">{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">stack</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">DEFAULT_STACK_NAME</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                        <span class="s2">&quot;The default stack cannot be deleted.&quot;</span>
                    <span class="p">)</span>
                <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">NoResultFound</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span> <span class="kn">from</span> <span class="nn">error</span>

            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_fail_if_stack_with_name_exists_for_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="n">StackRequestModel</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Raise an exception if a Component with same name exists for user.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack: The Stack</span>
<span class="sd">            session: The Session</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            StackExistsError: If a Stack with the given name is already</span>
<span class="sd">                                       owned by the user</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">existing_domain_stack</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StackSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">stack</span><span class="o">.</span><span class="n">workspace</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">stack</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_domain_stack</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_workspace_schema</span><span class="p">(</span>
                <span class="n">workspace_name_or_id</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>
            <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span>
                <span class="n">user_name_or_id</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>
            <span class="k">raise</span> <span class="n">StackExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to register stack with name &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Found an existing stack with the same &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;name in the active workspace, &#39;</span><span class="si">{</span><span class="n">workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, owned by the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;same user, &#39;</span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_fail_if_stack_with_name_already_shared</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="n">StackRequestModel</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Raise an exception if a Stack with same name is already shared.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack: The Stack</span>
<span class="sd">            session: The Session</span>

<span class="sd">        Raises:</span>
<span class="sd">            StackExistsError: If a stack with the given name is already shared</span>
<span class="sd">                              by a user.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Check if component with the same name, type is already shared</span>
        <span class="c1"># within the workspace</span>
        <span class="n">existing_shared_stack</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StackSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">stack</span><span class="o">.</span><span class="n">workspace</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">is_shared</span> <span class="o">==</span> <span class="n">stack</span><span class="o">.</span><span class="n">is_shared</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_shared_stack</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_workspace_schema</span><span class="p">(</span>
                <span class="n">workspace_name_or_id</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>
            <span class="n">error_msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to share stack with name &#39;</span><span class="si">{</span><span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Found an &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;existing shared stack with the same name in workspace &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">existing_shared_stack</span><span class="o">.</span><span class="n">user_id</span><span class="p">:</span>
                <span class="n">owner_of_shared</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span>
                    <span class="n">existing_shared_stack</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
                <span class="p">)</span>
                <span class="n">error_msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; owned by &#39;</span><span class="si">{</span><span class="n">owner_of_shared</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">error_msg</span> <span class="o">+=</span> <span class="s2">&quot;, which is currently not owned by any user.&quot;</span>
            <span class="k">raise</span> <span class="n">StackExistsError</span><span class="p">(</span><span class="n">error_msg</span><span class="p">)</span>

    <span class="c1"># ----------------</span>
    <span class="c1"># Stack components</span>
    <span class="c1"># ----------------</span>
    <span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">REGISTERED_STACK_COMPONENT</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_stack_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">component</span><span class="p">:</span> <span class="n">ComponentRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a stack component.</span>

<span class="sd">        Args:</span>
<span class="sd">            component: The stack component to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created stack component.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack component references a non-existent</span>
<span class="sd">                connector.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_component_with_name_type_exists_for_user</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">component_type</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                <span class="n">user_id</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                <span class="n">workspace_id</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_component_with_name_type_already_shared</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">component_type</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                    <span class="n">workspace_id</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                    <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">service_connector</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">connector</span><span class="p">:</span>
                <span class="n">service_connector</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                        <span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component</span><span class="o">.</span><span class="n">connector</span>
                    <span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">service_connector</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Service connector with ID </span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">connector</span><span class="si">}</span><span class="s2"> not &quot;</span>
                        <span class="s2">&quot;found.&quot;</span>
                    <span class="p">)</span>

            <span class="c1"># Create the component</span>
            <span class="n">new_component</span> <span class="o">=</span> <span class="n">StackComponentSchema</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">workspace_id</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">user_id</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                <span class="n">is_shared</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
                <span class="n">component_spec_path</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">component_spec_path</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                <span class="n">flavor</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">flavor</span><span class="p">,</span>
                <span class="n">configuration</span><span class="o">=</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                    <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">configuration</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
                <span class="p">),</span>
                <span class="n">labels</span><span class="o">=</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                    <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
                <span class="p">),</span>
                <span class="n">connector</span><span class="o">=</span><span class="n">service_connector</span><span class="p">,</span>
                <span class="n">connector_resource_id</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">connector_resource_id</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_component</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_component</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">new_component</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_stack_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a stack component by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_id: The ID of the stack component to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The stack component.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack component doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">stack_component</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">stack_component</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Stack component with ID </span><span class="si">{</span><span class="n">component_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="n">stack_component</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_stack_components</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">component_filter_model</span><span class="p">:</span> <span class="n">ComponentFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ComponentResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all stack components matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all stack components matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span>
            <span class="n">paged_components</span><span class="p">:</span> <span class="n">Page</span><span class="p">[</span>
                <span class="n">ComponentResponseModel</span>
            <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">StackComponentSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">component_filter_model</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">paged_components</span>

    <span class="k">def</span> <span class="nf">count_stack_components</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Count all components, optionally within a workspace scope.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_id: The workspace to use for counting components</span>

<span class="sd">        Returns:</span>
<span class="sd">            The number of components in the workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count_entity</span><span class="p">(</span>
            <span class="n">schema</span><span class="o">=</span><span class="n">StackComponentSchema</span><span class="p">,</span> <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_id</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_stack_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">component_update</span><span class="p">:</span> <span class="n">ComponentUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing stack component.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_id: The ID of the stack component to update.</span>
<span class="sd">            component_update: The update to be applied to the stack component.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated stack component.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack component doesn&#39;t exist.</span>
<span class="sd">            IllegalOperationError: if the stack component is a default stack</span>
<span class="sd">                component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">existing_component</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">existing_component</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to update component with id &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">component_id</span><span class="si">}</span><span class="s2">&#39;: Found no&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;existing component with this id.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">existing_component</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">DEFAULT_STACK_COMPONENT_NAME</span>
                <span class="ow">and</span> <span class="n">existing_component</span><span class="o">.</span><span class="n">type</span>
                <span class="ow">in</span> <span class="p">[</span>
                    <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                    <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
                <span class="p">]</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The default </span><span class="si">{</span><span class="n">existing_component</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2"> cannot be modified.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># In case of a renaming update, make sure no component of the same</span>
            <span class="c1"># type already exists with that name</span>
            <span class="k">if</span> <span class="n">component_update</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">existing_component</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">component_update</span><span class="o">.</span><span class="n">name</span>
                    <span class="ow">and</span> <span class="n">existing_component</span><span class="o">.</span><span class="n">user_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_component_with_name_type_exists_for_user</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">component_update</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                        <span class="n">component_type</span><span class="o">=</span><span class="n">existing_component</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                        <span class="n">workspace_id</span><span class="o">=</span><span class="n">existing_component</span><span class="o">.</span><span class="n">workspace_id</span><span class="p">,</span>
                        <span class="n">user_id</span><span class="o">=</span><span class="n">existing_component</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                    <span class="p">)</span>

            <span class="c1"># Check if component update makes the component a shared component,</span>
            <span class="c1"># In that case check if a component with the same name, type are</span>
            <span class="c1"># already shared within the workspace</span>
            <span class="k">if</span> <span class="n">component_update</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="ow">not</span> <span class="n">existing_component</span><span class="o">.</span><span class="n">is_shared</span>
                    <span class="ow">and</span> <span class="n">component_update</span><span class="o">.</span><span class="n">is_shared</span>
                <span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_component_with_name_type_already_shared</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">component_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="n">existing_component</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                        <span class="n">component_type</span><span class="o">=</span><span class="n">existing_component</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                        <span class="n">workspace_id</span><span class="o">=</span><span class="n">existing_component</span><span class="o">.</span><span class="n">workspace_id</span><span class="p">,</span>
                        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                    <span class="p">)</span>

            <span class="n">existing_component</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">component_update</span><span class="o">=</span><span class="n">component_update</span><span class="p">)</span>

            <span class="n">service_connector</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">component_update</span><span class="o">.</span><span class="n">connector</span><span class="p">:</span>
                <span class="n">service_connector</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                        <span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component_update</span><span class="o">.</span><span class="n">connector</span>
                    <span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">service_connector</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                        <span class="s2">&quot;Service connector with ID &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">component_update</span><span class="o">.</span><span class="n">connector</span><span class="si">}</span><span class="s2"> not found.&quot;</span>
                    <span class="p">)</span>

            <span class="k">if</span> <span class="n">service_connector</span><span class="p">:</span>
                <span class="n">existing_component</span><span class="o">.</span><span class="n">connector</span> <span class="o">=</span> <span class="n">service_connector</span>

            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_component</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">existing_component</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">delete_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a stack component.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_id: The id of the stack component to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack component doesn&#39;t exist.</span>
<span class="sd">            IllegalOperationError: if the stack component is part of one or</span>
<span class="sd">                more stacks, or if it&#39;s a default stack component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">stack_component</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                        <span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component_id</span>
                    <span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">stack_component</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stack with ID </span><span class="si">{</span><span class="n">component_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">stack_component</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">DEFAULT_STACK_COMPONENT_NAME</span>
                    <span class="ow">and</span> <span class="n">stack_component</span><span class="o">.</span><span class="n">type</span>
                    <span class="ow">in</span> <span class="p">[</span>
                        <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                        <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
                    <span class="p">]</span>
                <span class="p">):</span>
                    <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;The default </span><span class="si">{</span><span class="n">stack_component</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2"> cannot be deleted.&quot;</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">stack_component</span><span class="o">.</span><span class="n">stacks</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Stack Component `</span><span class="si">{</span><span class="n">stack_component</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` of type &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">stack_component</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2"> cannot be &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;deleted as it is part of &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">stack_component</span><span class="o">.</span><span class="n">stacks</span><span class="p">)</span><span class="si">}</span><span class="s2"> stacks. &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;Before deleting this stack &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;component, make sure to remove it &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;from all stacks.&quot;</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">stack_component</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">NoResultFound</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span> <span class="kn">from</span> <span class="nn">error</span>

            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_fail_if_component_with_name_type_exists_for_user</span><span class="p">(</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">component_type</span><span class="p">:</span> <span class="n">StackComponentType</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Raise an exception if a Component with same name/type exists.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the component</span>
<span class="sd">            component_type: The type of the component</span>
<span class="sd">            workspace_id: The ID of the workspace</span>
<span class="sd">            user_id: The ID of the user</span>
<span class="sd">            session: The Session</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            StackComponentExistsError: If a component with the given name and</span>
<span class="sd">                                       type is already owned by the user</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">user_id</span>
        <span class="c1"># Check if component with the same domain key (name, type, workspace,</span>
        <span class="c1"># owner) already exists</span>
        <span class="n">existing_domain_component</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">workspace_id</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">component_type</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_domain_component</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Theoretically the user schema is optional, in this case there is</span>
            <span class="c1">#  no way that it will be None</span>
            <span class="k">assert</span> <span class="n">existing_domain_component</span><span class="o">.</span><span class="n">user</span>
            <span class="k">raise</span> <span class="n">StackComponentExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to register &#39;</span><span class="si">{</span><span class="n">component_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39; component &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;with name &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Found an existing &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;component with the same name and type in the same &quot;</span>
                <span class="sa">f</span><span class="s2">&quot; workspace, &#39;</span><span class="si">{</span><span class="n">existing_domain_component</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;owned by the same user, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">existing_domain_component</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_fail_if_component_with_name_type_already_shared</span><span class="p">(</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">component_type</span><span class="p">:</span> <span class="n">StackComponentType</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Raise an exception if a Component with same name/type already shared.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the component</span>
<span class="sd">            component_type: The type of the component</span>
<span class="sd">            workspace_id: The ID of the workspace</span>
<span class="sd">            session: The Session</span>

<span class="sd">        Raises:</span>
<span class="sd">            StackComponentExistsError: If a component with the given name and</span>
<span class="sd">                type is already shared by a user</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Check if component with the same name, type is already shared</span>
        <span class="c1"># within the workspace</span>
        <span class="n">is_shared</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">existing_shared_component</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">workspace_id</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">component_type</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">is_shared</span> <span class="o">==</span> <span class="n">is_shared</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_shared_component</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">StackComponentExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to shared component of type &#39;</span><span class="si">{</span><span class="n">component_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;with name &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Found an existing shared &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;component with the same name and type in workspace &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">workspace_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

    <span class="c1"># -----------------------</span>
    <span class="c1"># Stack component flavors</span>
    <span class="c1"># -----------------------</span>

    <span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_FLAVOR</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor</span><span class="p">:</span> <span class="n">FlavorRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new stack component flavor.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor: The stack component flavor to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created flavor.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a flavor with the same name and type</span>
<span class="sd">                is already owned by this user in this workspace.</span>
<span class="sd">            ValueError: In case the config_schema string exceeds the max length.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if flavor with the same domain key (name, type, workspace,</span>
            <span class="c1"># owner) already exists</span>
            <span class="n">existing_flavor</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">flavor</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">flavor</span><span class="o">.</span><span class="n">workspace</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">flavor</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">existing_flavor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to register &#39;</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39; flavor &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;with name &#39;</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Found an existing &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;flavor with the same name and type in the same &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">workspace</span><span class="si">}</span><span class="s2">&#39; workspace owned by the same &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">user</span><span class="si">}</span><span class="s2">&#39; user.&quot;</span>
                <span class="p">)</span>

            <span class="n">config_schema</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">flavor</span><span class="o">.</span><span class="n">config_schema</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">config_schema</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">TEXT_FIELD_MAX_LENGTH</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Json representation of configuration schema&quot;</span>
                    <span class="s2">&quot;exceeds max length.&quot;</span>
                <span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_flavor</span> <span class="o">=</span> <span class="n">FlavorSchema</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">source</span><span class="p">,</span>
                    <span class="n">config_schema</span><span class="o">=</span><span class="n">config_schema</span><span class="p">,</span>
                    <span class="n">integration</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">integration</span><span class="p">,</span>
                    <span class="n">connector_type</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span>
                    <span class="n">connector_resource_type</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">connector_resource_type</span><span class="p">,</span>
                    <span class="n">connector_resource_id_attr</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">connector_resource_id_attr</span><span class="p">,</span>
                    <span class="n">workspace_id</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                    <span class="n">user_id</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                    <span class="n">logo_url</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">logo_url</span><span class="p">,</span>
                    <span class="n">docs_url</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">docs_url</span><span class="p">,</span>
                    <span class="n">sdk_docs_url</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">sdk_docs_url</span><span class="p">,</span>
                    <span class="n">is_custom</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">is_custom</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_flavor</span><span class="p">)</span>
                <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

                <span class="k">return</span> <span class="n">new_flavor</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">update_flavor</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">:</span> <span class="n">FlavorUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates an existing user.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_id: The id of the flavor to update.</span>
<span class="sd">            flavor_update: The update to be applied to the flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated flavor.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no flavor with the given id exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">existing_flavor</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">flavor_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_flavor</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flavor with ID </span><span class="si">{</span><span class="n">flavor_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>

            <span class="n">existing_flavor</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">flavor_update</span><span class="o">=</span><span class="n">flavor_update</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_flavor</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="c1"># Refresh the Model that was just created</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_flavor</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">existing_flavor</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a flavor by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_id: The ID of the flavor to fetch.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The stack component flavor.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack component flavor doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">flavor_in_db</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">flavor_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">flavor_in_db</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flavor with ID </span><span class="si">{</span><span class="n">flavor_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">flavor_in_db</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_flavors</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">flavor_filter_model</span><span class="p">:</span> <span class="n">FlavorFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">FlavorResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all stack component flavors matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_filter_model: All filter parameters including pagination</span>
<span class="sd">                params</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of all the stack component flavors matching the given criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">FlavorSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">flavor_filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a flavor.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_id: The id of the flavor to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the flavor doesn&#39;t exist.</span>
<span class="sd">            IllegalOperationError: if the flavor is used by a stack component.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">flavor_in_db</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">flavor_id</span><span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">flavor_in_db</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flavor with ID </span><span class="si">{</span><span class="n">flavor_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
                <span class="n">components_of_flavor</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                        <span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">flavor</span> <span class="o">==</span> <span class="n">flavor_in_db</span><span class="o">.</span><span class="n">name</span>
                    <span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">components_of_flavor</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Stack Component `</span><span class="si">{</span><span class="n">flavor_in_db</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` of type &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">flavor_in_db</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2"> cannot be &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;deleted as it is used by &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">components_of_flavor</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;components. Before deleting this &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;flavor, make sure to delete all &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;associated components.&quot;</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">flavor_in_db</span><span class="p">)</span>
                    <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">NoResultFound</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span> <span class="kn">from</span> <span class="nn">error</span>

    <span class="c1"># -----</span>
    <span class="c1"># Users</span>
    <span class="c1"># -----</span>

    <span class="k">def</span> <span class="nf">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">UserRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new user.</span>

<span class="sd">        Args:</span>
<span class="sd">            user: User to be created.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created user.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a user with the given name already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if user with the given name already exists</span>
            <span class="n">existing_user</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">UserSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to create user with name &#39;</span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Found existing user with this name.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Create the user</span>
            <span class="n">new_user</span> <span class="o">=</span> <span class="n">UserSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_user</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">new_user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_private</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific user, when no id is specified the active user is returned.</span>

<span class="sd">        Raises a KeyError in case a user with that id does not exist.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_name_or_id: The name or ID of the user to get.</span>
<span class="sd">            include_private: Whether to include private user information</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested user, if it was found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">user_name_or_id</span><span class="p">:</span>
            <span class="n">user_name_or_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_user_name</span>

        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="n">include_private</span><span class="o">=</span><span class="n">include_private</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auth_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserAuthModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the auth model to a specific user.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_name_or_id: The name or ID of the user to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested user, if it was found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">UserAuthModel</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">full_name</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">full_name</span><span class="p">,</span>
                <span class="n">email_opted_in</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">email_opted_in</span><span class="p">,</span>
                <span class="n">active</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">active</span><span class="p">,</span>
                <span class="n">created</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
                <span class="n">updated</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
                <span class="n">password</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
                <span class="n">activation_token</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">activation_token</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_users</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_filter_model</span><span class="p">:</span> <span class="n">UserFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all users.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all users.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">UserSchema</span><span class="p">)</span>
            <span class="n">paged_user</span><span class="p">:</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserResponseModel</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">UserSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">user_filter_model</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">paged_user</span>

    <span class="k">def</span> <span class="nf">update_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">user_update</span><span class="p">:</span> <span class="n">UserUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates an existing user.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_id: The id of the user to update.</span>
<span class="sd">            user_update: The update to be applied to the user.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated user.</span>

<span class="sd">        Raises:</span>
<span class="sd">            IllegalOperationError: If the request tries to update the username</span>
<span class="sd">                for the default user account.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">existing_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">existing_user</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_user_name</span>
                <span class="ow">and</span> <span class="s2">&quot;name&quot;</span> <span class="ow">in</span> <span class="n">user_update</span><span class="o">.</span><span class="n">__fields_set__</span>
                <span class="ow">and</span> <span class="n">user_update</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">existing_user</span><span class="o">.</span><span class="n">name</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="s2">&quot;The username of the default user account cannot be &quot;</span>
                    <span class="s2">&quot;changed.&quot;</span>
                <span class="p">)</span>
            <span class="n">existing_user</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">user_update</span><span class="o">=</span><span class="n">user_update</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_user</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="c1"># Refresh the Model that was just created</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_user</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">existing_user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">delete_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a user.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_name_or_id: The name or the ID of the user to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            IllegalOperationError: If the user is the default user account.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_user_name</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="s2">&quot;The default user account cannot be deleted.&quot;</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_trigger_event</span><span class="p">(</span><span class="n">StoreEvent</span><span class="o">.</span><span class="n">USER_DELETED</span><span class="p">,</span> <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># -----</span>
    <span class="c1"># Teams</span>
    <span class="c1"># -----</span>

    <span class="k">def</span> <span class="nf">create_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team</span><span class="p">:</span> <span class="n">TeamRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new team.</span>

<span class="sd">        Args:</span>
<span class="sd">            team: The team model to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created team.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a team with the given name already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if team with the given name already exists</span>
            <span class="n">existing_team</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">TeamSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">TeamSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">team</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_team</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to create team with name &#39;</span><span class="si">{</span><span class="n">team</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Found existing team with this name.&quot;</span>
                <span class="p">)</span>

            <span class="n">defined_users</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">team</span><span class="o">.</span><span class="n">users</span><span class="p">:</span>
                <span class="c1"># Get the Schemas of all users mentioned</span>
                <span class="n">filters</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="p">(</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">user_id</span> <span class="ow">in</span> <span class="n">team</span><span class="o">.</span><span class="n">users</span>
                <span class="p">]</span>

                <span class="n">defined_users</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">UserSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">or_</span><span class="p">(</span><span class="o">*</span><span class="n">filters</span><span class="p">))</span>
                <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

            <span class="c1"># Create the team</span>
            <span class="n">new_team</span> <span class="o">=</span> <span class="n">TeamSchema</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">team</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">users</span><span class="o">=</span><span class="n">defined_users</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_team</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">new_team</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific team.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_name_or_id: Name or ID of the team to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested team.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">team</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_team_schema</span><span class="p">(</span><span class="n">team_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">team</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_teams</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_filter_model</span><span class="p">:</span> <span class="n">TeamFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TeamResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all teams matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all teams matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">TeamSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">TeamSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">team_filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_team</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">team_update</span><span class="p">:</span> <span class="n">TeamUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing team.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id: The ID of the team to be updated.</span>
<span class="sd">            team_update: The update to be applied to the team.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated team.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the team does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">existing_team</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">TeamSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">TeamSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">team_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">existing_team</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to update team with id &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">team_id</span><span class="si">}</span><span class="s2">&#39;: Found no&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;existing teams with this id.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Update the team</span>
            <span class="n">existing_team</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">team_update</span><span class="o">=</span><span class="n">team_update</span><span class="p">)</span>
            <span class="n">existing_team</span><span class="o">.</span><span class="n">users</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="s2">&quot;users&quot;</span> <span class="ow">in</span> <span class="n">team_update</span><span class="o">.</span><span class="n">__fields_set__</span> <span class="ow">and</span> <span class="n">team_update</span><span class="o">.</span><span class="n">users</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">team_update</span><span class="o">.</span><span class="n">users</span><span class="p">:</span>
                    <span class="n">existing_team</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span>
                            <span class="n">user_name_or_id</span><span class="o">=</span><span class="n">user</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_team</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="c1"># Refresh the Model that was just created</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_team</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">existing_team</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">delete_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a team.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_name_or_id: Name or ID of the team to delete.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">team</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_team_schema</span><span class="p">(</span><span class="n">team_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">team</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># -----</span>
    <span class="c1"># Roles</span>
    <span class="c1"># -----</span>

    <span class="k">def</span> <span class="nf">create_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role</span><span class="p">:</span> <span class="n">RoleRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new role.</span>

<span class="sd">        Args:</span>
<span class="sd">            role: The role model to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created role.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a role with the given name already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if role with the given name already exists</span>
            <span class="n">existing_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">RoleSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">RoleSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_role</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to create role &#39;</span><span class="si">{</span><span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Role already exists.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Create role</span>
            <span class="n">role_schema</span> <span class="o">=</span> <span class="n">RoleSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">role</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">role_schema</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="c1"># Add all permissions</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">role</span><span class="o">.</span><span class="n">permissions</span><span class="p">:</span>
                <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
                    <span class="n">RolePermissionSchema</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">role_id</span><span class="o">=</span><span class="n">role_schema</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">role_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific role.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_name_or_id: Name or ID of the role to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested role.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">role</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_role_schema</span><span class="p">(</span><span class="n">role_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">role</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_roles</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">role_filter_model</span><span class="p">:</span> <span class="n">RoleFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RoleResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all roles matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all roles matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">RoleSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">RoleSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">role_filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_role</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">role_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">role_update</span><span class="p">:</span> <span class="n">RoleUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing role.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_id: The ID of the role to be updated.</span>
<span class="sd">            role_update: The update to be applied to the role.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated role.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the role does not exist.</span>
<span class="sd">            IllegalOperationError: if the role is a system role.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">existing_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">RoleSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">RoleSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">role_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">existing_role</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to update role with id &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">role_id</span><span class="si">}</span><span class="s2">&#39;: Found no&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;existing roles with this id.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">existing_role</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="n">DEFAULT_ADMIN_ROLE</span><span class="p">,</span> <span class="n">DEFAULT_GUEST_ROLE</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The built-in role &#39;</span><span class="si">{</span><span class="n">existing_role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; cannot be &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;updated.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># The relationship table for roles behaves different from the other</span>
            <span class="c1">#  ones. As such the required updates on the permissions have to be</span>
            <span class="c1">#  done manually.</span>
            <span class="k">if</span> <span class="s2">&quot;permissions&quot;</span> <span class="ow">in</span> <span class="n">role_update</span><span class="o">.</span><span class="n">__fields_set__</span><span class="p">:</span>
                <span class="n">existing_permissions</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="n">p</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">existing_role</span><span class="o">.</span><span class="n">permissions</span>
                <span class="p">}</span>

                <span class="n">diff</span> <span class="o">=</span> <span class="n">existing_permissions</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span>
                    <span class="n">role_update</span><span class="o">.</span><span class="n">permissions</span>
                <span class="p">)</span>

                <span class="k">for</span> <span class="n">permission</span> <span class="ow">in</span> <span class="n">diff</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">permission</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">role_update</span><span class="o">.</span><span class="n">permissions</span><span class="p">:</span>
                        <span class="n">permission_to_delete</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                            <span class="n">select</span><span class="p">(</span><span class="n">RolePermissionSchema</span><span class="p">)</span>
                            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">RolePermissionSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">permission</span><span class="p">)</span>
                            <span class="o">.</span><span class="n">where</span><span class="p">(</span>
                                <span class="n">RolePermissionSchema</span><span class="o">.</span><span class="n">role_id</span>
                                <span class="o">==</span> <span class="n">existing_role</span><span class="o">.</span><span class="n">id</span>
                            <span class="p">)</span>
                        <span class="p">)</span><span class="o">.</span><span class="n">one_or_none</span><span class="p">()</span>
                        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">permission_to_delete</span><span class="p">)</span>

                    <span class="k">elif</span> <span class="n">permission</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">existing_permissions</span><span class="p">:</span>
                        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
                            <span class="n">RolePermissionSchema</span><span class="p">(</span>
                                <span class="n">name</span><span class="o">=</span><span class="n">permission</span><span class="p">,</span> <span class="n">role_id</span><span class="o">=</span><span class="n">existing_role</span><span class="o">.</span><span class="n">id</span>
                            <span class="p">)</span>
                        <span class="p">)</span>

            <span class="c1"># Update the role</span>
            <span class="n">existing_role</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">role_update</span><span class="o">=</span><span class="n">role_update</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_role</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="c1"># Refresh the Model that was just created</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_role</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">existing_role</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">delete_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a role.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_name_or_id: Name or ID of the role to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            IllegalOperationError: If the role is still assigned to users or</span>
<span class="sd">                the role is one of the built-in roles.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">role</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_role_schema</span><span class="p">(</span><span class="n">role_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">role</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="n">DEFAULT_ADMIN_ROLE</span><span class="p">,</span> <span class="n">DEFAULT_GUEST_ROLE</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The built-in role &#39;</span><span class="si">{</span><span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; cannot be deleted.&quot;</span>
                <span class="p">)</span>
            <span class="n">user_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">UserRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">role_id</span> <span class="o">==</span> <span class="n">role</span><span class="o">.</span><span class="n">id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
            <span class="n">team_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">TeamRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">TeamRoleAssignmentSchema</span><span class="o">.</span><span class="n">role_id</span> <span class="o">==</span> <span class="n">role</span><span class="o">.</span><span class="n">id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">user_role</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">team_role</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Role `</span><span class="si">{</span><span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` of type cannot be &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;deleted as it is in use by multiple users and teams. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Before deleting this role make sure to remove all &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;instances where this role is used.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Delete role</span>
                <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">role</span><span class="p">)</span>
                <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># ----------------</span>
    <span class="c1"># Role assignments</span>
    <span class="c1"># ----------------</span>

    <span class="k">def</span> <span class="nf">list_user_role_assignments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_filter_model</span><span class="p">:</span> <span class="n">UserRoleAssignmentFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserRoleAssignmentResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all roles assignments matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_role_assignment_filter_model: All filter parameters including</span>
<span class="sd">                pagination params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all roles assignments matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">UserRoleAssignmentSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">UserRoleAssignmentSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">user_role_assignment_filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_user_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment</span><span class="p">:</span> <span class="n">UserRoleAssignmentRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Assigns a role to a user or team, scoped to a specific workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_role_assignment: The role assignment to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created role assignment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: if the role assignment already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">role</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_role_schema</span><span class="p">(</span>
                <span class="n">user_role_assignment</span><span class="o">.</span><span class="n">role</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>
            <span class="n">workspace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WorkspaceSchema</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">user_role_assignment</span><span class="o">.</span><span class="n">workspace</span><span class="p">:</span>
                <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_workspace_schema</span><span class="p">(</span>
                    <span class="n">user_role_assignment</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
                <span class="p">)</span>
            <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span>
                <span class="n">user_role_assignment</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">UserRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">role_id</span> <span class="o">==</span> <span class="n">role</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">workspace</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span>
                <span class="p">)</span>
            <span class="n">existing_role_assignment</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">query</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_role_assignment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to assign role &#39;</span><span class="si">{</span><span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; to user &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Role already assigned in this workspace.&quot;</span>
                <span class="p">)</span>
            <span class="n">role_assignment</span> <span class="o">=</span> <span class="n">UserRoleAssignmentSchema</span><span class="p">(</span>
                <span class="n">role_id</span><span class="o">=</span><span class="n">role</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="n">workspace</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">role</span><span class="o">=</span><span class="n">role</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">role_assignment</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">role_assignment</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_user_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a role assignment by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_role_assignment_id: ID of the role assignment to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The role assignment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the role assignment does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">user_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">UserRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">user_role_assignment_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">one_or_none</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">user_role</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">user_role</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to get user role assignment with ID &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">user_role_assignment_id</span><span class="si">}</span><span class="s2">&#39;: No user role assignment &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;with this ID found.&quot;</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_user_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a specific role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_role_assignment_id: The ID of the specific role assignment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the role assignment does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">user_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">UserRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">user_role_assignment_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">one_or_none</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">user_role</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No user role assignment with id &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">user_role_assignment_id</span><span class="si">}</span><span class="s2"> exists.&quot;</span>
                <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">user_role</span><span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># ---------------------</span>
    <span class="c1"># Team Role assignments</span>
    <span class="c1"># ---------------------</span>

    <span class="k">def</span> <span class="nf">create_team_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment</span><span class="p">:</span> <span class="n">TeamRoleAssignmentRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new team role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_role_assignment: The role assignment model to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created role assignment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If the role assignment already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">role</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_role_schema</span><span class="p">(</span>
                <span class="n">team_role_assignment</span><span class="o">.</span><span class="n">role</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>
            <span class="n">workspace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WorkspaceSchema</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">team_role_assignment</span><span class="o">.</span><span class="n">workspace</span><span class="p">:</span>
                <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_workspace_schema</span><span class="p">(</span>
                    <span class="n">team_role_assignment</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
                <span class="p">)</span>
            <span class="n">team</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_team_schema</span><span class="p">(</span>
                <span class="n">team_role_assignment</span><span class="o">.</span><span class="n">team</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">UserRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">team</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">role_id</span> <span class="o">==</span> <span class="n">role</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">workspace</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span>
                <span class="p">)</span>
            <span class="n">existing_role_assignment</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">query</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_role_assignment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to assign role &#39;</span><span class="si">{</span><span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; to team &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">team</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Role already assigned in this workspace.&quot;</span>
                <span class="p">)</span>
            <span class="n">role_assignment</span> <span class="o">=</span> <span class="n">TeamRoleAssignmentSchema</span><span class="p">(</span>
                <span class="n">role_id</span><span class="o">=</span><span class="n">role</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">team_id</span><span class="o">=</span><span class="n">team</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="n">workspace</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">role</span><span class="o">=</span><span class="n">role</span><span class="p">,</span>
                <span class="n">team</span><span class="o">=</span><span class="n">team</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">role_assignment</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">role_assignment</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_team_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_role_assignment_id: ID of the role assignment to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested role assignment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no role assignment with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">team_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">TeamRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">TeamRoleAssignmentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">team_role_assignment_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">one_or_none</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">team_role</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">team_role</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to get team role assignment with ID &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">team_role_assignment_id</span><span class="si">}</span><span class="s2">&#39;: No team role assignment &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;with this ID found.&quot;</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_team_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a specific role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_role_assignment_id: The ID of the specific role assignment</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the role assignment does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">team_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">TeamRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">TeamRoleAssignmentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">team_role_assignment_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">one_or_none</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">team_role</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No team role assignment with id &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">team_role_assignment_id</span><span class="si">}</span><span class="s2"> exists.&quot;</span>
                <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">team_role</span><span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_team_role_assignments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_filter_model</span><span class="p">:</span> <span class="n">TeamRoleAssignmentFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TeamRoleAssignmentResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all roles assignments matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_role_assignment_filter_model: All filter parameters including</span>
<span class="sd">                pagination params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all roles assignments matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">TeamRoleAssignmentSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">TeamRoleAssignmentSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">team_role_assignment_filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="c1"># --------</span>
    <span class="c1"># Workspaces</span>
    <span class="c1"># --------</span>

    <span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_WORKSPACE</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_workspace</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace</span><span class="p">:</span> <span class="n">WorkspaceRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace: The workspace to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created workspace.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a workspace with the given name already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if workspace with the given name already exists</span>
            <span class="n">existing_workspace</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">WorkspaceSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">workspace</span><span class="o">.</span><span class="n">name</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_workspace</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to create workspace </span><span class="si">{</span><span class="n">workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: &quot;</span>
                    <span class="s2">&quot;A workspace with this name already exists.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Create the workspace</span>
            <span class="n">new_workspace</span> <span class="o">=</span> <span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">workspace</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_workspace</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="c1"># Explicitly refresh the new_workspace schema</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_workspace</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">new_workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_workspace</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get an existing workspace by name or ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_name_or_id: Name or ID of the workspace to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested workspace if one was found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_workspace_schema</span><span class="p">(</span>
                <span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_workspaces</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_filter_model</span><span class="p">:</span> <span class="n">WorkspaceFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">WorkspaceResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all workspace matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all workspace matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">WorkspaceSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">workspace_filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_workspace</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">:</span> <span class="n">WorkspaceUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_id: The ID of the workspace to be updated.</span>
<span class="sd">            workspace_update: The update to be applied to the workspace.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated workspace.</span>

<span class="sd">        Raises:</span>
<span class="sd">            IllegalOperationError: if the workspace is the default workspace.</span>
<span class="sd">            KeyError: if the workspace does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">existing_workspace</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">WorkspaceSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">workspace_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_workspace</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to update workspace with id &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">workspace_id</span><span class="si">}</span><span class="s2">&#39;: Found no&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;existing workspaces with this id.&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">existing_workspace</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_workspace_name</span>
                <span class="ow">and</span> <span class="s2">&quot;name&quot;</span> <span class="ow">in</span> <span class="n">workspace_update</span><span class="o">.</span><span class="n">__fields_set__</span>
                <span class="ow">and</span> <span class="n">workspace_update</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">existing_workspace</span><span class="o">.</span><span class="n">name</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="s2">&quot;The name of the default workspace cannot be changed.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Update the workspace</span>
            <span class="n">existing_workspace</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">workspace_update</span><span class="o">=</span><span class="n">workspace_update</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_workspace</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="c1"># Refresh the Model that was just created</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_workspace</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">existing_workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">delete_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_name_or_id: Name or ID of the workspace to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            IllegalOperationError: If the workspace is the default workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if workspace with the given name exists</span>
            <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_workspace_schema</span><span class="p">(</span>
                <span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">workspace</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_workspace_name</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="s2">&quot;The default workspace cannot be deleted.&quot;</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_trigger_event</span><span class="p">(</span>
                <span class="n">StoreEvent</span><span class="o">.</span><span class="n">WORKSPACE_DELETED</span><span class="p">,</span> <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span>
            <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">workspace</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Pipelines</span>
    <span class="c1"># ---------</span>
    <span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATE_PIPELINE</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="n">PipelineRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new pipeline in a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline: The pipeline to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created pipeline.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If an identical pipeline already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if pipeline with the given name already exists</span>
            <span class="n">existing_pipeline</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">workspace</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_pipeline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to create pipeline in workspace &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">pipeline</span><span class="o">.</span><span class="n">workspace</span><span class="si">}</span><span class="s2">&#39;: A pipeline with this name and &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;version already exists.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Create the pipeline</span>
            <span class="n">new_pipeline</span> <span class="o">=</span> <span class="n">PipelineSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_pipeline</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_pipeline</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">new_pipeline</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a pipeline with a given ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_id: ID of the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The pipeline.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the pipeline does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if pipeline with the given ID exists</span>
            <span class="n">pipeline</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">pipeline_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">pipeline</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to get pipeline with ID &#39;</span><span class="si">{</span><span class="n">pipeline_id</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                    <span class="s2">&quot;No pipeline with this ID found.&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_pipelines</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_filter_model</span><span class="p">:</span> <span class="n">PipelineFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all pipelines matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all pipelines matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">PipelineSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">pipeline_filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">count_pipelines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Count all pipelines, optionally within a workspace scope.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_id: The workspace to use for counting pipelines</span>

<span class="sd">        Returns:</span>
<span class="sd">            The number of pipelines in the workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count_entity</span><span class="p">(</span>
            <span class="n">schema</span><span class="o">=</span><span class="n">PipelineSchema</span><span class="p">,</span> <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_id</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">pipeline_update</span><span class="p">:</span> <span class="n">PipelineUpdateModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a pipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_id: The ID of the pipeline to be updated.</span>
<span class="sd">            pipeline_update: The update to be applied.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated pipeline.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the pipeline doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if pipeline with the given ID exists</span>
            <span class="n">existing_pipeline</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">pipeline_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_pipeline</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to update pipeline with ID </span><span class="si">{</span><span class="n">pipeline_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;No pipeline with this ID found.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Update the pipeline</span>
            <span class="n">existing_pipeline</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">pipeline_update</span><span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_pipeline</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">existing_pipeline</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">delete_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a pipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_id: The ID of the pipeline to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the pipeline doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if pipeline with the given ID exists</span>
            <span class="n">pipeline</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">pipeline_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">pipeline</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to delete pipeline with ID </span><span class="si">{</span><span class="n">pipeline_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;No pipeline with this ID found.&quot;</span>
                <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Builds</span>
    <span class="c1"># ---------</span>

    <span class="k">def</span> <span class="nf">create_build</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">build</span><span class="p">:</span> <span class="n">PipelineBuildRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new build in a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            build: The build to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created build.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Create the build</span>
            <span class="n">new_build</span> <span class="o">=</span> <span class="n">PipelineBuildSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">build</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_build</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_build</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">new_build</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a build with a given ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            build_id: ID of the build.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The build.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the build does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if build with the given ID exists</span>
            <span class="n">build</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineBuildSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">PipelineBuildSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">build_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">build</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to get build with ID &#39;</span><span class="si">{</span><span class="n">build_id</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                    <span class="s2">&quot;No build with this ID found.&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="n">build</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_builds</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">build_filter_model</span><span class="p">:</span> <span class="n">PipelineBuildFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineBuildResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all builds matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            build_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A page of all builds matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">PipelineBuildSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">PipelineBuildSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">build_filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a build.</span>

<span class="sd">        Args:</span>
<span class="sd">            build_id: The ID of the build to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the build doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if build with the given ID exists</span>
            <span class="n">build</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineBuildSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">PipelineBuildSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">build_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">build</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to delete build with ID </span><span class="si">{</span><span class="n">build_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;No build with this ID found.&quot;</span>
                <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">build</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># ----------------------</span>
    <span class="c1"># Pipeline Deployments</span>
    <span class="c1"># ----------------------</span>

    <span class="k">def</span> <span class="nf">create_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="n">PipelineDeploymentRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new deployment in a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The deployment to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created deployment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">code_reference_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_or_reuse_code_reference</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">workspace_id</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">code_reference</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">code_reference</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">new_deployment</span> <span class="o">=</span> <span class="n">PipelineDeploymentSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span>
                <span class="n">deployment</span><span class="p">,</span> <span class="n">code_reference_id</span><span class="o">=</span><span class="n">code_reference_id</span>
            <span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_deployment</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_deployment</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">new_deployment</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a deployment with a given ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment_id: ID of the deployment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The deployment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the deployment does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if deployment with the given ID exists</span>
            <span class="n">deployment</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineDeploymentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">PipelineDeploymentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">deployment_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">deployment</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to get deployment with ID &#39;</span><span class="si">{</span><span class="n">deployment_id</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                    <span class="s2">&quot;No deployment with this ID found.&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="n">deployment</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_deployments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">deployment_filter_model</span><span class="p">:</span> <span class="n">PipelineDeploymentFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineDeploymentResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all deployments matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A page of all deployments matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">PipelineDeploymentSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">PipelineDeploymentSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">deployment_filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment_id: The ID of the deployment to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the deployment doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if build with the given ID exists</span>
            <span class="n">deployment</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineDeploymentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">PipelineDeploymentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">deployment_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">deployment</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to delete deployment with ID </span><span class="si">{</span><span class="n">deployment_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;No deployment with this ID found.&quot;</span>
                <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Schedules</span>
    <span class="c1"># ---------</span>

    <span class="k">def</span> <span class="nf">create_schedule</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">ScheduleRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new schedule.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule: The schedule to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created schedule.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">new_schedule</span> <span class="o">=</span> <span class="n">ScheduleSchema</span><span class="o">.</span><span class="n">from_create_model</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">schedule</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_schedule</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">new_schedule</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a schedule with a given ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_id: ID of the schedule.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The schedule.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the schedule does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if schedule with the given ID exists</span>
            <span class="n">schedule</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">schedule_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">schedule</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to get schedule with ID &#39;</span><span class="si">{</span><span class="n">schedule_id</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                    <span class="s2">&quot;No schedule with this ID found.&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="n">schedule</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_schedules</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">schedule_filter_model</span><span class="p">:</span> <span class="n">ScheduleFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ScheduleResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all schedules in the workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_filter_model: All filter parameters including pagination</span>
<span class="sd">                params</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of schedules.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">ScheduleSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">schedule_filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_schedule</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">schedule_update</span><span class="p">:</span> <span class="n">ScheduleUpdateModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a schedule.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_id: The ID of the schedule to be updated.</span>
<span class="sd">            schedule_update: The update to be applied.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated schedule.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the schedule doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if schedule with the given ID exists</span>
            <span class="n">existing_schedule</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">schedule_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_schedule</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to update schedule with ID </span><span class="si">{</span><span class="n">schedule_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;No schedule with this ID found.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Update the schedule</span>
            <span class="n">existing_schedule</span> <span class="o">=</span> <span class="n">existing_schedule</span><span class="o">.</span><span class="n">from_update_model</span><span class="p">(</span>
                <span class="n">schedule_update</span>
            <span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_schedule</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">existing_schedule</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">delete_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a schedule.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_id: The ID of the schedule to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the schedule doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if schedule with the given ID exists</span>
            <span class="n">schedule</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">schedule_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">schedule</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to delete schedule with ID </span><span class="si">{</span><span class="n">schedule_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;No schedule with this ID found.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Delete the schedule</span>
            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># --------------</span>
    <span class="c1"># Pipeline runs</span>
    <span class="c1"># --------------</span>

    <span class="k">def</span> <span class="nf">create_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_run: The pipeline run to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created pipeline run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If an identical pipeline run already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if pipeline run with same name already exists.</span>
            <span class="n">existing_domain_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">name</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_domain_run</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to create pipeline run: A pipeline run with name &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Check if pipeline run with same ID already exists.</span>
            <span class="n">existing_id_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_id_run</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to create pipeline run: A pipeline run with ID &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Query stack to ensure it exists in the DB</span>
            <span class="n">stack_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">stack</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">stack_id</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                        <span class="n">StackSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">stack</span>
                    <span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">stack_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;No stack found for this run. &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;Creating pipeline run &#39;</span><span class="si">{</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; without &quot;</span>
                        <span class="s2">&quot;linked stack.&quot;</span>
                    <span class="p">)</span>

            <span class="c1"># Query pipeline to ensure it exists in the DB</span>
            <span class="n">pipeline_id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">pipeline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">pipeline_id</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                        <span class="n">PipelineSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">pipeline</span>
                    <span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">pipeline_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;No pipeline found. Creating pipeline run &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; as unlisted run.&quot;</span>
                    <span class="p">)</span>

            <span class="c1"># Create the pipeline run</span>
            <span class="n">new_run</span> <span class="o">=</span> <span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">pipeline_run</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_run</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_schema_to_model</span><span class="p">(</span><span class="n">new_run</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_run_schema_to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run</span><span class="p">:</span> <span class="n">PipelineRunSchema</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts a pipeline run schema to a pipeline run model incl. steps.</span>

<span class="sd">        Args:</span>
<span class="sd">            run: The pipeline run schema to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted pipeline run model with steps hydrated into it.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">steps</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">step</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_step_schema_to_model</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">run</span><span class="o">.</span><span class="n">step_runs</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">run</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="n">steps</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_name_or_id: The name or ID of the pipeline run to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The pipeline run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">run</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_run_schema</span><span class="p">(</span><span class="n">run_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_schema_to_model</span><span class="p">(</span><span class="n">run</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_or_create_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets or creates a pipeline run.</span>

<span class="sd">        If a run with the same ID or name already exists, it is returned.</span>
<span class="sd">        Otherwise, a new run is created.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_run: The pipeline run to get or create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The pipeline run, and a boolean indicating whether the run was</span>
<span class="sd">            created or not.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># We want to have the &#39;create&#39; statement in the try block since running</span>
        <span class="c1"># it first will reduce concurrency issues.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_run</span><span class="p">(</span><span class="n">pipeline_run</span><span class="p">),</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">EntityExistsError</span><span class="p">,</span> <span class="n">IntegrityError</span><span class="p">):</span>
            <span class="c1"># Catch both `EntityExistsError`` and `IntegrityError`` exceptions</span>
            <span class="c1"># since either one can be raised by the database when trying</span>
            <span class="c1"># to create a new pipeline run with duplicate ID or name.</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">id</span><span class="p">),</span> <span class="kc">False</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">list_runs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">runs_filter_model</span><span class="p">:</span> <span class="n">PipelineRunFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineRunResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all pipeline runs matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            runs_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all pipeline runs matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">PipelineRunSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">runs_filter_model</span><span class="p">,</span>
                <span class="n">custom_schema_to_model_conversion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_run_schema_to_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">count_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Count all pipeline runs, optionally within a workspace scope.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_id: The workspace to use for counting pipeline runs</span>

<span class="sd">        Returns:</span>
<span class="sd">            The number of pipeline runs in the workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count_entity</span><span class="p">(</span>
            <span class="n">schema</span><span class="o">=</span><span class="n">PipelineRunSchema</span><span class="p">,</span> <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_id</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">run_update</span><span class="p">:</span> <span class="n">PipelineRunUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_id: The ID of the pipeline run to update.</span>
<span class="sd">            run_update: The update to be applied to the pipeline run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated pipeline run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if pipeline run with the given ID exists</span>
            <span class="n">existing_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">run_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to update pipeline run with ID </span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;No pipeline run with this ID found.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Update the pipeline run</span>
            <span class="n">existing_run</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">run_update</span><span class="o">=</span><span class="n">run_update</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_run</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_run</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_schema_to_model</span><span class="p">(</span><span class="n">existing_run</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_id: The ID of the pipeline run to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if pipeline run with the given ID exists</span>
            <span class="n">existing_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">run_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to delete pipeline run with ID </span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;No pipeline run with this ID found.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Delete the pipeline run</span>
            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">existing_run</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># ------------------</span>
    <span class="c1"># Pipeline run steps</span>
    <span class="c1"># ------------------</span>

    <span class="k">def</span> <span class="nf">create_run_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">step_run</span><span class="p">:</span> <span class="n">StepRunRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a step run.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run: The step run to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created step run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: if the step run already exists.</span>
<span class="sd">            KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if the pipeline run exists</span>
            <span class="n">run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">step_run</span><span class="o">.</span><span class="n">pipeline_run_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to create step &#39;</span><span class="si">{</span><span class="n">step_run</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: No pipeline run &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;with ID &#39;</span><span class="si">{</span><span class="n">step_run</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="si">}</span><span class="s2">&#39; found.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Check if the step name already exists in the pipeline run</span>
            <span class="n">existing_step_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">step_run</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">StepRunSchema</span><span class="o">.</span><span class="n">pipeline_run_id</span> <span class="o">==</span> <span class="n">step_run</span><span class="o">.</span><span class="n">pipeline_run_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_step_run</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to create step &#39;</span><span class="si">{</span><span class="n">step_run</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: A step with this &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;name already exists in the pipeline run with ID &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">step_run</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Create the step</span>
            <span class="n">step_schema</span> <span class="o">=</span> <span class="n">StepRunSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">step_run</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">step_schema</span><span class="p">)</span>

            <span class="c1"># Add logs entry for the step if exists</span>
            <span class="k">if</span> <span class="n">step_run</span><span class="o">.</span><span class="n">logs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">log_entry</span> <span class="o">=</span> <span class="n">LogsSchema</span><span class="p">(</span>
                    <span class="n">uri</span><span class="o">=</span><span class="n">step_run</span><span class="o">.</span><span class="n">logs</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
                    <span class="n">step_run_id</span><span class="o">=</span><span class="n">step_schema</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">artifact_store_id</span><span class="o">=</span><span class="n">step_run</span><span class="o">.</span><span class="n">logs</span><span class="o">.</span><span class="n">artifact_store_id</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">log_entry</span><span class="p">)</span>

            <span class="c1"># Save parent step IDs into the database.</span>
            <span class="k">for</span> <span class="n">parent_step_id</span> <span class="ow">in</span> <span class="n">step_run</span><span class="o">.</span><span class="n">parent_step_ids</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_set_run_step_parent_step</span><span class="p">(</span>
                    <span class="n">child_id</span><span class="o">=</span><span class="n">step_schema</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">parent_id</span><span class="o">=</span><span class="n">parent_step_id</span><span class="p">,</span>
                    <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="c1"># Save input artifact IDs into the database.</span>
            <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">artifact_id</span> <span class="ow">in</span> <span class="n">step_run</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_set_run_step_input_artifact</span><span class="p">(</span>
                    <span class="n">run_step_id</span><span class="o">=</span><span class="n">step_schema</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">input_name</span><span class="p">,</span>
                    <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="c1"># Save output artifact IDs into the database.</span>
            <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">artifact_id</span> <span class="ow">in</span> <span class="n">step_run</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_set_run_step_output_artifact</span><span class="p">(</span>
                    <span class="n">step_run_id</span><span class="o">=</span><span class="n">step_schema</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">output_name</span><span class="p">,</span>
                    <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_step_schema_to_model</span><span class="p">(</span><span class="n">step_schema</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_run_step_parent_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">child_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">parent_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">session</span><span class="p">:</span> <span class="n">Session</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the parent step run for a step run.</span>

<span class="sd">        Args:</span>
<span class="sd">            child_id: The ID of the child step run to set the parent for.</span>
<span class="sd">            parent_id: The ID of the parent step run to set a child for.</span>
<span class="sd">            session: The database session to use.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the child step run or parent step run doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Check if the child step exists.</span>
        <span class="n">child_step_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">child_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">child_step_run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to set parent step for step with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">child_id</span><span class="si">}</span><span class="s2">: No step with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Check if the parent step exists.</span>
        <span class="n">parent_step_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">parent_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">parent_step_run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to set parent step for step with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">child_id</span><span class="si">}</span><span class="s2">: No parent step with ID </span><span class="si">{</span><span class="n">parent_id</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="s2">&quot;found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Check if the parent step is already set.</span>
        <span class="n">assignment</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StepRunParentsSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunParentsSchema</span><span class="o">.</span><span class="n">child_id</span> <span class="o">==</span> <span class="n">child_id</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunParentsSchema</span><span class="o">.</span><span class="n">parent_id</span> <span class="o">==</span> <span class="n">parent_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">assignment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="c1"># Save the parent step assignment in the database.</span>
        <span class="n">assignment</span> <span class="o">=</span> <span class="n">StepRunParentsSchema</span><span class="p">(</span>
            <span class="n">child_id</span><span class="o">=</span><span class="n">child_id</span><span class="p">,</span> <span class="n">parent_id</span><span class="o">=</span><span class="n">parent_id</span>
        <span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">assignment</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_run_step_input_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_step_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">session</span><span class="p">:</span> <span class="n">Session</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets an artifact as an input of a step run.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_step_id: The ID of the step run.</span>
<span class="sd">            artifact_id: The ID of the artifact.</span>
<span class="sd">            name: The name of the input in the step run.</span>
<span class="sd">            session: The database session to use.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the step run or artifact doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Check if the step exists.</span>
        <span class="n">step_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">run_step_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">step_run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to set input artifact: No step run with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">run_step_id</span><span class="si">}</span><span class="s2">&#39; found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Check if the artifact exists.</span>
        <span class="n">artifact</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">artifact_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">artifact</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to set input artifact: No artifact with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">artifact_id</span><span class="si">}</span><span class="s2">&#39; found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Check if the input is already set.</span>
        <span class="n">assignment</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StepRunInputArtifactSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunInputArtifactSchema</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">run_step_id</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunInputArtifactSchema</span><span class="o">.</span><span class="n">artifact_id</span> <span class="o">==</span> <span class="n">artifact_id</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunInputArtifactSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">assignment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="c1"># Save the input assignment in the database.</span>
        <span class="n">assignment</span> <span class="o">=</span> <span class="n">StepRunInputArtifactSchema</span><span class="p">(</span>
            <span class="n">step_id</span><span class="o">=</span><span class="n">run_step_id</span><span class="p">,</span> <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span>
        <span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">assignment</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_run_step_output_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets an artifact as an output of a step run.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run_id: The ID of the step run.</span>
<span class="sd">            artifact_id: The ID of the artifact.</span>
<span class="sd">            name: The name of the output in the step run.</span>
<span class="sd">            session: The database session to use.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the step run or artifact doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Check if the step exists.</span>
        <span class="n">step_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">step_run_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">step_run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to set output artifact: No step run with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">step_run_id</span><span class="si">}</span><span class="s2">&#39; found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Check if the artifact exists.</span>
        <span class="n">artifact</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">artifact_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">artifact</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to set output artifact: No artifact with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">artifact_id</span><span class="si">}</span><span class="s2">&#39; found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Check if the output is already set.</span>
        <span class="n">assignment</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StepRunOutputArtifactSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunOutputArtifactSchema</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">step_run_id</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunOutputArtifactSchema</span><span class="o">.</span><span class="n">artifact_id</span> <span class="o">==</span> <span class="n">artifact_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">assignment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="c1"># Save the output assignment in the database.</span>
        <span class="n">assignment</span> <span class="o">=</span> <span class="n">StepRunOutputArtifactSchema</span><span class="p">(</span>
            <span class="n">step_id</span><span class="o">=</span><span class="n">step_run_id</span><span class="p">,</span>
            <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">assignment</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a step run by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run_id: The ID of the step run to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The step run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the step run doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">step_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">step_run_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">step_run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to get step run with ID </span><span class="si">{</span><span class="n">step_run_id</span><span class="si">}</span><span class="s2">: No step &quot;</span>
                    <span class="s2">&quot;run with this ID found.&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_step_schema_to_model</span><span class="p">(</span><span class="n">step_run</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_run_step_schema_to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">step_run</span><span class="p">:</span> <span class="n">StepRunSchema</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts a run step schema to a step model.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run: The run step schema to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The run step model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Get parent steps.</span>
            <span class="n">parent_steps</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunParentsSchema</span><span class="o">.</span><span class="n">child_id</span> <span class="o">==</span> <span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunParentsSchema</span><span class="o">.</span><span class="n">parent_id</span> <span class="o">==</span> <span class="n">StepRunSchema</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
            <span class="n">parent_step_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">parent_step</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">parent_step</span> <span class="ow">in</span> <span class="n">parent_steps</span><span class="p">]</span>

            <span class="c1"># Get input artifacts.</span>
            <span class="n">input_artifact_list</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span>
                    <span class="n">ArtifactSchema</span><span class="p">,</span>
                    <span class="n">StepRunInputArtifactSchema</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">StepRunInputArtifactSchema</span><span class="o">.</span><span class="n">artifact_id</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunInputArtifactSchema</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
            <span class="n">input_artifacts</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">input_name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_artifact_schema_to_model</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">artifact</span><span class="p">,</span> <span class="n">input_name</span><span class="p">)</span> <span class="ow">in</span> <span class="n">input_artifact_list</span>
            <span class="p">}</span>

            <span class="c1"># Get output artifacts.</span>
            <span class="n">output_artifact_list</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span>
                    <span class="n">ArtifactSchema</span><span class="p">,</span>
                    <span class="n">StepRunOutputArtifactSchema</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">id</span>
                    <span class="o">==</span> <span class="n">StepRunOutputArtifactSchema</span><span class="o">.</span><span class="n">artifact_id</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunOutputArtifactSchema</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
            <span class="n">output_artifacts</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">output_name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_artifact_schema_to_model</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">artifact</span><span class="p">,</span> <span class="n">output_name</span><span class="p">)</span> <span class="ow">in</span> <span class="n">output_artifact_list</span>
            <span class="p">}</span>

            <span class="c1"># Convert to model.</span>
            <span class="k">return</span> <span class="n">step_run</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span>
                <span class="n">parent_step_ids</span><span class="o">=</span><span class="n">parent_step_ids</span><span class="p">,</span>
                <span class="n">input_artifacts</span><span class="o">=</span><span class="n">input_artifacts</span><span class="p">,</span>
                <span class="n">output_artifacts</span><span class="o">=</span><span class="n">output_artifacts</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_run_steps</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">step_run_filter_model</span><span class="p">:</span> <span class="n">StepRunFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StepRunResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all step runs matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all step runs matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">StepRunSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">step_run_filter_model</span><span class="p">,</span>
                <span class="n">custom_schema_to_model_conversion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_run_step_schema_to_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_run_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">step_run_update</span><span class="p">:</span> <span class="n">StepRunUpdateModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a step run.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run_id: The ID of the step to update.</span>
<span class="sd">            step_run_update: The update to be applied to the step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated step run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the step run doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Check if the step exists</span>
            <span class="n">existing_step_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">step_run_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_step_run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to update step with ID </span><span class="si">{</span><span class="n">step_run_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;No step with this ID found.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Update the step</span>
            <span class="n">existing_step_run</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">step_run_update</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_step_run</span><span class="p">)</span>

            <span class="c1"># Update the output artifacts.</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">artifact_id</span> <span class="ow">in</span> <span class="n">step_run_update</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_set_run_step_output_artifact</span><span class="p">(</span>
                    <span class="n">step_run_id</span><span class="o">=</span><span class="n">step_run_id</span><span class="p">,</span>
                    <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="c1"># Input artifacts and parent steps cannot be updated after the</span>
            <span class="c1"># step has been created.</span>

            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_step_run</span><span class="p">)</span>

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_step_schema_to_model</span><span class="p">(</span><span class="n">existing_step_run</span><span class="p">)</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Artifacts</span>
    <span class="c1"># ---------</span>

    <span class="k">def</span> <span class="nf">create_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">artifact</span><span class="p">:</span> <span class="n">ArtifactRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates an artifact.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact: The artifact to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created artifact.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="c1"># Save artifact.</span>
            <span class="n">artifact_schema</span> <span class="o">=</span> <span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">artifact_schema</span><span class="p">)</span>

            <span class="c1"># Save visualizations of the artifact.</span>
            <span class="k">if</span> <span class="n">artifact</span><span class="o">.</span><span class="n">visualizations</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">vis</span> <span class="ow">in</span> <span class="n">artifact</span><span class="o">.</span><span class="n">visualizations</span><span class="p">:</span>
                    <span class="n">vis_schema</span> <span class="o">=</span> <span class="n">ArtifactVisualizationSchema</span><span class="o">.</span><span class="n">from_model</span><span class="p">(</span>
                        <span class="n">visualization</span><span class="o">=</span><span class="n">vis</span><span class="p">,</span> <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact_schema</span><span class="o">.</span><span class="n">id</span>
                    <span class="p">)</span>
                    <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">vis_schema</span><span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_artifact_schema_to_model</span><span class="p">(</span><span class="n">artifact_schema</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_artifact_schema_to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">artifact_schema</span><span class="p">:</span> <span class="n">ArtifactSchema</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts an artifact schema to a model.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact_schema: The artifact schema to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The converted artifact model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Find the producer step run ID.</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">producer_step_run_id</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StepRunOutputArtifactSchema</span><span class="o">.</span><span class="n">step_id</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">StepRunOutputArtifactSchema</span><span class="o">.</span><span class="n">artifact_id</span>
                    <span class="o">==</span> <span class="n">artifact_schema</span><span class="o">.</span><span class="n">id</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunOutputArtifactSchema</span><span class="o">.</span><span class="n">step_id</span> <span class="o">==</span> <span class="n">StepRunSchema</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">CACHED</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="c1"># Convert the artifact schema to a model.</span>
            <span class="k">return</span> <span class="n">artifact_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span>
                <span class="n">producer_step_run_id</span><span class="o">=</span><span class="n">producer_step_run_id</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets an artifact.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact_id: The ID of the artifact to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The artifact.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the artifact doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">artifact</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">artifact_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">artifact</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to get artifact with ID </span><span class="si">{</span><span class="n">artifact_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;No artifact with this ID found.&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_artifact_schema_to_model</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">list_artifacts</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">artifact_filter_model</span><span class="p">:</span> <span class="n">ArtifactFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ArtifactResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all artifacts matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all artifacts matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">artifact_filter_model</span><span class="o">.</span><span class="n">only_unused</span><span class="p">:</span>
                <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">notin_</span><span class="p">(</span>  <span class="c1"># type: ignore[attr-defined]</span>
                        <span class="n">select</span><span class="p">(</span><span class="n">StepRunOutputArtifactSchema</span><span class="o">.</span><span class="n">artifact_id</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">notin_</span><span class="p">(</span>  <span class="c1"># type: ignore[attr-defined]</span>
                        <span class="n">select</span><span class="p">(</span><span class="n">StepRunInputArtifactSchema</span><span class="o">.</span><span class="n">artifact_id</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">ArtifactSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">artifact_filter_model</span><span class="p">,</span>
                <span class="n">custom_schema_to_model_conversion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_artifact_schema_to_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes an artifact.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact_id: The ID of the artifact to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the artifact doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">artifact</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">artifact_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">artifact</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to delete artifact with ID </span><span class="si">{</span><span class="n">artifact_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;No artifact with this ID found.&quot;</span>
                <span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># ------------</span>
    <span class="c1"># Run Metadata</span>
    <span class="c1"># ------------</span>

    <span class="k">def</span> <span class="nf">create_run_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_metadata</span><span class="p">:</span> <span class="n">RunMetadataRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunMetadataResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates run metadata.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_metadata: The run metadata to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created run metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">run_metadata_schema</span> <span class="o">=</span> <span class="n">RunMetadataSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">run_metadata</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">run_metadata_schema</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">run_metadata_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_run_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">run_metadata_filter_model</span><span class="p">:</span> <span class="n">RunMetadataFilterModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RunMetadataResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List run metadata.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_metadata_filter_model: All filter parameters including</span>
<span class="sd">                pagination params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The run metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">RunMetadataSchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">RunMetadataSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">run_metadata_filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="c1"># -----------------</span>
    <span class="c1"># Code Repositories</span>
    <span class="c1"># -----------------</span>

    <span class="k">def</span> <span class="nf">create_code_repository</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository</span><span class="p">:</span> <span class="n">CodeRepositoryRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new code repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            code_repository: Code repository to be created.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created code repository.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a code repository with the given name already</span>
<span class="sd">                exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">existing_repo</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">CodeRepositorySchema</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">code_repository</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">workspace_id</span>
                    <span class="o">==</span> <span class="n">code_repository</span><span class="o">.</span><span class="n">workspace</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_repo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to create code repository in workspace &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">code_repository</span><span class="o">.</span><span class="n">workspace</span><span class="si">}</span><span class="s2">&#39;: A code repository with &quot;</span>
                    <span class="s2">&quot;this name already exists.&quot;</span>
                <span class="p">)</span>

            <span class="n">new_repo</span> <span class="o">=</span> <span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">code_repository</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_repo</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_repo</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">new_repo</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_code_repository</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific code repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            code_repository_id: The ID of the code repository to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested code repository, if it was found.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no code repository with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">repo</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">CodeRepositorySchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">code_repository_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">repo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to get code repository with ID &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">code_repository_id</span><span class="si">}</span><span class="s2">&#39;: No code repository with this &quot;</span>
                    <span class="s2">&quot;ID found.&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="n">repo</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">list_code_repositories</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">:</span> <span class="n">CodeRepositoryFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">CodeRepositoryResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all code repositories.</span>

<span class="sd">        Args:</span>
<span class="sd">            filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A page of all code repositories.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">CodeRepositorySchema</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">CodeRepositorySchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_code_repository</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">CodeRepositoryUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates an existing code repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            code_repository_id: The ID of the code repository to update.</span>
<span class="sd">            update: The update to be applied to the code repository.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated code repository.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no code repository with the given name exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">existing_repo</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">CodeRepositorySchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">code_repository_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_repo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to update code repository with ID &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">code_repository_id</span><span class="si">}</span><span class="s2">: No code repository with this ID &quot;</span>
                    <span class="s2">&quot;found.&quot;</span>
                <span class="p">)</span>

            <span class="n">existing_repo</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_repo</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">existing_repo</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">delete_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a code repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            code_repository_id: The ID of the code repository to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no code repository with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">existing_repo</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">CodeRepositorySchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">code_repository_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">existing_repo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to delete code repository with ID &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">code_repository_id</span><span class="si">}</span><span class="s2">: No code repository with this ID &quot;</span>
                    <span class="s2">&quot;found.&quot;</span>
                <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">existing_repo</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="c1"># ------------------</span>
    <span class="c1"># Service Connectors</span>
    <span class="c1"># ------------------</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_fail_if_service_connector_with_name_exists_for_user</span><span class="p">(</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Raise an exception if a service connector with same name exists.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the service connector</span>
<span class="sd">            workspace_id: The ID of the workspace</span>
<span class="sd">            user_id: The ID of the user</span>
<span class="sd">            session: The Session</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a service connector with the given name is</span>
<span class="sd">                already owned by the user</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">user_id</span>
        <span class="c1"># Check if service connector with the same domain key (name, workspace,</span>
        <span class="c1"># owner) already exists</span>
        <span class="n">existing_domain_connector</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">workspace_id</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_domain_connector</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Theoretically the user schema is optional, in this case there is</span>
            <span class="c1">#  no way that it will be None</span>
            <span class="k">assert</span> <span class="n">existing_domain_connector</span><span class="o">.</span><span class="n">user</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to register service connector with name &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                <span class="s2">&quot;Found an existing service connector with the same name in the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;same workspace, &#39;</span><span class="si">{</span><span class="n">existing_domain_connector</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                <span class="s2">&quot;owned by the same user, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">existing_domain_connector</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_fail_if_service_connector_with_name_already_shared</span><span class="p">(</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Raise an exception if a service connector with same name is already shared.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the service connector</span>
<span class="sd">            workspace_id: The ID of the workspace</span>
<span class="sd">            session: The Session</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a service connector with the given name is</span>
<span class="sd">                already shared by another user</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Check if a service connector with the same name is already shared</span>
        <span class="c1"># within the workspace</span>
        <span class="n">is_shared</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">existing_shared_connector</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">workspace_id</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">is_shared</span> <span class="o">==</span> <span class="n">is_shared</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_shared_connector</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to share service connector with name &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Found &quot;</span>
                <span class="s2">&quot;an existing shared service connector with the same name in &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;workspace &#39;</span><span class="si">{</span><span class="n">workspace_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_connector_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">connector_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">user</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">workspace</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">is_shared</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">secrets</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretStr</span><span class="p">]]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new secret to store the service connector secret credentials.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_name: The name of the service connector for which to</span>
<span class="sd">                create a secret.</span>
<span class="sd">            user: The ID of the user who owns the service connector.</span>
<span class="sd">            workspace: The ID of the workspace in which the service connector</span>
<span class="sd">                is registered.</span>
<span class="sd">            is_shared: Whether the service connector is shared.</span>
<span class="sd">            secrets: The secret credentials to store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the newly created secret or None, if the service connector</span>
<span class="sd">            does not contain any secret credentials.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If a secrets store is not configured or</span>
<span class="sd">                supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">secrets</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="s2">&quot;A secrets store is not configured or supported.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Generate a unique name for the secret</span>
        <span class="c1"># Replace all non-alphanumeric characters with a dash because</span>
        <span class="c1"># the secret name must be a valid DNS subdomain name in some</span>
        <span class="c1"># secrets stores</span>
        <span class="n">connector_name</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^a-zA-Z0-9-]&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">connector_name</span><span class="p">)</span>
        <span class="c1"># Generate unique names using a random suffix until we find a name</span>
        <span class="c1"># that is not already in use</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">secret_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;connector-</span><span class="si">{</span><span class="n">connector_name</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">random_str</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="n">existing_secrets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">list_secrets</span><span class="p">(</span>
                <span class="n">SecretFilterModel</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_secrets</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">create_secret</span><span class="p">(</span>
                        <span class="n">SecretRequestModel</span><span class="p">(</span>
                            <span class="n">name</span><span class="o">=</span><span class="n">secret_name</span><span class="p">,</span>
                            <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
                            <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
                            <span class="n">scope</span><span class="o">=</span><span class="n">SecretScope</span><span class="o">.</span><span class="n">WORKSPACE</span>
                            <span class="k">if</span> <span class="n">is_shared</span>
                            <span class="k">else</span> <span class="n">SecretScope</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span>
                            <span class="n">values</span><span class="o">=</span><span class="n">secrets</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span><span class="o">.</span><span class="n">id</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="c1"># The secret already exists, try again</span>
                    <span class="k">continue</span>

    <span class="k">def</span> <span class="nf">_populate_connector_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">service_connectors</span><span class="p">:</span> <span class="n">ServiceConnectorResponseModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Populates the connector type of the given service connectors.</span>

<span class="sd">        If the connector type is not locally available, the connector type</span>
<span class="sd">        field is left as is.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connectors: The service connectors to populate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">service_connector</span> <span class="ow">in</span> <span class="n">service_connectors</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">is_registered</span><span class="p">(</span>
                <span class="n">service_connector</span><span class="o">.</span><span class="n">type</span>
            <span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">service_connector</span><span class="o">.</span><span class="n">connector_type</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
                    <span class="n">service_connector</span><span class="o">.</span><span class="n">type</span>
                <span class="p">)</span>
            <span class="p">)</span>

    <span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_SERVICE_CONNECTOR</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">create_service_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new service connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector: Service connector to be created.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created service connector.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If anything goes wrong during the creation of the</span>
<span class="sd">                service connector.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># If the connector type is locally available, we validate the request</span>
        <span class="c1"># against the connector type schema before storing it in the database</span>
        <span class="k">if</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">is_registered</span><span class="p">(</span><span class="n">service_connector</span><span class="o">.</span><span class="n">type</span><span class="p">):</span>
            <span class="n">connector_type</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
                    <span class="n">service_connector</span><span class="o">.</span><span class="n">type</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">service_connector</span><span class="o">.</span><span class="n">validate_and_configure_resources</span><span class="p">(</span>
                <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
                <span class="n">resource_types</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">resource_types</span><span class="p">,</span>
                <span class="n">resource_id</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
                <span class="n">configuration</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">configuration</span><span class="p">,</span>
                <span class="n">secrets</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">secrets</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_service_connector_with_name_exists_for_user</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">user_id</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                <span class="n">workspace_id</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">service_connector</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_service_connector_with_name_already_shared</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">workspace_id</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                    <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="c1"># Create the secret</span>
            <span class="n">secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_connector_secret</span><span class="p">(</span>
                <span class="n">connector_name</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">user</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">is_shared</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
                <span class="n">secrets</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">secrets</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Create the service connector</span>
                <span class="n">new_service_connector</span> <span class="o">=</span> <span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span>
                    <span class="n">service_connector</span><span class="p">,</span>
                    <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_service_connector</span><span class="p">)</span>
                <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

                <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_service_connector</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="c1"># Delete the secret if it was created</span>
                <span class="k">if</span> <span class="n">secret_id</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                        <span class="c1"># Ignore any errors that occur while deleting the</span>
                        <span class="c1"># secret</span>
                        <span class="k">pass</span>

                <span class="k">raise</span>

            <span class="n">connector</span> <span class="o">=</span> <span class="n">new_service_connector</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">connector</span>

    <span class="k">def</span> <span class="nf">get_service_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific service connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the service connector to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested service connector, if it was found.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no service connector with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">service_connector</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">service_connector_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">service_connector</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Service connector with ID </span><span class="si">{</span><span class="n">service_connector_id</span><span class="si">}</span><span class="s2"> not &quot;</span>
                    <span class="s2">&quot;found.&quot;</span>
                <span class="p">)</span>

            <span class="n">connector</span> <span class="o">=</span> <span class="n">service_connector</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">connector</span>

    <span class="k">def</span> <span class="nf">_list_filtered_service_connectors</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
        <span class="n">query</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="n">Select</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">],</span>
            <span class="n">SelectOfScalar</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">],</span>
        <span class="p">],</span>
        <span class="n">filter_model</span><span class="p">:</span> <span class="n">ServiceConnectorFilterModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Refine a service connector query.</span>

<span class="sd">        Applies resource type and label filters to the query.</span>

<span class="sd">        Args:</span>
<span class="sd">            session: The database session.</span>
<span class="sd">            query: The query to filter.</span>
<span class="sd">            filter_model: The filter model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The filtered list of service connectors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">query</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="c1"># filter out items that don&#39;t match the resource type</span>
        <span class="k">if</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">resource_type</span><span class="p">:</span>
            <span class="n">items</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">item</span>
                <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span>
                <span class="k">if</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">resource_type</span> <span class="ow">in</span> <span class="n">item</span><span class="o">.</span><span class="n">resource_types_list</span>
            <span class="p">]</span>

        <span class="c1"># filter out items that don&#39;t match the labels</span>
        <span class="k">if</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">labels</span><span class="p">:</span>
            <span class="n">items</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span> <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">has_labels</span><span class="p">(</span><span class="n">filter_model</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span>
            <span class="p">]</span>

        <span class="k">return</span> <span class="n">items</span>

    <span class="k">def</span> <span class="nf">list_service_connectors</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">:</span> <span class="n">ServiceConnectorFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ServiceConnectorResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all service connectors.</span>

<span class="sd">        Args:</span>
<span class="sd">            filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A page of all service connectors.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">fetch_connectors</span><span class="p">(</span>
            <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
            <span class="n">query</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
                <span class="n">Select</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">],</span>
                <span class="n">SelectOfScalar</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">],</span>
            <span class="p">],</span>
            <span class="n">filter_model</span><span class="p">:</span> <span class="n">BaseFilterModel</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">]:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Custom fetch function for connector filtering and pagination.</span>

<span class="sd">            Applies resource type and label filters to the query.</span>

<span class="sd">            Args:</span>
<span class="sd">                session: The database session.</span>
<span class="sd">                query: The query to filter.</span>
<span class="sd">                filter_model: The filter model.</span>

<span class="sd">            Returns:</span>
<span class="sd">                The filtered and paginated results.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filter_model</span><span class="p">,</span> <span class="n">ServiceConnectorFilterModel</span><span class="p">)</span>
            <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_filtered_service_connectors</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span> <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="n">items</span>

        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span>
            <span class="n">paged_connectors</span><span class="p">:</span> <span class="n">Page</span><span class="p">[</span>
                <span class="n">ServiceConnectorResponseModel</span>
            <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
                <span class="n">table</span><span class="o">=</span><span class="n">ServiceConnectorSchema</span><span class="p">,</span>
                <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
                <span class="n">custom_fetch</span><span class="o">=</span><span class="n">fetch_connectors</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="o">*</span><span class="n">paged_connectors</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">paged_connectors</span>

    <span class="k">def</span> <span class="nf">_update_connector_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">existing_connector</span><span class="p">:</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">,</span>
        <span class="n">updated_connector</span><span class="p">:</span> <span class="n">ServiceConnectorUpdateModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates the secret for a service connector.</span>

<span class="sd">        If the secrets field in the service connector update is set (i.e. not</span>
<span class="sd">        None), the existing secret, if any, is replaced. If the secrets field is</span>
<span class="sd">        set to an empty dict, the existing secret is deleted.</span>

<span class="sd">        Args:</span>
<span class="sd">            existing_connector: Existing service connector for which to update a</span>
<span class="sd">                secret.</span>
<span class="sd">            updated_connector: Updated service connector.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the updated secret or None, if the new service connector</span>
<span class="sd">            does not contain any secret credentials.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If a secrets store is not configured or</span>
<span class="sd">                supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="s2">&quot;A secrets store is not configured or supported.&quot;</span>
            <span class="p">)</span>

        <span class="n">is_shared</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">existing_connector</span><span class="o">.</span><span class="n">is_shared</span>
            <span class="k">if</span> <span class="n">updated_connector</span><span class="o">.</span><span class="n">is_shared</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="n">updated_connector</span><span class="o">.</span><span class="n">is_shared</span>
        <span class="p">)</span>
        <span class="n">scope_changed</span> <span class="o">=</span> <span class="n">is_shared</span> <span class="o">!=</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">is_shared</span>

        <span class="k">if</span> <span class="n">updated_connector</span><span class="o">.</span><span class="n">secrets</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">scope_changed</span> <span class="ow">and</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">secret_id</span><span class="p">:</span>
                <span class="c1"># Update the scope of the existing secret</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">update_secret</span><span class="p">(</span>
                    <span class="n">secret_id</span><span class="o">=</span><span class="n">existing_connector</span><span class="o">.</span><span class="n">secret_id</span><span class="p">,</span>
                    <span class="n">secret_update</span><span class="o">=</span><span class="n">SecretUpdateModel</span><span class="p">(</span>  <span class="c1"># type: ignore[call-arg]</span>
                        <span class="n">scope</span><span class="o">=</span><span class="n">SecretScope</span><span class="o">.</span><span class="n">WORKSPACE</span>
                        <span class="k">if</span> <span class="n">is_shared</span>
                        <span class="k">else</span> <span class="n">SecretScope</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span>
                    <span class="p">),</span>
                <span class="p">)</span>

            <span class="c1"># If the connector update does not contain a secrets update, keep</span>
            <span class="c1"># the existing secret (if any)</span>
            <span class="k">return</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">secret_id</span>

        <span class="c1"># Delete the existing secret (if any), to be replaced by the new secret</span>
        <span class="k">if</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">secret_id</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">existing_connector</span><span class="o">.</span><span class="n">secret_id</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="c1"># Ignore if the secret no longer exists</span>
                <span class="k">pass</span>

        <span class="c1"># If the new service connector does not contain any secret credentials,</span>
        <span class="c1"># return None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">updated_connector</span><span class="o">.</span><span class="n">secrets</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">assert</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="c1"># A secret does not exist yet, create a new one</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_connector_secret</span><span class="p">(</span>
            <span class="n">connector_name</span><span class="o">=</span><span class="n">updated_connector</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">existing_connector</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">existing_connector</span><span class="o">.</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">is_shared</span><span class="o">=</span><span class="n">is_shared</span><span class="p">,</span>
            <span class="n">secrets</span><span class="o">=</span><span class="n">updated_connector</span><span class="o">.</span><span class="n">secrets</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_service_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">ServiceConnectorUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates an existing service connector.</span>

<span class="sd">        The update model contains the fields to be updated. If a field value is</span>
<span class="sd">        set to None in the model, the field is not updated, but there are</span>
<span class="sd">        special rules concerning some fields:</span>

<span class="sd">        * the `configuration` and `secrets` fields together represent a full</span>
<span class="sd">        valid configuration update, not just a partial update. If either is</span>
<span class="sd">        set (i.e. not None) in the update, their values are merged together and</span>
<span class="sd">        will replace the existing configuration and secrets values.</span>
<span class="sd">        * the `resource_id` field value is also a full replacement value: if set</span>
<span class="sd">        to `None`, the resource ID is removed from the service connector.</span>
<span class="sd">        * the `expiration_seconds` field value is also a full replacement value:</span>
<span class="sd">        if set to `None`, the expiration is removed from the service connector.</span>
<span class="sd">        * the `secret_id` field value in the update is ignored, given that</span>
<span class="sd">        secrets are managed internally by the ZenML store.</span>
<span class="sd">        * the `labels` field is also a full labels update: if set (i.e. not</span>
<span class="sd">        `None`), all existing labels are removed and replaced by the new labels</span>
<span class="sd">        in the update.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the service connector to update.</span>
<span class="sd">            update: The update to be applied to the service connector.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service connector.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no service connector with the given ID exists.</span>
<span class="sd">            IllegalOperationError: If the service connector is referenced by</span>
<span class="sd">                one or more stack components and the update would change the</span>
<span class="sd">                connector type, resource type or resource ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">existing_connector</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">service_connector_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">existing_connector</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unable to update service connector with ID &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">service_connector_id</span><span class="si">}</span><span class="s2">&#39;: Found no existing service &quot;</span>
                    <span class="s2">&quot;connector with this ID.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># In case of a renaming update, make sure no service connector uses</span>
            <span class="c1"># that name already</span>
            <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">existing_connector</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">update</span><span class="o">.</span><span class="n">name</span>
                    <span class="ow">and</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">user_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_service_connector_with_name_exists_for_user</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">update</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                        <span class="n">workspace_id</span><span class="o">=</span><span class="n">existing_connector</span><span class="o">.</span><span class="n">workspace_id</span><span class="p">,</span>
                        <span class="n">user_id</span><span class="o">=</span><span class="n">existing_connector</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                    <span class="p">)</span>

            <span class="c1"># Check if service connector update makes the service connector a</span>
            <span class="c1"># shared service connector</span>
            <span class="c1"># In that case, check if a service connector with the same name is</span>
            <span class="c1"># already shared within the workspace</span>
            <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">is_shared</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">is_shared</span> <span class="ow">and</span> <span class="n">update</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_service_connector_with_name_already_shared</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">update</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                        <span class="n">workspace_id</span><span class="o">=</span><span class="n">existing_connector</span><span class="o">.</span><span class="n">workspace_id</span><span class="p">,</span>
                        <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                    <span class="p">)</span>

            <span class="n">existing_connector_model</span> <span class="o">=</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">existing_connector</span><span class="o">.</span><span class="n">components</span><span class="p">):</span>
                <span class="c1"># If the service connector is already used in one or more</span>
                <span class="c1"># stack components, the update is no longer allowed to change</span>
                <span class="c1"># the service connector&#39;s authentication method, connector type,</span>
                <span class="c1"># resource type, or resource ID</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">update</span><span class="o">.</span><span class="n">connector_type</span>
                    <span class="ow">and</span> <span class="n">update</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">existing_connector_model</span><span class="o">.</span><span class="n">connector_type</span>
                <span class="p">):</span>
                    <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                        <span class="s2">&quot;The service type of a service connector that is &quot;</span>
                        <span class="s2">&quot;already actively used in one or more stack components &quot;</span>
                        <span class="s2">&quot;cannot be changed.&quot;</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">update</span><span class="o">.</span><span class="n">auth_method</span>
                    <span class="ow">and</span> <span class="n">update</span><span class="o">.</span><span class="n">auth_method</span>
                    <span class="o">!=</span> <span class="n">existing_connector_model</span><span class="o">.</span><span class="n">auth_method</span>
                <span class="p">):</span>
                    <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                        <span class="s2">&quot;The authentication method of a service connector that &quot;</span>
                        <span class="s2">&quot;is already actively used in one or more stack &quot;</span>
                        <span class="s2">&quot;components cannot be changed.&quot;</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">update</span><span class="o">.</span><span class="n">resource_types</span>
                    <span class="ow">and</span> <span class="n">update</span><span class="o">.</span><span class="n">resource_types</span>
                    <span class="o">!=</span> <span class="n">existing_connector_model</span><span class="o">.</span><span class="n">resource_types</span>
                <span class="p">):</span>
                    <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                        <span class="s2">&quot;The resource type of a service connector that is &quot;</span>
                        <span class="s2">&quot;already actively used in one or more stack components &quot;</span>
                        <span class="s2">&quot;cannot be changed.&quot;</span>
                    <span class="p">)</span>

                <span class="c1"># The resource ID field cannot be used as a partial update: if</span>
                <span class="c1"># set to None, the existing resource ID is also removed</span>
                <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">!=</span> <span class="n">existing_connector_model</span><span class="o">.</span><span class="n">resource_id</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                        <span class="s2">&quot;The resource ID of a service connector that is &quot;</span>
                        <span class="s2">&quot;already actively used in one or more stack components &quot;</span>
                        <span class="s2">&quot;cannot be changed.&quot;</span>
                    <span class="p">)</span>

            <span class="c1"># If the connector type is locally available, we validate the update</span>
            <span class="c1"># against the connector type schema before storing it in the</span>
            <span class="c1"># database</span>
            <span class="k">if</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">is_registered</span><span class="p">(</span>
                <span class="n">existing_connector</span><span class="o">.</span><span class="n">connector_type</span>
            <span class="p">):</span>
                <span class="n">connector_type</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
                        <span class="n">existing_connector</span><span class="o">.</span><span class="n">connector_type</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="c1"># We need the auth method to be set to be able to validate the</span>
                <span class="c1"># configuration</span>
                <span class="n">update</span><span class="o">.</span><span class="n">auth_method</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">update</span><span class="o">.</span><span class="n">auth_method</span> <span class="ow">or</span> <span class="n">existing_connector_model</span><span class="o">.</span><span class="n">auth_method</span>
                <span class="p">)</span>
                <span class="c1"># Validate the configuration update. If the configuration or</span>
                <span class="c1"># secrets fields are set, together they are merged into a</span>
                <span class="c1"># full configuration that is validated against the connector</span>
                <span class="c1"># type schema and replaces the existing configuration and</span>
                <span class="c1"># secrets values</span>
                <span class="n">update</span><span class="o">.</span><span class="n">validate_and_configure_resources</span><span class="p">(</span>
                    <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
                    <span class="n">resource_types</span><span class="o">=</span><span class="n">update</span><span class="o">.</span><span class="n">resource_types</span><span class="p">,</span>
                    <span class="n">resource_id</span><span class="o">=</span><span class="n">update</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
                    <span class="n">configuration</span><span class="o">=</span><span class="n">update</span><span class="o">.</span><span class="n">configuration</span><span class="p">,</span>
                    <span class="n">secrets</span><span class="o">=</span><span class="n">update</span><span class="o">.</span><span class="n">secrets</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="c1"># Update secret</span>
            <span class="n">secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_connector_secret</span><span class="p">(</span>
                <span class="n">existing_connector</span><span class="o">=</span><span class="n">existing_connector_model</span><span class="p">,</span>
                <span class="n">updated_connector</span><span class="o">=</span><span class="n">update</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">existing_connector</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                <span class="n">connector_update</span><span class="o">=</span><span class="n">update</span><span class="p">,</span> <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span>
            <span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_connector</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="n">connector</span> <span class="o">=</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">connector</span>

    <span class="k">def</span> <span class="nf">delete_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a service connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the service connector to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no service connector with the given ID exists.</span>
<span class="sd">            IllegalOperationError: If the service connector is still referenced</span>
<span class="sd">                by one or more stack components.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">service_connector</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                        <span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">service_connector_id</span>
                    <span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">service_connector</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Service connector with ID </span><span class="si">{</span><span class="n">service_connector_id</span><span class="si">}</span><span class="s2"> not &quot;</span>
                        <span class="s2">&quot;found.&quot;</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">service_connector</span><span class="o">.</span><span class="n">components</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Service connector with ID </span><span class="si">{</span><span class="n">service_connector_id</span><span class="si">}</span><span class="s2"> &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;cannot be deleted as it is still referenced by &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">service_connector</span><span class="o">.</span><span class="n">components</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span>
                        <span class="s2">&quot;stack components. Before deleting this service &quot;</span>
                        <span class="s2">&quot;connector, make sure to remove it from all stack &quot;</span>
                        <span class="s2">&quot;components.&quot;</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">service_connector</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">service_connector</span><span class="o">.</span><span class="n">secret_id</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span>
                            <span class="n">service_connector</span><span class="o">.</span><span class="n">secret_id</span>
                        <span class="p">)</span>
                    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                        <span class="c1"># If the secret doesn&#39;t exist anymore, we can ignore</span>
                        <span class="c1"># this error</span>
                        <span class="k">pass</span>
            <span class="k">except</span> <span class="n">NoResultFound</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span> <span class="kn">from</span> <span class="nn">error</span>

            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">verify_service_connector_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service_connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span><span class="p">,</span>
        <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector configuration has access to resources.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector: The service connector configuration to verify.</span>
<span class="sd">            list_resources: If True, the list of all resources accessible</span>
<span class="sd">                through the service connector is returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of resources that the service connector configuration has</span>
<span class="sd">            access to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connector_instance</span> <span class="o">=</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">instantiate_connector</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="n">service_connector</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">connector_instance</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span><span class="n">list_resources</span><span class="o">=</span><span class="n">list_resources</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">verify_service_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector instance has access to one or more resources.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the service connector to verify.</span>
<span class="sd">            resource_type: The type of resource to verify access to.</span>
<span class="sd">            resource_id: The ID of the resource to verify access to.</span>
<span class="sd">            list_resources: If True, the list of all resources accessible</span>
<span class="sd">                through the service connector and matching the supplied resource</span>
<span class="sd">                type and ID are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of resources that the service connector has access to,</span>
<span class="sd">            scoped to the supplied resource type and ID, if provided.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">(</span><span class="n">service_connector_id</span><span class="p">)</span>

        <span class="n">connector_instance</span> <span class="o">=</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">instantiate_connector</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="n">connector</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">connector_instance</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="n">list_resources</span><span class="o">=</span><span class="n">list_resources</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_service_connector_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a service connector client for a service connector and given resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the base service connector to use.</span>
<span class="sd">            resource_type: The type of resource to get a client for.</span>
<span class="sd">            resource_id: The ID of the resource to get a client for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A service connector client that can be used to access the given</span>
<span class="sd">            resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">(</span><span class="n">service_connector_id</span><span class="p">)</span>

        <span class="n">connector_instance</span> <span class="o">=</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">instantiate_connector</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="n">connector</span>
        <span class="p">)</span>

        <span class="c1"># Fetch the connector client</span>
        <span class="n">connector_client</span> <span class="o">=</span> <span class="n">connector_instance</span><span class="o">.</span><span class="n">get_connector_client</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Return the model for the connector client</span>
        <span class="n">connector</span> <span class="o">=</span> <span class="n">connector_client</span><span class="o">.</span><span class="n">to_response_model</span><span class="p">(</span>
            <span class="n">user</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">is_shared</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">labels</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">connector</span>

    <span class="k">def</span> <span class="nf">list_service_connector_resources</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorResourcesModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List resources that can be accessed by service connectors.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_name_or_id: The name or ID of the user to scope to.</span>
<span class="sd">            workspace_name_or_id: The name or ID of the workspace to scope to.</span>
<span class="sd">            connector_type: The type of service connector to scope to.</span>
<span class="sd">            resource_type: The type of resource to scope to.</span>
<span class="sd">            resource_id: The ID of the resource to scope to.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching list of resources that available service</span>
<span class="sd">            connectors have access to.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">)</span>
        <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
        <span class="n">connector_filter_model</span> <span class="o">=</span> <span class="n">ServiceConnectorFilterModel</span><span class="p">(</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">is_shared</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">shared_connectors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_service_connectors</span><span class="p">(</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">connector_filter_model</span>
        <span class="p">)</span><span class="o">.</span><span class="n">items</span>

        <span class="n">connector_filter_model</span> <span class="o">=</span> <span class="n">ServiceConnectorFilterModel</span><span class="p">(</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">is_shared</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">private_connectors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_service_connectors</span><span class="p">(</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">connector_filter_model</span>
        <span class="p">)</span><span class="o">.</span><span class="n">items</span>

        <span class="n">resource_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorResourcesModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">connector</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">shared_connectors</span><span class="p">)</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">private_connectors</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">is_registered</span><span class="p">(</span><span class="n">connector</span><span class="o">.</span><span class="n">type</span><span class="p">):</span>
                <span class="c1"># For connectors that we can instantiate, i.e. those that have a</span>
                <span class="c1"># connector type available locally, we return complete</span>
                <span class="c1"># information about the resources that they have access to.</span>
                <span class="c1">#</span>
                <span class="c1"># For those that are not locally available, we only return</span>
                <span class="c1"># rudimentary information extracted from the connector model</span>
                <span class="c1"># without actively trying to discover the resources that they</span>
                <span class="c1"># have access to.</span>

                <span class="k">if</span> <span class="n">resource_id</span> <span class="ow">and</span> <span class="n">connector</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">!=</span> <span class="n">resource_id</span><span class="p">:</span>
                    <span class="c1"># If an explicit resource ID is required, the connector</span>
                    <span class="c1"># has to be configured with it.</span>
                    <span class="k">continue</span>

                <span class="n">resources</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">ServiceConnectorResourcesModel</span><span class="o">.</span><span class="n">from_connector_model</span><span class="p">(</span>
                        <span class="n">connector</span><span class="p">,</span>
                        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">resources</span><span class="o">.</span><span class="n">resources</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">:</span>
                        <span class="n">r</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;The service &#39;</span><span class="si">{</span><span class="n">connector</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">&#39; connector type is &quot;</span>
                            <span class="s2">&quot;not available.&quot;</span>
                        <span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">connector_instance</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">instantiate_connector</span><span class="p">(</span>
                            <span class="n">model</span><span class="o">=</span><span class="n">connector</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

                    <span class="n">resources</span> <span class="o">=</span> <span class="n">connector_instance</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span>
                        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                        <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
                        <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">AuthorizationException</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="sa">f</span><span class="s1">&#39;Failed to fetch </span><span class="si">{</span><span class="n">resource_type</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;available&quot;</span><span class="si">}</span><span class="s1"> &#39;</span>
                        <span class="sa">f</span><span class="s2">&quot;resources from service connector </span><span class="si">{</span><span class="n">connector</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">connector</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                    <span class="c1"># Log an exception if debug logging is enabled</span>
                    <span class="k">if</span> <span class="n">logger</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">):</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                    <span class="k">continue</span>

            <span class="n">resource_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resources</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">resource_list</span>

    <span class="k">def</span> <span class="nf">list_service_connector_types</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of service connector types.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_type: Filter by connector type.</span>
<span class="sd">            resource_type: Filter by resource type.</span>
<span class="sd">            auth_method: Filter by authentication method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of service connector types.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">list_service_connector_types</span><span class="p">(</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">auth_method</span><span class="o">=</span><span class="n">auth_method</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_service_connector_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">connector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the requested service connector type.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_type: the service connector type identifier.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested service connector type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
            <span class="n">connector_type</span>
        <span class="p">)</span>

    <span class="c1"># =======================</span>
    <span class="c1"># Internal helper methods</span>
    <span class="c1"># =======================</span>

    <span class="k">def</span> <span class="nf">_count_entity</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseSchema</span><span class="p">],</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return count of a given entity, optionally scoped to workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            schema: Schema of the Entity</span>
<span class="sd">            workspace_id: (Optional) ID of the workspace scope</span>

<span class="sd">        Returns:</span>
<span class="sd">            Count of the entity as integer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">workspace_id</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="s2">&quot;workspace_id&quot;</span><span class="p">):</span>
                <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">workspace_id</span><span class="p">)</span>

            <span class="n">entity_count</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">scalar</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">entity_count</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_schema_by_name_or_id</span><span class="p">(</span>
        <span class="n">object_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">schema_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AnyNamedSchema</span><span class="p">],</span>
        <span class="n">schema_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyNamedSchema</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Query a schema by its &#39;name&#39; or &#39;id&#39; field.</span>

<span class="sd">        Args:</span>
<span class="sd">            object_name_or_id: The name or ID of the object to query.</span>
<span class="sd">            schema_class: The schema class to query. E.g., `WorkspaceSchema`.</span>
<span class="sd">            schema_name: The name of the schema used for error messages.</span>
<span class="sd">                E.g., &quot;workspace&quot;.</span>
<span class="sd">            session: The database session to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The schema object.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the object couldn&#39;t be found.</span>
<span class="sd">            ValueError: if the schema_name isn&#39;t provided.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">object_name_or_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get </span><span class="si">{</span><span class="n">schema_name</span><span class="si">}</span><span class="s2">: No </span><span class="si">{</span><span class="n">schema_name</span><span class="si">}</span><span class="s2"> ID or name &quot;</span>
                <span class="s2">&quot;provided.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">uuid_utils</span><span class="o">.</span><span class="n">is_valid_uuid</span><span class="p">(</span><span class="n">object_name_or_id</span><span class="p">):</span>
            <span class="n">filter_params</span> <span class="o">=</span> <span class="n">schema_class</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">object_name_or_id</span>
            <span class="n">error_msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get </span><span class="si">{</span><span class="n">schema_name</span><span class="si">}</span><span class="s2"> with name or ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">object_name_or_id</span><span class="si">}</span><span class="s2">&#39;: No </span><span class="si">{</span><span class="n">schema_name</span><span class="si">}</span><span class="s2"> with this ID found.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">filter_params</span> <span class="o">=</span> <span class="n">schema_class</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">object_name_or_id</span>
            <span class="n">error_msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get </span><span class="si">{</span><span class="n">schema_name</span><span class="si">}</span><span class="s2"> with name or ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">object_name_or_id</span><span class="si">}</span><span class="s2">&#39;: &#39;</span><span class="si">{</span><span class="n">object_name_or_id</span><span class="si">}</span><span class="s2">&#39; is not a valid &quot;</span>
                <span class="sa">f</span><span class="s2">&quot; UUID and no </span><span class="si">{</span><span class="n">schema_name</span><span class="si">}</span><span class="s2"> with this name exists.&quot;</span>
            <span class="p">)</span>

        <span class="n">schema</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">schema_class</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">filter_params</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">error_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">schema</span>

    <span class="k">def</span> <span class="nf">_get_workspace_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceSchema</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a workspace schema by name or ID.</span>

<span class="sd">        This is a helper method that is used in various places to find the</span>
<span class="sd">        workspace associated to some other object.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_name_or_id: The name or ID of the workspace to get.</span>
<span class="sd">            session: The database session to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The workspace schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_schema_by_name_or_id</span><span class="p">(</span>
            <span class="n">object_name_or_id</span><span class="o">=</span><span class="n">workspace_name_or_id</span><span class="p">,</span>
            <span class="n">schema_class</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="p">,</span>
            <span class="n">schema_name</span><span class="o">=</span><span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_user_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserSchema</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a user schema by name or ID.</span>

<span class="sd">        This is a helper method that is used in various places to find the</span>
<span class="sd">        user associated to some other object.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_name_or_id: The name or ID of the user to get.</span>
<span class="sd">            session: The database session to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The user schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_schema_by_name_or_id</span><span class="p">(</span>
            <span class="n">object_name_or_id</span><span class="o">=</span><span class="n">user_name_or_id</span><span class="p">,</span>
            <span class="n">schema_class</span><span class="o">=</span><span class="n">UserSchema</span><span class="p">,</span>
            <span class="n">schema_name</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_team_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamSchema</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a team schema by name or ID.</span>

<span class="sd">        This is a helper method that is used in various places to find a team</span>
<span class="sd">        by its name or ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_name_or_id: The name or ID of the team to get.</span>
<span class="sd">            session: The database session to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The team schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_schema_by_name_or_id</span><span class="p">(</span>
            <span class="n">object_name_or_id</span><span class="o">=</span><span class="n">team_name_or_id</span><span class="p">,</span>
            <span class="n">schema_class</span><span class="o">=</span><span class="n">TeamSchema</span><span class="p">,</span>
            <span class="n">schema_name</span><span class="o">=</span><span class="s2">&quot;team&quot;</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_role_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleSchema</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a role schema by name or ID.</span>

<span class="sd">        This is a helper method that is used in various places to find a role</span>
<span class="sd">        by its name or ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_name_or_id: The name or ID of the role to get.</span>
<span class="sd">            session: The database session to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The role schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_schema_by_name_or_id</span><span class="p">(</span>
            <span class="n">object_name_or_id</span><span class="o">=</span><span class="n">role_name_or_id</span><span class="p">,</span>
            <span class="n">schema_class</span><span class="o">=</span><span class="n">RoleSchema</span><span class="p">,</span>
            <span class="n">schema_name</span><span class="o">=</span><span class="s2">&quot;role&quot;</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_run_schema</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">run_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunSchema</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a run schema by name or ID.</span>

<span class="sd">        This is a helper method that is used in various places to find a run</span>
<span class="sd">        by its name or ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_name_or_id: The name or ID of the run to get.</span>
<span class="sd">            session: The database session to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The run schema.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_schema_by_name_or_id</span><span class="p">(</span>
            <span class="n">object_name_or_id</span><span class="o">=</span><span class="n">run_name_or_id</span><span class="p">,</span>
            <span class="n">schema_class</span><span class="o">=</span><span class="n">PipelineRunSchema</span><span class="p">,</span>
            <span class="n">schema_name</span><span class="o">=</span><span class="s2">&quot;run&quot;</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_or_reuse_code_reference</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">code_reference</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;CodeReferenceRequestModel&quot;</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates or reuses a code reference.</span>

<span class="sd">        Args:</span>
<span class="sd">            session: The database session to use.</span>
<span class="sd">            workspace_id: ID of the workspace in which the code reference</span>
<span class="sd">                should be.</span>
<span class="sd">            code_reference: Request of the reference to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The code reference ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">code_reference</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">existing_reference</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">CodeReferenceSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">CodeReferenceSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">workspace_id</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">CodeReferenceSchema</span><span class="o">.</span><span class="n">code_repository_id</span>
                <span class="o">==</span> <span class="n">code_reference</span><span class="o">.</span><span class="n">code_repository</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">CodeReferenceSchema</span><span class="o">.</span><span class="n">commit</span> <span class="o">==</span> <span class="n">code_reference</span><span class="o">.</span><span class="n">commit</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">CodeReferenceSchema</span><span class="o">.</span><span class="n">subdirectory</span> <span class="o">==</span> <span class="n">code_reference</span><span class="o">.</span><span class="n">subdirectory</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_reference</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">existing_reference</span><span class="o">.</span><span class="n">id</span>

        <span class="n">new_reference</span> <span class="o">=</span> <span class="n">CodeReferenceSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span>
            <span class="n">code_reference</span><span class="p">,</span> <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_id</span>
        <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_reference</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_reference</span><span class="o">.</span><span class="n">id</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">








  <div class="doc doc-object doc-attribute">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.alembic" class="doc doc-heading">
<code class="highlight language-python"><span class="n">alembic</span><span class="p">:</span> <span class="n">Alembic</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The Alembic wrapper.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Alembic</code></td>
      <td><p>The Alembic wrapper.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the store is not initialized.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.engine" class="doc doc-heading">
<code class="highlight language-python"><span class="n">engine</span><span class="p">:</span> <span class="n">Engine</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The SQLAlchemy engine.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Engine</code></td>
      <td><p>The SQLAlchemy engine.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the store is not initialized.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.runs_inside_server" class="doc doc-heading">
<code class="highlight language-python"><span class="n">runs_inside_server</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Whether the store is running inside a server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether the store is running inside a server.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>





  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE" class="doc doc-heading">
        <code>
CONFIG_TYPE            (<a class="autorefs autorefs-internal" title="zenml.config.store_config.StoreConfiguration" href="../core-config/#zenml.config.store_config.StoreConfiguration">StoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>SQL ZenML store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>StoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>secrets_store</code></td>
        <td><code>Optional[zenml.config.secrets_store_config.SecretsStoreConfiguration]</code></td>
        <td><p>The configuration of the secrets store to use.
This defaults to a SQL secrets store that extends the SQL ZenML
store.</p></td>
      </tr>
      <tr>
        <td><code>driver</code></td>
        <td><code>Optional[zenml.zen_stores.sql_zen_store.SQLDatabaseDriver]</code></td>
        <td><p>The SQL database driver.</p></td>
      </tr>
      <tr>
        <td><code>database</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>database name. If not already present on the server, it will
be created automatically on first access.</p></td>
      </tr>
      <tr>
        <td><code>username</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The database username.</p></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The database password.</p></td>
      </tr>
      <tr>
        <td><code>ssl_ca</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>certificate authority certificate. Required for SSL
enabled authentication if the CA certificate is not part of the
certificates shipped by the operating system.</p></td>
      </tr>
      <tr>
        <td><code>ssl_cert</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>client certificate. Required for SSL enabled
authentication if client certificates are used.</p></td>
      </tr>
      <tr>
        <td><code>ssl_key</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>client certificate private key. Required for SSL
enabled if client certificates are used.</p></td>
      </tr>
      <tr>
        <td><code>ssl_verify_server_cert</code></td>
        <td><code>bool</code></td>
        <td><p>set to verify the identity of the server
against the provided server certificate.</p></td>
      </tr>
      <tr>
        <td><code>pool_size</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of connections to keep in the SQLAlchemy
pool.</p></td>
      </tr>
      <tr>
        <td><code>max_overflow</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of connections to allow in the
SQLAlchemy pool in addition to the pool_size.</p></td>
      </tr>
      <tr>
        <td><code>pool_pre_ping</code></td>
        <td><code>bool</code></td>
        <td><p>Enable emitting a test statement on the SQL connection
at the start of each connection pool checkout, to test that the
database connection is still viable.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SqlZenStoreConfiguration</span><span class="p">(</span><span class="n">StoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL ZenML store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        secrets_store: The configuration of the secrets store to use.</span>
<span class="sd">            This defaults to a SQL secrets store that extends the SQL ZenML</span>
<span class="sd">            store.</span>
<span class="sd">        driver: The SQL database driver.</span>
<span class="sd">        database: database name. If not already present on the server, it will</span>
<span class="sd">            be created automatically on first access.</span>
<span class="sd">        username: The database username.</span>
<span class="sd">        password: The database password.</span>
<span class="sd">        ssl_ca: certificate authority certificate. Required for SSL</span>
<span class="sd">            enabled authentication if the CA certificate is not part of the</span>
<span class="sd">            certificates shipped by the operating system.</span>
<span class="sd">        ssl_cert: client certificate. Required for SSL enabled</span>
<span class="sd">            authentication if client certificates are used.</span>
<span class="sd">        ssl_key: client certificate private key. Required for SSL</span>
<span class="sd">            enabled if client certificates are used.</span>
<span class="sd">        ssl_verify_server_cert: set to verify the identity of the server</span>
<span class="sd">            against the provided server certificate.</span>
<span class="sd">        pool_size: The maximum number of connections to keep in the SQLAlchemy</span>
<span class="sd">            pool.</span>
<span class="sd">        max_overflow: The maximum number of connections to allow in the</span>
<span class="sd">            SQLAlchemy pool in addition to the pool_size.</span>
<span class="sd">        pool_pre_ping: Enable emitting a test statement on the SQL connection</span>
<span class="sd">            at the start of each connection pool checkout, to test that the</span>
<span class="sd">            database connection is still viable.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">StoreType</span> <span class="o">=</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">SQL</span>

    <span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">driver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SQLDatabaseDriver</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">database</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssl_ca</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssl_cert</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssl_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssl_verify_server_cert</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">pool_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">max_overflow</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">pool_pre_ping</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;secrets_store&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_secrets_store</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretsStoreConfiguration</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ensures that the secrets store is initialized with a default SQL secrets store.</span>

<span class="sd">        Args:</span>
<span class="sd">            secrets_store: The secrets store config to be validated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated secrets store config.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">secrets_store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">secrets_store</span> <span class="o">=</span> <span class="n">SqlSecretsStoreConfiguration</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">secrets_store</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_remove_grpc_attributes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes old GRPC attributes.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: All model attribute values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model attribute values</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">grpc_attribute_keys</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;grpc_metadata_host&quot;</span><span class="p">,</span>
            <span class="s2">&quot;grpc_metadata_port&quot;</span><span class="p">,</span>
            <span class="s2">&quot;grpc_metadata_ssl_ca&quot;</span><span class="p">,</span>
            <span class="s2">&quot;grpc_metadata_ssl_key&quot;</span><span class="p">,</span>
            <span class="s2">&quot;grpc_metadata_ssl_cert&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">grpc_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">grpc_attribute_keys</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">grpc_values</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The GRPC attributes </span><span class="si">%s</span><span class="s2"> are unused and will be removed soon. &quot;</span>
                <span class="s2">&quot;Please remove them from SQLZenStore configuration. This will &quot;</span>
                <span class="s2">&quot;become an error in future versions of ZenML.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@root_validator</span>
    <span class="k">def</span> <span class="nf">_validate_url</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate the SQL URL.</span>

<span class="sd">        The validator also moves the MySQL username, password and database</span>
<span class="sd">        parameters from the URL into the other configuration arguments, if they</span>
<span class="sd">        are present in the URL.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: The values to validate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated values.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the URL is invalid or the SQL driver is not</span>
<span class="sd">                supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="c1"># When running inside a container, if the URL uses localhost, the</span>
        <span class="c1"># target service will not be available. We try to replace localhost</span>
        <span class="c1"># with one of the special Docker or K3D internal hostnames.</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">replace_localhost_with_internal_hostname</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">sql_url</span> <span class="o">=</span> <span class="n">make_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ArgumentError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid SQL URL `</span><span class="si">%s</span><span class="s2">`: </span><span class="si">%s</span><span class="s2">. The URL must be in the format &quot;</span>
                <span class="s2">&quot;`driver://[[username:password@]hostname:port]/database[&quot;</span>
                <span class="s2">&quot;?&lt;extra-args&gt;]`.&quot;</span><span class="p">,</span>
                <span class="n">url</span><span class="p">,</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid SQL driver value `</span><span class="si">%s</span><span class="s2">`: The driver must be one of: </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                <span class="n">url</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span>
            <span class="p">)</span>
        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;driver&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">SQLDatabaseDriver</span><span class="p">(</span><span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">sql_url</span><span class="o">.</span><span class="n">username</span>
                <span class="ow">or</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">password</span>
                <span class="ow">or</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">query</span>
                <span class="ow">or</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">database</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid SQLite URL `</span><span class="si">%s</span><span class="s2">`: The URL must be in the &quot;</span>
                    <span class="s2">&quot;format `sqlite:///path/to/database.db`.&quot;</span><span class="p">,</span>
                    <span class="n">url</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid SQLite configuration: The username and password &quot;</span>
                    <span class="s2">&quot;must not be set&quot;</span><span class="p">,</span>
                    <span class="n">url</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="n">values</span><span class="p">[</span><span class="s2">&quot;database&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">database</span>
        <span class="k">elif</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">MYSQL</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">username</span><span class="p">:</span>
                <span class="n">values</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">username</span>
                <span class="n">sql_url</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">password</span><span class="p">:</span>
                <span class="n">values</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">password</span>
                <span class="n">sql_url</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">database</span><span class="p">:</span>
                <span class="n">values</span><span class="p">[</span><span class="s2">&quot;database&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">database</span>
                <span class="n">sql_url</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">database</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">query</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;ssl_ca&quot;</span><span class="p">:</span>
                        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;ssl_ca&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;ssl_cert&quot;</span><span class="p">:</span>
                        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;ssl_cert&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;ssl_key&quot;</span><span class="p">:</span>
                        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;ssl_key&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;ssl_verify_server_cert&quot;</span><span class="p">:</span>
                        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;ssl_verify_server_cert&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="s2">&quot;Invalid MySQL URL query parameter `</span><span class="si">%s</span><span class="s2">`: The &quot;</span>
                            <span class="s2">&quot;parameter must be one of: ssl_ca, ssl_cert, &quot;</span>
                            <span class="s2">&quot;ssl_key, or ssl_verify_server_cert.&quot;</span><span class="p">,</span>
                            <span class="n">k</span><span class="p">,</span>
                        <span class="p">)</span>
                <span class="n">sql_url</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="p">{})</span>

            <span class="n">database</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;database&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="ow">not</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="ow">not</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="ow">not</span> <span class="n">database</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid MySQL configuration: The username, password and &quot;</span>
                    <span class="s2">&quot;database must be set in the URL or as configuration &quot;</span>
                    <span class="s2">&quot;attributes&quot;</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">regexp</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^[^</span><span class="se">\\</span><span class="s2">/?%*:|</span><span class="se">\&quot;</span><span class="s2">&lt;&gt;.-]{1,64}$&quot;</span>
            <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">regexp</span><span class="p">,</span> <span class="n">database</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The database name does not conform to the required &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;format &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;rules (</span><span class="si">{</span><span class="n">regexp</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="n">database</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Save the certificates in a secure location on disk</span>
            <span class="n">secret_folder</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span>
                <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">local_stores_path</span><span class="p">,</span>
                <span class="s2">&quot;certificates&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;ssl_key&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_ca&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_cert&quot;</span><span class="p">]:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">content</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">content</span><span class="p">):</span>
                    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">))</span>
                    <span class="n">file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">.pem&quot;</span><span class="p">)</span>
                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
                    <span class="n">file_path</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="mo">0o600</span><span class="p">)</span>
                    <span class="n">values</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sql_url</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_local_url</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a local SQL url for a given local path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to the local sqlite file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The local SQL url for the given path.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;sqlite:///</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">ZENML_SQLITE_DB_FILENAME</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">supports_url_scheme</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a URL scheme is supported by this store.</span>

<span class="sd">        Args:</span>
<span class="sd">            url: The URL to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the URL scheme is supported, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">make_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">drivername</span> <span class="ow">in</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">expand_certificates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Expands the certificates in the verify_ssl field.&quot;&quot;&quot;</span>
        <span class="c1"># Load the certificate values back into the configuration</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;ssl_key&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_ca&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_cert&quot;</span><span class="p">]:</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">file_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">copy_configuration</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">,</span>
        <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">load_config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PurePath</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Copy the store config using a different configuration path.</span>

<span class="sd">        This method is used to create a copy of the store configuration that can</span>
<span class="sd">        be loaded using a different configuration path or in the context of a</span>
<span class="sd">        new environment, such as a container image.</span>

<span class="sd">        The configuration files accompanying the store configuration are also</span>
<span class="sd">        copied to the new configuration path (e.g. certificates etc.).</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The store configuration to copy.</span>
<span class="sd">            config_path: new path where the configuration copy will be loaded</span>
<span class="sd">                from.</span>
<span class="sd">            load_config_path: absolute path that will be used to load the copied</span>
<span class="sd">                configuration. This can be set to a value different from</span>
<span class="sd">                `config_path` if the configuration copy will be loaded from</span>
<span class="sd">                a different environment, e.g. when the configuration is copied</span>
<span class="sd">                to a container image and loaded using a different absolute path.</span>
<span class="sd">                This will be reflected in the paths and URLs encoded in the</span>
<span class="sd">                copied configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new store configuration object that reflects the new configuration</span>
<span class="sd">            path.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">SqlZenStoreConfiguration</span><span class="p">)</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">driver</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">MYSQL</span><span class="p">:</span>
            <span class="c1"># Load the certificate values back into the configuration</span>
            <span class="n">config</span><span class="o">.</span><span class="n">expand_certificates</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">config</span><span class="o">.</span><span class="n">driver</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">load_config_path</span><span class="p">:</span>
                <span class="n">config</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_local_url</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">load_config_path</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">config</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_local_url</span><span class="p">(</span><span class="n">config_path</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">config</span>

    <span class="k">def</span> <span class="nf">get_sqlmodel_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the SQLModel engine configuration for the SQL ZenML store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The URL and connection arguments for the SQLModel engine.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If the SQL driver is not supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sql_url</span> <span class="o">=</span> <span class="n">make_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="n">sqlalchemy_connect_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">engine_args</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">:</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="c1"># The following default value is needed for sqlite to avoid the</span>
            <span class="c1"># Error:</span>
            <span class="c1">#   sqlite3.ProgrammingError: SQLite objects created in a thread can</span>
            <span class="c1">#   only be used in that same thread.</span>
            <span class="n">sqlalchemy_connect_args</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;check_same_thread&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
        <span class="k">elif</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">MYSQL</span><span class="p">:</span>
            <span class="c1"># all these are guaranteed by our root validator</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">host</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="n">engine_args</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;pool_size&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pool_size</span><span class="p">,</span>
                <span class="s2">&quot;max_overflow&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_overflow</span><span class="p">,</span>
                <span class="s2">&quot;pool_pre_ping&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pool_pre_ping</span><span class="p">,</span>
            <span class="p">}</span>

            <span class="n">sql_url</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span>
                <span class="n">drivername</span><span class="o">=</span><span class="s2">&quot;mysql+pymysql&quot;</span><span class="p">,</span>
                <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
                <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
                <span class="n">database</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">sqlalchemy_ssl_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="c1"># Handle SSL params</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;ssl_key&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_ca&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_cert&quot;</span><span class="p">]:</span>
                <span class="n">ssl_setting</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">ssl_setting</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">ssl_setting</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Database SSL setting `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">` is not a file. &quot;</span>
                    <span class="p">)</span>
                <span class="n">sqlalchemy_ssl_args</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;ssl_&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">ssl_setting</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sqlalchemy_ssl_args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">sqlalchemy_ssl_args</span><span class="p">[</span>
                    <span class="s2">&quot;check_hostname&quot;</span>
                <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ssl_verify_server_cert</span>
                <span class="n">sqlalchemy_connect_args</span><span class="p">[</span><span class="s2">&quot;ssl&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sqlalchemy_ssl_args</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;SQL driver `</span><span class="si">{</span><span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span><span class="si">}</span><span class="s2">` is not supported.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">sql_url</span><span class="p">),</span> <span class="n">sqlalchemy_connect_args</span><span class="p">,</span> <span class="n">engine_args</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
        <span class="c1"># because the certificate attributes can be expanded to the contents</span>
        <span class="c1"># of the certificate files.</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-class">



<h6 id="zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.Config" class="doc doc-heading">
        <code>
Config        </code>



</h6>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
    <span class="c1"># because the certificate attributes can be expanded to the contents</span>
    <span class="c1"># of the certificate files.</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.copy_configuration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">copy_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">config_path</span><span class="p">,</span> <span class="n">load_config_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Copy the store config using a different configuration path.</p>
<p>This method is used to create a copy of the store configuration that can
be loaded using a different configuration path or in the context of a
new environment, such as a container image.</p>
<p>The configuration files accompanying the store configuration are also
copied to the new configuration path (e.g. certificates etc.).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>StoreConfiguration</code></td>
        <td><p>The store configuration to copy.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config_path</code></td>
        <td><code>str</code></td>
        <td><p>new path where the configuration copy will be loaded
from.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>load_config_path</code></td>
        <td><code>Optional[pathlib.PurePath]</code></td>
        <td><p>absolute path that will be used to load the copied
configuration. This can be set to a value different from
<code>config_path</code> if the configuration copy will be loaded from
a different environment, e.g. when the configuration is copied
to a container image and loaded using a different absolute path.
This will be reflected in the paths and URLs encoded in the
copied configuration.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StoreConfiguration</code></td>
      <td><p>A new store configuration object that reflects the new configuration
path.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">copy_configuration</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">,</span>
    <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">load_config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PurePath</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Copy the store config using a different configuration path.</span>

<span class="sd">    This method is used to create a copy of the store configuration that can</span>
<span class="sd">    be loaded using a different configuration path or in the context of a</span>
<span class="sd">    new environment, such as a container image.</span>

<span class="sd">    The configuration files accompanying the store configuration are also</span>
<span class="sd">    copied to the new configuration path (e.g. certificates etc.).</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The store configuration to copy.</span>
<span class="sd">        config_path: new path where the configuration copy will be loaded</span>
<span class="sd">            from.</span>
<span class="sd">        load_config_path: absolute path that will be used to load the copied</span>
<span class="sd">            configuration. This can be set to a value different from</span>
<span class="sd">            `config_path` if the configuration copy will be loaded from</span>
<span class="sd">            a different environment, e.g. when the configuration is copied</span>
<span class="sd">            to a container image and loaded using a different absolute path.</span>
<span class="sd">            This will be reflected in the paths and URLs encoded in the</span>
<span class="sd">            copied configuration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new store configuration object that reflects the new configuration</span>
<span class="sd">        path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">SqlZenStoreConfiguration</span><span class="p">)</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">driver</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">MYSQL</span><span class="p">:</span>
        <span class="c1"># Load the certificate values back into the configuration</span>
        <span class="n">config</span><span class="o">.</span><span class="n">expand_certificates</span><span class="p">()</span>

    <span class="k">elif</span> <span class="n">config</span><span class="o">.</span><span class="n">driver</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">load_config_path</span><span class="p">:</span>
            <span class="n">config</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_local_url</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">load_config_path</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">config</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_local_url</span><span class="p">(</span><span class="n">config_path</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.expand_certificates" class="doc doc-heading">
<code class="highlight language-python"><span class="n">expand_certificates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Expands the certificates in the verify_ssl field.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">expand_certificates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Expands the certificates in the verify_ssl field.&quot;&quot;&quot;</span>
    <span class="c1"># Load the certificate values back into the configuration</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;ssl_key&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_ca&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_cert&quot;</span><span class="p">]:</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.get_local_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_local_url</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get a local SQL url for a given local path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>The path to the local sqlite file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The local SQL url for the given path.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_local_url</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a local SQL url for a given local path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to the local sqlite file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The local SQL url for the given path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;sqlite:///</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">ZENML_SQLITE_DB_FILENAME</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.get_sqlmodel_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_sqlmodel_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get the SQLModel engine configuration for the SQL ZenML store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[str, Dict[str, Any], Dict[str, Any]]</code></td>
      <td><p>The URL and connection arguments for the SQLModel engine.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>If the SQL driver is not supported.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_sqlmodel_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the SQLModel engine configuration for the SQL ZenML store.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The URL and connection arguments for the SQLModel engine.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: If the SQL driver is not supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sql_url</span> <span class="o">=</span> <span class="n">make_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="n">sqlalchemy_connect_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">engine_args</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">:</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="c1"># The following default value is needed for sqlite to avoid the</span>
        <span class="c1"># Error:</span>
        <span class="c1">#   sqlite3.ProgrammingError: SQLite objects created in a thread can</span>
        <span class="c1">#   only be used in that same thread.</span>
        <span class="n">sqlalchemy_connect_args</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;check_same_thread&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
    <span class="k">elif</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">MYSQL</span><span class="p">:</span>
        <span class="c1"># all these are guaranteed by our root validator</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">host</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">engine_args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;pool_size&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pool_size</span><span class="p">,</span>
            <span class="s2">&quot;max_overflow&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_overflow</span><span class="p">,</span>
            <span class="s2">&quot;pool_pre_ping&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pool_pre_ping</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">sql_url</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span>
            <span class="n">drivername</span><span class="o">=</span><span class="s2">&quot;mysql+pymysql&quot;</span><span class="p">,</span>
            <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
            <span class="n">database</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">sqlalchemy_ssl_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Handle SSL params</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;ssl_key&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_ca&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_cert&quot;</span><span class="p">]:</span>
            <span class="n">ssl_setting</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ssl_setting</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">ssl_setting</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Database SSL setting `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">` is not a file. &quot;</span>
                <span class="p">)</span>
            <span class="n">sqlalchemy_ssl_args</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;ssl_&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">ssl_setting</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sqlalchemy_ssl_args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">sqlalchemy_ssl_args</span><span class="p">[</span>
                <span class="s2">&quot;check_hostname&quot;</span>
            <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ssl_verify_server_cert</span>
            <span class="n">sqlalchemy_connect_args</span><span class="p">[</span><span class="s2">&quot;ssl&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sqlalchemy_ssl_args</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;SQL driver `</span><span class="si">{</span><span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span><span class="si">}</span><span class="s2">` is not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">sql_url</span><span class="p">),</span> <span class="n">sqlalchemy_connect_args</span><span class="p">,</span> <span class="n">engine_args</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.supports_url_scheme" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports_url_scheme</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Check if a URL scheme is supported by this store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>url</code></td>
        <td><code>str</code></td>
        <td><p>The URL to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the URL scheme is supported, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">supports_url_scheme</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if a URL scheme is supported by this store.</span>

<span class="sd">    Args:</span>
<span class="sd">        url: The URL to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the URL scheme is supported, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">make_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">drivername</span> <span class="ow">in</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.zen_stores.sql_zen_store.SqlZenStore.CONFIG_TYPE.validate_secrets_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_secrets_store</span><span class="p">(</span><span class="n">secrets_store</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Ensures that the secrets store is initialized with a default SQL secrets store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secrets_store</code></td>
        <td><code>Optional[zenml.config.secrets_store_config.SecretsStoreConfiguration]</code></td>
        <td><p>The secrets store config to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretsStoreConfiguration</code></td>
      <td><p>The validated secrets store config.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;secrets_store&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_secrets_store</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretsStoreConfiguration</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ensures that the secrets store is initialized with a default SQL secrets store.</span>

<span class="sd">    Args:</span>
<span class="sd">        secrets_store: The secrets store config to be validated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The validated secrets store config.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">secrets_store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">secrets_store</span> <span class="o">=</span> <span class="n">SqlSecretsStoreConfiguration</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">secrets_store</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.count_pipelines" class="doc doc-heading">
<code class="highlight language-python"><span class="n">count_pipelines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Count all pipelines, optionally within a workspace scope.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The workspace to use for counting pipelines</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>The number of pipelines in the workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">count_pipelines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Count all pipelines, optionally within a workspace scope.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_id: The workspace to use for counting pipelines</span>

<span class="sd">    Returns:</span>
<span class="sd">        The number of pipelines in the workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count_entity</span><span class="p">(</span>
        <span class="n">schema</span><span class="o">=</span><span class="n">PipelineSchema</span><span class="p">,</span> <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_id</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.count_runs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">count_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Count all pipeline runs, optionally within a workspace scope.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The workspace to use for counting pipeline runs</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>The number of pipeline runs in the workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">count_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Count all pipeline runs, optionally within a workspace scope.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_id: The workspace to use for counting pipeline runs</span>

<span class="sd">    Returns:</span>
<span class="sd">        The number of pipeline runs in the workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count_entity</span><span class="p">(</span>
        <span class="n">schema</span><span class="o">=</span><span class="n">PipelineRunSchema</span><span class="p">,</span> <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_id</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.count_stack_components" class="doc doc-heading">
<code class="highlight language-python"><span class="n">count_stack_components</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Count all components, optionally within a workspace scope.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The workspace to use for counting components</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>The number of components in the workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">count_stack_components</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Count all components, optionally within a workspace scope.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_id: The workspace to use for counting components</span>

<span class="sd">    Returns:</span>
<span class="sd">        The number of components in the workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count_entity</span><span class="p">(</span>
        <span class="n">schema</span><span class="o">=</span><span class="n">StackComponentSchema</span><span class="p">,</span> <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_id</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.count_stacks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">count_stacks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Count all stacks, optionally within a workspace scope.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The workspace to use for counting stacks</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>The number of stacks in the workspace.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">count_stacks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Count all stacks, optionally within a workspace scope.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_id: The workspace to use for counting stacks</span>

<span class="sd">    Returns:</span>
<span class="sd">        The number of stacks in the workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count_entity</span><span class="p">(</span>
        <span class="n">schema</span><span class="o">=</span><span class="n">StackSchema</span><span class="p">,</span> <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace_id</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact</code></td>
        <td><code>ArtifactRequestModel</code></td>
        <td><p>The artifact to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactResponseModel</code></td>
      <td><p>The created artifact.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_artifact</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">artifact</span><span class="p">:</span> <span class="n">ArtifactRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact: The artifact to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created artifact.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Save artifact.</span>
        <span class="n">artifact_schema</span> <span class="o">=</span> <span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">artifact_schema</span><span class="p">)</span>

        <span class="c1"># Save visualizations of the artifact.</span>
        <span class="k">if</span> <span class="n">artifact</span><span class="o">.</span><span class="n">visualizations</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">vis</span> <span class="ow">in</span> <span class="n">artifact</span><span class="o">.</span><span class="n">visualizations</span><span class="p">:</span>
                <span class="n">vis_schema</span> <span class="o">=</span> <span class="n">ArtifactVisualizationSchema</span><span class="o">.</span><span class="n">from_model</span><span class="p">(</span>
                    <span class="n">visualization</span><span class="o">=</span><span class="n">vis</span><span class="p">,</span> <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact_schema</span><span class="o">.</span><span class="n">id</span>
                <span class="p">)</span>
                <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">vis_schema</span><span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_artifact_schema_to_model</span><span class="p">(</span><span class="n">artifact_schema</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new build in a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build</code></td>
        <td><code>PipelineBuildRequestModel</code></td>
        <td><p>The build to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineBuildResponseModel</code></td>
      <td><p>The newly created build.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_build</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">build</span><span class="p">:</span> <span class="n">PipelineBuildRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new build in a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        build: The build to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created build.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Create the build</span>
        <span class="n">new_build</span> <span class="o">=</span> <span class="n">PipelineBuildSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">build</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_build</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_build</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_build</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository</code></td>
        <td><code>CodeRepositoryRequestModel</code></td>
        <td><p>Code repository to be created.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponseModel</code></td>
      <td><p>The newly created code repository.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a code repository with the given name already
exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_code_repository</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository</span><span class="p">:</span> <span class="n">CodeRepositoryRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository: Code repository to be created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created code repository.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a code repository with the given name already</span>
<span class="sd">            exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">existing_repo</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">CodeRepositorySchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">code_repository</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">workspace_id</span>
                <span class="o">==</span> <span class="n">code_repository</span><span class="o">.</span><span class="n">workspace</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_repo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to create code repository in workspace &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">code_repository</span><span class="o">.</span><span class="n">workspace</span><span class="si">}</span><span class="s2">&#39;: A code repository with &quot;</span>
                <span class="s2">&quot;this name already exists.&quot;</span>
            <span class="p">)</span>

        <span class="n">new_repo</span> <span class="o">=</span> <span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">code_repository</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_repo</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_repo</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_repo</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new deployment in a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeploymentRequestModel</code></td>
        <td><p>The deployment to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineDeploymentResponseModel</code></td>
      <td><p>The newly created deployment.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="n">PipelineDeploymentRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new deployment in a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The deployment to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created deployment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">code_reference_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_or_reuse_code_reference</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">code_reference</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">code_reference</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">new_deployment</span> <span class="o">=</span> <span class="n">PipelineDeploymentSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span>
            <span class="n">deployment</span><span class="p">,</span> <span class="n">code_reference_id</span><span class="o">=</span><span class="n">code_reference_id</span>
        <span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_deployment</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_deployment</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_deployment</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new stack component flavor.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor</code></td>
        <td><code>FlavorRequestModel</code></td>
        <td><p>The stack component flavor to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponseModel</code></td>
      <td><p>The newly created flavor.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a flavor with the same name and type
is already owned by this user in this workspace.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>In case the config_schema string exceeds the max length.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_FLAVOR</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor</span><span class="p">:</span> <span class="n">FlavorRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new stack component flavor.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor: The stack component flavor to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created flavor.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a flavor with the same name and type</span>
<span class="sd">            is already owned by this user in this workspace.</span>
<span class="sd">        ValueError: In case the config_schema string exceeds the max length.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if flavor with the same domain key (name, type, workspace,</span>
        <span class="c1"># owner) already exists</span>
        <span class="n">existing_flavor</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">flavor</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">flavor</span><span class="o">.</span><span class="n">workspace</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">flavor</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">existing_flavor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to register &#39;</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39; flavor &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;with name &#39;</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Found an existing &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;flavor with the same name and type in the same &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">workspace</span><span class="si">}</span><span class="s2">&#39; workspace owned by the same &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">flavor</span><span class="o">.</span><span class="n">user</span><span class="si">}</span><span class="s2">&#39; user.&quot;</span>
            <span class="p">)</span>

        <span class="n">config_schema</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">flavor</span><span class="o">.</span><span class="n">config_schema</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">config_schema</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">TEXT_FIELD_MAX_LENGTH</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Json representation of configuration schema&quot;</span>
                <span class="s2">&quot;exceeds max length.&quot;</span>
            <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_flavor</span> <span class="o">=</span> <span class="n">FlavorSchema</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="nb">type</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">source</span><span class="p">,</span>
                <span class="n">config_schema</span><span class="o">=</span><span class="n">config_schema</span><span class="p">,</span>
                <span class="n">integration</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">integration</span><span class="p">,</span>
                <span class="n">connector_type</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span>
                <span class="n">connector_resource_type</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">connector_resource_type</span><span class="p">,</span>
                <span class="n">connector_resource_id_attr</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">connector_resource_id_attr</span><span class="p">,</span>
                <span class="n">workspace_id</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">user_id</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                <span class="n">logo_url</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">logo_url</span><span class="p">,</span>
                <span class="n">docs_url</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">docs_url</span><span class="p">,</span>
                <span class="n">sdk_docs_url</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">sdk_docs_url</span><span class="p">,</span>
                <span class="n">is_custom</span><span class="o">=</span><span class="n">flavor</span><span class="o">.</span><span class="n">is_custom</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_flavor</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">new_flavor</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new pipeline in a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>PipelineRequestModel</code></td>
        <td><p>The pipeline to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponseModel</code></td>
      <td><p>The newly created pipeline.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If an identical pipeline already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATE_PIPELINE</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">PipelineRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new pipeline in a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline: The pipeline to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created pipeline.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If an identical pipeline already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if pipeline with the given name already exists</span>
        <span class="n">existing_pipeline</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">workspace</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_pipeline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to create pipeline in workspace &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">pipeline</span><span class="o">.</span><span class="n">workspace</span><span class="si">}</span><span class="s2">&#39;: A pipeline with this name and &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;version already exists.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Create the pipeline</span>
        <span class="n">new_pipeline</span> <span class="o">=</span> <span class="n">PipelineSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_pipeline</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_pipeline</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_pipeline</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_role" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new role.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role</code></td>
        <td><code>RoleRequestModel</code></td>
        <td><p>The role model to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RoleResponseModel</code></td>
      <td><p>The newly created role.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a role with the given name already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role</span><span class="p">:</span> <span class="n">RoleRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new role.</span>

<span class="sd">    Args:</span>
<span class="sd">        role: The role model to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created role.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a role with the given name already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if role with the given name already exists</span>
        <span class="n">existing_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">RoleSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">RoleSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_role</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to create role &#39;</span><span class="si">{</span><span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Role already exists.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Create role</span>
        <span class="n">role_schema</span> <span class="o">=</span> <span class="n">RoleSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">role</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">role_schema</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="c1"># Add all permissions</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">role</span><span class="o">.</span><span class="n">permissions</span><span class="p">:</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
                <span class="n">RolePermissionSchema</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">role_id</span><span class="o">=</span><span class="n">role_schema</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">role_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_run</code></td>
        <td><code>PipelineRunRequestModel</code></td>
        <td><p>The pipeline run to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponseModel</code></td>
      <td><p>The created pipeline run.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If an identical pipeline run already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_run: The pipeline run to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created pipeline run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If an identical pipeline run already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if pipeline run with same name already exists.</span>
        <span class="n">existing_domain_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">name</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_domain_run</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to create pipeline run: A pipeline run with name &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Check if pipeline run with same ID already exists.</span>
        <span class="n">existing_id_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_id_run</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to create pipeline run: A pipeline run with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&#39; already exists.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Query stack to ensure it exists in the DB</span>
        <span class="n">stack_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">stack</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">stack_id</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">StackSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">stack</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">stack_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No stack found for this run. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Creating pipeline run &#39;</span><span class="si">{</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; without &quot;</span>
                    <span class="s2">&quot;linked stack.&quot;</span>
                <span class="p">)</span>

        <span class="c1"># Query pipeline to ensure it exists in the DB</span>
        <span class="n">pipeline_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">pipeline</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">pipeline_id</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">PipelineSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">pipeline</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">pipeline_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;No pipeline found. Creating pipeline run &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; as unlisted run.&quot;</span>
                <span class="p">)</span>

        <span class="c1"># Create the pipeline run</span>
        <span class="n">new_run</span> <span class="o">=</span> <span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">pipeline_run</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_run</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_schema_to_model</span><span class="p">(</span><span class="n">new_run</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_run_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_run_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_metadata</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates run metadata.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_metadata</code></td>
        <td><code>RunMetadataRequestModel</code></td>
        <td><p>The run metadata to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RunMetadataResponseModel</code></td>
      <td><p>The created run metadata.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_run_metadata</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">run_metadata</span><span class="p">:</span> <span class="n">RunMetadataRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunMetadataResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates run metadata.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_metadata: The run metadata to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created run metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">run_metadata_schema</span> <span class="o">=</span> <span class="n">RunMetadataSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">run_metadata</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">run_metadata_schema</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">run_metadata_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_run_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a step run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run</code></td>
        <td><code>StepRunRequestModel</code></td>
        <td><p>The step run to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponseModel</code></td>
      <td><p>The created step run.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>if the step run already exists.</p></td>
      </tr>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline run doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_run_step</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">step_run</span><span class="p">:</span> <span class="n">StepRunRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a step run.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run: The step run to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created step run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: if the step run already exists.</span>
<span class="sd">        KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if the pipeline run exists</span>
        <span class="n">run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">step_run</span><span class="o">.</span><span class="n">pipeline_run_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to create step &#39;</span><span class="si">{</span><span class="n">step_run</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: No pipeline run &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;with ID &#39;</span><span class="si">{</span><span class="n">step_run</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="si">}</span><span class="s2">&#39; found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Check if the step name already exists in the pipeline run</span>
        <span class="n">existing_step_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">step_run</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">StepRunSchema</span><span class="o">.</span><span class="n">pipeline_run_id</span> <span class="o">==</span> <span class="n">step_run</span><span class="o">.</span><span class="n">pipeline_run_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_step_run</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to create step &#39;</span><span class="si">{</span><span class="n">step_run</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: A step with this &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;name already exists in the pipeline run with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">step_run</span><span class="o">.</span><span class="n">pipeline_run_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Create the step</span>
        <span class="n">step_schema</span> <span class="o">=</span> <span class="n">StepRunSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">step_run</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">step_schema</span><span class="p">)</span>

        <span class="c1"># Add logs entry for the step if exists</span>
        <span class="k">if</span> <span class="n">step_run</span><span class="o">.</span><span class="n">logs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">log_entry</span> <span class="o">=</span> <span class="n">LogsSchema</span><span class="p">(</span>
                <span class="n">uri</span><span class="o">=</span><span class="n">step_run</span><span class="o">.</span><span class="n">logs</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span>
                <span class="n">step_run_id</span><span class="o">=</span><span class="n">step_schema</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">artifact_store_id</span><span class="o">=</span><span class="n">step_run</span><span class="o">.</span><span class="n">logs</span><span class="o">.</span><span class="n">artifact_store_id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">log_entry</span><span class="p">)</span>

        <span class="c1"># Save parent step IDs into the database.</span>
        <span class="k">for</span> <span class="n">parent_step_id</span> <span class="ow">in</span> <span class="n">step_run</span><span class="o">.</span><span class="n">parent_step_ids</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_run_step_parent_step</span><span class="p">(</span>
                <span class="n">child_id</span><span class="o">=</span><span class="n">step_schema</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">parent_id</span><span class="o">=</span><span class="n">parent_step_id</span><span class="p">,</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># Save input artifact IDs into the database.</span>
        <span class="k">for</span> <span class="n">input_name</span><span class="p">,</span> <span class="n">artifact_id</span> <span class="ow">in</span> <span class="n">step_run</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_run_step_input_artifact</span><span class="p">(</span>
                <span class="n">run_step_id</span><span class="o">=</span><span class="n">step_schema</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">input_name</span><span class="p">,</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># Save output artifact IDs into the database.</span>
        <span class="k">for</span> <span class="n">output_name</span><span class="p">,</span> <span class="n">artifact_id</span> <span class="ow">in</span> <span class="n">step_run</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_run_step_output_artifact</span><span class="p">(</span>
                <span class="n">step_run_id</span><span class="o">=</span><span class="n">step_schema</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">output_name</span><span class="p">,</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_step_schema_to_model</span><span class="p">(</span><span class="n">step_schema</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new schedule.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule</code></td>
        <td><code>ScheduleRequestModel</code></td>
        <td><p>The schedule to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponseModel</code></td>
      <td><p>The newly created schedule.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_schedule</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">ScheduleRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new schedule.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule: The schedule to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created schedule.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">new_schedule</span> <span class="o">=</span> <span class="n">ScheduleSchema</span><span class="o">.</span><span class="n">from_create_model</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">schedule</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_schedule</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_schedule</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector</code></td>
        <td><code>ServiceConnectorRequestModel</code></td>
        <td><p>Service connector to be created.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>The newly created service connector.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>Exception</code></td>
        <td><p>If anything goes wrong during the creation of the
service connector.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_SERVICE_CONNECTOR</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_service_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector: Service connector to be created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created service connector.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If anything goes wrong during the creation of the</span>
<span class="sd">            service connector.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># If the connector type is locally available, we validate the request</span>
    <span class="c1"># against the connector type schema before storing it in the database</span>
    <span class="k">if</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">is_registered</span><span class="p">(</span><span class="n">service_connector</span><span class="o">.</span><span class="n">type</span><span class="p">):</span>
        <span class="n">connector_type</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
                <span class="n">service_connector</span><span class="o">.</span><span class="n">type</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">service_connector</span><span class="o">.</span><span class="n">validate_and_configure_resources</span><span class="p">(</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
            <span class="n">resource_types</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">resource_types</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="n">configuration</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">configuration</span><span class="p">,</span>
            <span class="n">secrets</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">secrets</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_service_connector_with_name_exists_for_user</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">service_connector</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_service_connector_with_name_already_shared</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">workspace_id</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># Create the secret</span>
        <span class="n">secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_connector_secret</span><span class="p">(</span>
            <span class="n">connector_name</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">is_shared</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
            <span class="n">secrets</span><span class="o">=</span><span class="n">service_connector</span><span class="o">.</span><span class="n">secrets</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Create the service connector</span>
            <span class="n">new_service_connector</span> <span class="o">=</span> <span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span>
                <span class="n">service_connector</span><span class="p">,</span>
                <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_service_connector</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

            <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_service_connector</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="c1"># Delete the secret if it was created</span>
            <span class="k">if</span> <span class="n">secret_id</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">secret_id</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="c1"># Ignore any errors that occur while deleting the</span>
                    <span class="c1"># secret</span>
                    <span class="k">pass</span>

            <span class="k">raise</span>

        <span class="n">connector</span> <span class="o">=</span> <span class="n">new_service_connector</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">connector</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Register a new stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack</code></td>
        <td><code>StackRequestModel</code></td>
        <td><p>The stack to register.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponseModel</code></td>
      <td><p>The registered stack.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">REGISTERED_STACK</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">StackRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a new stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack: The stack to register.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The registered stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_stack_with_name_exists_for_user</span><span class="p">(</span>
            <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">stack</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_stack_with_name_already_shared</span><span class="p">(</span>
                <span class="n">stack</span><span class="o">=</span><span class="n">stack</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>

        <span class="c1"># Get the Schemas of all components mentioned</span>
        <span class="n">component_ids</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">[</span>
                <span class="n">component_id</span>
                <span class="k">for</span> <span class="n">list_of_component_ids</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">component_id</span> <span class="ow">in</span> <span class="n">list_of_component_ids</span>
            <span class="p">]</span>
            <span class="k">if</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="p">[]</span>
        <span class="p">)</span>
        <span class="n">filters</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component_id</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">component_id</span> <span class="ow">in</span> <span class="n">component_ids</span>
        <span class="p">]</span>

        <span class="n">defined_components</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">or_</span><span class="p">(</span><span class="o">*</span><span class="n">filters</span><span class="p">))</span>
        <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

        <span class="n">new_stack_schema</span> <span class="o">=</span> <span class="n">StackSchema</span><span class="p">(</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">is_shared</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
            <span class="n">stack_spec_path</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_spec_path</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">stack</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">components</span><span class="o">=</span><span class="n">defined_components</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_stack_schema</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_stack_schema</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_stack_schema</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Create a stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component</code></td>
        <td><code>ComponentRequestModel</code></td>
        <td><p>The stack component to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponseModel</code></td>
      <td><p>The created stack component.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack component references a non-existent
connector.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">REGISTERED_STACK_COMPONENT</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_stack_component</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">component</span><span class="p">:</span> <span class="n">ComponentRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        component: The stack component to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created stack component.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack component references a non-existent</span>
<span class="sd">            connector.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_component_with_name_type_exists_for_user</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">component_type</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_component_with_name_type_already_shared</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">component_type</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                <span class="n">workspace_id</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">service_connector</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">connector</span><span class="p">:</span>
            <span class="n">service_connector</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component</span><span class="o">.</span><span class="n">connector</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">service_connector</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Service connector with ID </span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">connector</span><span class="si">}</span><span class="s2"> not &quot;</span>
                    <span class="s2">&quot;found.&quot;</span>
                <span class="p">)</span>

        <span class="c1"># Create the component</span>
        <span class="n">new_component</span> <span class="o">=</span> <span class="n">StackComponentSchema</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
            <span class="n">is_shared</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
            <span class="n">component_spec_path</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">component_spec_path</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="n">flavor</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">flavor</span><span class="p">,</span>
            <span class="n">configuration</span><span class="o">=</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">configuration</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="p">),</span>
            <span class="n">labels</span><span class="o">=</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">component</span><span class="o">.</span><span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="p">),</span>
            <span class="n">connector</span><span class="o">=</span><span class="n">service_connector</span><span class="p">,</span>
            <span class="n">connector_resource_id</span><span class="o">=</span><span class="n">component</span><span class="o">.</span><span class="n">connector_resource_id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_component</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_component</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_component</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_team" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new team.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team</code></td>
        <td><code>TeamRequestModel</code></td>
        <td><p>The team model to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamResponseModel</code></td>
      <td><p>The newly created team.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a team with the given name already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team</span><span class="p">:</span> <span class="n">TeamRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new team.</span>

<span class="sd">    Args:</span>
<span class="sd">        team: The team model to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created team.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a team with the given name already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if team with the given name already exists</span>
        <span class="n">existing_team</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">TeamSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">TeamSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">team</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_team</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to create team with name &#39;</span><span class="si">{</span><span class="n">team</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Found existing team with this name.&quot;</span>
            <span class="p">)</span>

        <span class="n">defined_users</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">team</span><span class="o">.</span><span class="n">users</span><span class="p">:</span>
            <span class="c1"># Get the Schemas of all users mentioned</span>
            <span class="n">filters</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">user_id</span> <span class="ow">in</span> <span class="n">team</span><span class="o">.</span><span class="n">users</span>
            <span class="p">]</span>

            <span class="n">defined_users</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">UserSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">or_</span><span class="p">(</span><span class="o">*</span><span class="n">filters</span><span class="p">))</span>
            <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

        <span class="c1"># Create the team</span>
        <span class="n">new_team</span> <span class="o">=</span> <span class="n">TeamSchema</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">team</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">users</span><span class="o">=</span><span class="n">defined_users</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_team</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">new_team</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_team_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_team_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new team role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_role_assignment</code></td>
        <td><code>TeamRoleAssignmentRequestModel</code></td>
        <td><p>The role assignment model to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamRoleAssignmentResponseModel</code></td>
      <td><p>The newly created role assignment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If the role assignment already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_team_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment</span><span class="p">:</span> <span class="n">TeamRoleAssignmentRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new team role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_role_assignment: The role assignment model to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created role assignment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If the role assignment already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">role</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_role_schema</span><span class="p">(</span>
            <span class="n">team_role_assignment</span><span class="o">.</span><span class="n">role</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
        <span class="p">)</span>
        <span class="n">workspace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WorkspaceSchema</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">team_role_assignment</span><span class="o">.</span><span class="n">workspace</span><span class="p">:</span>
            <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_workspace_schema</span><span class="p">(</span>
                <span class="n">team_role_assignment</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>
        <span class="n">team</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_team_schema</span><span class="p">(</span>
            <span class="n">team_role_assignment</span><span class="o">.</span><span class="n">team</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
        <span class="p">)</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">UserRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
            <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">team</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">role_id</span> <span class="o">==</span> <span class="n">role</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">workspace</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span>
            <span class="p">)</span>
        <span class="n">existing_role_assignment</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">query</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_role_assignment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to assign role &#39;</span><span class="si">{</span><span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; to team &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">team</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Role already assigned in this workspace.&quot;</span>
            <span class="p">)</span>
        <span class="n">role_assignment</span> <span class="o">=</span> <span class="n">TeamRoleAssignmentSchema</span><span class="p">(</span>
            <span class="n">role_id</span><span class="o">=</span><span class="n">role</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">team_id</span><span class="o">=</span><span class="n">team</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="n">workspace</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">role</span><span class="o">=</span><span class="n">role</span><span class="p">,</span>
            <span class="n">team</span><span class="o">=</span><span class="n">team</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">role_assignment</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">role_assignment</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>UserRequestModel</code></td>
        <td><p>User to be created.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponseModel</code></td>
      <td><p>The newly created user.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a user with the given name already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">UserRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: User to be created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created user.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a user with the given name already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if user with the given name already exists</span>
        <span class="n">existing_user</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">UserSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">UserSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to create user with name &#39;</span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Found existing user with this name.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Create the user</span>
        <span class="n">new_user</span> <span class="o">=</span> <span class="n">UserSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_user</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">new_user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_user_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_user_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Assigns a role to a user or team, scoped to a specific workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_role_assignment</code></td>
        <td><code>UserRoleAssignmentRequestModel</code></td>
        <td><p>The role assignment to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserRoleAssignmentResponseModel</code></td>
      <td><p>The created role assignment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>if the role assignment already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_user_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment</span><span class="p">:</span> <span class="n">UserRoleAssignmentRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Assigns a role to a user or team, scoped to a specific workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_role_assignment: The role assignment to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created role assignment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: if the role assignment already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">role</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_role_schema</span><span class="p">(</span>
            <span class="n">user_role_assignment</span><span class="o">.</span><span class="n">role</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
        <span class="p">)</span>
        <span class="n">workspace</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WorkspaceSchema</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">user_role_assignment</span><span class="o">.</span><span class="n">workspace</span><span class="p">:</span>
            <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_workspace_schema</span><span class="p">(</span>
                <span class="n">user_role_assignment</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
            <span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span>
            <span class="n">user_role_assignment</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
        <span class="p">)</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">UserRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
            <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">user_id</span> <span class="o">==</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">role_id</span> <span class="o">==</span> <span class="n">role</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">workspace</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">workspace_id</span> <span class="o">==</span> <span class="n">workspace</span><span class="o">.</span><span class="n">id</span>
            <span class="p">)</span>
        <span class="n">existing_role_assignment</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">query</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_role_assignment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to assign role &#39;</span><span class="si">{</span><span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; to user &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;: Role already assigned in this workspace.&quot;</span>
            <span class="p">)</span>
        <span class="n">role_assignment</span> <span class="o">=</span> <span class="n">UserRoleAssignmentSchema</span><span class="p">(</span>
            <span class="n">role_id</span><span class="o">=</span><span class="n">role</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span> <span class="k">if</span> <span class="n">workspace</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">role</span><span class="o">=</span><span class="n">role</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">role_assignment</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">role_assignment</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.create_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace</code></td>
        <td><code>WorkspaceRequestModel</code></td>
        <td><p>The workspace to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponseModel</code></td>
      <td><p>The newly created workspace.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a workspace with the given name already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">CREATED_WORKSPACE</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_workspace</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace</span><span class="p">:</span> <span class="n">WorkspaceRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace: The workspace to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created workspace.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a workspace with the given name already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if workspace with the given name already exists</span>
        <span class="n">existing_workspace</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">WorkspaceSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">workspace</span><span class="o">.</span><span class="n">name</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_workspace</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">EntityExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to create workspace </span><span class="si">{</span><span class="n">workspace</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="s2">&quot;A workspace with this name already exists.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Create the workspace</span>
        <span class="n">new_workspace</span> <span class="o">=</span> <span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">from_request</span><span class="p">(</span><span class="n">workspace</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_workspace</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="c1"># Explicitly refresh the new_workspace schema</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_workspace</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the artifact doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_id: The ID of the artifact to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the artifact doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">artifact</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">artifact_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">artifact</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to delete artifact with ID </span><span class="si">{</span><span class="n">artifact_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;No artifact with this ID found.&quot;</span>
            <span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a build.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the build to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the build doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a build.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_id: The ID of the build to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the build doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if build with the given ID exists</span>
        <span class="n">build</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineBuildSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">PipelineBuildSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">build_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">build</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to delete build with ID </span><span class="si">{</span><span class="n">build_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;No build with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">build</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the code repository to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no code repository with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository_id: The ID of the code repository to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no code repository with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">existing_repo</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">CodeRepositorySchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">code_repository_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_repo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to delete code repository with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">code_repository_id</span><span class="si">}</span><span class="s2">: No code repository with this ID &quot;</span>
                <span class="s2">&quot;found.&quot;</span>
            <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">existing_repo</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the deployment to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the deployment doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment_id: The ID of the deployment to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the deployment doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if build with the given ID exists</span>
        <span class="n">deployment</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineDeploymentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">PipelineDeploymentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">deployment_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">deployment</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to delete deployment with ID </span><span class="si">{</span><span class="n">deployment_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;No deployment with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">deployment</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a flavor.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the flavor to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the flavor doesn't exist.</p></td>
      </tr>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>if the flavor is used by a stack component.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a flavor.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_id: The id of the flavor to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the flavor doesn&#39;t exist.</span>
<span class="sd">        IllegalOperationError: if the flavor is used by a stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">flavor_in_db</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">flavor_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">flavor_in_db</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flavor with ID </span><span class="si">{</span><span class="n">flavor_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
            <span class="n">components_of_flavor</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">flavor</span> <span class="o">==</span> <span class="n">flavor_in_db</span><span class="o">.</span><span class="n">name</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">components_of_flavor</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Stack Component `</span><span class="si">{</span><span class="n">flavor_in_db</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` of type &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">flavor_in_db</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2"> cannot be &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;deleted as it is used by &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">components_of_flavor</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;components. Before deleting this &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;flavor, make sure to delete all &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;associated components.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">flavor_in_db</span><span class="p">)</span>
                <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">NoResultFound</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span> <span class="kn">from</span> <span class="nn">error</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a pipeline.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a pipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: The ID of the pipeline to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the pipeline doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if pipeline with the given ID exists</span>
        <span class="n">pipeline</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">pipeline_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pipeline</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to delete pipeline with ID </span><span class="si">{</span><span class="n">pipeline_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;No pipeline with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_role" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a role.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the role to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the role is still assigned to users or
the role is one of the built-in roles.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a role.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_name_or_id: Name or ID of the role to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the role is still assigned to users or</span>
<span class="sd">            the role is one of the built-in roles.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">role</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_role_schema</span><span class="p">(</span><span class="n">role_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">role</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="n">DEFAULT_ADMIN_ROLE</span><span class="p">,</span> <span class="n">DEFAULT_GUEST_ROLE</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The built-in role &#39;</span><span class="si">{</span><span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; cannot be deleted.&quot;</span>
            <span class="p">)</span>
        <span class="n">user_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">UserRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">role_id</span> <span class="o">==</span> <span class="n">role</span><span class="o">.</span><span class="n">id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">team_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">TeamRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">TeamRoleAssignmentSchema</span><span class="o">.</span><span class="n">role_id</span> <span class="o">==</span> <span class="n">role</span><span class="o">.</span><span class="n">id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">user_role</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">team_role</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Role `</span><span class="si">{</span><span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` of type cannot be &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;deleted as it is in use by multiple users and teams. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Before deleting this role make sure to remove all &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;instances where this role is used.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Delete role</span>
            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">role</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline run to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline run doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: The ID of the pipeline run to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if pipeline run with the given ID exists</span>
        <span class="n">existing_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">run_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to delete pipeline run with ID </span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;No pipeline run with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Delete the pipeline run</span>
        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">existing_run</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a schedule.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the schedule to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the schedule doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a schedule.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_id: The ID of the schedule to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the schedule doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if schedule with the given ID exists</span>
        <span class="n">schedule</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">schedule_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">schedule</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to delete schedule with ID </span><span class="si">{</span><span class="n">schedule_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;No schedule with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Delete the schedule</span>
        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no service connector with the given ID exists.</p></td>
      </tr>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the service connector is still referenced
by one or more stack components.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the service connector to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no service connector with the given ID exists.</span>
<span class="sd">        IllegalOperationError: If the service connector is still referenced</span>
<span class="sd">            by one or more stack components.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">service_connector</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">service_connector_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">service_connector</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Service connector with ID </span><span class="si">{</span><span class="n">service_connector_id</span><span class="si">}</span><span class="s2"> not &quot;</span>
                    <span class="s2">&quot;found.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">service_connector</span><span class="o">.</span><span class="n">components</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Service connector with ID </span><span class="si">{</span><span class="n">service_connector_id</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;cannot be deleted as it is still referenced by &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">service_connector</span><span class="o">.</span><span class="n">components</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="s2">&quot;stack components. Before deleting this service &quot;</span>
                    <span class="s2">&quot;connector, make sure to remove it from all stack &quot;</span>
                    <span class="s2">&quot;components.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">service_connector</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">service_connector</span><span class="o">.</span><span class="n">secret_id</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">secrets_store</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span>
                        <span class="n">service_connector</span><span class="o">.</span><span class="n">secret_id</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="c1"># If the secret doesn&#39;t exist anymore, we can ignore</span>
                    <span class="c1"># this error</span>
                    <span class="k">pass</span>
        <span class="k">except</span> <span class="n">NoResultFound</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span> <span class="kn">from</span> <span class="nn">error</span>

        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack doesn't exist.</p></td>
      </tr>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>if the stack is a default stack.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_id: The ID of the stack to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack doesn&#39;t exist.</span>
<span class="sd">        IllegalOperationError: if the stack is a default stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">stack</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StackSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">stack_id</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">stack</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stack with ID </span><span class="si">{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">stack</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">DEFAULT_STACK_NAME</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="s2">&quot;The default stack cannot be deleted.&quot;</span>
                <span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">NoResultFound</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span> <span class="kn">from</span> <span class="nn">error</span>

        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the stack component to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack component doesn't exist.</p></td>
      </tr>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>if the stack component is part of one or
more stacks, or if it's a default stack component.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_id: The id of the stack component to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack component doesn&#39;t exist.</span>
<span class="sd">        IllegalOperationError: if the stack component is part of one or</span>
<span class="sd">            more stacks, or if it&#39;s a default stack component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">stack_component</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component_id</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">stack_component</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stack with ID </span><span class="si">{</span><span class="n">component_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">stack_component</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">DEFAULT_STACK_COMPONENT_NAME</span>
                <span class="ow">and</span> <span class="n">stack_component</span><span class="o">.</span><span class="n">type</span>
                <span class="ow">in</span> <span class="p">[</span>
                    <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                    <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
                <span class="p">]</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The default </span><span class="si">{</span><span class="n">stack_component</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2"> cannot be deleted.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">stack_component</span><span class="o">.</span><span class="n">stacks</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Stack Component `</span><span class="si">{</span><span class="n">stack_component</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` of type &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="n">stack_component</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2"> cannot be &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;deleted as it is part of &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">stack_component</span><span class="o">.</span><span class="n">stacks</span><span class="p">)</span><span class="si">}</span><span class="s2"> stacks. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Before deleting this stack &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;component, make sure to remove it &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;from all stacks.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">stack_component</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">NoResultFound</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span> <span class="kn">from</span> <span class="nn">error</span>

        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_team" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a team.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the team to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a team.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_name_or_id: Name or ID of the team to delete.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">team</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_team_schema</span><span class="p">(</span><span class="n">team_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">team</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_team_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_team_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a specific role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_role_assignment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the specific role assignment</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the role assignment does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_team_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a specific role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_role_assignment_id: The ID of the specific role assignment</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the role assignment does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">team_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">TeamRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">TeamRoleAssignmentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">team_role_assignment_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">one_or_none</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">team_role</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No team role assignment with id &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">team_role_assignment_id</span><span class="si">}</span><span class="s2"> exists.&quot;</span>
            <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">team_role</span><span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or the ID of the user to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the user is the default user account.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: The name or the ID of the user to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the user is the default user account.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_user_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="s2">&quot;The default user account cannot be deleted.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_trigger_event</span><span class="p">(</span><span class="n">StoreEvent</span><span class="o">.</span><span class="n">USER_DELETED</span><span class="p">,</span> <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_user_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_user_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a specific role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_role_assignment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the specific role assignment.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the role assignment does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_user_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a specific role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_role_assignment_id: The ID of the specific role assignment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the role assignment does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">user_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">UserRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">user_role_assignment_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">one_or_none</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">user_role</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No user role assignment with id &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">user_role_assignment_id</span><span class="si">}</span><span class="s2"> exists.&quot;</span>
            <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">user_role</span><span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.delete_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the workspace is the default workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the workspace is the default workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if workspace with the given name exists</span>
        <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_workspace_schema</span><span class="p">(</span>
            <span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">workspace</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_workspace_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="s2">&quot;The default workspace cannot be deleted.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_trigger_event</span><span class="p">(</span>
            <span class="n">StoreEvent</span><span class="o">.</span><span class="n">WORKSPACE_DELETED</span><span class="p">,</span> <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span>
        <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">workspace</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.filter_and_paginate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">filter_and_paginate</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">table</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">,</span> <span class="n">custom_schema_to_model_conversion</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">custom_fetch</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Given a query, return a Page instance with a list of filtered Models.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>session</code></td>
        <td><code>Session</code></td>
        <td><p>The SQLModel Session</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>query</code></td>
        <td><code>Union[sqlmodel.sql.expression.Select, sqlmodel.sql.expression.SelectOfScalar]</code></td>
        <td><p>The query to execute</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>table</code></td>
        <td><code>Type[~AnySchema]</code></td>
        <td><p>The table to select from</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>BaseFilterModel</code></td>
        <td><p>The filter to use, including pagination and sorting</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>custom_schema_to_model_conversion</code></td>
        <td><code>Optional[Callable[[~AnySchema], ~B]]</code></td>
        <td><p>Callable to convert the schema
into a model. This is used if the Model contains additional
data that is not explicitly stored as a field or relationship
on the model.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>custom_fetch</code></td>
        <td><code>Optional[Callable[[sqlmodel.orm.session.Session, Union[sqlmodel.sql.expression.Select, sqlmodel.sql.expression.SelectOfScalar], zenml.models.filter_models.BaseFilterModel], List[~AnySchema]]]</code></td>
        <td><p>Custom callable to use to fetch items from the
database for a given query. This is used if the items fetched
from the database need to be processed differently (e.g. to
perform additional filtering). The callable should take a
<code>Session</code>, a <code>Select</code> query and a <code>BaseFilterModel</code> filter as
arguments and return a <code>List</code> of items.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[B]</code></td>
      <td><p>The Domain Model representation of the DB resource</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the filtered page number is out of bounds.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the schema does not have a <code>to_model</code> method.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">filter_and_paginate</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
    <span class="n">query</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Select</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">],</span> <span class="n">SelectOfScalar</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">]],</span>
    <span class="n">table</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">],</span>
    <span class="n">filter_model</span><span class="p">:</span> <span class="n">BaseFilterModel</span><span class="p">,</span>
    <span class="n">custom_schema_to_model_conversion</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="n">Callable</span><span class="p">[[</span><span class="n">AnySchema</span><span class="p">],</span> <span class="n">B</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">custom_fetch</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="n">Callable</span><span class="p">[</span>
            <span class="p">[</span>
                <span class="n">Session</span><span class="p">,</span>
                <span class="n">Union</span><span class="p">[</span><span class="n">Select</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">],</span> <span class="n">SelectOfScalar</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">]],</span>
                <span class="n">BaseFilterModel</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="n">List</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">],</span>
        <span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">B</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Given a query, return a Page instance with a list of filtered Models.</span>

<span class="sd">    Args:</span>
<span class="sd">        session: The SQLModel Session</span>
<span class="sd">        query: The query to execute</span>
<span class="sd">        table: The table to select from</span>
<span class="sd">        filter_model: The filter to use, including pagination and sorting</span>
<span class="sd">        custom_schema_to_model_conversion: Callable to convert the schema</span>
<span class="sd">            into a model. This is used if the Model contains additional</span>
<span class="sd">            data that is not explicitly stored as a field or relationship</span>
<span class="sd">            on the model.</span>
<span class="sd">        custom_fetch: Custom callable to use to fetch items from the</span>
<span class="sd">            database for a given query. This is used if the items fetched</span>
<span class="sd">            from the database need to be processed differently (e.g. to</span>
<span class="sd">            perform additional filtering). The callable should take a</span>
<span class="sd">            `Session`, a `Select` query and a `BaseFilterModel` filter as</span>
<span class="sd">            arguments and return a `List` of items.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The Domain Model representation of the DB resource</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if the filtered page number is out of bounds.</span>
<span class="sd">        RuntimeError: if the schema does not have a `to_model` method.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">apply_filter</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">)</span>

    <span class="c1"># Get the total amount of items in the database for a given query</span>
    <span class="k">if</span> <span class="n">custom_fetch</span><span class="p">:</span>
        <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">custom_fetch</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">total</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">scalar</span><span class="p">(</span>
            <span class="n">select</span><span class="p">([</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)])</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span>
                <span class="n">query</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">noload</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">subquery</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># Sorting</span>
    <span class="n">column</span><span class="p">,</span> <span class="n">operand</span> <span class="o">=</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">sorting_params</span>
    <span class="k">if</span> <span class="n">operand</span> <span class="o">==</span> <span class="n">SorterOps</span><span class="o">.</span><span class="n">DESCENDING</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">)))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">asc</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">)))</span>

    <span class="c1"># Get the total amount of pages in the database for a given query</span>
    <span class="k">if</span> <span class="n">total</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">total_pages</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">total_pages</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">total</span> <span class="o">/</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">page</span> <span class="o">&gt;</span> <span class="n">total_pages</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid page </span><span class="si">{</span><span class="n">filter_model</span><span class="o">.</span><span class="n">page</span><span class="si">}</span><span class="s2">. The requested page size is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">filter_model</span><span class="o">.</span><span class="n">size</span><span class="si">}</span><span class="s2"> and there are a total of </span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> items &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;for this query. The maximum page value therefore is &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">total_pages</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Get a page of the actual data</span>
    <span class="n">item_schemas</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">AnySchema</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">custom_fetch</span><span class="p">:</span>
        <span class="n">item_schemas</span> <span class="o">=</span> <span class="n">custom_fetch</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">)</span>
        <span class="c1"># select the items in the current page</span>
        <span class="n">item_schemas</span> <span class="o">=</span> <span class="n">item_schemas</span><span class="p">[</span>
            <span class="n">filter_model</span><span class="o">.</span><span class="n">offset</span> <span class="p">:</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">offset</span> <span class="o">+</span> <span class="n">filter_model</span><span class="o">.</span><span class="n">size</span>
        <span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">item_schemas</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">query</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">filter_model</span><span class="o">.</span><span class="n">offset</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">unique</span><span class="p">()</span>
            <span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="c1"># Convert this page of items from schemas to models.</span>
    <span class="n">items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">B</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">item_schemas</span><span class="p">:</span>
        <span class="c1"># If a custom conversion function is provided, use it.</span>
        <span class="k">if</span> <span class="n">custom_schema_to_model_conversion</span><span class="p">:</span>
            <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">custom_schema_to_model_conversion</span><span class="p">(</span><span class="n">schema</span><span class="p">))</span>
            <span class="k">continue</span>
        <span class="c1"># Otherwise, try to use the `to_model` method of the schema.</span>
        <span class="n">to_model</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="s2">&quot;to_model&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">to_model</span><span class="p">):</span>
            <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_model</span><span class="p">())</span>
            <span class="k">continue</span>
        <span class="c1"># If neither of the above work, raise an error.</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Cannot convert schema `</span><span class="si">{</span><span class="n">schema</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">` to model &quot;</span>
            <span class="s2">&quot;since it does not have a `to_model` method.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">Page</span><span class="p">(</span>
        <span class="n">total</span><span class="o">=</span><span class="n">total</span><span class="p">,</span>
        <span class="n">total_pages</span><span class="o">=</span><span class="n">total_pages</span><span class="p">,</span>
        <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">,</span>
        <span class="n">index</span><span class="o">=</span><span class="n">filter_model</span><span class="o">.</span><span class="n">page</span><span class="p">,</span>
        <span class="n">max_size</span><span class="o">=</span><span class="n">filter_model</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactResponseModel</code></td>
      <td><p>The artifact.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the artifact doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_id: The ID of the artifact to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The artifact.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the artifact doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">artifact</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">artifact_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">artifact</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get artifact with ID </span><span class="si">{</span><span class="n">artifact_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;No artifact with this ID found.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_artifact_schema_to_model</span><span class="p">(</span><span class="n">artifact</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_auth_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_auth_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets the auth model to a specific user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the user to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserAuthModel</code></td>
      <td><p>The requested user, if it was found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_auth_user</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserAuthModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the auth model to a specific user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: The name or ID of the user to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested user, if it was found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">UserAuthModel</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">full_name</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">full_name</span><span class="p">,</span>
            <span class="n">email_opted_in</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">email_opted_in</span><span class="p">,</span>
            <span class="n">active</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">active</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">created</span><span class="p">,</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
            <span class="n">activation_token</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">activation_token</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a build with a given ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the build.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineBuildResponseModel</code></td>
      <td><p>The build.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the build does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a build with a given ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_id: ID of the build.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The build.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the build does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if build with the given ID exists</span>
        <span class="n">build</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineBuildSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">PipelineBuildSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">build_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">build</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get build with ID &#39;</span><span class="si">{</span><span class="n">build_id</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                <span class="s2">&quot;No build with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">build</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the code repository to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponseModel</code></td>
      <td><p>The requested code repository, if it was found.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no code repository with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_code_repository</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository_id: The ID of the code repository to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested code repository, if it was found.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no code repository with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">repo</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">CodeRepositorySchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">code_repository_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">repo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get code repository with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">code_repository_id</span><span class="si">}</span><span class="s2">&#39;: No code repository with this &quot;</span>
                <span class="s2">&quot;ID found.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">repo</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a deployment with a given ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the deployment.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineDeploymentResponseModel</code></td>
      <td><p>The deployment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the deployment does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a deployment with a given ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment_id: ID of the deployment.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The deployment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the deployment does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if deployment with the given ID exists</span>
        <span class="n">deployment</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineDeploymentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">PipelineDeploymentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">deployment_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">deployment</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get deployment with ID &#39;</span><span class="si">{</span><span class="n">deployment_id</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                <span class="s2">&quot;No deployment with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">deployment</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a flavor by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the flavor to fetch.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponseModel</code></td>
      <td><p>The stack component flavor.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack component flavor doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a flavor by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_id: The ID of the flavor to fetch.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The stack component flavor.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack component flavor doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">flavor_in_db</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">flavor_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">flavor_in_db</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flavor with ID </span><span class="si">{</span><span class="n">flavor_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">flavor_in_db</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_or_create_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_or_create_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets or creates a pipeline run.</p>
<p>If a run with the same ID or name already exists, it is returned.
Otherwise, a new run is created.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_run</code></td>
        <td><code>PipelineRunRequestModel</code></td>
        <td><p>The pipeline run to get or create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.models.pipeline_run_models.PipelineRunResponseModel, bool]</code></td>
      <td><p>The pipeline run, and a boolean indicating whether the run was
created or not.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_or_create_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets or creates a pipeline run.</span>

<span class="sd">    If a run with the same ID or name already exists, it is returned.</span>
<span class="sd">    Otherwise, a new run is created.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_run: The pipeline run to get or create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline run, and a boolean indicating whether the run was</span>
<span class="sd">        created or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># We want to have the &#39;create&#39; statement in the try block since running</span>
    <span class="c1"># it first will reduce concurrency issues.</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_run</span><span class="p">(</span><span class="n">pipeline_run</span><span class="p">),</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">EntityExistsError</span><span class="p">,</span> <span class="n">IntegrityError</span><span class="p">):</span>
        <span class="c1"># Catch both `EntityExistsError`` and `IntegrityError`` exceptions</span>
        <span class="c1"># since either one can be raised by the database when trying</span>
        <span class="c1"># to create a new pipeline run with duplicate ID or name.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">id</span><span class="p">),</span> <span class="kc">False</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_run</span><span class="p">(</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a pipeline with a given ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponseModel</code></td>
      <td><p>The pipeline.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a pipeline with a given ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: ID of the pipeline.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the pipeline does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if pipeline with the given ID exists</span>
        <span class="n">pipeline</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">pipeline_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pipeline</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get pipeline with ID &#39;</span><span class="si">{</span><span class="n">pipeline_id</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                <span class="s2">&quot;No pipeline with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_role" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific role.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the role to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RoleResponseModel</code></td>
      <td><p>The requested role.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific role.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_name_or_id: Name or ID of the role to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested role.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">role</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_role_schema</span><span class="p">(</span><span class="n">role_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">role</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the pipeline run to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponseModel</code></td>
      <td><p>The pipeline run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">run_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_name_or_id: The name or ID of the pipeline run to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">run</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_run_schema</span><span class="p">(</span><span class="n">run_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_schema_to_model</span><span class="p">(</span><span class="n">run</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_run_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a step run by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the step run to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponseModel</code></td>
      <td><p>The step run.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the step run doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a step run by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run_id: The ID of the step run to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the step run doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">step_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">step_run_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">step_run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get step run with ID </span><span class="si">{</span><span class="n">step_run_id</span><span class="si">}</span><span class="s2">: No step &quot;</span>
                <span class="s2">&quot;run with this ID found.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_step_schema_to_model</span><span class="p">(</span><span class="n">step_run</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a schedule with a given ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the schedule.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponseModel</code></td>
      <td><p>The schedule.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the schedule does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a schedule with a given ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_id: ID of the schedule.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The schedule.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the schedule does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if schedule with the given ID exists</span>
        <span class="n">schedule</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">schedule_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">schedule</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get schedule with ID &#39;</span><span class="si">{</span><span class="n">schedule_id</span><span class="si">}</span><span class="s2">&#39;: &quot;</span>
                <span class="s2">&quot;No schedule with this ID found.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">schedule</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>The requested service connector, if it was found.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no service connector with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_service_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the service connector to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested service connector, if it was found.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no service connector with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">service_connector</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">service_connector_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">service_connector</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Service connector with ID </span><span class="si">{</span><span class="n">service_connector_id</span><span class="si">}</span><span class="s2"> not &quot;</span>
                <span class="s2">&quot;found.&quot;</span>
            <span class="p">)</span>

        <span class="n">connector</span> <span class="o">=</span> <span class="n">service_connector</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">connector</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_service_connector_client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a service connector client for a service connector and given resource.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the base service connector to use.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of resource to get a client for.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of the resource to get a client for.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>A service connector client that can be used to access the given
resource.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_service_connector_client</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a service connector client for a service connector and given resource.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the base service connector to use.</span>
<span class="sd">        resource_type: The type of resource to get a client for.</span>
<span class="sd">        resource_id: The ID of the resource to get a client for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A service connector client that can be used to access the given</span>
<span class="sd">        resource.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">(</span><span class="n">service_connector_id</span><span class="p">)</span>

    <span class="n">connector_instance</span> <span class="o">=</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">instantiate_connector</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">connector</span>
    <span class="p">)</span>

    <span class="c1"># Fetch the connector client</span>
    <span class="n">connector_client</span> <span class="o">=</span> <span class="n">connector_instance</span><span class="o">.</span><span class="n">get_connector_client</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Return the model for the connector client</span>
    <span class="n">connector</span> <span class="o">=</span> <span class="n">connector_client</span><span class="o">.</span><span class="n">to_response_model</span><span class="p">(</span>
        <span class="n">user</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">is_shared</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">is_shared</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">labels</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">connector</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_service_connector_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector_type</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns the requested service connector type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>str</code></td>
        <td><p>the service connector type identifier.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorTypeModel</code></td>
      <td><p>The requested service connector type.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_service_connector_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the requested service connector type.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_type: the service connector type identifier.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested service connector type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
        <span class="n">connector_type</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a stack by its unique ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponseModel</code></td>
      <td><p>The stack with the given ID.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a stack by its unique ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_id: The ID of the stack to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The stack with the given ID.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StackSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">stack_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">stack</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stack with ID </span><span class="si">{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stack</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a stack component by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack component to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponseModel</code></td>
      <td><p>The stack component.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack component doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_stack_component</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a stack component by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_id: The ID of the stack component to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The stack component.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack component doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">stack_component</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">stack_component</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Stack component with ID </span><span class="si">{</span><span class="n">component_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">stack_component</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_store_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_store_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get information about the store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServerModel</code></td>
      <td><p>Information about the store.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the deployment ID could not be loaded from the
database.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_store_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get information about the store.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Information about the store.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the deployment ID could not be loaded from the</span>
<span class="sd">            database.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_store_info</span><span class="p">()</span>
    <span class="n">sql_url</span> <span class="o">=</span> <span class="n">make_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">database_type</span> <span class="o">=</span> <span class="n">ServerDatabaseType</span><span class="p">(</span><span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span><span class="p">)</span>

    <span class="c1"># Fetch the deployment ID from the database and use it to replace</span>
    <span class="c1"># the one fetched from the global configuration</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">identity</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">IdentitySchema</span><span class="p">))</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">identity</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="s2">&quot;The deployment ID could not be loaded from the database.&quot;</span>
            <span class="p">)</span>
        <span class="n">model</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">identity</span><span class="o">.</span><span class="n">id</span>
    <span class="k">return</span> <span class="n">model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_team" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific team.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the team to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamResponseModel</code></td>
      <td><p>The requested team.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific team.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_name_or_id: Name or ID of the team to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested team.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">team</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_team_schema</span><span class="p">(</span><span class="n">team_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">team</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_team_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_team_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_role_assignment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the role assignment to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamRoleAssignmentResponseModel</code></td>
      <td><p>The requested role assignment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no role assignment with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_team_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_role_assignment_id: ID of the role assignment to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested role assignment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no role assignment with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">team_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">TeamRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">TeamRoleAssignmentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">team_role_assignment_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">one_or_none</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">team_role</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">team_role</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get team role assignment with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">team_role_assignment_id</span><span class="si">}</span><span class="s2">&#39;: No team role assignment &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;with this ID found.&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_private</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific user, when no id is specified the active user is returned.</p>
<p>Raises a KeyError in case a user with that id does not exist.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the user to get.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>include_private</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to include private user information</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponseModel</code></td>
      <td><p>The requested user, if it was found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_user</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_private</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific user, when no id is specified the active user is returned.</span>

<span class="sd">    Raises a KeyError in case a user with that id does not exist.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: The name or ID of the user to get.</span>
<span class="sd">        include_private: Whether to include private user information</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested user, if it was found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">user_name_or_id</span><span class="p">:</span>
        <span class="n">user_name_or_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_user_name</span>

    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">to_model</span><span class="p">(</span><span class="n">include_private</span><span class="o">=</span><span class="n">include_private</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_user_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_user_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a role assignment by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_role_assignment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the role assignment to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserRoleAssignmentResponseModel</code></td>
      <td><p>The role assignment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the role assignment does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_user_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a role assignment by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_role_assignment_id: ID of the role assignment to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The role assignment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the role assignment does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">user_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">UserRoleAssignmentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">UserRoleAssignmentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">user_role_assignment_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">one_or_none</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">user_role</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">user_role</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to get user role assignment with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">user_role_assignment_id</span><span class="si">}</span><span class="s2">&#39;: No user role assignment &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;with this ID found.&quot;</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.get_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get an existing workspace by name or ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponseModel</code></td>
      <td><p>The requested workspace if one was found.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_workspace</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get an existing workspace by name or ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested workspace if one was found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_workspace_schema</span><span class="p">(</span>
            <span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_artifacts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_artifacts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all artifacts matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_filter_model</code></td>
        <td><code>ArtifactFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ArtifactResponseModel]</code></td>
      <td><p>A list of all artifacts matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_artifacts</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">artifact_filter_model</span><span class="p">:</span> <span class="n">ArtifactFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ArtifactResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all artifacts matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all artifacts matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">ArtifactSchema</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">artifact_filter_model</span><span class="o">.</span><span class="n">only_unused</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">notin_</span><span class="p">(</span>  <span class="c1"># type: ignore[attr-defined]</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">StepRunOutputArtifactSchema</span><span class="o">.</span><span class="n">artifact_id</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">ArtifactSchema</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">notin_</span><span class="p">(</span>  <span class="c1"># type: ignore[attr-defined]</span>
                    <span class="n">select</span><span class="p">(</span><span class="n">StepRunInputArtifactSchema</span><span class="o">.</span><span class="n">artifact_id</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">ArtifactSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">artifact_filter_model</span><span class="p">,</span>
            <span class="n">custom_schema_to_model_conversion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_artifact_schema_to_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_builds" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_builds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all builds matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_filter_model</code></td>
        <td><code>PipelineBuildFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineBuildResponseModel]</code></td>
      <td><p>A page of all builds matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_builds</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">build_filter_model</span><span class="p">:</span> <span class="n">PipelineBuildFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineBuildResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all builds matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of all builds matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">PipelineBuildSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">PipelineBuildSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">build_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_code_repositories" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_code_repositories</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all code repositories.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>CodeRepositoryFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[CodeRepositoryResponseModel]</code></td>
      <td><p>A page of all code repositories.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_code_repositories</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">:</span> <span class="n">CodeRepositoryFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">CodeRepositoryResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all code repositories.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of all code repositories.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">CodeRepositorySchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">CodeRepositorySchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_deployments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_deployments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all deployments matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_filter_model</code></td>
        <td><code>PipelineDeploymentFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineDeploymentResponseModel]</code></td>
      <td><p>A page of all deployments matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_deployments</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">deployment_filter_model</span><span class="p">:</span> <span class="n">PipelineDeploymentFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineDeploymentResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all deployments matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of all deployments matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">PipelineDeploymentSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">PipelineDeploymentSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">deployment_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_flavors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all stack component flavors matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_filter_model</code></td>
        <td><code>FlavorFilterModel</code></td>
        <td><p>All filter parameters including pagination
params</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[FlavorResponseModel]</code></td>
      <td><p>List of all the stack component flavors matching the given criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_flavors</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">flavor_filter_model</span><span class="p">:</span> <span class="n">FlavorFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">FlavorResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all stack component flavors matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_filter_model: All filter parameters including pagination</span>
<span class="sd">            params</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of all the stack component flavors matching the given criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">FlavorSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">flavor_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_pipelines" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_pipelines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all pipelines matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_filter_model</code></td>
        <td><code>PipelineFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineResponseModel]</code></td>
      <td><p>A list of all pipelines matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_pipelines</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_filter_model</span><span class="p">:</span> <span class="n">PipelineFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all pipelines matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all pipelines matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">PipelineSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">pipeline_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_roles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_roles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all roles matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_filter_model</code></td>
        <td><code>RoleFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[RoleResponseModel]</code></td>
      <td><p>A list of all roles matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_roles</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">role_filter_model</span><span class="p">:</span> <span class="n">RoleFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RoleResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all roles matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all roles matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">RoleSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">RoleSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">role_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_run_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_run_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_metadata_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List run metadata.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_metadata_filter_model</code></td>
        <td><code>RunMetadataFilterModel</code></td>
        <td><p>All filter parameters including
pagination params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[RunMetadataResponseModel]</code></td>
      <td><p>The run metadata.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_run_metadata</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">run_metadata_filter_model</span><span class="p">:</span> <span class="n">RunMetadataFilterModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RunMetadataResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List run metadata.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_metadata_filter_model: All filter parameters including</span>
<span class="sd">            pagination params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The run metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">RunMetadataSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">RunMetadataSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">run_metadata_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_run_steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_run_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all step runs matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run_filter_model</code></td>
        <td><code>StepRunFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[StepRunResponseModel]</code></td>
      <td><p>A list of all step runs matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_run_steps</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">step_run_filter_model</span><span class="p">:</span> <span class="n">StepRunFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StepRunResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all step runs matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all step runs matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">StepRunSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">step_run_filter_model</span><span class="p">,</span>
            <span class="n">custom_schema_to_model_conversion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_run_step_schema_to_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_runs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">runs_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all pipeline runs matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>runs_filter_model</code></td>
        <td><code>PipelineRunFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineRunResponseModel]</code></td>
      <td><p>A list of all pipeline runs matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_runs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">runs_filter_model</span><span class="p">:</span> <span class="n">PipelineRunFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineRunResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all pipeline runs matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        runs_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all pipeline runs matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">PipelineRunSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">runs_filter_model</span><span class="p">,</span>
            <span class="n">custom_schema_to_model_conversion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_run_schema_to_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_schedules" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_schedules</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all schedules in the workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_filter_model</code></td>
        <td><code>ScheduleFilterModel</code></td>
        <td><p>All filter parameters including pagination
params</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ScheduleResponseModel]</code></td>
      <td><p>A list of schedules.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_schedules</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">schedule_filter_model</span><span class="p">:</span> <span class="n">ScheduleFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ScheduleResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all schedules in the workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_filter_model: All filter parameters including pagination</span>
<span class="sd">            params</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of schedules.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">ScheduleSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">schedule_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_service_connector_resources" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connector_resources</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">connector_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List resources that can be accessed by service connectors.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the user to scope to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the workspace to scope to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of service connector to scope to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of resource to scope to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of the resource to scope to.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.models.service_connector_models.ServiceConnectorResourcesModel]</code></td>
      <td><p>The matching list of resources that available service
connectors have access to.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_service_connector_resources</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorResourcesModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List resources that can be accessed by service connectors.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: The name or ID of the user to scope to.</span>
<span class="sd">        workspace_name_or_id: The name or ID of the workspace to scope to.</span>
<span class="sd">        connector_type: The type of service connector to scope to.</span>
<span class="sd">        resource_type: The type of resource to scope to.</span>
<span class="sd">        resource_id: The ID of the resource to scope to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The matching list of resources that available service</span>
<span class="sd">        connectors have access to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">user_name_or_id</span><span class="p">)</span>
    <span class="n">workspace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_workspace</span><span class="p">(</span><span class="n">workspace_name_or_id</span><span class="p">)</span>
    <span class="n">connector_filter_model</span> <span class="o">=</span> <span class="n">ServiceConnectorFilterModel</span><span class="p">(</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">is_shared</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">shared_connectors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_service_connectors</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">connector_filter_model</span>
    <span class="p">)</span><span class="o">.</span><span class="n">items</span>

    <span class="n">connector_filter_model</span> <span class="o">=</span> <span class="n">ServiceConnectorFilterModel</span><span class="p">(</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">is_shared</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">workspace_id</span><span class="o">=</span><span class="n">workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">private_connectors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_service_connectors</span><span class="p">(</span>
        <span class="n">filter_model</span><span class="o">=</span><span class="n">connector_filter_model</span>
    <span class="p">)</span><span class="o">.</span><span class="n">items</span>

    <span class="n">resource_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorResourcesModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">connector</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">shared_connectors</span><span class="p">)</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">private_connectors</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">is_registered</span><span class="p">(</span><span class="n">connector</span><span class="o">.</span><span class="n">type</span><span class="p">):</span>
            <span class="c1"># For connectors that we can instantiate, i.e. those that have a</span>
            <span class="c1"># connector type available locally, we return complete</span>
            <span class="c1"># information about the resources that they have access to.</span>
            <span class="c1">#</span>
            <span class="c1"># For those that are not locally available, we only return</span>
            <span class="c1"># rudimentary information extracted from the connector model</span>
            <span class="c1"># without actively trying to discover the resources that they</span>
            <span class="c1"># have access to.</span>

            <span class="k">if</span> <span class="n">resource_id</span> <span class="ow">and</span> <span class="n">connector</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">!=</span> <span class="n">resource_id</span><span class="p">:</span>
                <span class="c1"># If an explicit resource ID is required, the connector</span>
                <span class="c1"># has to be configured with it.</span>
                <span class="k">continue</span>

            <span class="n">resources</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ServiceConnectorResourcesModel</span><span class="o">.</span><span class="n">from_connector_model</span><span class="p">(</span>
                    <span class="n">connector</span><span class="p">,</span>
                    <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">resources</span><span class="o">.</span><span class="n">resources</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">:</span>
                    <span class="n">r</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;The service &#39;</span><span class="si">{</span><span class="n">connector</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">&#39; connector type is &quot;</span>
                        <span class="s2">&quot;not available.&quot;</span>
                    <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">connector_instance</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">instantiate_connector</span><span class="p">(</span>
                        <span class="n">model</span><span class="o">=</span><span class="n">connector</span>
                    <span class="p">)</span>
                <span class="p">)</span>

                <span class="n">resources</span> <span class="o">=</span> <span class="n">connector_instance</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span>
                    <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                    <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
                    <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">AuthorizationException</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;Failed to fetch </span><span class="si">{</span><span class="n">resource_type</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s2">&quot;available&quot;</span><span class="si">}</span><span class="s1"> &#39;</span>
                    <span class="sa">f</span><span class="s2">&quot;resources from service connector </span><span class="si">{</span><span class="n">connector</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">connector</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="c1"># Log an exception if debug logging is enabled</span>
                <span class="k">if</span> <span class="n">logger</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="k">continue</span>

        <span class="n">resource_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resources</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">resource_list</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_service_connector_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connector_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auth_method</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a list of service connector types.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by connector type.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by resource type.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>auth_method</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by authentication method.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.models.service_connector_models.ServiceConnectorTypeModel]</code></td>
      <td><p>List of service connector types.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_service_connector_types</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a list of service connector types.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_type: Filter by connector type.</span>
<span class="sd">        resource_type: Filter by resource type.</span>
<span class="sd">        auth_method: Filter by authentication method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of service connector types.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">list_service_connector_types</span><span class="p">(</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="o">=</span><span class="n">auth_method</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_service_connectors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connectors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all service connectors.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>ServiceConnectorFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ServiceConnectorResponseModel]</code></td>
      <td><p>A page of all service connectors.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_service_connectors</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">:</span> <span class="n">ServiceConnectorFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ServiceConnectorResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all service connectors.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of all service connectors.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">fetch_connectors</span><span class="p">(</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Session</span><span class="p">,</span>
        <span class="n">query</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="n">Select</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">],</span>
            <span class="n">SelectOfScalar</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">],</span>
        <span class="p">],</span>
        <span class="n">filter_model</span><span class="p">:</span> <span class="n">BaseFilterModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Custom fetch function for connector filtering and pagination.</span>

<span class="sd">        Applies resource type and label filters to the query.</span>

<span class="sd">        Args:</span>
<span class="sd">            session: The database session.</span>
<span class="sd">            query: The query to filter.</span>
<span class="sd">            filter_model: The filter model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The filtered and paginated results.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filter_model</span><span class="p">,</span> <span class="n">ServiceConnectorFilterModel</span><span class="p">)</span>
        <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_filtered_service_connectors</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span> <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">items</span>

    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span>
        <span class="n">paged_connectors</span><span class="p">:</span> <span class="n">Page</span><span class="p">[</span>
            <span class="n">ServiceConnectorResponseModel</span>
        <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">ServiceConnectorSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">filter_model</span><span class="p">,</span>
            <span class="n">custom_fetch</span><span class="o">=</span><span class="n">fetch_connectors</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="o">*</span><span class="n">paged_connectors</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">paged_connectors</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_stack_components" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_stack_components</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all stack components matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_filter_model</code></td>
        <td><code>ComponentFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ComponentResponseModel]</code></td>
      <td><p>A list of all stack components matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_stack_components</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">component_filter_model</span><span class="p">:</span> <span class="n">ComponentFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ComponentResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all stack components matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all stack components matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span>
        <span class="n">paged_components</span><span class="p">:</span> <span class="n">Page</span><span class="p">[</span>
            <span class="n">ComponentResponseModel</span>
        <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">StackComponentSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">component_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">paged_components</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_stacks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_stacks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all stacks matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_filter_model</code></td>
        <td><code>StackFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[StackResponseModel]</code></td>
      <td><p>A list of all stacks matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_stacks</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">stack_filter_model</span><span class="p">:</span> <span class="n">StackFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StackResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all stacks matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all stacks matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">StackSchema</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">stack_filter_model</span><span class="o">.</span><span class="n">component_id</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">StackCompositionSchema</span><span class="o">.</span><span class="n">stack_id</span> <span class="o">==</span> <span class="n">StackSchema</span><span class="o">.</span><span class="n">id</span>
            <span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">StackCompositionSchema</span><span class="o">.</span><span class="n">component_id</span>
                <span class="o">==</span> <span class="n">stack_filter_model</span><span class="o">.</span><span class="n">component_id</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">StackSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">stack_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_team_role_assignments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_team_role_assignments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all roles assignments matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_role_assignment_filter_model</code></td>
        <td><code>TeamRoleAssignmentFilterModel</code></td>
        <td><p>All filter parameters including
pagination params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[TeamRoleAssignmentResponseModel]</code></td>
      <td><p>A list of all roles assignments matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_team_role_assignments</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_filter_model</span><span class="p">:</span> <span class="n">TeamRoleAssignmentFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TeamRoleAssignmentResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all roles assignments matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_role_assignment_filter_model: All filter parameters including</span>
<span class="sd">            pagination params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all roles assignments matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">TeamRoleAssignmentSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">TeamRoleAssignmentSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">team_role_assignment_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_teams" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_teams</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all teams matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_filter_model</code></td>
        <td><code>TeamFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[TeamResponseModel]</code></td>
      <td><p>A list of all teams matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_teams</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_filter_model</span><span class="p">:</span> <span class="n">TeamFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TeamResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all teams matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all teams matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">TeamSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">TeamSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">team_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_user_role_assignments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_user_role_assignments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all roles assignments matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_role_assignment_filter_model</code></td>
        <td><code>UserRoleAssignmentFilterModel</code></td>
        <td><p>All filter parameters including
pagination params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[UserRoleAssignmentResponseModel]</code></td>
      <td><p>A list of all roles assignments matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_user_role_assignments</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_filter_model</span><span class="p">:</span> <span class="n">UserRoleAssignmentFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserRoleAssignmentResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all roles assignments matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_role_assignment_filter_model: All filter parameters including</span>
<span class="sd">            pagination params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all roles assignments matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">UserRoleAssignmentSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">UserRoleAssignmentSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">user_role_assignment_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_users" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_users</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all users.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_filter_model</code></td>
        <td><code>UserFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[UserResponseModel]</code></td>
      <td><p>A list of all users.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_users</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_filter_model</span><span class="p">:</span> <span class="n">UserFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all users.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all users.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">UserSchema</span><span class="p">)</span>
        <span class="n">paged_user</span><span class="p">:</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserResponseModel</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">UserSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">user_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">paged_user</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.list_workspaces" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_workspaces</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all workspace matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_filter_model</code></td>
        <td><code>WorkspaceFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[WorkspaceResponseModel]</code></td>
      <td><p>A list of all workspace matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_workspaces</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_filter_model</span><span class="p">:</span> <span class="n">WorkspaceFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">WorkspaceResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all workspace matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all workspace matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">WorkspaceSchema</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_and_paginate</span><span class="p">(</span>
            <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="n">WorkspaceSchema</span><span class="p">,</span>
            <span class="n">filter_model</span><span class="o">=</span><span class="n">workspace_filter_model</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.migrate_database" class="doc doc-heading">
<code class="highlight language-python"><span class="n">migrate_database</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Migrate the database to the head as defined by the python package.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">migrate_database</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Migrate the database to the head as defined by the python package.&quot;&quot;&quot;</span>
    <span class="n">alembic_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;alembic&quot;</span><span class="p">)</span>

    <span class="c1"># remove all existing handlers</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">alembic_logger</span><span class="o">.</span><span class="n">handlers</span><span class="p">):</span>
        <span class="n">alembic_logger</span><span class="o">.</span><span class="n">removeHandler</span><span class="p">(</span><span class="n">alembic_logger</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">logging_level</span> <span class="o">=</span> <span class="n">get_logging_level</span><span class="p">()</span>

    <span class="c1"># suppress alembic info logging if the zenml logging level is not debug</span>
    <span class="k">if</span> <span class="n">logging_level</span> <span class="o">==</span> <span class="n">LoggingLevels</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">:</span>
        <span class="n">alembic_logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">alembic_logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">)</span>

    <span class="n">alembic_logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">get_console_handler</span><span class="p">())</span>

    <span class="c1"># We need to account for 3 distinct cases here:</span>
    <span class="c1"># 1. the database is completely empty (not initialized)</span>
    <span class="c1"># 2. the database is not empty, but has never been migrated with alembic</span>
    <span class="c1">#   before (i.e. was created with SQLModel back when alembic wasn&#39;t</span>
    <span class="c1">#   used)</span>
    <span class="c1"># 3. the database is not empty and has been migrated with alembic before</span>
    <span class="n">revisions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">current_revisions</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">revisions</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">revisions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The ZenML database has more than one migration head &quot;</span>
                <span class="s2">&quot;revision. This is not expected and might indicate a &quot;</span>
                <span class="s2">&quot;database migration problem. Please raise an issue on &quot;</span>
                <span class="s2">&quot;GitHub if you encounter this.&quot;</span>
            <span class="p">)</span>
        <span class="c1"># Case 3: the database has been migrated with alembic before. Just</span>
        <span class="c1"># upgrade to the latest revision.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">upgrade</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">db_is_empty</span><span class="p">():</span>
            <span class="c1"># Case 1: the database is empty. We can just create the</span>
            <span class="c1"># tables from scratch with alembic.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">upgrade</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Case 2: the database is not empty, but has never been</span>
            <span class="c1"># migrated with alembic before. We need to create the alembic</span>
            <span class="c1"># version table, initialize it with the first revision where we</span>
            <span class="c1"># introduced alembic and then upgrade to the latest revision.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">stamp</span><span class="p">(</span><span class="n">ZENML_ALEMBIC_START_REVISION</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">upgrade</span><span class="p">()</span>

    <span class="c1"># If an alembic migration took place, all non-custom flavors are purged</span>
    <span class="c1">#  and the FlavorRegistry recreates all in-built and integration</span>
    <span class="c1">#  flavors in the db.</span>
    <span class="n">revisions_afterwards</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alembic</span><span class="o">.</span><span class="n">current_revisions</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">revisions</span> <span class="o">!=</span> <span class="n">revisions_afterwards</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sync_flavors</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an existing code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the code repository to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>update</code></td>
        <td><code>CodeRepositoryUpdateModel</code></td>
        <td><p>The update to be applied to the code repository.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponseModel</code></td>
      <td><p>The updated code repository.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no code repository with the given name exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_code_repository</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">CodeRepositoryUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an existing code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository_id: The ID of the code repository to update.</span>
<span class="sd">        update: The update to be applied to the code repository.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated code repository.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no code repository with the given name exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">existing_repo</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">CodeRepositorySchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">CodeRepositorySchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">code_repository_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_repo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to update code repository with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">code_repository_id</span><span class="si">}</span><span class="s2">: No code repository with this ID &quot;</span>
                <span class="s2">&quot;found.&quot;</span>
            <span class="p">)</span>

        <span class="n">existing_repo</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_repo</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">existing_repo</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an existing user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the flavor to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>flavor_update</code></td>
        <td><code>FlavorUpdateModel</code></td>
        <td><p>The update to be applied to the flavor.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponseModel</code></td>
      <td><p>The updated flavor.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no flavor with the given id exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_flavor</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">:</span> <span class="n">FlavorUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an existing user.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_id: The id of the flavor to update.</span>
<span class="sd">        flavor_update: The update to be applied to the flavor.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated flavor.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no flavor with the given id exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">existing_flavor</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">FlavorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">flavor_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_flavor</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Flavor with ID </span><span class="si">{</span><span class="n">flavor_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>

        <span class="n">existing_flavor</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">flavor_update</span><span class="o">=</span><span class="n">flavor_update</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_flavor</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="c1"># Refresh the Model that was just created</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_flavor</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">existing_flavor</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">,</span> <span class="n">pipeline_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a pipeline.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_update</code></td>
        <td><code>PipelineUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponseModel</code></td>
      <td><p>The updated pipeline.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">pipeline_update</span><span class="p">:</span> <span class="n">PipelineUpdateModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a pipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: The ID of the pipeline to be updated.</span>
<span class="sd">        pipeline_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated pipeline.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the pipeline doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if pipeline with the given ID exists</span>
        <span class="n">existing_pipeline</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">pipeline_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_pipeline</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to update pipeline with ID </span><span class="si">{</span><span class="n">pipeline_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;No pipeline with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Update the pipeline</span>
        <span class="n">existing_pipeline</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">pipeline_update</span><span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_pipeline</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">existing_pipeline</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_role" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_id</span><span class="p">,</span> <span class="n">role_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an existing role.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the role to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>role_update</code></td>
        <td><code>RoleUpdateModel</code></td>
        <td><p>The update to be applied to the role.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RoleResponseModel</code></td>
      <td><p>The updated role.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the role does not exist.</p></td>
      </tr>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>if the role is a system role.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_role</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">role_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">role_update</span><span class="p">:</span> <span class="n">RoleUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing role.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_id: The ID of the role to be updated.</span>
<span class="sd">        role_update: The update to be applied to the role.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated role.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the role does not exist.</span>
<span class="sd">        IllegalOperationError: if the role is a system role.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">existing_role</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">RoleSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">RoleSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">role_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">existing_role</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to update role with id &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">role_id</span><span class="si">}</span><span class="s2">&#39;: Found no&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;existing roles with this id.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">existing_role</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="n">DEFAULT_ADMIN_ROLE</span><span class="p">,</span> <span class="n">DEFAULT_GUEST_ROLE</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The built-in role &#39;</span><span class="si">{</span><span class="n">existing_role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; cannot be &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;updated.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># The relationship table for roles behaves different from the other</span>
        <span class="c1">#  ones. As such the required updates on the permissions have to be</span>
        <span class="c1">#  done manually.</span>
        <span class="k">if</span> <span class="s2">&quot;permissions&quot;</span> <span class="ow">in</span> <span class="n">role_update</span><span class="o">.</span><span class="n">__fields_set__</span><span class="p">:</span>
            <span class="n">existing_permissions</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">p</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">existing_role</span><span class="o">.</span><span class="n">permissions</span>
            <span class="p">}</span>

            <span class="n">diff</span> <span class="o">=</span> <span class="n">existing_permissions</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span>
                <span class="n">role_update</span><span class="o">.</span><span class="n">permissions</span>
            <span class="p">)</span>

            <span class="k">for</span> <span class="n">permission</span> <span class="ow">in</span> <span class="n">diff</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">permission</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">role_update</span><span class="o">.</span><span class="n">permissions</span><span class="p">:</span>
                    <span class="n">permission_to_delete</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                        <span class="n">select</span><span class="p">(</span><span class="n">RolePermissionSchema</span><span class="p">)</span>
                        <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">RolePermissionSchema</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">permission</span><span class="p">)</span>
                        <span class="o">.</span><span class="n">where</span><span class="p">(</span>
                            <span class="n">RolePermissionSchema</span><span class="o">.</span><span class="n">role_id</span>
                            <span class="o">==</span> <span class="n">existing_role</span><span class="o">.</span><span class="n">id</span>
                        <span class="p">)</span>
                    <span class="p">)</span><span class="o">.</span><span class="n">one_or_none</span><span class="p">()</span>
                    <span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">permission_to_delete</span><span class="p">)</span>

                <span class="k">elif</span> <span class="n">permission</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">existing_permissions</span><span class="p">:</span>
                    <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
                        <span class="n">RolePermissionSchema</span><span class="p">(</span>
                            <span class="n">name</span><span class="o">=</span><span class="n">permission</span><span class="p">,</span> <span class="n">role_id</span><span class="o">=</span><span class="n">existing_role</span><span class="o">.</span><span class="n">id</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

        <span class="c1"># Update the role</span>
        <span class="n">existing_role</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">role_update</span><span class="o">=</span><span class="n">role_update</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_role</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="c1"># Refresh the Model that was just created</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_role</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">existing_role</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">run_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline run to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>run_update</code></td>
        <td><code>PipelineRunUpdateModel</code></td>
        <td><p>The update to be applied to the pipeline run.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponseModel</code></td>
      <td><p>The updated pipeline run.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline run doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">run_update</span><span class="p">:</span> <span class="n">PipelineRunUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: The ID of the pipeline run to update.</span>
<span class="sd">        run_update: The update to be applied to the pipeline run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated pipeline run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if pipeline run with the given ID exists</span>
        <span class="n">existing_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">PipelineRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">run_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to update pipeline run with ID </span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;No pipeline run with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Update the pipeline run</span>
        <span class="n">existing_run</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">run_update</span><span class="o">=</span><span class="n">run_update</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_run</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_run</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_schema_to_model</span><span class="p">(</span><span class="n">existing_run</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_run_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_id</span><span class="p">,</span> <span class="n">step_run_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a step run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the step to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>step_run_update</code></td>
        <td><code>StepRunUpdateModel</code></td>
        <td><p>The update to be applied to the step.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponseModel</code></td>
      <td><p>The updated step run.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the step run doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_run_step</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">step_run_update</span><span class="p">:</span> <span class="n">StepRunUpdateModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a step run.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run_id: The ID of the step to update.</span>
<span class="sd">        step_run_update: The update to be applied to the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated step run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the step run doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if the step exists</span>
        <span class="n">existing_step_run</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StepRunSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">step_run_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_step_run</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to update step with ID </span><span class="si">{</span><span class="n">step_run_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;No step with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Update the step</span>
        <span class="n">existing_step_run</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">step_run_update</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_step_run</span><span class="p">)</span>

        <span class="c1"># Update the output artifacts.</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">artifact_id</span> <span class="ow">in</span> <span class="n">step_run_update</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_run_step_output_artifact</span><span class="p">(</span>
                <span class="n">step_run_id</span><span class="o">=</span><span class="n">step_run_id</span><span class="p">,</span>
                <span class="n">artifact_id</span><span class="o">=</span><span class="n">artifact_id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># Input artifacts and parent steps cannot be updated after the</span>
        <span class="c1"># step has been created.</span>

        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_step_run</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_step_schema_to_model</span><span class="p">(</span><span class="n">existing_step_run</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">,</span> <span class="n">schedule_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a schedule.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the schedule to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>schedule_update</code></td>
        <td><code>ScheduleUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponseModel</code></td>
      <td><p>The updated schedule.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the schedule doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_schedule</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">schedule_update</span><span class="p">:</span> <span class="n">ScheduleUpdateModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a schedule.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_id: The ID of the schedule to be updated.</span>
<span class="sd">        schedule_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated schedule.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the schedule doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if schedule with the given ID exists</span>
        <span class="n">existing_schedule</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ScheduleSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">schedule_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_schedule</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to update schedule with ID </span><span class="si">{</span><span class="n">schedule_id</span><span class="si">}</span><span class="s2">: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;No schedule with this ID found.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Update the schedule</span>
        <span class="n">existing_schedule</span> <span class="o">=</span> <span class="n">existing_schedule</span><span class="o">.</span><span class="n">from_update_model</span><span class="p">(</span>
            <span class="n">schedule_update</span>
        <span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_schedule</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">existing_schedule</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an existing service connector.</p>
<p>The update model contains the fields to be updated. If a field value is
set to None in the model, the field is not updated, but there are
special rules concerning some fields:</p>
<ul>
<li>the <code>configuration</code> and <code>secrets</code> fields together represent a full
valid configuration update, not just a partial update. If either is
set (i.e. not None) in the update, their values are merged together and
will replace the existing configuration and secrets values.</li>
<li>the <code>resource_id</code> field value is also a full replacement value: if set
to <code>None</code>, the resource ID is removed from the service connector.</li>
<li>the <code>expiration_seconds</code> field value is also a full replacement value:
if set to <code>None</code>, the expiration is removed from the service connector.</li>
<li>the <code>secret_id</code> field value in the update is ignored, given that
secrets are managed internally by the ZenML store.</li>
<li>the <code>labels</code> field is also a full labels update: if set (i.e. not
<code>None</code>), all existing labels are removed and replaced by the new labels
in the update.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>update</code></td>
        <td><code>ServiceConnectorUpdateModel</code></td>
        <td><p>The update to be applied to the service connector.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>The updated service connector.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no service connector with the given ID exists.</p></td>
      </tr>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the service connector is referenced by
one or more stack components and the update would change the
connector type, resource type or resource ID.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_service_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">ServiceConnectorUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an existing service connector.</span>

<span class="sd">    The update model contains the fields to be updated. If a field value is</span>
<span class="sd">    set to None in the model, the field is not updated, but there are</span>
<span class="sd">    special rules concerning some fields:</span>

<span class="sd">    * the `configuration` and `secrets` fields together represent a full</span>
<span class="sd">    valid configuration update, not just a partial update. If either is</span>
<span class="sd">    set (i.e. not None) in the update, their values are merged together and</span>
<span class="sd">    will replace the existing configuration and secrets values.</span>
<span class="sd">    * the `resource_id` field value is also a full replacement value: if set</span>
<span class="sd">    to `None`, the resource ID is removed from the service connector.</span>
<span class="sd">    * the `expiration_seconds` field value is also a full replacement value:</span>
<span class="sd">    if set to `None`, the expiration is removed from the service connector.</span>
<span class="sd">    * the `secret_id` field value in the update is ignored, given that</span>
<span class="sd">    secrets are managed internally by the ZenML store.</span>
<span class="sd">    * the `labels` field is also a full labels update: if set (i.e. not</span>
<span class="sd">    `None`), all existing labels are removed and replaced by the new labels</span>
<span class="sd">    in the update.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the service connector to update.</span>
<span class="sd">        update: The update to be applied to the service connector.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated service connector.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no service connector with the given ID exists.</span>
<span class="sd">        IllegalOperationError: If the service connector is referenced by</span>
<span class="sd">            one or more stack components and the update would change the</span>
<span class="sd">            connector type, resource type or resource ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">existing_connector</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">service_connector_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">existing_connector</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to update service connector with ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">service_connector_id</span><span class="si">}</span><span class="s2">&#39;: Found no existing service &quot;</span>
                <span class="s2">&quot;connector with this ID.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># In case of a renaming update, make sure no service connector uses</span>
        <span class="c1"># that name already</span>
        <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">existing_connector</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">update</span><span class="o">.</span><span class="n">name</span>
                <span class="ow">and</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">user_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_service_connector_with_name_exists_for_user</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">update</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">workspace_id</span><span class="o">=</span><span class="n">existing_connector</span><span class="o">.</span><span class="n">workspace_id</span><span class="p">,</span>
                    <span class="n">user_id</span><span class="o">=</span><span class="n">existing_connector</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                    <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="c1"># Check if service connector update makes the service connector a</span>
        <span class="c1"># shared service connector</span>
        <span class="c1"># In that case, check if a service connector with the same name is</span>
        <span class="c1"># already shared within the workspace</span>
        <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">is_shared</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">is_shared</span> <span class="ow">and</span> <span class="n">update</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_service_connector_with_name_already_shared</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">update</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">workspace_id</span><span class="o">=</span><span class="n">existing_connector</span><span class="o">.</span><span class="n">workspace_id</span><span class="p">,</span>
                    <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="n">existing_connector_model</span> <span class="o">=</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">existing_connector</span><span class="o">.</span><span class="n">components</span><span class="p">):</span>
            <span class="c1"># If the service connector is already used in one or more</span>
            <span class="c1"># stack components, the update is no longer allowed to change</span>
            <span class="c1"># the service connector&#39;s authentication method, connector type,</span>
            <span class="c1"># resource type, or resource ID</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">update</span><span class="o">.</span><span class="n">connector_type</span>
                <span class="ow">and</span> <span class="n">update</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">existing_connector_model</span><span class="o">.</span><span class="n">connector_type</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="s2">&quot;The service type of a service connector that is &quot;</span>
                    <span class="s2">&quot;already actively used in one or more stack components &quot;</span>
                    <span class="s2">&quot;cannot be changed.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">update</span><span class="o">.</span><span class="n">auth_method</span>
                <span class="ow">and</span> <span class="n">update</span><span class="o">.</span><span class="n">auth_method</span>
                <span class="o">!=</span> <span class="n">existing_connector_model</span><span class="o">.</span><span class="n">auth_method</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="s2">&quot;The authentication method of a service connector that &quot;</span>
                    <span class="s2">&quot;is already actively used in one or more stack &quot;</span>
                    <span class="s2">&quot;components cannot be changed.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">update</span><span class="o">.</span><span class="n">resource_types</span>
                <span class="ow">and</span> <span class="n">update</span><span class="o">.</span><span class="n">resource_types</span>
                <span class="o">!=</span> <span class="n">existing_connector_model</span><span class="o">.</span><span class="n">resource_types</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="s2">&quot;The resource type of a service connector that is &quot;</span>
                    <span class="s2">&quot;already actively used in one or more stack components &quot;</span>
                    <span class="s2">&quot;cannot be changed.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># The resource ID field cannot be used as a partial update: if</span>
            <span class="c1"># set to None, the existing resource ID is also removed</span>
            <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">!=</span> <span class="n">existing_connector_model</span><span class="o">.</span><span class="n">resource_id</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                    <span class="s2">&quot;The resource ID of a service connector that is &quot;</span>
                    <span class="s2">&quot;already actively used in one or more stack components &quot;</span>
                    <span class="s2">&quot;cannot be changed.&quot;</span>
                <span class="p">)</span>

        <span class="c1"># If the connector type is locally available, we validate the update</span>
        <span class="c1"># against the connector type schema before storing it in the</span>
        <span class="c1"># database</span>
        <span class="k">if</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">is_registered</span><span class="p">(</span>
            <span class="n">existing_connector</span><span class="o">.</span><span class="n">connector_type</span>
        <span class="p">):</span>
            <span class="n">connector_type</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
                    <span class="n">existing_connector</span><span class="o">.</span><span class="n">connector_type</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="c1"># We need the auth method to be set to be able to validate the</span>
            <span class="c1"># configuration</span>
            <span class="n">update</span><span class="o">.</span><span class="n">auth_method</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">update</span><span class="o">.</span><span class="n">auth_method</span> <span class="ow">or</span> <span class="n">existing_connector_model</span><span class="o">.</span><span class="n">auth_method</span>
            <span class="p">)</span>
            <span class="c1"># Validate the configuration update. If the configuration or</span>
            <span class="c1"># secrets fields are set, together they are merged into a</span>
            <span class="c1"># full configuration that is validated against the connector</span>
            <span class="c1"># type schema and replaces the existing configuration and</span>
            <span class="c1"># secrets values</span>
            <span class="n">update</span><span class="o">.</span><span class="n">validate_and_configure_resources</span><span class="p">(</span>
                <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
                <span class="n">resource_types</span><span class="o">=</span><span class="n">update</span><span class="o">.</span><span class="n">resource_types</span><span class="p">,</span>
                <span class="n">resource_id</span><span class="o">=</span><span class="n">update</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
                <span class="n">configuration</span><span class="o">=</span><span class="n">update</span><span class="o">.</span><span class="n">configuration</span><span class="p">,</span>
                <span class="n">secrets</span><span class="o">=</span><span class="n">update</span><span class="o">.</span><span class="n">secrets</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># Update secret</span>
        <span class="n">secret_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_connector_secret</span><span class="p">(</span>
            <span class="n">existing_connector</span><span class="o">=</span><span class="n">existing_connector_model</span><span class="p">,</span>
            <span class="n">updated_connector</span><span class="o">=</span><span class="n">update</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">existing_connector</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="n">connector_update</span><span class="o">=</span><span class="n">update</span><span class="p">,</span> <span class="n">secret_id</span><span class="o">=</span><span class="n">secret_id</span>
        <span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_connector</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="n">connector</span> <span class="o">=</span> <span class="n">existing_connector</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_populate_connector_type</span><span class="p">(</span><span class="n">connector</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">connector</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">,</span> <span class="n">stack_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update a stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack_update</code></td>
        <td><code>StackUpdateModel</code></td>
        <td><p>The update request on the stack.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponseModel</code></td>
      <td><p>The updated stack.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack doesn't exist.</p></td>
      </tr>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>if the stack is a default stack.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@track_decorator</span><span class="p">(</span><span class="n">AnalyticsEvent</span><span class="o">.</span><span class="n">UPDATED_STACK</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">update_stack</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">stack_update</span><span class="p">:</span> <span class="n">StackUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_id: The ID of the stack update.</span>
<span class="sd">        stack_update: The update request on the stack.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated stack.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack doesn&#39;t exist.</span>
<span class="sd">        IllegalOperationError: if the stack is a default stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="c1"># Check if stack with the domain key (name, workspace, owner) already</span>
        <span class="c1">#  exists</span>
        <span class="n">existing_stack</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StackSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">StackSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">stack_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_stack</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to update stack with id &#39;</span><span class="si">{</span><span class="n">stack_id</span><span class="si">}</span><span class="s2">&#39;: Found no&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;existing stack with this id.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">existing_stack</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">DEFAULT_STACK_NAME</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="s2">&quot;The default stack cannot be modified.&quot;</span>
            <span class="p">)</span>
        <span class="c1"># In case of a renaming update, make sure no stack already exists</span>
        <span class="c1"># with that name</span>
        <span class="k">if</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">existing_stack</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_stack_with_name_exists_for_user</span><span class="p">(</span>
                    <span class="n">stack</span><span class="o">=</span><span class="n">stack_update</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
                <span class="p">)</span>

        <span class="c1"># Check if stack update makes the stack a shared stack. In that</span>
        <span class="c1"># case, check if a stack with the same name is already shared</span>
        <span class="c1"># within the workspace</span>
        <span class="k">if</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_stack</span><span class="o">.</span><span class="n">is_shared</span> <span class="ow">and</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_stack_with_name_already_shared</span><span class="p">(</span>
                    <span class="n">stack</span><span class="o">=</span><span class="n">stack_update</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
                <span class="p">)</span>

        <span class="n">components</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">components</span><span class="p">:</span>
            <span class="n">filters</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component_id</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">list_of_component_ids</span> <span class="ow">in</span> <span class="n">stack_update</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">component_id</span> <span class="ow">in</span> <span class="n">list_of_component_ids</span>
            <span class="p">]</span>
            <span class="n">components</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">or_</span><span class="p">(</span><span class="o">*</span><span class="n">filters</span><span class="p">))</span>
            <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

        <span class="n">existing_stack</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="n">stack_update</span><span class="o">=</span><span class="n">stack_update</span><span class="p">,</span>
            <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_stack</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_stack</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">existing_stack</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">,</span> <span class="n">component_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an existing stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack component to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>component_update</code></td>
        <td><code>ComponentUpdateModel</code></td>
        <td><p>The update to be applied to the stack component.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponseModel</code></td>
      <td><p>The updated stack component.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack component doesn't exist.</p></td>
      </tr>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>if the stack component is a default stack
component.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_stack_component</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">component_update</span><span class="p">:</span> <span class="n">ComponentUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_id: The ID of the stack component to update.</span>
<span class="sd">        component_update: The update to be applied to the stack component.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated stack component.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack component doesn&#39;t exist.</span>
<span class="sd">        IllegalOperationError: if the stack component is a default stack</span>
<span class="sd">            component.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">existing_component</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">StackComponentSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">StackComponentSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">existing_component</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to update component with id &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">component_id</span><span class="si">}</span><span class="s2">&#39;: Found no&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;existing component with this id.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="n">existing_component</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">DEFAULT_STACK_COMPONENT_NAME</span>
            <span class="ow">and</span> <span class="n">existing_component</span><span class="o">.</span><span class="n">type</span>
            <span class="ow">in</span> <span class="p">[</span>
                <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The default </span><span class="si">{</span><span class="n">existing_component</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2"> cannot be modified.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># In case of a renaming update, make sure no component of the same</span>
        <span class="c1"># type already exists with that name</span>
        <span class="k">if</span> <span class="n">component_update</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">existing_component</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">component_update</span><span class="o">.</span><span class="n">name</span>
                <span class="ow">and</span> <span class="n">existing_component</span><span class="o">.</span><span class="n">user_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_component_with_name_type_exists_for_user</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">component_update</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">component_type</span><span class="o">=</span><span class="n">existing_component</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                    <span class="n">workspace_id</span><span class="o">=</span><span class="n">existing_component</span><span class="o">.</span><span class="n">workspace_id</span><span class="p">,</span>
                    <span class="n">user_id</span><span class="o">=</span><span class="n">existing_component</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
                    <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="c1"># Check if component update makes the component a shared component,</span>
        <span class="c1"># In that case check if a component with the same name, type are</span>
        <span class="c1"># already shared within the workspace</span>
        <span class="k">if</span> <span class="n">component_update</span><span class="o">.</span><span class="n">is_shared</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="ow">not</span> <span class="n">existing_component</span><span class="o">.</span><span class="n">is_shared</span>
                <span class="ow">and</span> <span class="n">component_update</span><span class="o">.</span><span class="n">is_shared</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fail_if_component_with_name_type_already_shared</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">component_update</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="n">existing_component</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">component_type</span><span class="o">=</span><span class="n">existing_component</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                    <span class="n">workspace_id</span><span class="o">=</span><span class="n">existing_component</span><span class="o">.</span><span class="n">workspace_id</span><span class="p">,</span>
                    <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="n">existing_component</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">component_update</span><span class="o">=</span><span class="n">component_update</span><span class="p">)</span>

        <span class="n">service_connector</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceConnectorSchema</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">component_update</span><span class="o">.</span><span class="n">connector</span><span class="p">:</span>
            <span class="n">service_connector</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
                <span class="n">select</span><span class="p">(</span><span class="n">ServiceConnectorSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                    <span class="n">ServiceConnectorSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">component_update</span><span class="o">.</span><span class="n">connector</span>
                <span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">service_connector</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="s2">&quot;Service connector with ID &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">component_update</span><span class="o">.</span><span class="n">connector</span><span class="si">}</span><span class="s2"> not found.&quot;</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="n">service_connector</span><span class="p">:</span>
            <span class="n">existing_component</span><span class="o">.</span><span class="n">connector</span> <span class="o">=</span> <span class="n">service_connector</span>

        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_component</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">existing_component</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_team" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">,</span> <span class="n">team_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an existing team.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the team to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>team_update</code></td>
        <td><code>TeamUpdateModel</code></td>
        <td><p>The update to be applied to the team.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamResponseModel</code></td>
      <td><p>The updated team.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the team does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_team</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">team_update</span><span class="p">:</span> <span class="n">TeamUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing team.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_id: The ID of the team to be updated.</span>
<span class="sd">        team_update: The update to be applied to the team.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated team.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the team does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">existing_team</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">TeamSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">TeamSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">team_id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">existing_team</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to update team with id &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">team_id</span><span class="si">}</span><span class="s2">&#39;: Found no&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;existing teams with this id.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Update the team</span>
        <span class="n">existing_team</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">team_update</span><span class="o">=</span><span class="n">team_update</span><span class="p">)</span>
        <span class="n">existing_team</span><span class="o">.</span><span class="n">users</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="s2">&quot;users&quot;</span> <span class="ow">in</span> <span class="n">team_update</span><span class="o">.</span><span class="n">__fields_set__</span> <span class="ow">and</span> <span class="n">team_update</span><span class="o">.</span><span class="n">users</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">team_update</span><span class="o">.</span><span class="n">users</span><span class="p">:</span>
                <span class="n">existing_team</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span>
                        <span class="n">user_name_or_id</span><span class="o">=</span><span class="n">user</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span>
                    <span class="p">)</span>
                <span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_team</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="c1"># Refresh the Model that was just created</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_team</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">existing_team</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">user_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an existing user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the user to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>user_update</code></td>
        <td><code>UserUpdateModel</code></td>
        <td><p>The update to be applied to the user.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponseModel</code></td>
      <td><p>The updated user.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>If the request tries to update the username
for the default user account.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_user</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">user_update</span><span class="p">:</span> <span class="n">UserUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an existing user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id: The id of the user to update.</span>
<span class="sd">        user_update: The update to be applied to the user.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated user.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: If the request tries to update the username</span>
<span class="sd">            for the default user account.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">existing_user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_user_schema</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">existing_user</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_user_name</span>
            <span class="ow">and</span> <span class="s2">&quot;name&quot;</span> <span class="ow">in</span> <span class="n">user_update</span><span class="o">.</span><span class="n">__fields_set__</span>
            <span class="ow">and</span> <span class="n">user_update</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">existing_user</span><span class="o">.</span><span class="n">name</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="s2">&quot;The username of the default user account cannot be &quot;</span>
                <span class="s2">&quot;changed.&quot;</span>
            <span class="p">)</span>
        <span class="n">existing_user</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">user_update</span><span class="o">=</span><span class="n">user_update</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_user</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="c1"># Refresh the Model that was just created</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_user</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">existing_user</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.update_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an existing workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the workspace to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>workspace_update</code></td>
        <td><code>WorkspaceUpdateModel</code></td>
        <td><p>The update to be applied to the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponseModel</code></td>
      <td><p>The updated workspace.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>IllegalOperationError</code></td>
        <td><p>if the workspace is the default workspace.</p></td>
      </tr>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the workspace does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_workspace</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">:</span> <span class="n">WorkspaceUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_id: The ID of the workspace to be updated.</span>
<span class="sd">        workspace_update: The update to be applied to the workspace.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated workspace.</span>

<span class="sd">    Raises:</span>
<span class="sd">        IllegalOperationError: if the workspace is the default workspace.</span>
<span class="sd">        KeyError: if the workspace does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">existing_workspace</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span>
            <span class="n">select</span><span class="p">(</span><span class="n">WorkspaceSchema</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="n">WorkspaceSchema</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">workspace_id</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">existing_workspace</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to update workspace with id &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">workspace_id</span><span class="si">}</span><span class="s2">&#39;: Found no&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;existing workspaces with this id.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">existing_workspace</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_default_workspace_name</span>
            <span class="ow">and</span> <span class="s2">&quot;name&quot;</span> <span class="ow">in</span> <span class="n">workspace_update</span><span class="o">.</span><span class="n">__fields_set__</span>
            <span class="ow">and</span> <span class="n">workspace_update</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">existing_workspace</span><span class="o">.</span><span class="n">name</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="n">IllegalOperationError</span><span class="p">(</span>
                <span class="s2">&quot;The name of the default workspace cannot be changed.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Update the workspace</span>
        <span class="n">existing_workspace</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">workspace_update</span><span class="o">=</span><span class="n">workspace_update</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">existing_workspace</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="c1"># Refresh the Model that was just created</span>
        <span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">existing_workspace</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">existing_workspace</span><span class="o">.</span><span class="n">to_model</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.verify_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verifies if a service connector instance has access to one or more resources.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to verify.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of resource to verify access to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of the resource to verify access to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>list_resources</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the list of all resources accessible
through the service connector and matching the supplied resource
type and ID are returned.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResourcesModel</code></td>
      <td><p>The list of resources that the service connector has access to,
scoped to the supplied resource type and ID, if provided.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">verify_service_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector instance has access to one or more resources.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the service connector to verify.</span>
<span class="sd">        resource_type: The type of resource to verify access to.</span>
<span class="sd">        resource_id: The ID of the resource to verify access to.</span>
<span class="sd">        list_resources: If True, the list of all resources accessible</span>
<span class="sd">            through the service connector and matching the supplied resource</span>
<span class="sd">            type and ID are returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The list of resources that the service connector has access to,</span>
<span class="sd">        scoped to the supplied resource type and ID, if provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_connector</span><span class="p">(</span><span class="n">service_connector_id</span><span class="p">)</span>

    <span class="n">connector_instance</span> <span class="o">=</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">instantiate_connector</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">connector</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">connector_instance</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="n">list_resources</span><span class="o">=</span><span class="n">list_resources</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStore.verify_service_connector_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_service_connector_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector</span><span class="p">,</span> <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verifies if a service connector configuration has access to resources.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector</code></td>
        <td><code>ServiceConnectorRequestModel</code></td>
        <td><p>The service connector configuration to verify.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>list_resources</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the list of all resources accessible
through the service connector is returned.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResourcesModel</code></td>
      <td><p>The list of resources that the service connector configuration has
access to.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">verify_service_connector_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service_connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span><span class="p">,</span>
    <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector configuration has access to resources.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector: The service connector configuration to verify.</span>
<span class="sd">        list_resources: If True, the list of all resources accessible</span>
<span class="sd">            through the service connector is returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The list of resources that the service connector configuration has</span>
<span class="sd">        access to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connector_instance</span> <span class="o">=</span> <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">instantiate_connector</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">service_connector</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">connector_instance</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span><span class="n">list_resources</span><span class="o">=</span><span class="n">list_resources</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration" class="doc doc-heading">
        <code>
SqlZenStoreConfiguration            (<a class="autorefs autorefs-internal" title="zenml.config.store_config.StoreConfiguration" href="../core-config/#zenml.config.store_config.StoreConfiguration">StoreConfiguration</a>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>SQL ZenML store configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>StoreType</code></td>
        <td><p>The type of the store.</p></td>
      </tr>
      <tr>
        <td><code>secrets_store</code></td>
        <td><code>Optional[zenml.config.secrets_store_config.SecretsStoreConfiguration]</code></td>
        <td><p>The configuration of the secrets store to use.
This defaults to a SQL secrets store that extends the SQL ZenML
store.</p></td>
      </tr>
      <tr>
        <td><code>driver</code></td>
        <td><code>Optional[zenml.zen_stores.sql_zen_store.SQLDatabaseDriver]</code></td>
        <td><p>The SQL database driver.</p></td>
      </tr>
      <tr>
        <td><code>database</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>database name. If not already present on the server, it will
be created automatically on first access.</p></td>
      </tr>
      <tr>
        <td><code>username</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The database username.</p></td>
      </tr>
      <tr>
        <td><code>password</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The database password.</p></td>
      </tr>
      <tr>
        <td><code>ssl_ca</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>certificate authority certificate. Required for SSL
enabled authentication if the CA certificate is not part of the
certificates shipped by the operating system.</p></td>
      </tr>
      <tr>
        <td><code>ssl_cert</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>client certificate. Required for SSL enabled
authentication if client certificates are used.</p></td>
      </tr>
      <tr>
        <td><code>ssl_key</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>client certificate private key. Required for SSL
enabled if client certificates are used.</p></td>
      </tr>
      <tr>
        <td><code>ssl_verify_server_cert</code></td>
        <td><code>bool</code></td>
        <td><p>set to verify the identity of the server
against the provided server certificate.</p></td>
      </tr>
      <tr>
        <td><code>pool_size</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of connections to keep in the SQLAlchemy
pool.</p></td>
      </tr>
      <tr>
        <td><code>max_overflow</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of connections to allow in the
SQLAlchemy pool in addition to the pool_size.</p></td>
      </tr>
      <tr>
        <td><code>pool_pre_ping</code></td>
        <td><code>bool</code></td>
        <td><p>Enable emitting a test statement on the SQL connection
at the start of each connection pool checkout, to test that the
database connection is still viable.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">SqlZenStoreConfiguration</span><span class="p">(</span><span class="n">StoreConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SQL ZenML store configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: The type of the store.</span>
<span class="sd">        secrets_store: The configuration of the secrets store to use.</span>
<span class="sd">            This defaults to a SQL secrets store that extends the SQL ZenML</span>
<span class="sd">            store.</span>
<span class="sd">        driver: The SQL database driver.</span>
<span class="sd">        database: database name. If not already present on the server, it will</span>
<span class="sd">            be created automatically on first access.</span>
<span class="sd">        username: The database username.</span>
<span class="sd">        password: The database password.</span>
<span class="sd">        ssl_ca: certificate authority certificate. Required for SSL</span>
<span class="sd">            enabled authentication if the CA certificate is not part of the</span>
<span class="sd">            certificates shipped by the operating system.</span>
<span class="sd">        ssl_cert: client certificate. Required for SSL enabled</span>
<span class="sd">            authentication if client certificates are used.</span>
<span class="sd">        ssl_key: client certificate private key. Required for SSL</span>
<span class="sd">            enabled if client certificates are used.</span>
<span class="sd">        ssl_verify_server_cert: set to verify the identity of the server</span>
<span class="sd">            against the provided server certificate.</span>
<span class="sd">        pool_size: The maximum number of connections to keep in the SQLAlchemy</span>
<span class="sd">            pool.</span>
<span class="sd">        max_overflow: The maximum number of connections to allow in the</span>
<span class="sd">            SQLAlchemy pool in addition to the pool_size.</span>
<span class="sd">        pool_pre_ping: Enable emitting a test statement on the SQL connection</span>
<span class="sd">            at the start of each connection pool checkout, to test that the</span>
<span class="sd">            database connection is still viable.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">StoreType</span> <span class="o">=</span> <span class="n">StoreType</span><span class="o">.</span><span class="n">SQL</span>

    <span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">driver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SQLDatabaseDriver</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">database</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssl_ca</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssl_cert</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssl_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ssl_verify_server_cert</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">pool_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">max_overflow</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">pool_pre_ping</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;secrets_store&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_secrets_store</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretsStoreConfiguration</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ensures that the secrets store is initialized with a default SQL secrets store.</span>

<span class="sd">        Args:</span>
<span class="sd">            secrets_store: The secrets store config to be validated.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated secrets store config.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">secrets_store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">secrets_store</span> <span class="o">=</span> <span class="n">SqlSecretsStoreConfiguration</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">secrets_store</span>

    <span class="nd">@root_validator</span><span class="p">(</span><span class="n">pre</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_remove_grpc_attributes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes old GRPC attributes.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: All model attribute values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model attribute values</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">grpc_attribute_keys</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;grpc_metadata_host&quot;</span><span class="p">,</span>
            <span class="s2">&quot;grpc_metadata_port&quot;</span><span class="p">,</span>
            <span class="s2">&quot;grpc_metadata_ssl_ca&quot;</span><span class="p">,</span>
            <span class="s2">&quot;grpc_metadata_ssl_key&quot;</span><span class="p">,</span>
            <span class="s2">&quot;grpc_metadata_ssl_cert&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">grpc_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">values</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">grpc_attribute_keys</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">grpc_values</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;The GRPC attributes </span><span class="si">%s</span><span class="s2"> are unused and will be removed soon. &quot;</span>
                <span class="s2">&quot;Please remove them from SQLZenStore configuration. This will &quot;</span>
                <span class="s2">&quot;become an error in future versions of ZenML.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@root_validator</span>
    <span class="k">def</span> <span class="nf">_validate_url</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate the SQL URL.</span>

<span class="sd">        The validator also moves the MySQL username, password and database</span>
<span class="sd">        parameters from the URL into the other configuration arguments, if they</span>
<span class="sd">        are present in the URL.</span>

<span class="sd">        Args:</span>
<span class="sd">            values: The values to validate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated values.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the URL is invalid or the SQL driver is not</span>
<span class="sd">                supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">values</span>

        <span class="c1"># When running inside a container, if the URL uses localhost, the</span>
        <span class="c1"># target service will not be available. We try to replace localhost</span>
        <span class="c1"># with one of the special Docker or K3D internal hostnames.</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">replace_localhost_with_internal_hostname</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">sql_url</span> <span class="o">=</span> <span class="n">make_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ArgumentError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid SQL URL `</span><span class="si">%s</span><span class="s2">`: </span><span class="si">%s</span><span class="s2">. The URL must be in the format &quot;</span>
                <span class="s2">&quot;`driver://[[username:password@]hostname:port]/database[&quot;</span>
                <span class="s2">&quot;?&lt;extra-args&gt;]`.&quot;</span><span class="p">,</span>
                <span class="n">url</span><span class="p">,</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Invalid SQL driver value `</span><span class="si">%s</span><span class="s2">`: The driver must be one of: </span><span class="si">%s</span><span class="s2">.&quot;</span><span class="p">,</span>
                <span class="n">url</span><span class="p">,</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span>
            <span class="p">)</span>
        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;driver&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">SQLDatabaseDriver</span><span class="p">(</span><span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">sql_url</span><span class="o">.</span><span class="n">username</span>
                <span class="ow">or</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">password</span>
                <span class="ow">or</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">query</span>
                <span class="ow">or</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">database</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid SQLite URL `</span><span class="si">%s</span><span class="s2">`: The URL must be in the &quot;</span>
                    <span class="s2">&quot;format `sqlite:///path/to/database.db`.&quot;</span><span class="p">,</span>
                    <span class="n">url</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid SQLite configuration: The username and password &quot;</span>
                    <span class="s2">&quot;must not be set&quot;</span><span class="p">,</span>
                    <span class="n">url</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="n">values</span><span class="p">[</span><span class="s2">&quot;database&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">database</span>
        <span class="k">elif</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">MYSQL</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">username</span><span class="p">:</span>
                <span class="n">values</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">username</span>
                <span class="n">sql_url</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">password</span><span class="p">:</span>
                <span class="n">values</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">password</span>
                <span class="n">sql_url</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">database</span><span class="p">:</span>
                <span class="n">values</span><span class="p">[</span><span class="s2">&quot;database&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">database</span>
                <span class="n">sql_url</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">database</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">query</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;ssl_ca&quot;</span><span class="p">:</span>
                        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;ssl_ca&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;ssl_cert&quot;</span><span class="p">:</span>
                        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;ssl_cert&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;ssl_key&quot;</span><span class="p">:</span>
                        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;ssl_key&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;ssl_verify_server_cert&quot;</span><span class="p">:</span>
                        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;ssl_verify_server_cert&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="s2">&quot;Invalid MySQL URL query parameter `</span><span class="si">%s</span><span class="s2">`: The &quot;</span>
                            <span class="s2">&quot;parameter must be one of: ssl_ca, ssl_cert, &quot;</span>
                            <span class="s2">&quot;ssl_key, or ssl_verify_server_cert.&quot;</span><span class="p">,</span>
                            <span class="n">k</span><span class="p">,</span>
                        <span class="p">)</span>
                <span class="n">sql_url</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="p">{})</span>

            <span class="n">database</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;database&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="ow">not</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="ow">not</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">)</span>
                <span class="ow">or</span> <span class="ow">not</span> <span class="n">database</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Invalid MySQL configuration: The username, password and &quot;</span>
                    <span class="s2">&quot;database must be set in the URL or as configuration &quot;</span>
                    <span class="s2">&quot;attributes&quot;</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">regexp</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^[^</span><span class="se">\\</span><span class="s2">/?%*:|</span><span class="se">\&quot;</span><span class="s2">&lt;&gt;.-]{1,64}$&quot;</span>
            <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">regexp</span><span class="p">,</span> <span class="n">database</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The database name does not conform to the required &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;format &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;rules (</span><span class="si">{</span><span class="n">regexp</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="n">database</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Save the certificates in a secure location on disk</span>
            <span class="n">secret_folder</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span>
                <span class="n">GlobalConfiguration</span><span class="p">()</span><span class="o">.</span><span class="n">local_stores_path</span><span class="p">,</span>
                <span class="s2">&quot;certificates&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;ssl_key&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_ca&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_cert&quot;</span><span class="p">]:</span>
                <span class="n">content</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">content</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">content</span><span class="p">):</span>
                    <span class="n">fileio</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">))</span>
                    <span class="n">file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">secret_folder</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">.pem&quot;</span><span class="p">)</span>
                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
                    <span class="n">file_path</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="mo">0o600</span><span class="p">)</span>
                    <span class="n">values</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

        <span class="n">values</span><span class="p">[</span><span class="s2">&quot;url&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sql_url</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_local_url</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a local SQL url for a given local path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to the local sqlite file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The local SQL url for the given path.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;sqlite:///</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">ZENML_SQLITE_DB_FILENAME</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">supports_url_scheme</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a URL scheme is supported by this store.</span>

<span class="sd">        Args:</span>
<span class="sd">            url: The URL to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the URL scheme is supported, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">make_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">drivername</span> <span class="ow">in</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">expand_certificates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Expands the certificates in the verify_ssl field.&quot;&quot;&quot;</span>
        <span class="c1"># Load the certificate values back into the configuration</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;ssl_key&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_ca&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_cert&quot;</span><span class="p">]:</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">file_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">copy_configuration</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">,</span>
        <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">load_config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PurePath</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Copy the store config using a different configuration path.</span>

<span class="sd">        This method is used to create a copy of the store configuration that can</span>
<span class="sd">        be loaded using a different configuration path or in the context of a</span>
<span class="sd">        new environment, such as a container image.</span>

<span class="sd">        The configuration files accompanying the store configuration are also</span>
<span class="sd">        copied to the new configuration path (e.g. certificates etc.).</span>

<span class="sd">        Args:</span>
<span class="sd">            config: The store configuration to copy.</span>
<span class="sd">            config_path: new path where the configuration copy will be loaded</span>
<span class="sd">                from.</span>
<span class="sd">            load_config_path: absolute path that will be used to load the copied</span>
<span class="sd">                configuration. This can be set to a value different from</span>
<span class="sd">                `config_path` if the configuration copy will be loaded from</span>
<span class="sd">                a different environment, e.g. when the configuration is copied</span>
<span class="sd">                to a container image and loaded using a different absolute path.</span>
<span class="sd">                This will be reflected in the paths and URLs encoded in the</span>
<span class="sd">                copied configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new store configuration object that reflects the new configuration</span>
<span class="sd">            path.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">SqlZenStoreConfiguration</span><span class="p">)</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">driver</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">MYSQL</span><span class="p">:</span>
            <span class="c1"># Load the certificate values back into the configuration</span>
            <span class="n">config</span><span class="o">.</span><span class="n">expand_certificates</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">config</span><span class="o">.</span><span class="n">driver</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">load_config_path</span><span class="p">:</span>
                <span class="n">config</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_local_url</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">load_config_path</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">config</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_local_url</span><span class="p">(</span><span class="n">config_path</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">config</span>

    <span class="k">def</span> <span class="nf">get_sqlmodel_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the SQLModel engine configuration for the SQL ZenML store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The URL and connection arguments for the SQLModel engine.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If the SQL driver is not supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sql_url</span> <span class="o">=</span> <span class="n">make_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="n">sqlalchemy_connect_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">engine_args</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">:</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="c1"># The following default value is needed for sqlite to avoid the</span>
            <span class="c1"># Error:</span>
            <span class="c1">#   sqlite3.ProgrammingError: SQLite objects created in a thread can</span>
            <span class="c1">#   only be used in that same thread.</span>
            <span class="n">sqlalchemy_connect_args</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;check_same_thread&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
        <span class="k">elif</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">MYSQL</span><span class="p">:</span>
            <span class="c1"># all these are guaranteed by our root validator</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">host</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="n">engine_args</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;pool_size&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pool_size</span><span class="p">,</span>
                <span class="s2">&quot;max_overflow&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_overflow</span><span class="p">,</span>
                <span class="s2">&quot;pool_pre_ping&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pool_pre_ping</span><span class="p">,</span>
            <span class="p">}</span>

            <span class="n">sql_url</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span>
                <span class="n">drivername</span><span class="o">=</span><span class="s2">&quot;mysql+pymysql&quot;</span><span class="p">,</span>
                <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
                <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
                <span class="n">database</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">sqlalchemy_ssl_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="c1"># Handle SSL params</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;ssl_key&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_ca&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_cert&quot;</span><span class="p">]:</span>
                <span class="n">ssl_setting</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">ssl_setting</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">ssl_setting</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Database SSL setting `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">` is not a file. &quot;</span>
                    <span class="p">)</span>
                <span class="n">sqlalchemy_ssl_args</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;ssl_&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">ssl_setting</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sqlalchemy_ssl_args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">sqlalchemy_ssl_args</span><span class="p">[</span>
                    <span class="s2">&quot;check_hostname&quot;</span>
                <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ssl_verify_server_cert</span>
                <span class="n">sqlalchemy_connect_args</span><span class="p">[</span><span class="s2">&quot;ssl&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sqlalchemy_ssl_args</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;SQL driver `</span><span class="si">{</span><span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span><span class="si">}</span><span class="s2">` is not supported.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">sql_url</span><span class="p">),</span> <span class="n">sqlalchemy_connect_args</span><span class="p">,</span> <span class="n">engine_args</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

        <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
        <span class="c1"># because the certificate attributes can be expanded to the contents</span>
        <span class="c1"># of the certificate files.</span>
        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Forbid extra attributes set in the class.</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-class">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.Config" class="doc doc-heading">
        <code>
Config        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Pydantic configuration class.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pydantic configuration class.&quot;&quot;&quot;</span>

    <span class="c1"># Don&#39;t validate attributes when assigning them. This is necessary</span>
    <span class="c1"># because the certificate attributes can be expanded to the contents</span>
    <span class="c1"># of the certificate files.</span>
    <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># Forbid extra attributes set in the class.</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;forbid&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>







  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.copy_configuration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">copy_configuration</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">config_path</span><span class="p">,</span> <span class="n">load_config_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Copy the store config using a different configuration path.</p>
<p>This method is used to create a copy of the store configuration that can
be loaded using a different configuration path or in the context of a
new environment, such as a container image.</p>
<p>The configuration files accompanying the store configuration are also
copied to the new configuration path (e.g. certificates etc.).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>StoreConfiguration</code></td>
        <td><p>The store configuration to copy.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>config_path</code></td>
        <td><code>str</code></td>
        <td><p>new path where the configuration copy will be loaded
from.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>load_config_path</code></td>
        <td><code>Optional[pathlib.PurePath]</code></td>
        <td><p>absolute path that will be used to load the copied
configuration. This can be set to a value different from
<code>config_path</code> if the configuration copy will be loaded from
a different environment, e.g. when the configuration is copied
to a container image and loaded using a different absolute path.
This will be reflected in the paths and URLs encoded in the
copied configuration.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StoreConfiguration</code></td>
      <td><p>A new store configuration object that reflects the new configuration
path.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">copy_configuration</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">config</span><span class="p">:</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">,</span>
    <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">load_config_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">PurePath</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;StoreConfiguration&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Copy the store config using a different configuration path.</span>

<span class="sd">    This method is used to create a copy of the store configuration that can</span>
<span class="sd">    be loaded using a different configuration path or in the context of a</span>
<span class="sd">    new environment, such as a container image.</span>

<span class="sd">    The configuration files accompanying the store configuration are also</span>
<span class="sd">    copied to the new configuration path (e.g. certificates etc.).</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The store configuration to copy.</span>
<span class="sd">        config_path: new path where the configuration copy will be loaded</span>
<span class="sd">            from.</span>
<span class="sd">        load_config_path: absolute path that will be used to load the copied</span>
<span class="sd">            configuration. This can be set to a value different from</span>
<span class="sd">            `config_path` if the configuration copy will be loaded from</span>
<span class="sd">            a different environment, e.g. when the configuration is copied</span>
<span class="sd">            to a container image and loaded using a different absolute path.</span>
<span class="sd">            This will be reflected in the paths and URLs encoded in the</span>
<span class="sd">            copied configuration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new store configuration object that reflects the new configuration</span>
<span class="sd">        path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">SqlZenStoreConfiguration</span><span class="p">)</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">driver</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">MYSQL</span><span class="p">:</span>
        <span class="c1"># Load the certificate values back into the configuration</span>
        <span class="n">config</span><span class="o">.</span><span class="n">expand_certificates</span><span class="p">()</span>

    <span class="k">elif</span> <span class="n">config</span><span class="o">.</span><span class="n">driver</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">load_config_path</span><span class="p">:</span>
            <span class="n">config</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_local_url</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">load_config_path</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">config</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_local_url</span><span class="p">(</span><span class="n">config_path</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.expand_certificates" class="doc doc-heading">
<code class="highlight language-python"><span class="n">expand_certificates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Expands the certificates in the verify_ssl field.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">expand_certificates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Expands the certificates in the verify_ssl field.&quot;&quot;&quot;</span>
    <span class="c1"># Load the certificate values back into the configuration</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;ssl_key&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_ca&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_cert&quot;</span><span class="p">]:</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.get_local_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_local_url</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get a local SQL url for a given local path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>str</code></td>
        <td><p>The path to the local sqlite file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The local SQL url for the given path.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_local_url</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a local SQL url for a given local path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to the local sqlite file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The local SQL url for the given path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;sqlite:///</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">ZENML_SQLITE_DB_FILENAME</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.get_sqlmodel_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_sqlmodel_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the SQLModel engine configuration for the SQL ZenML store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[str, Dict[str, Any], Dict[str, Any]]</code></td>
      <td><p>The URL and connection arguments for the SQLModel engine.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>If the SQL driver is not supported.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_sqlmodel_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the SQLModel engine configuration for the SQL ZenML store.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The URL and connection arguments for the SQLModel engine.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: If the SQL driver is not supported.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sql_url</span> <span class="o">=</span> <span class="n">make_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="n">sqlalchemy_connect_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">engine_args</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">SQLITE</span><span class="p">:</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="c1"># The following default value is needed for sqlite to avoid the</span>
        <span class="c1"># Error:</span>
        <span class="c1">#   sqlite3.ProgrammingError: SQLite objects created in a thread can</span>
        <span class="c1">#   only be used in that same thread.</span>
        <span class="n">sqlalchemy_connect_args</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;check_same_thread&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
    <span class="k">elif</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span> <span class="o">==</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">MYSQL</span><span class="p">:</span>
        <span class="c1"># all these are guaranteed by our root validator</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">password</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">host</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">engine_args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;pool_size&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pool_size</span><span class="p">,</span>
            <span class="s2">&quot;max_overflow&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_overflow</span><span class="p">,</span>
            <span class="s2">&quot;pool_pre_ping&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pool_pre_ping</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">sql_url</span> <span class="o">=</span> <span class="n">sql_url</span><span class="o">.</span><span class="n">_replace</span><span class="p">(</span>
            <span class="n">drivername</span><span class="o">=</span><span class="s2">&quot;mysql+pymysql&quot;</span><span class="p">,</span>
            <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
            <span class="n">database</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">sqlalchemy_ssl_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Handle SSL params</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;ssl_key&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_ca&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl_cert&quot;</span><span class="p">]:</span>
            <span class="n">ssl_setting</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ssl_setting</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">ssl_setting</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Database SSL setting `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">` is not a file. &quot;</span>
                <span class="p">)</span>
            <span class="n">sqlalchemy_ssl_args</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;ssl_&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">ssl_setting</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sqlalchemy_ssl_args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">sqlalchemy_ssl_args</span><span class="p">[</span>
                <span class="s2">&quot;check_hostname&quot;</span>
            <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ssl_verify_server_cert</span>
            <span class="n">sqlalchemy_connect_args</span><span class="p">[</span><span class="s2">&quot;ssl&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sqlalchemy_ssl_args</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;SQL driver `</span><span class="si">{</span><span class="n">sql_url</span><span class="o">.</span><span class="n">drivername</span><span class="si">}</span><span class="s2">` is not supported.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">sql_url</span><span class="p">),</span> <span class="n">sqlalchemy_connect_args</span><span class="p">,</span> <span class="n">engine_args</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.supports_url_scheme" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supports_url_scheme</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Check if a URL scheme is supported by this store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>url</code></td>
        <td><code>str</code></td>
        <td><p>The URL to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the URL scheme is supported, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">supports_url_scheme</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if a URL scheme is supported by this store.</span>

<span class="sd">    Args:</span>
<span class="sd">        url: The URL to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the URL scheme is supported, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">make_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">drivername</span> <span class="ow">in</span> <span class="n">SQLDatabaseDriver</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.sql_zen_store.SqlZenStoreConfiguration.validate_secrets_store" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_secrets_store</span><span class="p">(</span><span class="n">secrets_store</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Ensures that the secrets store is initialized with a default SQL secrets store.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secrets_store</code></td>
        <td><code>Optional[zenml.config.secrets_store_config.SecretsStoreConfiguration]</code></td>
        <td><p>The secrets store config to be validated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>SecretsStoreConfiguration</code></td>
      <td><p>The validated secrets store config.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/sql_zen_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s2">&quot;secrets_store&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_secrets_store</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span> <span class="n">secrets_store</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SecretsStoreConfiguration</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SecretsStoreConfiguration</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Ensures that the secrets store is initialized with a default SQL secrets store.</span>

<span class="sd">    Args:</span>
<span class="sd">        secrets_store: The secrets store config to be validated.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The validated secrets store config.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">secrets_store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">secrets_store</span> <span class="o">=</span> <span class="n">SqlSecretsStoreConfiguration</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">secrets_store</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.zen_stores.zen_store_interface" class="doc doc-heading">
        <code>zen_store_interface</code>



</h3>

    <div class="doc doc-contents ">

      <p>ZenML Store interface.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface" class="doc doc-heading">
        <code>
ZenStoreInterface            (<span title="abc.ABC">ABC</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>ZenML store interface.</p>
<p>All ZenML stores must implement the methods in this interface.</p>
<p>The methods in this interface are organized in the following way:</p>
<ul>
<li>
<p>they are grouped into categories based on the type of resource
   that they operate on (e.g. stacks, stack components, etc.)</p>
</li>
<li>
<p>each category has a set of CRUD methods (create, read, update, delete)
   that operate on the resources in that category. The order of the methods
   in each category should be:</p>
</li>
<li>
<p>create methods - store a new resource. These methods
     should fill in generated fields (e.g. UUIDs, creation timestamps) in
     the resource and return the updated resource.</p>
</li>
<li>get methods - retrieve a single existing resource identified by a
     unique key or identifier from the store. These methods should always
     return a resource and raise an exception if the resource does not
     exist.</li>
<li>list methods - retrieve a list of resources from the store. These
     methods should accept a set of filter parameters that can be used to
     filter the list of resources retrieved from the store.</li>
<li>update methods - update an existing resource in the store. These
     methods should expect the updated resource to be correctly identified
     by its unique key or identifier and raise an exception if the resource
     does not exist.</li>
<li>delete methods - delete an existing resource from the store. These
     methods should expect the resource to be correctly identified by its
     unique key or identifier. If the resource does not exist,
     an exception should be raised.</li>
</ul>
<p>Best practices for implementing and keeping this interface clean and easy to
maintain and extend:</p>
<ul>
<li>keep methods organized by resource type and ordered by CRUD operation</li>
<li>for resources with multiple keys, don't implement multiple get or list
  methods here if the same functionality can be achieved by a single get or
  list method. Instead, implement them in the BaseZenStore class and have
  them call the generic get or list method in this interface.</li>
<li>keep the logic required to convert between ZenML domain Model classes
  and internal store representations outside the ZenML domain Model classes</li>
<li>methods for resources that have two or more unique keys (e.g. a Workspace
  is uniquely identified by its name as well as its UUID) should reflect
  that in the method variants and/or method arguments:<ul>
<li>methods that take in a resource identifier as argument should accept
all variants of the identifier (e.g. <code>workspace_name_or_uuid</code> for methods
that get/list/update/delete Workspaces)</li>
<li>if a compound key is involved, separate get methods should be
implemented (e.g. <code>get_pipeline</code> to get a pipeline by ID and
<code>get_pipeline_in_workspace</code> to get a pipeline by its name and the ID of
the workspace it belongs to)</li>
</ul>
</li>
<li>methods for resources that are scoped as children of other resources
  (e.g. a Stack is always owned by a Workspace) should reflect the
  key(s) of the parent resource in the provided methods and method
  arguments:<ul>
<li>create methods should take the parent resource UUID(s) as an argument
(e.g. <code>create_stack</code> takes in the workspace ID)</li>
<li>get methods should be provided to retrieve a resource by the compound
key that includes the parent resource key(s)</li>
<li>list methods should feature optional filter arguments that reflect
the parent resource key(s)</li>
</ul>
</li>
</ul>

        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ZenStoreInterface</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ZenML store interface.</span>

<span class="sd">    All ZenML stores must implement the methods in this interface.</span>

<span class="sd">    The methods in this interface are organized in the following way:</span>

<span class="sd">     * they are grouped into categories based on the type of resource</span>
<span class="sd">       that they operate on (e.g. stacks, stack components, etc.)</span>

<span class="sd">     * each category has a set of CRUD methods (create, read, update, delete)</span>
<span class="sd">       that operate on the resources in that category. The order of the methods</span>
<span class="sd">       in each category should be:</span>

<span class="sd">       * create methods - store a new resource. These methods</span>
<span class="sd">         should fill in generated fields (e.g. UUIDs, creation timestamps) in</span>
<span class="sd">         the resource and return the updated resource.</span>
<span class="sd">       * get methods - retrieve a single existing resource identified by a</span>
<span class="sd">         unique key or identifier from the store. These methods should always</span>
<span class="sd">         return a resource and raise an exception if the resource does not</span>
<span class="sd">         exist.</span>
<span class="sd">       * list methods - retrieve a list of resources from the store. These</span>
<span class="sd">         methods should accept a set of filter parameters that can be used to</span>
<span class="sd">         filter the list of resources retrieved from the store.</span>
<span class="sd">       * update methods - update an existing resource in the store. These</span>
<span class="sd">         methods should expect the updated resource to be correctly identified</span>
<span class="sd">         by its unique key or identifier and raise an exception if the resource</span>
<span class="sd">         does not exist.</span>
<span class="sd">       * delete methods - delete an existing resource from the store. These</span>
<span class="sd">         methods should expect the resource to be correctly identified by its</span>
<span class="sd">         unique key or identifier. If the resource does not exist,</span>
<span class="sd">         an exception should be raised.</span>

<span class="sd">    Best practices for implementing and keeping this interface clean and easy to</span>
<span class="sd">    maintain and extend:</span>

<span class="sd">      * keep methods organized by resource type and ordered by CRUD operation</span>
<span class="sd">      * for resources with multiple keys, don&#39;t implement multiple get or list</span>
<span class="sd">      methods here if the same functionality can be achieved by a single get or</span>
<span class="sd">      list method. Instead, implement them in the BaseZenStore class and have</span>
<span class="sd">      them call the generic get or list method in this interface.</span>
<span class="sd">      * keep the logic required to convert between ZenML domain Model classes</span>
<span class="sd">      and internal store representations outside the ZenML domain Model classes</span>
<span class="sd">      * methods for resources that have two or more unique keys (e.g. a Workspace</span>
<span class="sd">      is uniquely identified by its name as well as its UUID) should reflect</span>
<span class="sd">      that in the method variants and/or method arguments:</span>
<span class="sd">        * methods that take in a resource identifier as argument should accept</span>
<span class="sd">        all variants of the identifier (e.g. `workspace_name_or_uuid` for methods</span>
<span class="sd">        that get/list/update/delete Workspaces)</span>
<span class="sd">        * if a compound key is involved, separate get methods should be</span>
<span class="sd">        implemented (e.g. `get_pipeline` to get a pipeline by ID and</span>
<span class="sd">        `get_pipeline_in_workspace` to get a pipeline by its name and the ID of</span>
<span class="sd">        the workspace it belongs to)</span>
<span class="sd">      * methods for resources that are scoped as children of other resources</span>
<span class="sd">      (e.g. a Stack is always owned by a Workspace) should reflect the</span>
<span class="sd">      key(s) of the parent resource in the provided methods and method</span>
<span class="sd">      arguments:</span>
<span class="sd">        * create methods should take the parent resource UUID(s) as an argument</span>
<span class="sd">        (e.g. `create_stack` takes in the workspace ID)</span>
<span class="sd">        * get methods should be provided to retrieve a resource by the compound</span>
<span class="sd">        key that includes the parent resource key(s)</span>
<span class="sd">        * list methods should feature optional filter arguments that reflect</span>
<span class="sd">        the parent resource key(s)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># ---------------------------------</span>
    <span class="c1"># Initialization and configuration</span>
    <span class="c1"># ---------------------------------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the store.</span>

<span class="sd">        This method is called immediately after the store is created. It should</span>
<span class="sd">        be used to set up the backend (database, connection etc.).</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_store_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get information about the store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Information about the store.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ------</span>
    <span class="c1"># Stacks</span>
    <span class="c1"># ------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">StackRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack: The stack to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created stack.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StackExistsError: If a stack with the same name is already owned</span>
<span class="sd">                by this user in this workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a stack by its unique ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_id: The ID of the stack to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The stack with the given ID.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_stacks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">stack_filter_model</span><span class="p">:</span> <span class="n">StackFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StackResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all stacks matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_filter_model: All filter parameters including pagination</span>
<span class="sd">                params</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all stacks matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_stack</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">stack_update</span><span class="p">:</span> <span class="n">StackUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update a stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_id: The ID of the stack update.</span>
<span class="sd">            stack_update: The update request on the stack.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated stack.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a stack.</span>

<span class="sd">        Args:</span>
<span class="sd">            stack_id: The ID of the stack to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ----------------</span>
    <span class="c1"># Stack components</span>
    <span class="c1"># ----------------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_stack_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">ComponentRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a stack component.</span>

<span class="sd">        Args:</span>
<span class="sd">            component: The stack component to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created stack component.</span>

<span class="sd">        Raises:</span>
<span class="sd">            StackComponentExistsError: If a stack component with the same name</span>
<span class="sd">                and type is already owned by this user in this workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_stack_components</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">component_filter_model</span><span class="p">:</span> <span class="n">ComponentFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ComponentResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all stack components matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all stack components matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_stack_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a stack component by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_id: The ID of the stack component to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The stack component.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack component doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_stack_component</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">component_update</span><span class="p">:</span> <span class="n">ComponentUpdateModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing stack component.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_id: The ID of the stack component to update.</span>
<span class="sd">            component_update: The update to be applied to the stack component.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated stack component.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack component doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a stack component.</span>

<span class="sd">        Args:</span>
<span class="sd">            component_id: The ID of the stack component to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack component doesn&#39;t exist.</span>
<span class="sd">            ValueError: if the stack component is part of one or more stacks.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># -----------------------</span>
    <span class="c1"># Stack component flavors</span>
    <span class="c1"># -----------------------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_flavor</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">flavor</span><span class="p">:</span> <span class="n">FlavorRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new stack component flavor.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor: The stack component flavor to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created flavor.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a flavor with the same name and type</span>
<span class="sd">                is already owned by this user in this workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_flavor</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">:</span> <span class="n">FlavorUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates an existing user.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_id: The id of the flavor to update.</span>
<span class="sd">            flavor_update: The update to be applied to the flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a stack component flavor by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_id: The ID of the flavor to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The stack component flavor.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack component flavor doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_flavors</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">flavor_filter_model</span><span class="p">:</span> <span class="n">FlavorFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">FlavorResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all stack component flavors matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of all the stack component flavors matching the given criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a stack component flavor.</span>

<span class="sd">        Args:</span>
<span class="sd">            flavor_id: The ID of the stack component flavor to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the stack component flavor doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># -----</span>
    <span class="c1"># Users</span>
    <span class="c1"># -----</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">UserRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new user.</span>

<span class="sd">        Args:</span>
<span class="sd">            user: User to be created.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created user.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a user with the given name already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">include_private</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific user, when no id is specified the active user is returned.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_name_or_id: The name or ID of the user to get.</span>
<span class="sd">            include_private: Whether to include private user information</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested user, if it was found.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no user with the given name or ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_users</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_filter_model</span><span class="p">:</span> <span class="n">UserFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all users.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all users.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">user_update</span><span class="p">:</span> <span class="n">UserUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates an existing user.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_id: The id of the user to update.</span>
<span class="sd">            user_update: The update to be applied to the user.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated user.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no user with the given name exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a user.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_name_or_id: The name or ID of the user to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no user with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># -----</span>
    <span class="c1"># Teams</span>
    <span class="c1"># -----</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team</span><span class="p">:</span> <span class="n">TeamRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new team.</span>

<span class="sd">        Args:</span>
<span class="sd">            team: The team model to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created team.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific team.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_name_or_id: Name or ID of the team to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested team.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no team with the given name or ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_teams</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_filter_model</span><span class="p">:</span> <span class="n">TeamFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TeamResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all teams matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all teams matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_team</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">team_update</span><span class="p">:</span> <span class="n">TeamUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing team.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id: The ID of the team to be updated.</span>
<span class="sd">            team_update: The update to be applied to the team.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated team.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the team does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a team.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_name_or_id: Name or ID of the team to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no team with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># -----</span>
    <span class="c1"># Roles</span>
    <span class="c1"># -----</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role</span><span class="p">:</span> <span class="n">RoleRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new role.</span>

<span class="sd">        Args:</span>
<span class="sd">            role: The role model to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created role.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a role with the given name already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific role.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_name_or_id: Name or ID of the role to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested role.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no role with the given name exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_roles</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">role_filter_model</span><span class="p">:</span> <span class="n">RoleFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RoleResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all roles matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all roles matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_role</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">role_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">role_update</span><span class="p">:</span> <span class="n">RoleUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing role.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_id: The ID of the role to be updated.</span>
<span class="sd">            role_update: The update to be applied to the role.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated role.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the role does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a role.</span>

<span class="sd">        Args:</span>
<span class="sd">            role_name_or_id: Name or ID of the role to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no role with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ---------------------</span>
    <span class="c1"># User Role assignments</span>
    <span class="c1"># ---------------------</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_user_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment</span><span class="p">:</span> <span class="n">UserRoleAssignmentRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_role_assignment: The role assignment model to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created role assignment.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_user_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_role_assignment_id: ID of the role assignment to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested role assignment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no role assignment with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_user_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a specific role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_role_assignment_id: The ID of the specific role assignment</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_user_role_assignments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_filter_model</span><span class="p">:</span> <span class="n">UserRoleAssignmentFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserRoleAssignmentResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all roles assignments matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_role_assignment_filter_model: All filter parameters including</span>
<span class="sd">                pagination params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all roles assignments matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ---------------------</span>
    <span class="c1"># Team Role assignments</span>
    <span class="c1"># ---------------------</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_team_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment</span><span class="p">:</span> <span class="n">TeamRoleAssignmentRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new team role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_role_assignment: The role assignment model to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created role assignment.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_team_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_role_assignment_id: ID of the role assignment to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested role assignment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no role assignment with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_team_role_assignment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a specific role assignment.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_role_assignment_id: The ID of the specific role assignment</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_team_role_assignments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_filter_model</span><span class="p">:</span> <span class="n">TeamRoleAssignmentFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TeamRoleAssignmentResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all roles assignments matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_role_assignment_filter_model: All filter parameters including</span>
<span class="sd">                pagination params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all roles assignments matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># --------</span>
    <span class="c1"># Workspaces</span>
    <span class="c1"># --------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_workspace</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace</span><span class="p">:</span> <span class="n">WorkspaceRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace: The workspace to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created workspace.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a workspace with the given name already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_workspace</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get an existing workspace by name or ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_name_or_id: Name or ID of the workspace to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested workspace.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If there is no such workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_workspaces</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_filter_model</span><span class="p">:</span> <span class="n">WorkspaceFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">WorkspaceResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all workspace matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all workspace matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_workspace</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">:</span> <span class="n">WorkspaceUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_id: The ID of the workspace to be updated.</span>
<span class="sd">            workspace_update: The update to be applied to the workspace.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated workspace.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the workspace does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace_name_or_id: Name or ID of the workspace to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no workspace with the given name exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Pipelines</span>
    <span class="c1"># ---------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline</span><span class="p">:</span> <span class="n">PipelineRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new pipeline in a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline: The pipeline to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created pipeline.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the workspace does not exist.</span>
<span class="sd">            EntityExistsError: If an identical pipeline already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a pipeline with a given ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_id: ID of the pipeline.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The pipeline.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the pipeline does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_pipelines</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_filter_model</span><span class="p">:</span> <span class="n">PipelineFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all pipelines matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all pipelines matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">pipeline_update</span><span class="p">:</span> <span class="n">PipelineUpdateModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a pipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_id: The ID of the pipeline to be updated.</span>
<span class="sd">            pipeline_update: The update to be applied.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated pipeline.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the pipeline doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a pipeline.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_id: The ID of the pipeline to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the pipeline doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Builds</span>
    <span class="c1"># ---------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_build</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">build</span><span class="p">:</span> <span class="n">PipelineBuildRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new build in a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            build: The build to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created build.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the workspace does not exist.</span>
<span class="sd">            EntityExistsError: If an identical build already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a build with a given ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            build_id: ID of the build.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The build.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the build does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_builds</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">build_filter_model</span><span class="p">:</span> <span class="n">PipelineBuildFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineBuildResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all builds matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            build_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A page of all builds matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a build.</span>

<span class="sd">        Args:</span>
<span class="sd">            build_id: The ID of the build to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the build doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ----------------------</span>
    <span class="c1"># Pipeline Deployments</span>
    <span class="c1"># ----------------------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="n">PipelineDeploymentRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new deployment in a workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The deployment to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created deployment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the workspace does not exist.</span>
<span class="sd">            EntityExistsError: If an identical deployment already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a deployment with a given ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment_id: ID of the deployment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The deployment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the deployment does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_deployments</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">deployment_filter_model</span><span class="p">:</span> <span class="n">PipelineDeploymentFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineDeploymentResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all deployments matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A page of all deployments matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a deployment.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment_id: The ID of the deployment to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If the deployment doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Schedules</span>
    <span class="c1"># ---------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_schedule</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">ScheduleRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new schedule.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule: The schedule to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created schedule.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a schedule with a given ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_id: ID of the schedule.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The schedule.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the schedule does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_schedules</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">schedule_filter_model</span><span class="p">:</span> <span class="n">ScheduleFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ScheduleResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all schedules in the workspace.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_filter_model: All filter parameters including pagination</span>
<span class="sd">                params</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of schedules.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_schedule</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">schedule_update</span><span class="p">:</span> <span class="n">ScheduleUpdateModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a schedule.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_id: The ID of the schedule to be updated.</span>
<span class="sd">            schedule_update: The update to be applied.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated schedule.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the schedule doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a schedule.</span>

<span class="sd">        Args:</span>
<span class="sd">            schedule_id: The ID of the schedule to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the schedule doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># --------------</span>
    <span class="c1"># Pipeline runs</span>
    <span class="c1"># --------------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_run: The pipeline run to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created pipeline run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If an identical pipeline run already exists.</span>
<span class="sd">            KeyError: If the pipeline does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_name_or_id: The name or ID of the pipeline run to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The pipeline run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_or_create_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets or creates a pipeline run.</span>

<span class="sd">        If a run with the same ID or name already exists, it is returned.</span>
<span class="sd">        Otherwise, a new run is created.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_run: The pipeline run to get or create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The pipeline run, and a boolean indicating whether the run was</span>
<span class="sd">            created or not.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_runs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">runs_filter_model</span><span class="p">:</span> <span class="n">PipelineRunFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineRunResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all pipeline runs matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            runs_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all pipeline runs matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">run_update</span><span class="p">:</span> <span class="n">PipelineRunUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_id: The ID of the pipeline run to update.</span>
<span class="sd">            run_update: The update to be applied to the pipeline run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated pipeline run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_id: The ID of the pipeline run to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ------------------</span>
    <span class="c1"># Pipeline run steps</span>
    <span class="c1"># ------------------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_run_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">step_run</span><span class="p">:</span> <span class="n">StepRunRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a step run.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run: The step run to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created step run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: if the step run already exists.</span>
<span class="sd">            KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a step run by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run_id: The ID of the step run to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The step run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the step run doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_run_steps</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">step_run_filter_model</span><span class="p">:</span> <span class="n">StepRunFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StepRunResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all step runs matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all step runs matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_run_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">step_run_update</span><span class="p">:</span> <span class="n">StepRunUpdateModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates a step run.</span>

<span class="sd">        Args:</span>
<span class="sd">            step_run_id: The ID of the step to update.</span>
<span class="sd">            step_run_update: The update to be applied to the step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated step run.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the step run doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ---------</span>
    <span class="c1"># Artifacts</span>
    <span class="c1"># ---------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">artifact</span><span class="p">:</span> <span class="n">ArtifactRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates an artifact.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact: The artifact to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created artifact.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets an artifact.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact_id: The ID of the artifact to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The artifact.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the artifact doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_artifacts</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">artifact_filter_model</span><span class="p">:</span> <span class="n">ArtifactFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ArtifactResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all artifacts matching the given filter criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact_filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of all artifacts matching the filter criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes an artifact.</span>

<span class="sd">        Args:</span>
<span class="sd">            artifact_id: The ID of the artifact to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the artifact doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ------------</span>
    <span class="c1"># Run Metadata</span>
    <span class="c1"># ------------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_run_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_metadata</span><span class="p">:</span> <span class="n">RunMetadataRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunMetadataResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates run metadata.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_metadata: The run metadata to create.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created run metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_run_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">run_metadata_filter_model</span><span class="p">:</span> <span class="n">RunMetadataFilterModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RunMetadataResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List run metadata.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_metadata_filter_model: All filter parameters including</span>
<span class="sd">                pagination params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The run metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># -----------------</span>
    <span class="c1"># Code Repositories</span>
    <span class="c1"># -----------------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_code_repository</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository</span><span class="p">:</span> <span class="n">CodeRepositoryRequestModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new code repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            code_repository: Code repository to be created.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created code repository.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a code repository with the given name already</span>
<span class="sd">                exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_code_repository</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific code repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            code_repository_id: The ID of the code repository to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested code repository, if it was found.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no code repository with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_code_repositories</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">:</span> <span class="n">CodeRepositoryFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">CodeRepositoryResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all code repositories.</span>

<span class="sd">        Args:</span>
<span class="sd">            filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A page of all code repositories.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_code_repository</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">CodeRepositoryUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates an existing code repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            code_repository_id: The ID of the code repository to update.</span>
<span class="sd">            update: The update to be applied to the code repository.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated code repository.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no code repository with the given name exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a code repository.</span>

<span class="sd">        Args:</span>
<span class="sd">            code_repository_id: The ID of the code repository to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no code repository with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="c1"># ------------------</span>
    <span class="c1"># Service Connectors</span>
    <span class="c1"># ------------------</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_service_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service_connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new service connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector: Service connector to be created.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The newly created service connector.</span>

<span class="sd">        Raises:</span>
<span class="sd">            EntityExistsError: If a service connector with the given name</span>
<span class="sd">                is already owned by this user in this workspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_service_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a specific service connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the service connector to get.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested service connector, if it was found.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no service connector with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_service_connectors</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">:</span> <span class="n">ServiceConnectorFilterModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ServiceConnectorResponseModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List all service connectors.</span>

<span class="sd">        Args:</span>
<span class="sd">            filter_model: All filter parameters including pagination</span>
<span class="sd">                params.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A page of all service connectors.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">update_service_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">ServiceConnectorUpdateModel</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Updates an existing service connector.</span>

<span class="sd">        The update model contains the fields to be updated. If a field value is</span>
<span class="sd">        set to None in the model, the field is not updated, but there are</span>
<span class="sd">        special rules concerning some fields:</span>

<span class="sd">        * the `configuration` and `secrets` fields together represent a full</span>
<span class="sd">        valid configuration update, not just a partial update. If either is</span>
<span class="sd">        set (i.e. not None) in the update, their values are merged together and</span>
<span class="sd">        will replace the existing configuration and secrets values.</span>
<span class="sd">        * the `resource_id` field value is also a full replacement value: if set</span>
<span class="sd">        to `None`, the resource ID is removed from the service connector.</span>
<span class="sd">        * the `expiration_seconds` field value is also a full replacement value:</span>
<span class="sd">        if set to `None`, the expiration is removed from the service connector.</span>
<span class="sd">        * the `secret_id` field value in the update is ignored, given that</span>
<span class="sd">        secrets are managed internally by the ZenML store.</span>
<span class="sd">        * the `labels` field is also a full labels update: if set (i.e. not</span>
<span class="sd">        `None`), all existing labels are removed and replaced by the new labels</span>
<span class="sd">        in the update.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the service connector to update.</span>
<span class="sd">            update: The update to be applied to the service connector.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The updated service connector.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no service connector with the given name exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes a service connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the service connector to delete.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no service connector with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">verify_service_connector_config</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service_connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span><span class="p">,</span>
        <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector configuration has access to resources.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector: The service connector configuration to verify.</span>
<span class="sd">            list_resources: If True, the list of all resources accessible</span>
<span class="sd">                through the service connector is returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of resources that the service connector configuration has</span>
<span class="sd">            access to.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementError: If the service connector cannot be verified</span>
<span class="sd">                on the store e.g. due to missing package dependencies.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">verify_service_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector instance has access to one or more resources.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the service connector to verify.</span>
<span class="sd">            resource_type: The type of resource to verify access to.</span>
<span class="sd">            resource_id: The ID of the resource to verify access to.</span>
<span class="sd">            list_resources: If True, the list of all resources accessible</span>
<span class="sd">                through the service connector and matching the supplied resource</span>
<span class="sd">                type and ID are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of resources that the service connector has access to,</span>
<span class="sd">            scoped to the supplied resource type and ID, if provided.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no service connector with the given name exists.</span>
<span class="sd">            NotImplementError: If the service connector cannot be verified</span>
<span class="sd">                e.g. due to missing package dependencies.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_service_connector_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a service connector client for a service connector and given resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_id: The ID of the base service connector to use.</span>
<span class="sd">            resource_type: The type of resource to get a client for.</span>
<span class="sd">            resource_id: The ID of the resource to get a client for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A service connector client that can be used to access the given</span>
<span class="sd">            resource.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no service connector with the given name exists.</span>
<span class="sd">            NotImplementError: If the service connector cannot be instantiated</span>
<span class="sd">                on the store e.g. due to missing package dependencies.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_service_connector_resources</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
        <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorResourcesModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List resources that can be accessed by service connectors.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_name_or_id: The name or ID of the user to scope to.</span>
<span class="sd">            workspace_name_or_id: The name or ID of the workspace to scope to.</span>
<span class="sd">            connector_type: The type of service connector to scope to.</span>
<span class="sd">            resource_type: The type of resource to scope to.</span>
<span class="sd">            resource_id: The ID of the resource to scope to.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The matching list of resources that available service</span>
<span class="sd">            connectors have access to.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">list_service_connector_types</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of service connector types.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_type: Filter by connector type.</span>
<span class="sd">            resource_type: Filter by resource type.</span>
<span class="sd">            auth_method: Filter by authentication method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of service connector types.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_service_connector_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">connector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the requested service connector type.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_type: the service connector type identifier.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The requested service connector type.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no service connector type with the given ID exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact</code></td>
        <td><code>ArtifactRequestModel</code></td>
        <td><p>The artifact to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactResponseModel</code></td>
      <td><p>The created artifact.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_artifact</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">artifact</span><span class="p">:</span> <span class="n">ArtifactRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact: The artifact to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created artifact.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new build in a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build</code></td>
        <td><code>PipelineBuildRequestModel</code></td>
        <td><p>The build to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineBuildResponseModel</code></td>
      <td><p>The newly created build.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the workspace does not exist.</p></td>
      </tr>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If an identical build already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_build</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">build</span><span class="p">:</span> <span class="n">PipelineBuildRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new build in a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        build: The build to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created build.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the workspace does not exist.</span>
<span class="sd">        EntityExistsError: If an identical build already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository</code></td>
        <td><code>CodeRepositoryRequestModel</code></td>
        <td><p>Code repository to be created.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponseModel</code></td>
      <td><p>The newly created code repository.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a code repository with the given name already
exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_code_repository</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository</span><span class="p">:</span> <span class="n">CodeRepositoryRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository: Code repository to be created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created code repository.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a code repository with the given name already</span>
<span class="sd">            exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new deployment in a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeploymentRequestModel</code></td>
        <td><p>The deployment to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineDeploymentResponseModel</code></td>
      <td><p>The newly created deployment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the workspace does not exist.</p></td>
      </tr>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If an identical deployment already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="n">PipelineDeploymentRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new deployment in a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The deployment to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created deployment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the workspace does not exist.</span>
<span class="sd">        EntityExistsError: If an identical deployment already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new stack component flavor.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor</code></td>
        <td><code>FlavorRequestModel</code></td>
        <td><p>The stack component flavor to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponseModel</code></td>
      <td><p>The newly created flavor.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a flavor with the same name and type
is already owned by this user in this workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_flavor</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">flavor</span><span class="p">:</span> <span class="n">FlavorRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new stack component flavor.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor: The stack component flavor to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created flavor.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a flavor with the same name and type</span>
<span class="sd">            is already owned by this user in this workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new pipeline in a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline</code></td>
        <td><code>PipelineRequestModel</code></td>
        <td><p>The pipeline to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponseModel</code></td>
      <td><p>The newly created pipeline.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the workspace does not exist.</p></td>
      </tr>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If an identical pipeline already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline</span><span class="p">:</span> <span class="n">PipelineRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new pipeline in a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline: The pipeline to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created pipeline.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the workspace does not exist.</span>
<span class="sd">        EntityExistsError: If an identical pipeline already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_role" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new role.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role</code></td>
        <td><code>RoleRequestModel</code></td>
        <td><p>The role model to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RoleResponseModel</code></td>
      <td><p>The newly created role.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a role with the given name already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role</span><span class="p">:</span> <span class="n">RoleRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new role.</span>

<span class="sd">    Args:</span>
<span class="sd">        role: The role model to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created role.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a role with the given name already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_run</code></td>
        <td><code>PipelineRunRequestModel</code></td>
        <td><p>The pipeline run to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponseModel</code></td>
      <td><p>The created pipeline run.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If an identical pipeline run already exists.</p></td>
      </tr>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the pipeline does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_run: The pipeline run to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created pipeline run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If an identical pipeline run already exists.</span>
<span class="sd">        KeyError: If the pipeline does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_run_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_run_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_metadata</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates run metadata.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_metadata</code></td>
        <td><code>RunMetadataRequestModel</code></td>
        <td><p>The run metadata to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RunMetadataResponseModel</code></td>
      <td><p>The created run metadata.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_run_metadata</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">run_metadata</span><span class="p">:</span> <span class="n">RunMetadataRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunMetadataResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates run metadata.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_metadata: The run metadata to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created run metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_run_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a step run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run</code></td>
        <td><code>StepRunRequestModel</code></td>
        <td><p>The step run to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponseModel</code></td>
      <td><p>The created step run.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>if the step run already exists.</p></td>
      </tr>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline run doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_run_step</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">step_run</span><span class="p">:</span> <span class="n">StepRunRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a step run.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run: The step run to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created step run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: if the step run already exists.</span>
<span class="sd">        KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new schedule.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule</code></td>
        <td><code>ScheduleRequestModel</code></td>
        <td><p>The schedule to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponseModel</code></td>
      <td><p>The newly created schedule.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_schedule</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">schedule</span><span class="p">:</span> <span class="n">ScheduleRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new schedule.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule: The schedule to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created schedule.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector</code></td>
        <td><code>ServiceConnectorRequestModel</code></td>
        <td><p>Service connector to be created.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>The newly created service connector.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a service connector with the given name
is already owned by this user in this workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_service_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service_connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector: Service connector to be created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created service connector.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a service connector with the given name</span>
<span class="sd">            is already owned by this user in this workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Create a new stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack</code></td>
        <td><code>StackRequestModel</code></td>
        <td><p>The stack to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponseModel</code></td>
      <td><p>The created stack.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StackExistsError</code></td>
        <td><p>If a stack with the same name is already owned
by this user in this workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">:</span> <span class="n">StackRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack: The stack to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created stack.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StackExistsError: If a stack with the same name is already owned</span>
<span class="sd">            by this user in this workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Create a stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component</code></td>
        <td><code>ComponentRequestModel</code></td>
        <td><p>The stack component to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponseModel</code></td>
      <td><p>The created stack component.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>StackComponentExistsError</code></td>
        <td><p>If a stack component with the same name
and type is already owned by this user in this workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_stack_component</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">ComponentRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        component: The stack component to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created stack component.</span>

<span class="sd">    Raises:</span>
<span class="sd">        StackComponentExistsError: If a stack component with the same name</span>
<span class="sd">            and type is already owned by this user in this workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_team" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new team.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team</code></td>
        <td><code>TeamRequestModel</code></td>
        <td><p>The team model to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamResponseModel</code></td>
      <td><p>The newly created team.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team</span><span class="p">:</span> <span class="n">TeamRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new team.</span>

<span class="sd">    Args:</span>
<span class="sd">        team: The team model to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created team.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_team_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_team_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new team role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_role_assignment</code></td>
        <td><code>TeamRoleAssignmentRequestModel</code></td>
        <td><p>The role assignment model to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamRoleAssignmentResponseModel</code></td>
      <td><p>The newly created role assignment.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_team_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment</span><span class="p">:</span> <span class="n">TeamRoleAssignmentRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new team role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_role_assignment: The role assignment model to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created role assignment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user</code></td>
        <td><code>UserRequestModel</code></td>
        <td><p>User to be created.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponseModel</code></td>
      <td><p>The newly created user.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a user with the given name already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">UserRequestModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user: User to be created.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created user.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a user with the given name already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_user_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_user_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_role_assignment</code></td>
        <td><code>UserRoleAssignmentRequestModel</code></td>
        <td><p>The role assignment model to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserRoleAssignmentResponseModel</code></td>
      <td><p>The newly created role assignment.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_user_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment</span><span class="p">:</span> <span class="n">UserRoleAssignmentRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_role_assignment: The role assignment model to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created role assignment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.create_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Creates a new workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace</code></td>
        <td><code>WorkspaceRequestModel</code></td>
        <td><p>The workspace to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponseModel</code></td>
      <td><p>The newly created workspace.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>EntityExistsError</code></td>
        <td><p>If a workspace with the given name already exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">create_workspace</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace</span><span class="p">:</span> <span class="n">WorkspaceRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace: The workspace to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The newly created workspace.</span>

<span class="sd">    Raises:</span>
<span class="sd">        EntityExistsError: If a workspace with the given name already exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the artifact doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_id: The ID of the artifact to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the artifact doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a build.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the build to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the build doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a build.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_id: The ID of the build to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the build doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the code repository to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no code repository with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository_id: The ID of the code repository to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no code repository with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a deployment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the deployment to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the deployment doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a deployment.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment_id: The ID of the deployment to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the deployment doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a stack component flavor.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack component flavor to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack component flavor doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a stack component flavor.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_id: The ID of the stack component flavor to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack component flavor doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a pipeline.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a pipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: The ID of the pipeline to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the pipeline doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_role" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a role.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the role to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no role with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a role.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_name_or_id: Name or ID of the role to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no role with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline run to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline run doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: The ID of the pipeline run to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a schedule.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the schedule to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the schedule doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a schedule.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_id: The ID of the schedule to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the schedule doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no service connector with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the service connector to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no service connector with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_id: The ID of the stack to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack component to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack component doesn't exist.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the stack component is part of one or more stacks.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_id: The ID of the stack component to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack component doesn&#39;t exist.</span>
<span class="sd">        ValueError: if the stack component is part of one or more stacks.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_team" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a team.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the team to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no team with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a team.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_name_or_id: Name or ID of the team to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no team with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_team_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_team_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a specific role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_role_assignment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the specific role assignment</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_team_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a specific role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_role_assignment_id: The ID of the specific role assignment</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the user to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no user with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: The name or ID of the user to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no user with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_user_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_user_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete a specific role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_role_assignment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the specific role assignment</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_user_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a specific role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_role_assignment_id: The ID of the specific role assignment</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.delete_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deletes a workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the workspace to delete.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no workspace with the given name exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">delete_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deletes a workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace to delete.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no workspace with the given name exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets an artifact.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the artifact to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ArtifactResponseModel</code></td>
      <td><p>The artifact.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the artifact doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArtifactResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets an artifact.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_id: The ID of the artifact to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The artifact.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the artifact doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_build" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a build with a given ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the build.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineBuildResponseModel</code></td>
      <td><p>The build.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the build does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineBuildResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a build with a given ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_id: ID of the build.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The build.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the build does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the code repository to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponseModel</code></td>
      <td><p>The requested code repository, if it was found.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no code repository with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_code_repository</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository_id: The ID of the code repository to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested code repository, if it was found.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no code repository with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_deployment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_deployment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a deployment with a given ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the deployment.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineDeploymentResponseModel</code></td>
      <td><p>The deployment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If the deployment does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">deployment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineDeploymentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a deployment with a given ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment_id: ID of the deployment.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The deployment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If the deployment does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a stack component flavor by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the flavor to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponseModel</code></td>
      <td><p>The stack component flavor.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack component flavor doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a stack component flavor by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_id: The ID of the flavor to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The stack component flavor.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack component flavor doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_or_create_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_or_create_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets or creates a pipeline run.</p>
<p>If a run with the same ID or name already exists, it is returned.
Otherwise, a new run is created.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_run</code></td>
        <td><code>PipelineRunRequestModel</code></td>
        <td><p>The pipeline run to get or create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.models.pipeline_run_models.PipelineRunResponseModel, bool]</code></td>
      <td><p>The pipeline run, and a boolean indicating whether the run was
created or not.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_or_create_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="n">PipelineRunRequestModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">PipelineRunResponseModel</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets or creates a pipeline run.</span>

<span class="sd">    If a run with the same ID or name already exists, it is returned.</span>
<span class="sd">    Otherwise, a new run is created.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_run: The pipeline run to get or create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline run, and a boolean indicating whether the run was</span>
<span class="sd">        created or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a pipeline with a given ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the pipeline.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponseModel</code></td>
      <td><p>The pipeline.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a pipeline with a given ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: ID of the pipeline.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the pipeline does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_role" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific role.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the role to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RoleResponseModel</code></td>
      <td><p>The requested role.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no role with the given name exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific role.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_name_or_id: Name or ID of the role to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested role.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no role with the given name exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the pipeline run to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponseModel</code></td>
      <td><p>The pipeline run.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline run doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">run_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_name_or_id: The name or ID of the pipeline run to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The pipeline run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_run_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a step run by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the step run to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponseModel</code></td>
      <td><p>The step run.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the step run doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a step run by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run_id: The ID of the step run to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The step run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the step run doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a schedule with a given ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the schedule.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponseModel</code></td>
      <td><p>The schedule.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the schedule does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a schedule with a given ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_id: ID of the schedule.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The schedule.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the schedule does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>The requested service connector, if it was found.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no service connector with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_service_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the service connector to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested service connector, if it was found.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no service connector with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_service_connector_client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a service connector client for a service connector and given resource.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the base service connector to use.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of resource to get a client for.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of the resource to get a client for.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>A service connector client that can be used to access the given
resource.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no service connector with the given name exists.</p></td>
      </tr>
      <tr>
        <td><code>NotImplementError</code></td>
        <td><p>If the service connector cannot be instantiated
on the store e.g. due to missing package dependencies.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_service_connector_client</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a service connector client for a service connector and given resource.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the base service connector to use.</span>
<span class="sd">        resource_type: The type of resource to get a client for.</span>
<span class="sd">        resource_id: The ID of the resource to get a client for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A service connector client that can be used to access the given</span>
<span class="sd">        resource.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no service connector with the given name exists.</span>
<span class="sd">        NotImplementError: If the service connector cannot be instantiated</span>
<span class="sd">            on the store e.g. due to missing package dependencies.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_service_connector_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector_type</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns the requested service connector type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>str</code></td>
        <td><p>the service connector type identifier.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorTypeModel</code></td>
      <td><p>The requested service connector type.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no service connector type with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_service_connector_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the requested service connector type.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_type: the service connector type identifier.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested service connector type.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no service connector type with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a stack by its unique ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponseModel</code></td>
      <td><p>The stack with the given ID.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a stack by its unique ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_id: The ID of the stack to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The stack with the given ID.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a stack component by ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack component to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponseModel</code></td>
      <td><p>The stack component.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack component doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_stack_component</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a stack component by ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_id: The ID of the stack component to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The stack component.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack component doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_store_info" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_store_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get information about the store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServerModel</code></td>
      <td><p>Information about the store.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_store_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get information about the store.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Information about the store.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_team" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific team.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>Name or ID of the team to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamResponseModel</code></td>
      <td><p>The requested team.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no team with the given name or ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific team.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_name_or_id: Name or ID of the team to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested team.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no team with the given name or ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_team_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_team_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_role_assignment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the role assignment to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamRoleAssignmentResponseModel</code></td>
      <td><p>The requested role assignment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no role assignment with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_team_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_role_assignment_id: ID of the role assignment to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested role assignment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no role assignment with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_private</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific user, when no id is specified the active user is returned.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the user to get.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>include_private</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to include private user information</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponseModel</code></td>
      <td><p>The requested user, if it was found.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no user with the given name or ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_user</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">include_private</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific user, when no id is specified the active user is returned.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: The name or ID of the user to get.</span>
<span class="sd">        include_private: Whether to include private user information</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested user, if it was found.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no user with the given name or ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_user_role_assignment" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_user_role_assignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets a specific role assignment.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_role_assignment_id</code></td>
        <td><code>UUID</code></td>
        <td><p>ID of the role assignment to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserRoleAssignmentResponseModel</code></td>
      <td><p>The requested role assignment.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no role assignment with the given ID exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_user_role_assignment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserRoleAssignmentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets a specific role assignment.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_role_assignment_id: ID of the role assignment to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested role assignment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no role assignment with the given ID exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.get_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get an existing workspace by name or ID.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[uuid.UUID, str]</code></td>
        <td><p>Name or ID of the workspace to get.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponseModel</code></td>
      <td><p>The requested workspace.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If there is no such workspace.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_workspace</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get an existing workspace by name or ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_name_or_id: Name or ID of the workspace to get.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The requested workspace.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If there is no such workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_artifacts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_artifacts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">artifact_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all artifacts matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_filter_model</code></td>
        <td><code>ArtifactFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ArtifactResponseModel]</code></td>
      <td><p>A list of all artifacts matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_artifacts</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">artifact_filter_model</span><span class="p">:</span> <span class="n">ArtifactFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ArtifactResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all artifacts matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all artifacts matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_builds" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_builds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all builds matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>build_filter_model</code></td>
        <td><code>PipelineBuildFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineBuildResponseModel]</code></td>
      <td><p>A page of all builds matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_builds</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">build_filter_model</span><span class="p">:</span> <span class="n">PipelineBuildFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineBuildResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all builds matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        build_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of all builds matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_code_repositories" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_code_repositories</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all code repositories.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>CodeRepositoryFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[CodeRepositoryResponseModel]</code></td>
      <td><p>A page of all code repositories.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_code_repositories</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">:</span> <span class="n">CodeRepositoryFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">CodeRepositoryResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all code repositories.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of all code repositories.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_deployments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_deployments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all deployments matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment_filter_model</code></td>
        <td><code>PipelineDeploymentFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineDeploymentResponseModel]</code></td>
      <td><p>A page of all deployments matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_deployments</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">deployment_filter_model</span><span class="p">:</span> <span class="n">PipelineDeploymentFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineDeploymentResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all deployments matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of all deployments matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_flavors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all stack component flavors matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_filter_model</code></td>
        <td><code>FlavorFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[FlavorResponseModel]</code></td>
      <td><p>List of all the stack component flavors matching the given criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_flavors</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">flavor_filter_model</span><span class="p">:</span> <span class="n">FlavorFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">FlavorResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all stack component flavors matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of all the stack component flavors matching the given criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_pipelines" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_pipelines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all pipelines matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_filter_model</code></td>
        <td><code>PipelineFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineResponseModel]</code></td>
      <td><p>A list of all pipelines matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_pipelines</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_filter_model</span><span class="p">:</span> <span class="n">PipelineFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all pipelines matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all pipelines matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_roles" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_roles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all roles matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_filter_model</code></td>
        <td><code>RoleFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[RoleResponseModel]</code></td>
      <td><p>A list of all roles matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_roles</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">role_filter_model</span><span class="p">:</span> <span class="n">RoleFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RoleResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all roles matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all roles matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_run_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_run_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_metadata_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List run metadata.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_metadata_filter_model</code></td>
        <td><code>RunMetadataFilterModel</code></td>
        <td><p>All filter parameters including
pagination params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[RunMetadataResponseModel]</code></td>
      <td><p>The run metadata.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_run_metadata</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">run_metadata_filter_model</span><span class="p">:</span> <span class="n">RunMetadataFilterModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">RunMetadataResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List run metadata.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_metadata_filter_model: All filter parameters including</span>
<span class="sd">            pagination params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The run metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_run_steps" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_run_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all step runs matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run_filter_model</code></td>
        <td><code>StepRunFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[StepRunResponseModel]</code></td>
      <td><p>A list of all step runs matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_run_steps</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">step_run_filter_model</span><span class="p">:</span> <span class="n">StepRunFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StepRunResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all step runs matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all step runs matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_runs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">runs_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all pipeline runs matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>runs_filter_model</code></td>
        <td><code>PipelineRunFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[PipelineRunResponseModel]</code></td>
      <td><p>A list of all pipeline runs matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_runs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">runs_filter_model</span><span class="p">:</span> <span class="n">PipelineRunFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">PipelineRunResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all pipeline runs matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        runs_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all pipeline runs matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_schedules" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_schedules</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all schedules in the workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_filter_model</code></td>
        <td><code>ScheduleFilterModel</code></td>
        <td><p>All filter parameters including pagination
params</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ScheduleResponseModel]</code></td>
      <td><p>A list of schedules.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_schedules</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">schedule_filter_model</span><span class="p">:</span> <span class="n">ScheduleFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ScheduleResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all schedules in the workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_filter_model: All filter parameters including pagination</span>
<span class="sd">            params</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of schedules.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_service_connector_resources" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connector_resources</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name_or_id</span><span class="p">,</span> <span class="n">workspace_name_or_id</span><span class="p">,</span> <span class="n">connector_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List resources that can be accessed by service connectors.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the user to scope to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>workspace_name_or_id</code></td>
        <td><code>Union[str, uuid.UUID]</code></td>
        <td><p>The name or ID of the workspace to scope to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of service connector to scope to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of resource to scope to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of the resource to scope to.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.models.service_connector_models.ServiceConnectorResourcesModel]</code></td>
      <td><p>The matching list of resources that available service
connectors have access to.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_service_connector_resources</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">user_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">workspace_name_or_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">],</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorResourcesModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List resources that can be accessed by service connectors.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_name_or_id: The name or ID of the user to scope to.</span>
<span class="sd">        workspace_name_or_id: The name or ID of the workspace to scope to.</span>
<span class="sd">        connector_type: The type of service connector to scope to.</span>
<span class="sd">        resource_type: The type of resource to scope to.</span>
<span class="sd">        resource_id: The ID of the resource to scope to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The matching list of resources that available service</span>
<span class="sd">        connectors have access to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_service_connector_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connector_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auth_method</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a list of service connector types.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by connector type.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by resource type.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>auth_method</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by authentication method.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.models.service_connector_models.ServiceConnectorTypeModel]</code></td>
      <td><p>List of service connector types.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_service_connector_types</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a list of service connector types.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_type: Filter by connector type.</span>
<span class="sd">        resource_type: Filter by resource type.</span>
<span class="sd">        auth_method: Filter by authentication method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of service connector types.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_service_connectors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connectors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all service connectors.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>filter_model</code></td>
        <td><code>ServiceConnectorFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ServiceConnectorResponseModel]</code></td>
      <td><p>A page of all service connectors.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_service_connectors</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">filter_model</span><span class="p">:</span> <span class="n">ServiceConnectorFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ServiceConnectorResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all service connectors.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A page of all service connectors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_stack_components" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_stack_components</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all stack components matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_filter_model</code></td>
        <td><code>ComponentFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[ComponentResponseModel]</code></td>
      <td><p>A list of all stack components matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_stack_components</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">component_filter_model</span><span class="p">:</span> <span class="n">ComponentFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">ComponentResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all stack components matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all stack components matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_stacks" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_stacks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all stacks matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_filter_model</code></td>
        <td><code>StackFilterModel</code></td>
        <td><p>All filter parameters including pagination
params</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[StackResponseModel]</code></td>
      <td><p>A list of all stacks matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_stacks</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">stack_filter_model</span><span class="p">:</span> <span class="n">StackFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">StackResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all stacks matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_filter_model: All filter parameters including pagination</span>
<span class="sd">            params</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all stacks matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_team_role_assignments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_team_role_assignments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all roles assignments matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_role_assignment_filter_model</code></td>
        <td><code>TeamRoleAssignmentFilterModel</code></td>
        <td><p>All filter parameters including
pagination params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[TeamRoleAssignmentResponseModel]</code></td>
      <td><p>A list of all roles assignments matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_team_role_assignments</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_role_assignment_filter_model</span><span class="p">:</span> <span class="n">TeamRoleAssignmentFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TeamRoleAssignmentResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all roles assignments matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_role_assignment_filter_model: All filter parameters including</span>
<span class="sd">            pagination params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all roles assignments matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_teams" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_teams</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all teams matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_filter_model</code></td>
        <td><code>TeamFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[TeamResponseModel]</code></td>
      <td><p>A list of all teams matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_teams</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_filter_model</span><span class="p">:</span> <span class="n">TeamFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">TeamResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all teams matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all teams matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_user_role_assignments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_user_role_assignments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all roles assignments matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_role_assignment_filter_model</code></td>
        <td><code>UserRoleAssignmentFilterModel</code></td>
        <td><p>All filter parameters including
pagination params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[UserRoleAssignmentResponseModel]</code></td>
      <td><p>A list of all roles assignments matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_user_role_assignments</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_role_assignment_filter_model</span><span class="p">:</span> <span class="n">UserRoleAssignmentFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserRoleAssignmentResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all roles assignments matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_role_assignment_filter_model: All filter parameters including</span>
<span class="sd">            pagination params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all roles assignments matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_users" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_users</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all users.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_filter_model</code></td>
        <td><code>UserFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[UserResponseModel]</code></td>
      <td><p>A list of all users.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_users</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_filter_model</span><span class="p">:</span> <span class="n">UserFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">UserResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all users.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all users.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.list_workspaces" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_workspaces</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_filter_model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>List all workspace matching the given filter criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_filter_model</code></td>
        <td><code>WorkspaceFilterModel</code></td>
        <td><p>All filter parameters including pagination
params.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Page[WorkspaceResponseModel]</code></td>
      <td><p>A list of all workspace matching the filter criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">list_workspaces</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_filter_model</span><span class="p">:</span> <span class="n">WorkspaceFilterModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Page</span><span class="p">[</span><span class="n">WorkspaceResponseModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all workspace matching the given filter criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_filter_model: All filter parameters including pagination</span>
<span class="sd">            params.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of all workspace matching the filter criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_code_repository" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_code_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an existing code repository.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>code_repository_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the code repository to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>update</code></td>
        <td><code>CodeRepositoryUpdateModel</code></td>
        <td><p>The update to be applied to the code repository.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>CodeRepositoryResponseModel</code></td>
      <td><p>The updated code repository.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no code repository with the given name exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_code_repository</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">code_repository_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">CodeRepositoryUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeRepositoryResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an existing code repository.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_repository_id: The ID of the code repository to update.</span>
<span class="sd">        update: The update to be applied to the code repository.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated code repository.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no code repository with the given name exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_flavor" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_flavor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an existing user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>flavor_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the flavor to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>flavor_update</code></td>
        <td><code>FlavorUpdateModel</code></td>
        <td><p>The update to be applied to the flavor.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>FlavorResponseModel</code></td>
      <td><p>The updated flavor.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_flavor</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">flavor_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">flavor_update</span><span class="p">:</span> <span class="n">FlavorUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FlavorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an existing user.</span>

<span class="sd">    Args:</span>
<span class="sd">        flavor_id: The id of the flavor to update.</span>
<span class="sd">        flavor_update: The update to be applied to the flavor.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated flavor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_id</span><span class="p">,</span> <span class="n">pipeline_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a pipeline.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pipeline_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>pipeline_update</code></td>
        <td><code>PipelineUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineResponseModel</code></td>
      <td><p>The updated pipeline.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">pipeline_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">pipeline_update</span><span class="p">:</span> <span class="n">PipelineUpdateModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a pipeline.</span>

<span class="sd">    Args:</span>
<span class="sd">        pipeline_id: The ID of the pipeline to be updated.</span>
<span class="sd">        pipeline_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated pipeline.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the pipeline doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_role" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_role</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">role_id</span><span class="p">,</span> <span class="n">role_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an existing role.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>role_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the role to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>role_update</code></td>
        <td><code>RoleUpdateModel</code></td>
        <td><p>The update to be applied to the role.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RoleResponseModel</code></td>
      <td><p>The updated role.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the role does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_role</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">role_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">role_update</span><span class="p">:</span> <span class="n">RoleUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RoleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing role.</span>

<span class="sd">    Args:</span>
<span class="sd">        role_id: The ID of the role to be updated.</span>
<span class="sd">        role_update: The update to be applied to the role.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated role.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the role does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">,</span> <span class="n">run_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline run to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>run_update</code></td>
        <td><code>PipelineRunUpdateModel</code></td>
        <td><p>The update to be applied to the pipeline run.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponseModel</code></td>
      <td><p>The updated pipeline run.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the pipeline run doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">run_update</span><span class="p">:</span> <span class="n">PipelineRunUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PipelineRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: The ID of the pipeline run to update.</span>
<span class="sd">        run_update: The update to be applied to the pipeline run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated pipeline run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the pipeline run doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_run_step" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_run_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step_run_id</span><span class="p">,</span> <span class="n">step_run_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a step run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>step_run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the step to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>step_run_update</code></td>
        <td><code>StepRunUpdateModel</code></td>
        <td><p>The update to be applied to the step.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StepRunResponseModel</code></td>
      <td><p>The updated step run.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the step run doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_run_step</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">step_run_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">step_run_update</span><span class="p">:</span> <span class="n">StepRunUpdateModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StepRunResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a step run.</span>

<span class="sd">    Args:</span>
<span class="sd">        step_run_id: The ID of the step to update.</span>
<span class="sd">        step_run_update: The update to be applied to the step.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated step run.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the step run doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_schedule" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schedule_id</span><span class="p">,</span> <span class="n">schedule_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates a schedule.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>schedule_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the schedule to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>schedule_update</code></td>
        <td><code>ScheduleUpdateModel</code></td>
        <td><p>The update to be applied.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ScheduleResponseModel</code></td>
      <td><p>The updated schedule.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the schedule doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_schedule</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">schedule_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">schedule_update</span><span class="p">:</span> <span class="n">ScheduleUpdateModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ScheduleResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates a schedule.</span>

<span class="sd">    Args:</span>
<span class="sd">        schedule_id: The ID of the schedule to be updated.</span>
<span class="sd">        schedule_update: The update to be applied.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated schedule.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the schedule doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an existing service connector.</p>
<p>The update model contains the fields to be updated. If a field value is
set to None in the model, the field is not updated, but there are
special rules concerning some fields:</p>
<ul>
<li>the <code>configuration</code> and <code>secrets</code> fields together represent a full
valid configuration update, not just a partial update. If either is
set (i.e. not None) in the update, their values are merged together and
will replace the existing configuration and secrets values.</li>
<li>the <code>resource_id</code> field value is also a full replacement value: if set
to <code>None</code>, the resource ID is removed from the service connector.</li>
<li>the <code>expiration_seconds</code> field value is also a full replacement value:
if set to <code>None</code>, the expiration is removed from the service connector.</li>
<li>the <code>secret_id</code> field value in the update is ignored, given that
secrets are managed internally by the ZenML store.</li>
<li>the <code>labels</code> field is also a full labels update: if set (i.e. not
<code>None</code>), all existing labels are removed and replaced by the new labels
in the update.</li>
</ul>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>update</code></td>
        <td><code>ServiceConnectorUpdateModel</code></td>
        <td><p>The update to be applied to the service connector.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponseModel</code></td>
      <td><p>The updated service connector.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no service connector with the given name exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_service_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">ServiceConnectorUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an existing service connector.</span>

<span class="sd">    The update model contains the fields to be updated. If a field value is</span>
<span class="sd">    set to None in the model, the field is not updated, but there are</span>
<span class="sd">    special rules concerning some fields:</span>

<span class="sd">    * the `configuration` and `secrets` fields together represent a full</span>
<span class="sd">    valid configuration update, not just a partial update. If either is</span>
<span class="sd">    set (i.e. not None) in the update, their values are merged together and</span>
<span class="sd">    will replace the existing configuration and secrets values.</span>
<span class="sd">    * the `resource_id` field value is also a full replacement value: if set</span>
<span class="sd">    to `None`, the resource ID is removed from the service connector.</span>
<span class="sd">    * the `expiration_seconds` field value is also a full replacement value:</span>
<span class="sd">    if set to `None`, the expiration is removed from the service connector.</span>
<span class="sd">    * the `secret_id` field value in the update is ignored, given that</span>
<span class="sd">    secrets are managed internally by the ZenML store.</span>
<span class="sd">    * the `labels` field is also a full labels update: if set (i.e. not</span>
<span class="sd">    `None`), all existing labels are removed and replaced by the new labels</span>
<span class="sd">    in the update.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the service connector to update.</span>
<span class="sd">        update: The update to be applied to the service connector.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated service connector.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no service connector with the given name exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_stack</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">,</span> <span class="n">stack_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update a stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stack_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack_update</code></td>
        <td><code>StackUpdateModel</code></td>
        <td><p>The update request on the stack.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>StackResponseModel</code></td>
      <td><p>The updated stack.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_stack</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">stack_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">stack_update</span><span class="p">:</span> <span class="n">StackUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StackResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        stack_id: The ID of the stack update.</span>
<span class="sd">        stack_update: The update request on the stack.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated stack.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_stack_component" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_stack_component</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">,</span> <span class="n">component_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an existing stack component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>component_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the stack component to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>component_update</code></td>
        <td><code>ComponentUpdateModel</code></td>
        <td><p>The update to be applied to the stack component.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ComponentResponseModel</code></td>
      <td><p>The updated stack component.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the stack component doesn't exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_stack_component</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">component_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">component_update</span><span class="p">:</span> <span class="n">ComponentUpdateModel</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComponentResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing stack component.</span>

<span class="sd">    Args:</span>
<span class="sd">        component_id: The ID of the stack component to update.</span>
<span class="sd">        component_update: The update to be applied to the stack component.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated stack component.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the stack component doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_team" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_team</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">,</span> <span class="n">team_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an existing team.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>team_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the team to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>team_update</code></td>
        <td><code>TeamUpdateModel</code></td>
        <td><p>The update to be applied to the team.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>TeamResponseModel</code></td>
      <td><p>The updated team.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the team does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_team</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">team_update</span><span class="p">:</span> <span class="n">TeamUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing team.</span>

<span class="sd">    Args:</span>
<span class="sd">        team_id: The ID of the team to be updated.</span>
<span class="sd">        team_update: The update to be applied to the team.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated team.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the team does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_user" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">user_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Updates an existing user.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>user_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The id of the user to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>user_update</code></td>
        <td><code>UserUpdateModel</code></td>
        <td><p>The update to be applied to the user.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UserResponseModel</code></td>
      <td><p>The updated user.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no user with the given name exists.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_user</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">user_update</span><span class="p">:</span> <span class="n">UserUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UserResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Updates an existing user.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id: The id of the user to update.</span>
<span class="sd">        user_update: The update to be applied to the user.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated user.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no user with the given name exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.update_workspace" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_workspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update an existing workspace.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the workspace to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>workspace_update</code></td>
        <td><code>WorkspaceUpdateModel</code></td>
        <td><p>The update to be applied to the workspace.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>WorkspaceResponseModel</code></td>
      <td><p>The updated workspace.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if the workspace does not exist.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">update_workspace</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">workspace_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">workspace_update</span><span class="p">:</span> <span class="n">WorkspaceUpdateModel</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WorkspaceResponseModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing workspace.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace_id: The ID of the workspace to be updated.</span>
<span class="sd">        workspace_update: The update to be applied to the workspace.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated workspace.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: if the workspace does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.verify_service_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_service_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_id</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verifies if a service connector instance has access to one or more resources.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service connector to verify.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of resource to verify access to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of the resource to verify access to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>list_resources</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the list of all resources accessible
through the service connector and matching the supplied resource
type and ID are returned.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResourcesModel</code></td>
      <td><p>The list of resources that the service connector has access to,
scoped to the supplied resource type and ID, if provided.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no service connector with the given name exists.</p></td>
      </tr>
      <tr>
        <td><code>NotImplementError</code></td>
        <td><p>If the service connector cannot be verified
e.g. due to missing package dependencies.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">verify_service_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service_connector_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector instance has access to one or more resources.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_id: The ID of the service connector to verify.</span>
<span class="sd">        resource_type: The type of resource to verify access to.</span>
<span class="sd">        resource_id: The ID of the resource to verify access to.</span>
<span class="sd">        list_resources: If True, the list of all resources accessible</span>
<span class="sd">            through the service connector and matching the supplied resource</span>
<span class="sd">            type and ID are returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The list of resources that the service connector has access to,</span>
<span class="sd">        scoped to the supplied resource type and ID, if provided.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no service connector with the given name exists.</span>
<span class="sd">        NotImplementError: If the service connector cannot be verified</span>
<span class="sd">            e.g. due to missing package dependencies.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.zen_stores.zen_store_interface.ZenStoreInterface.verify_service_connector_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify_service_connector_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector</span><span class="p">,</span> <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verifies if a service connector configuration has access to resources.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector</code></td>
        <td><code>ServiceConnectorRequestModel</code></td>
        <td><p>The service connector configuration to verify.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>list_resources</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the list of all resources accessible
through the service connector is returned.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResourcesModel</code></td>
      <td><p>The list of resources that the service connector configuration has
access to.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementError</code></td>
        <td><p>If the service connector cannot be verified
on the store e.g. due to missing package dependencies.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/zen_stores/zen_store_interface.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">verify_service_connector_config</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service_connector</span><span class="p">:</span> <span class="n">ServiceConnectorRequestModel</span><span class="p">,</span>
    <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verifies if a service connector configuration has access to resources.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector: The service connector configuration to verify.</span>
<span class="sd">        list_resources: If True, the list of all resources accessible</span>
<span class="sd">            through the service connector is returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The list of resources that the service connector configuration has</span>
<span class="sd">        access to.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementError: If the service connector cannot be verified</span>
<span class="sd">            on the store e.g. due to missing package dependencies.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../core-zen_server/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Zen Server" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Zen Server
            </div>
          </div>
        </a>
      
      
        
        <a href="../../integration_code_docs/integrations-airflow/" class="md-footer__link md-footer__link--next" aria-label="Next: Airflow" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Airflow
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH  <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>