<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#ffffff"/>
  
  <!-- Title -->
  <text x="600" y="50" text-anchor="middle" font-size="28" font-weight="bold" fill="#334155">ZenML: Document Analysis Pipelines</text>
  <text x="600" y="80" text-anchor="middle" font-size="16" fill="#64748b">Pipeline orchestration with step-by-step processing flows</text>
  
  <!-- Main container with dotted border -->
  <rect x="80" y="120" width="1040" height="600" rx="20" fill="none" stroke="#a855f7" stroke-width="3" stroke-dasharray="15,10"/>
  
  <!-- Document Analysis Pipeline -->
  <rect x="120" y="160" width="480" height="240" rx="15" fill="#dcfce7" stroke="#16a34a" stroke-width="2"/>
  <text x="360" y="190" text-anchor="middle" font-size="20" font-weight="bold" fill="#15803d">Document Analysis Pipeline</text>
  <text x="360" y="210" text-anchor="middle" font-size="14" fill="#6b7280">Production processing workflow</text>
  
  <!-- Step 1: Ingest -->
  <rect x="140" y="230" width="120" height="50" rx="8" fill="#ffffff" stroke="#16a34a" stroke-width="2"/>
  <text x="200" y="248" text-anchor="middle" font-size="12" font-weight="bold" fill="#15803d">Step 1</text>
  <text x="200" y="262" text-anchor="middle" font-size="14" fill="#374151">Ingest Document</text>
  <text x="200" y="275" text-anchor="middle" font-size="10" fill="#6b7280">Validation & parsing</text>
  
  <!-- Step 2: Analyze -->
  <rect x="280" y="230" width="120" height="50" rx="8" fill="#ffffff" stroke="#16a34a" stroke-width="2"/>
  <text x="340" y="248" text-anchor="middle" font-size="12" font-weight="bold" fill="#15803d">Step 2</text>
  <text x="340" y="262" text-anchor="middle" font-size="14" fill="#374151">Analyze Document</text>
  <text x="340" y="275" text-anchor="middle" font-size="10" fill="#6b7280">LLM or deterministic</text>
  
  <!-- Step 3: Render -->
  <rect x="420" y="230" width="120" height="50" rx="8" fill="#ffffff" stroke="#16a34a" stroke-width="2"/>
  <text x="480" y="248" text-anchor="middle" font-size="12" font-weight="bold" fill="#15803d">Step 3</text>
  <text x="480" y="262" text-anchor="middle" font-size="14" fill="#374151">Render Report</text>
  <text x="480" y="275" text-anchor="middle" font-size="10" fill="#6b7280">HTML generation</text>
  
  <!-- Pipeline inputs -->
  <text x="360" y="315" text-anchor="middle" font-size="12" fill="#6b7280">Inputs: filename, content, document_type, analysis_type</text>
  <text x="360" y="330" text-anchor="middle" font-size="12" fill="#6b7280">Model: document_analysis_agent (production)</text>
  
  <!-- Pipeline flow arrows -->
  <path d="M 260 255 L 280 255" stroke="#16a34a" stroke-width="3" fill="none" marker-end="url(#greenArrow)"/>
  <path d="M 400 255 L 420 255" stroke="#16a34a" stroke-width="3" fill="none" marker-end="url(#greenArrow)"/>
  
  <!-- Evaluation Pipeline -->
  <rect x="680" y="160" width="400" height="320" rx="15" fill="#e0e7ff" stroke="#6366f1" stroke-width="2"/>
  <text x="880" y="190" text-anchor="middle" font-size="20" font-weight="bold" fill="#4338ca">Evaluation Pipeline</text>
  <text x="880" y="210" text-anchor="middle" font-size="14" fill="#6b7280">Quality assessment workflow (ad-hoc)</text>
  
  <!-- Step 1: Load -->
  <rect x="700" y="230" width="160" height="50" rx="8" fill="#ffffff" stroke="#6366f1" stroke-width="2"/>
  <text x="780" y="248" text-anchor="middle" font-size="12" font-weight="bold" fill="#4338ca">Step 1</text>
  <text x="780" y="262" text-anchor="middle" font-size="14" fill="#374151">Load Recent Analyses</text>
  <text x="780" y="275" text-anchor="middle" font-size="10" fill="#6b7280">Fetch from model registry</text>
  
  <!-- Step 2: Annotate -->
  <rect x="700" y="300" width="160" height="50" rx="8" fill="#ffffff" stroke="#6366f1" stroke-width="2"/>
  <text x="780" y="318" text-anchor="middle" font-size="12" font-weight="bold" fill="#4338ca">Step 2</text>
  <text x="780" y="332" text-anchor="middle" font-size="14" fill="#374151">Annotate Analyses</text>
  <text x="780" y="345" text-anchor="middle" font-size="10" fill="#6b7280">Quality scoring</text>
  
  <!-- Step 3: Aggregate -->
  <rect x="700" y="370" width="160" height="50" rx="8" fill="#ffffff" stroke="#6366f1" stroke-width="2"/>
  <text x="780" y="388" text-anchor="middle" font-size="12" font-weight="bold" fill="#4338ca">Step 3</text>
  <text x="780" y="402" text-anchor="middle" font-size="14" fill="#374151">Aggregate Results</text>
  <text x="780" y="415" text-anchor="middle" font-size="10" fill="#6b7280">Metrics calculation</text>
  
  <!-- Step 4: Render -->
  <rect x="700" y="440" width="160" height="50" rx="8" fill="#ffffff" stroke="#6366f1" stroke-width="2"/>
  <text x="780" y="458" text-anchor="middle" font-size="12" font-weight="bold" fill="#4338ca">Step 4</text>
  <text x="780" y="472" text-anchor="middle" font-size="14" fill="#374151">Render Eval Report</text>
  <text x="780" y="485" text-anchor="middle" font-size="10" fill="#6b7280">HTML report generation</text>
  
  <!-- Pipeline inputs -->
  <text x="880" y="510" text-anchor="middle" font-size="12" fill="#6b7280">Input: max_items (default: 100)</text>
  <text x="880" y="525" text-anchor="middle" font-size="12" fill="#6b7280">Model: document_analysis_agent (production)</text>
  
  <!-- Evaluation pipeline flow arrows -->
  <path d="M 780 280 L 780 300" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#blueArrow)"/>
  <path d="M 780 350 L 780 370" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#blueArrow)"/>
  <path d="M 780 420 L 780 440" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#blueArrow)"/>
  
  <!-- Connection between pipelines -->
  <path d="M 600 300 Q 640 300 680 255" stroke="#94a3b8" stroke-width="2" fill="none" stroke-dasharray="8,4" marker-end="url(#grayArrow)"/>
  <text x="640" y="270" text-anchor="middle" font-size="12" fill="#94a3b8">Traces & Artifacts</text>
  
  <!-- ZenML Control Plane -->
  <rect x="120" y="560" width="960" height="60" rx="30" fill="#7c3aed" stroke="#6d28d9" stroke-width="2"/>
  <text x="600" y="585" text-anchor="middle" font-size="18" font-weight="bold" fill="#ffffff">ZenML Control Plane</text>
  <text x="600" y="605" text-anchor="middle" font-size="14" fill="#e4e4e7">Pipeline Orchestration • Artifact Storage • Model Registry • Docker Settings</text>
  
  <!-- Pipeline configurations box -->
  <rect x="120" y="440" width="480" height="100" rx="10" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="2"/>
  <text x="360" y="460" text-anchor="middle" font-size="16" font-weight="bold" fill="#334155">Shared Configuration</text>
  <text x="140" y="480" font-size="12" fill="#475569">• Docker Settings: requirements.txt with uv installer</text>
  <text x="140" y="495" font-size="12" fill="#475569">• Model Registry: document_analysis_agent (production version)</text>
  <text x="140" y="510" font-size="12" fill="#475569">• Logging: Comprehensive step and pipeline-level logging</text>
  <text x="140" y="525" font-size="12" fill="#475569">• Error Handling: Built-in validation and fallback mechanisms</text>
  
  <!-- Arrow marker definitions -->
  <defs>
    <marker id="greenArrow" markerWidth="12" markerHeight="8" refX="11" refY="4" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 12 4, 0 8" fill="#16a34a"/>
    </marker>
    <marker id="blueArrow" markerWidth="12" markerHeight="8" refX="11" refY="4" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 12 4, 0 8" fill="#6366f1"/>
    </marker>
    <marker id="grayArrow" markerWidth="12" markerHeight="8" refX="11" refY="4" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 12 4, 0 8" fill="#94a3b8"/>
    </marker>
  </defs>
</svg>